{"filter":false,"title":"s.js","tooltip":"/sampledb/s.js","undoManager":{"mark":2,"position":2,"stack":[[{"start":{"row":0,"column":0},"end":{"row":637,"column":0},"action":"insert","lines":["","(function (name, definition, context) {if (typeof context['module'] !== 'undefined' && context['module']['exports']) {context['module']['exports'] = definition.apply(context);}else if (typeof context['define'] !== 'undefined' && context['define'] === 'function' && context['define']['amd']) {define(name, [], definition);}else {context[name] = definition();}})('ydn', function () {var l,r=this;function u(a){return void 0!==a}function ba(a){a=a.split(\".\");for(var b=r,c;c=a.shift();)if(null!=b[c])b=b[c];else return null;return b}function ca(){}","function da(a){var b=typeof a;if(\"object\"==b)if(a){if(a instanceof Array)return\"array\";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(\"[object Window]\"==c)return\"object\";if(\"[object Array]\"==c||\"number\"==typeof a.length&&\"undefined\"!=typeof a.splice&&\"undefined\"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(\"splice\"))return\"array\";if(\"[object Function]\"==c||\"undefined\"!=typeof a.call&&\"undefined\"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(\"call\"))return\"function\"}else return\"null\";","else if(\"function\"==b&&\"undefined\"==typeof a.call)return\"object\";return b}function v(a){return\"array\"==da(a)}function w(a){var b=da(a);return\"array\"==b||\"object\"==b&&\"number\"==typeof a.length}function x(a){return\"string\"==typeof a}function ea(a){return\"boolean\"==typeof a}function fa(a){return\"number\"==typeof a}function ga(a){return\"function\"==da(a)}function y(a){var b=typeof a;return\"object\"==b&&null!=a||\"function\"==b}var ha=\"closure_uid_\"+(1E9*Math.random()>>>0),ia=0;","function ja(a,b,c){return a.call.apply(a.bind,arguments)}function ka(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function la(a,b,c){la=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf(\"native code\")?ja:ka;return la.apply(null,arguments)}","function ma(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var na=Date.now||function(){return+new Date};function oa(a,b){var c=a.split(\".\"),d=r;c[0]in d||!d.execScript||d.execScript(\"var \"+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&u(b)?d[e]=b:d[e]?d=d[e]:d=d[e]={}}","function z(a,b){function c(){}c.prototype=b.prototype;a.w=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Tb=function(a,c,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[c].apply(a,g)}};function pa(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0}function qa(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};function ra(a){if(Error.captureStackTrace)Error.captureStackTrace(this,ra);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}z(ra,Error);ra.prototype.name=\"CustomError\";var sa;function ta(a,b){for(var c=a.split(\"%s\"),d=\"\",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join(\"%s\")}function ua(a){return/^[\\s\\xa0]*$/.test(a)}var va=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g,\"\")};","function wa(a){if(!xa.test(a))return a;-1!=a.indexOf(\"&\")&&(a=a.replace(ya,\"&amp;\"));-1!=a.indexOf(\"<\")&&(a=a.replace(za,\"&lt;\"));-1!=a.indexOf(\">\")&&(a=a.replace(Aa,\"&gt;\"));-1!=a.indexOf('\"')&&(a=a.replace(Ba,\"&quot;\"));-1!=a.indexOf(\"'\")&&(a=a.replace(Ca,\"&#39;\"));-1!=a.indexOf(\"\\x00\")&&(a=a.replace(Da,\"&#0;\"));return a}var ya=/&/g,za=/</g,Aa=/>/g,Ba=/\"/g,Ca=/'/g,Da=/\\x00/g,xa=/[\\x00&<>\"']/;","function Ea(a){for(var b=0;1>b;b++)if('\"'==a.charAt(0)&&'\"'==a.charAt(a.length-1))return a.substring(1,a.length-1);return a}var Fa={\"\\x00\":\"\\\\0\",\"\\b\":\"\\\\b\",\"\\f\":\"\\\\f\",\"\\n\":\"\\\\n\",\"\\r\":\"\\\\r\",\"\\t\":\"\\\\t\",\"\\x0B\":\"\\\\x0B\",'\"':'\\\\\"',\"\\\\\":\"\\\\\\\\\",\"<\":\"<\"},Ga={\"'\":\"\\\\'\"};","function Ha(a){a=String(a);for(var b=['\"'],c=0;c<a.length;c++){var d=a.charAt(c),e=d.charCodeAt(0),f=c+1,g;if(!(g=Fa[d])){if(!(31<e&&127>e))if(d in Ga)d=Ga[d];else if(d in Fa)d=Ga[d]=Fa[d];else{e=d;g=d.charCodeAt(0);if(31<g&&127>g)e=d;else{if(256>g){if(e=\"\\\\x\",16>g||256<g)e+=\"0\"}else e=\"\\\\u\",4096>g&&(e+=\"0\");e+=g.toString(16).toUpperCase()}d=Ga[d]=e}g=d}b[f]=g}b.push('\"');return b.join(\"\")}function Ia(a,b){return a<b?-1:a>b?1:0};function Ja(a,b){b.unshift(a);ra.call(this,ta.apply(null,b));b.shift()}z(Ja,ra);Ja.prototype.name=\"AssertionError\";function Ka(a,b){throw new Ja(\"Failure\"+(a?\": \"+a:\"\"),Array.prototype.slice.call(arguments,1));};function La(a,b,c){this.f=c;this.c=a;this.g=b;this.b=0;this.a=null}La.prototype.get=function(){var a;0<this.b?(this.b--,a=this.a,this.a=a.next,a.next=null):a=this.c();return a};La.prototype.put=function(a){this.g(a);this.b<this.f&&(this.b++,a.next=this.a,this.a=a)};function Ma(){this.b=this.a=null}var Oa=new La(function(){return new Na},function(a){a.reset()},100);Ma.prototype.add=function(a,b){var c=Oa.get();c.a=a;c.b=b;c.next=null;this.b?this.b.next=c:this.a=c;this.b=c};function Pa(){var a=Qa,b=null;a.a&&(b=a.a,a.a=a.a.next,a.a||(a.b=null),b.next=null);return b}function Na(){this.next=this.b=this.a=null}Na.prototype.reset=function(){this.next=this.b=this.a=null};var Ra=Array.prototype.indexOf?function(a,b,c){return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(x(a))return x(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Sa=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=x(a)?a.split(\"\"):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ta=Array.prototype.map?function(a,b,c){return Array.prototype.map.call(a,","b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=x(a)?a.split(\"\"):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Ua=Array.prototype.some?function(a,b,c){return Array.prototype.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=x(a)?a.split(\"\"):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1};function Va(a,b){var c=Wa(a,b,void 0);return 0>c?null:x(a)?a.charAt(c):a[c]}","function Wa(a,b,c){for(var d=a.length,e=x(a)?a.split(\"\"):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1}function Ya(a){if(!v(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0}function Za(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function $a(a,b,c){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)}","function ab(a,b){if(!w(a)||!w(b)||a.length!=b.length)return!1;for(var c=a.length,d=bb,e=0;e<c;e++)if(!d(a[e],b[e]))return!1;return!0}function bb(a,b){return a===b};var cb;a:{var db=r.navigator;if(db){var eb=db.userAgent;if(eb){cb=eb;break a}}cb=\"\"}function C(a){return-1!=cb.indexOf(a)};function fb(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function gb(a,b){for(var c=w(b),d=c?b:arguments,c=c?0:1;c<d.length&&(a=a[d[c]],u(a));c++);return a}var hb=\"constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf\".split(\" \");function ib(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<hb.length;f++)c=hb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function jb(){return C(\"Opera\")||C(\"OPR\")};function kb(a){r.setTimeout(function(){throw a;},0)}var lb;","function mb(){var a=r.MessageChannel;\"undefined\"===typeof a&&\"undefined\"!==typeof window&&window.postMessage&&window.addEventListener&&!C(\"Presto\")&&(a=function(){var a=document.createElement(\"IFRAME\");a.style.display=\"none\";a.src=\"\";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write(\"\");a.close();var c=\"callImmediate\"+Math.random(),d=\"file:\"==b.location.protocol?\"*\":b.location.protocol+\"//\"+b.location.host,a=la(function(a){if((\"*\"==d||a.origin==d)&&a.data==","c)this.port1.onmessage()},this);b.addEventListener(\"message\",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if(\"undefined\"!==typeof a&&!C(\"Trident\")&&!C(\"MSIE\")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(u(c.next)){c=c.next;var a=c.gb;c.gb=null;a()}};return function(a){d.next={gb:a};d=d.next;b.port2.postMessage(0)}}return\"undefined\"!==typeof document&&\"onreadystatechange\"in document.createElement(\"SCRIPT\")?function(a){var b=document.createElement(\"SCRIPT\");","b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){r.setTimeout(a,0)}};function nb(a,b){ob||pb();qb||(ob(),qb=!0);Qa.add(a,b)}var ob;function pb(){if(r.Promise&&r.Promise.resolve){var a=r.Promise.resolve(void 0);ob=function(){a.then(rb)}}else ob=function(){var a=rb;!ga(r.setImmediate)||r.Window&&r.Window.prototype&&!C(\"Edge\")&&r.Window.prototype.setImmediate==r.setImmediate?(lb||(lb=mb()),lb(a)):r.setImmediate(a)}}var qb=!1,Qa=new Ma;function rb(){for(var a=null;a=Pa();){try{a.a.call(a.b)}catch(b){kb(b)}Oa.put(a)}qb=!1};function sb(a,b){this.a=wb;this.i=void 0;this.f=this.b=this.c=null;this.g=this.h=!1;if(a!=ca)try{var c=this;a.call(b,function(a){xb(c,yb,a)},function(a){if(!(a instanceof zb))try{if(a instanceof Error)throw a;throw Error(\"Promise rejected.\");}catch(b){}xb(c,Ab,a)})}catch(d){xb(this,Ab,d)}}var wb=0,yb=2,Ab=3;function Bb(){this.next=this.c=this.b=this.f=this.a=null;this.g=!1}Bb.prototype.reset=function(){this.c=this.b=this.f=this.a=null;this.g=!1};","var Cb=new La(function(){return new Bb},function(a){a.reset()},100);function Db(a,b,c){var d=Cb.get();d.f=a;d.b=b;d.c=c;return d}sb.prototype.then=function(a,b,c){return Eb(this,ga(a)?a:null,ga(b)?b:null,c)};pa(sb);function Fb(a){a.a==wb&&nb(function(){var a=new zb(void 0);Gb(this,a)},a)}","function Gb(a,b){if(a.a==wb)if(a.c){var c=a.c;if(c.b){for(var d=0,e=null,f=null,g=c.b;g&&(g.g||(d++,g.a==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(c.a==wb&&1==d?Gb(c,b):(f?(d=f,d.next==c.f&&(c.f=d),d.next=d.next.next):Hb(c),Ib(c,e,Ab,b)))}a.c=null}else xb(a,Ab,b)}function Jb(a,b){a.b||a.a!=yb&&a.a!=Ab||Kb(a);a.f?a.f.next=b:a.b=b;a.f=b}","function Eb(a,b,c,d){var e=Db(null,null,null);e.a=new sb(function(a,g){e.f=b?function(c){try{var e=b.call(d,c);a(e)}catch(m){g(m)}}:a;e.b=c?function(b){try{var e=c.call(d,b);!u(e)&&b instanceof zb?g(b):a(e)}catch(m){g(m)}}:g});e.a.c=a;Jb(a,e);return e.a}sb.prototype.l=function(a){this.a=wb;xb(this,yb,a)};sb.prototype.m=function(a){this.a=wb;xb(this,Ab,a)};","function xb(a,b,c){if(a.a==wb){a==c&&(b=Ab,c=new TypeError(\"Promise cannot resolve to itself\"));a.a=1;var d;a:{var e=c,f=a.l,g=a.m;if(e instanceof sb)Jb(e,Db(f||ca,g||null,a)),d=!0;else if(qa(e))e.then(f,g,a),d=!0;else{if(y(e))try{var h=e.then;if(ga(h)){Lb(e,h,f,g,a);d=!0;break a}}catch(k){g.call(a,k);d=!0;break a}d=!1}}d||(a.i=c,a.a=b,a.c=null,Kb(a),b!=Ab||c instanceof zb||Mb(a,c))}}","function Lb(a,b,c,d,e){function f(a){h||(h=!0,d.call(e,a))}function g(a){h||(h=!0,c.call(e,a))}var h=!1;try{b.call(a,g,f)}catch(k){f(k)}}function Kb(a){a.h||(a.h=!0,nb(a.j,a))}function Hb(a){var b=null;a.b&&(b=a.b,a.b=b.next,b.next=null);a.b||(a.f=null);return b}sb.prototype.j=function(){for(var a=null;a=Hb(this);)Ib(this,a,this.a,this.i);this.h=!1};","function Ib(a,b,c,d){if(c==Ab&&b.b&&!b.g)for(;a&&a.g;a=a.c)a.g=!1;if(b.a)b.a.c=null,Nb(b,c,d);else try{b.g?b.f.call(b.c):Nb(b,c,d)}catch(e){Ob.call(null,e)}Cb.put(b)}function Nb(a,b,c){b==yb?a.f.call(a.c,c):a.b&&a.b.call(a.c,c)}function Mb(a,b){a.g=!0;nb(function(){a.g&&Ob.call(null,b)})}var Ob=kb;function zb(a){ra.call(this,a)}z(zb,ra);zb.prototype.name=\"cancel\";/*"," Portions of this code are from MochiKit, received by"," The Closure Authors under the MIT license. All other code is Copyright"," 2005-2009 The Closure Authors. All Rights Reserved.","*/","function D(a,b){this.j=[];this.P=b||null;this.b=this.c=!1;this.g=void 0;this.W=this.C=this.l=!1;this.i=0;this.f=null;this.A=0}l=D.prototype;l.qa=function(a,b){this.l=!1;Pb(this,a,b)};function Pb(a,b,c){a.c=!0;a.g=c;a.b=!b;a.Ma()}function Qb(a){if(a.c){if(!a.W)throw new Rb;a.W=!1}}l.callback=function(a){Qb(this);Pb(this,!0,a)};l.o=function(a){Qb(this);Pb(this,!1,a)};l.D=function(a,b){return Sb(this,a,null,b)};l.eb=function(a,b){return Sb(this,null,a,b)};l.cb=function(a,b){return Sb(this,a,a,b)};","function Sb(a,b,c,d){a.j.push([b,c,d]);a.c&&a.Ma();return a}l.then=function(a,b,c){var d,e,f=new sb(function(a,b){d=a;e=b});Sb(this,d,function(a){e(a)});return f.then(a,b,c)};pa(D);D.prototype.Ga=function(a){Sb(this,a.callback,a.o,a);return this};function Tb(a,b){b instanceof D?a.D(la(b.V,b)):a.D(function(){return b})}D.prototype.V=function(a){var b=new D;this.Ga(b);a&&(b.f=this,this.A++);return b};function Ub(a){return Ua(a.j,function(a){return ga(a[1])})}","D.prototype.Ma=function(){this.i&&this.c&&Ub(this)&&(Vb(this.i),this.i=0);this.f&&(this.f.A--,delete this.f);for(var a=this.g,b=!1,c=!1;this.j.length&&!this.l;){var d=this.j.shift(),e=d[0],f=d[1],d=d[2];if(e=this.b?f:e)try{var g=e.call(d||this.P,a);u(g)&&(this.b=this.b&&(g==a||g instanceof Error),this.g=a=g);if(qa(a)||\"function\"===typeof r.Promise&&a instanceof r.Promise)this.l=c=!0}catch(h){a=h,this.b=!0,Ub(this)||(b=!0)}}this.g=a;c&&(c=la(this.qa,this,!0),g=la(this.qa,this,!1),a instanceof D?(Sb(a,","c,g),a.C=!0):a.then(c,g));b&&(a=new Wb(a),Xb[a.a]=a,this.i=a.a)};function Rb(){ra.call(this)}z(Rb,ra);Rb.prototype.message=\"Deferred has already fired\";Rb.prototype.name=\"AlreadyCalledError\";function Wb(a){this.a=r.setTimeout(la(this.c,this),0);this.b=a}Wb.prototype.c=function(){delete Xb[this.a];window.console.error(this.b.stack);throw this.b;};var Xb={};function Vb(a){var b=Xb[a];b&&(r.clearTimeout(b.a),delete Xb[a])};var Yb={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};function Zb(){this.a=\"\";this.b=$b}Zb.prototype.X=!0;Zb.prototype.M=function(){return this.a};Zb.prototype.toString=function(){return\"Const{\"+this.a+\"}\"};function ac(a){if(a instanceof Zb&&a.constructor===Zb&&a.b===$b)return a.a;Ka(\"expected object of type Const, got '\"+a+\"'\");return\"type_error:Const\"}var $b={};function bc(a){var b=new Zb;b.a=a;return b};function cc(){this.a=\"\";this.b=dc}cc.prototype.X=!0;var dc={};cc.prototype.M=function(){return this.a};cc.prototype.toString=function(){return\"SafeStyle{\"+this.a+\"}\"};function ec(a){var b=new cc;b.a=a;return b}var fc=ec(\"\"),gc=/^[-,.\"'%_!# a-zA-Z0-9]+$/;function hc(){this.a=\"\";this.b=ic}l=hc.prototype;l.X=!0;l.M=function(){return this.a};l.Ra=!0;l.ca=function(){return 1};l.toString=function(){return\"SafeUrl{\"+this.a+\"}\"};function jc(a){if(a instanceof hc&&a.constructor===hc&&a.b===ic)return a.a;Ka(\"expected object of type SafeUrl, got '\"+a+\"'\");return\"type_error:SafeUrl\"}var kc=/^(?:(?:https?|mailto|ftp):|[^&:/?#]*(?:[/?#]|$))/i;","function lc(a){if(a instanceof hc)return a;a=a.X?a.M():String(a);kc.test(a)||(a=\"about:invalid#zClosurez\");return mc(a)}var ic={};function mc(a){var b=new hc;b.a=a;return b};function nc(){this.a=oc}l=nc.prototype;l.X=!0;l.M=function(){return\"\"};l.Ra=!0;l.ca=function(){return 1};l.toString=function(){return\"TrustedResourceUrl{}\"};var oc={};function pc(){this.a=\"\";this.c=qc;this.b=null}l=pc.prototype;l.Ra=!0;l.ca=function(){return this.b};l.X=!0;l.M=function(){return this.a};l.toString=function(){return\"SafeHtml{\"+this.a+\"}\"};function rc(a){if(a instanceof pc&&a.constructor===pc&&a.c===qc)return a.a;Ka(\"expected object of type SafeHtml, got '\"+a+\"'\");return\"type_error:SafeHtml\"}function sc(a){if(a instanceof pc)return a;var b=null;a.Ra&&(b=a.ca());a=wa(a.X?a.M():String(a));return tc(a,b)}","function uc(a){if(a instanceof pc)return a;a=sc(a);var b;b=rc(a).replace(/  /g,\" &#160;\").replace(/(\\r\\n|\\r|\\n)/g,\"<br>\");return tc(b,a.ca())}var vc=/^[a-zA-Z0-9-]+$/,wc={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},xc={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0};","function yc(a,b,c){if(!vc.test(a))throw Error(\"Invalid tag name <\"+a+\">.\");if(a.toUpperCase()in xc)throw Error(\"Tag name <\"+a+\"> is not allowed for SafeHtml.\");var d=null,e=\"<\"+a;if(b)for(var f in b){if(!vc.test(f))throw Error('Invalid attribute name \"'+f+'\".');var g=b[f];if(null!=g){var h,k=a;h=f;if(g instanceof Zb)g=ac(g);else if(\"style\"==h.toLowerCase()){if(!y(g))throw Error('The \"style\" attribute requires goog.html.SafeStyle or map of style properties, '+typeof g+\" given: \"+g);if(!(g instanceof","cc)){var k=\"\",m=void 0;for(m in g){if(!/^[-_a-zA-Z0-9]+$/.test(m))throw Error(\"Name allows only [-_a-zA-Z0-9], got: \"+m);var q=g[m];if(null!=q){if(q instanceof Zb)q=ac(q);else if(gc.test(q)){for(var n=!0,p=!0,t=0;t<q.length;t++){var A=q.charAt(t);\"'\"==A&&p?n=!n:'\"'==A&&n&&(p=!p)}n&&p||(Ka(\"String value requires balanced quotes, got: \"+q),q=\"zClosurez\")}else Ka(\"String value allows only [-,.\\\"'%_!# a-zA-Z0-9], got: \"+q),q=\"zClosurez\";k+=m+\":\"+q+\";\"}}g=k?ec(k):fc}k=void 0;g instanceof cc&&g.constructor===","cc&&g.b===dc?k=g.a:(Ka(\"expected object of type SafeStyle, got '\"+g+\"'\"),k=\"type_error:SafeStyle\");g=k}else{if(/^on/i.test(h))throw Error('Attribute \"'+h+'\" requires goog.string.Const value, \"'+g+'\" given.');if(h.toLowerCase()in wc)if(g instanceof nc)g instanceof nc&&g.constructor===nc&&g.a===oc?g=\"\":(Ka(\"expected object of type TrustedResourceUrl, got '\"+g+\"'\"),g=\"type_error:TrustedResourceUrl\");else if(g instanceof hc)g=jc(g);else if(x(g))g=lc(g).M();else throw Error('Attribute \"'+h+'\" on tag \"'+","k+'\" requires goog.html.SafeUrl, goog.string.Const, or string, value \"'+g+'\" given.');}g.X&&(g=g.M());h=h+'=\"'+wa(String(g))+'\"';e=e+(\" \"+h)}}null!=c?v(c)||(c=[c]):c=[];!0===Yb[a.toLowerCase()]?e+=\">\":(d=zc(c),e+=\">\"+rc(d)+\"</\"+a+\">\",d=d.ca());(a=b&&b.dir)&&(/^(ltr|rtl|auto)$/i.test(a)?d=0:d=null);return tc(e,d)}function zc(a){function b(a){v(a)?Sa(a,b):(a=sc(a),d+=rc(a),a=a.ca(),0==c?c=a:0!=a&&c!=a&&(c=null))}var c=0,d=\"\";Sa(arguments,b);return tc(d,c)}var qc={};","function tc(a,b){var c=new pc;c.a=a;c.b=b;return c}tc(\"<!DOCTYPE html>\",0);var Ac=tc(\"\",0);var Bc=\"StopIteration\"in r?r.StopIteration:{message:\"StopIteration\",stack:\"\"};function Cc(){}Cc.prototype.next=function(){throw Bc;};Cc.prototype.Fa=function(){return this};function Dc(a){if(a instanceof Cc)return a;if(\"function\"==typeof a.Fa)return a.Fa(!1);if(w(a)){var b=0,c=new Cc;c.next=function(){for(;;){if(b>=a.length)throw Bc;if(b in a)return a[b++];b++}};return c}throw Error(\"Not implemented\");}","function Ec(a,b){if(w(a))try{Sa(a,b,void 0)}catch(c){if(c!==Bc)throw c;}else{a=Dc(a);try{for(;;)b.call(void 0,a.next(),void 0,a)}catch(c){if(c!==Bc)throw c;}}};function Fc(a,b){this.b={};this.a=[];this.f=this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error(\"Uneven number of arguments\");for(var d=0;d<c;d+=2)Gc(this,arguments[d],arguments[d+1])}else if(a){var e;if(a instanceof Fc)e=a.ba(),d=a.Pa();else{var c=[],f=0;for(e in a)c[f++]=e;e=c;c=[];f=0;for(d in a)c[f++]=a[d];d=c}for(c=0;c<e.length;c++)Gc(this,e[c],d[c])}}l=Fc.prototype;l.lb=function(){return this.c};l.Pa=function(){Hc(this);for(var a=[],b=0;b<this.a.length;b++)a.push(this.b[this.a[b]]);return a};","l.ba=function(){Hc(this);return this.a.concat()};l.clear=function(){this.b={};this.f=this.c=this.a.length=0};function Hc(a){if(a.c!=a.a.length){for(var b=0,c=0;b<a.a.length;){var d=a.a[b];Object.prototype.hasOwnProperty.call(a.b,d)&&(a.a[c++]=d);b++}a.a.length=c}if(a.c!=a.a.length){for(var e={},c=b=0;b<a.a.length;)d=a.a[b],Object.prototype.hasOwnProperty.call(e,d)||(a.a[c++]=d,e[d]=1),b++;a.a.length=c}}l.get=function(a,b){return Object.prototype.hasOwnProperty.call(this.b,a)?this.b[a]:b};","function Gc(a,b,c){Object.prototype.hasOwnProperty.call(a.b,b)||(a.c++,a.a.push(b),a.f++);a.b[b]=c}l.forEach=function(a,b){for(var c=this.ba(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};l.clone=function(){return new Fc(this)};l.Fa=function(a){Hc(this);var b=0,c=this.f,d=this,e=new Cc;e.next=function(){if(c!=d.f)throw Error(\"The map has changed since the iterator was created\");if(b>=d.a.length)throw Bc;var e=d.a[b++];return a?e:d.b[e]};return e};function Ic(){return C(\"iPhone\")&&!C(\"iPod\")&&!C(\"iPad\")};var Jc=jb(),Kc=C(\"Trident\")||C(\"MSIE\"),Lc=C(\"Edge\"),Mc=C(\"Gecko\")&&!(-1!=cb.toLowerCase().indexOf(\"webkit\")&&!C(\"Edge\"))&&!(C(\"Trident\")||C(\"MSIE\"))&&!C(\"Edge\"),Nc=-1!=cb.toLowerCase().indexOf(\"webkit\")&&!C(\"Edge\");function Oc(){var a=cb;if(Mc)return/rv\\:([^\\);]+)(\\)|;)/.exec(a);if(Lc)return/Edge\\/([\\d\\.]+)/.exec(a);if(Kc)return/\\b(?:MSIE|rv)[: ]([^\\);]+)(\\)|;)/.exec(a);if(Nc)return/WebKit\\/(\\S+)/.exec(a)}function Pc(){var a=r.document;return a?a.documentMode:void 0}","var Qc=function(){if(Jc&&r.opera){var a;var b=r.opera.version;try{a=b()}catch(c){a=b}return a}a=\"\";(b=Oc())&&(a=b?b[1]:\"\");return Kc&&(b=Pc(),b>parseFloat(a))?String(b):a}(),Rc={};","function Sc(a){var b;if(!(b=Rc[a])){b=0;for(var c=va(String(Qc)).split(\".\"),d=va(String(a)).split(\".\"),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||\"\",h=d[f]||\"\",k=RegExp(\"(\\\\d*)(\\\\D*)\",\"g\"),m=RegExp(\"(\\\\d*)(\\\\D*)\",\"g\");do{var q=k.exec(g)||[\"\",\"\",\"\"],n=m.exec(h)||[\"\",\"\",\"\"];if(0==q[0].length&&0==n[0].length)break;b=Ia(0==q[1].length?0:parseInt(q[1],10),0==n[1].length?0:parseInt(n[1],10))||Ia(0==q[2].length,0==n[2].length)||Ia(q[2],n[2])}while(0==b)}b=Rc[a]=0<=b}return b}","var Tc=r.document,Uc=Tc&&Kc?Pc()||(\"CSS1Compat\"==Tc.compatMode?parseInt(Qc,10):5):void 0;function Vc(a){var b;b=Error();if(Error.captureStackTrace)Error.captureStackTrace(b,a||Vc),b=String(b.stack);else{try{throw b;}catch(c){b=c}b=(b=b.stack)?String(b):null}b||(b=Wc(a||arguments.callee.caller,[]));return b}","function Wc(a,b){var c=[];if(0<=Ra(b,a))c.push(\"[...circular reference...]\");else if(a&&50>b.length){c.push(Xc(a)+\"(\");for(var d=a.arguments,e=0;d&&e<d.length;e++){0<e&&c.push(\", \");var f;f=d[e];switch(typeof f){case \"object\":f=f?\"object\":\"null\";break;case \"string\":break;case \"number\":f=String(f);break;case \"boolean\":f=f?\"true\":\"false\";break;case \"function\":f=(f=Xc(f))?f:\"[fn]\";break;default:f=typeof f}40<f.length&&(f=f.substr(0,40)+\"...\");c.push(f)}b.push(a);c.push(\")\\n\");try{c.push(Wc(a.caller,","b))}catch(g){c.push(\"[exception trying to get caller]\\n\")}}else a?c.push(\"[...long stack...]\"):c.push(\"[end]\");return c.join(\"\")}function Xc(a){if(Yc[a])return Yc[a];a=String(a);if(!Yc[a]){var b=/function ([^\\(]+)/.exec(a);Yc[a]=b?b[1]:\"[Anonymous]\"}return Yc[a]}var Yc={};function Zc(a,b,c,d,e){this.reset(a,b,c,d,e)}Zc.prototype.a=null;var $c=0;Zc.prototype.reset=function(a,b,c,d,e){\"number\"==typeof e||$c++;this.g=d||na();this.f=a;this.c=b;this.b=c;delete this.a};function ad(a){this.g=a;this.a=this.f=this.b=this.c=null}function bd(a,b){this.name=a;this.value=b}bd.prototype.toString=function(){return this.name};var cd=new bd(\"SHOUT\",1200),dd=new bd(\"SEVERE\",1E3),ed=new bd(\"WARNING\",900),fd=new bd(\"INFO\",800),gd=new bd(\"CONFIG\",700),hd=new bd(\"FINE\",500),id=new bd(\"FINER\",400),jd=new bd(\"FINEST\",300),kd=[new bd(\"OFF\",Infinity),cd,dd,ed,fd,gd,hd,id,jd,new bd(\"ALL\",0)],ld=null;ad.prototype.getName=function(){return this.g};","function nd(a){if(a.b)return a.b;if(a.c)return nd(a.c);Ka(\"Root logger has no level set.\");return null}ad.prototype.log=function(a,b,c){if(a.value>=nd(this).value)for(ga(b)&&(b=b()),a=new Zc(a,String(b),this.g),c&&(a.a=c),c=\"log:\"+a.c,r.console&&(r.console.timeStamp?r.console.timeStamp(c):r.console.markTimeline&&r.console.markTimeline(c)),r.msWriteProfilerMark&&r.msWriteProfilerMark(c),c=this;c;){b=c;var d=a;if(b.a)for(var e=0,f=void 0;f=b.a[e];e++)f(d);c=c.c}};","ad.prototype.config=function(a,b){this.log(gd,a,b)};var od={},pd=null;function qd(){pd||(pd=new ad(\"\"),od[\"\"]=pd,pd.b=gd)}function rd(){qd();return pd}function E(a){qd();var b;if(!(b=od[a])){b=new ad(a);var c=a.lastIndexOf(\".\"),d=a.substr(c+1),c=E(a.substr(0,c));c.f||(c.f={});c.f[d]=b;b.c=c;od[a]=b}return b};function sd(a,b,c){a&&a.log(b,c,void 0)}function td(a,b){a&&a.log(dd,b,void 0)}function G(a,b){a&&a.log(ed,b,void 0)}function ud(a,b){a&&a.log(hd,b,void 0)};function H(a,b){a&&a.log(jd,b,void 0)}function I(a,b){a&&a.log(id,b,void 0)};function J(a){ra.call(this,a);this.name=\"ydn.error.ArgumentException\"}z(J,ra);function vd(a){ra.call(this,a);this.name=\"ydn.error.TypeError\"}z(vd,ra);function wd(a){ra.call(this,a);this.name=\"ydn.error.NotSupportedException\"}z(wd,ra);function xd(a){ra.call(this,a);this.name=\"ydn.error.InvalidOperationException\"}z(xd,ra);function yd(a){Error.captureStackTrace?Error.captureStackTrace(this,yd):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.error.InternalError\"}z(yd,Error);","yd.prototype.name=\"ydn.error.InternalError\";function zd(a,b){D.call(this,0,b);this.h=[]}z(zd,D);l=zd.prototype;l.fb=function(a,b){this.h.push([a,b]);return this};function Ad(a,b){for(var c=0;c<a.h.length;c++)a.h[c][0].call(a.h[c][1],b)}l.callback=function(a){this.h.length=0;zd.w.callback.call(this,a)};l.o=function(a){this.h.length=0;zd.w.o.call(this,a)};l.Ga=function(a){zd.w.Ga.call(this,a);a instanceof zd&&a.fb(function(a){Ad(this,a)},this);return this};l.Lb=function(){return this};var Bd={READ_ONLY:\"readonly\",READ_WRITE:\"readwrite\",VERSION_CHANGE:\"versionchange\"},Cd=Bd.READ_ONLY,K=Bd.READ_WRITE,Dd=Bd.VERSION_CHANGE,Ed=r.indexedDB;D.prototype.done=D.prototype.D;D.prototype.fail=D.prototype.eb;D.prototype.always=D.prototype.cb;zd.prototype.then=zd.prototype.then;function Fd(a,b){var c,d;2==arguments.length&&x(arguments[1])?(c=!0,d=arguments[1].split(\".\")):d=(c=w(b))?b:arguments;for(c=c?0:1;c<d.length&&(a=a[d[c]],u(a));c++);return a}function Gd(a,b,c){if(a)if(-1==b.indexOf(\".\"))a[b]=c;else{b=b.split(\".\");for(var d=b.pop(),e;e=b.shift();)y(a[e])||(a[e]={}),a=a[e];a[d]=c}}var Hd={};","function Id(a){a=[a];for(var b=new Jd,c=0,d,e;void 0!==(e=a.pop());){0===c%4&&12<c+4&&(b.write(c),c=0);d=typeof e;if(e instanceof Array)if(c+=4,0<e.length){a.push(Hd);for(d=e.length;d--;)a.push(e[d]);continue}else b.write(c);else if(\"number\"===d)c+=1,b.write(c),Kd(b,e);else if(e instanceof Date)c+=2,b.write(c),Kd(b,e.valueOf());else if(\"string\"===d){c+=3;b.write(c);c=b;for(d=0;d<e.length;d++){var f=e.charCodeAt(d);126>=f?c.write(f+1):16510>=f?(f-=127,c.write(128|f>>8,f&255)):c.write(192|f>>10,f>>","2|255,(f|3)<<6)}c.write(0)}else if(e===Hd)b.write(0);else return\"\";c=0}return b.trim().toString()}","function Kd(a,b){var c,d,e;c=b;var f=e=d=0;if(0!==c)if(isFinite(c)){0>c&&(d=1,c=-c);f=0;if(2.2250738585072014E-308<=c){for(e=c;1>e;)f--,e*=2;for(;2<=e;)f++,e/=2;e=f+1023}f=e?Math.floor(4503599627370496*(c/Math.pow(2,f)-1)):Math.floor(c/4.9E-324)}else e=2047,isNaN(c)?f=0x8000000000000:-Infinity===c&&(d=1);c=d;d=e;e=f;c&&(e=0xfffffffffffff-e,d=2047-d);a.write((c?0:128)|d>>4);a.write((d&15)<<4|0|e/281474976710656);e%=281474976710656;c=0|e/4294967296;a.write(c>>8,c&255);e%=4294967296;c=0|e/65536;a.write(c>>","8,c&255);c=e%65536;a.write(c>>8,c&255)}function Ld(a){var b=Md(a)|0,c=b>>7?!1:!0,d=c?-1:1,e=(b&127)<<4,b=Md(a)|0,e=e+(b>>4);c&&(e=2047-e);for(var b=[c?15-(b&15):b&15],f=6;f--;)b.push(c?255-(Md(a)|0):Md(a)|0);a=0;for(f=7;f--;)a=a/256+b[f];a/=16;return 0===a&&0===e?0:(a+1)*Math.pow(2,e-1023)*d}","function Nd(a){for(var b=[],c=0,d=0,e=0,f,g;;){f=Md(a);if(0===f||null==f)break;0===c?(g=f>>6,2>g&&!isNaN(f)?b.push(String.fromCharCode(f-1)):(c=g,d=f<<10,e++)):2===c?(b.push(String.fromCharCode(d+f+127)),c=d=e=0):2===e?(d+=f<<2,e++):(b.push(String.fromCharCode(d|f>>6)),c=d=e=0)}return b.join(\"\")}function Od(a){this.a=null;this.b=a;this.c=this.b.length-1;this.index=-1}function Md(a){return a.a=a.index<a.c?parseInt(a.b.charAt(++a.index)+a.b.charAt(++a.index),16):null}","function Jd(){this.a=[];this.b=void 0}Jd.prototype.write=function(a){for(var b=0;b<arguments.length;b++)this.b=arguments[b].toString(16),this.a.push(2===this.b.length?this.b:this.b=\"0\"+this.b)};Jd.prototype.trim=function(){for(var a=this.a.length;\"00\"===this.a[--a];);this.a.length=++a;return this};Jd.prototype.toString=function(){return this.a.length?this.a.join(\"\"):\"\"};function Pd(a,b){var c=Id(a),d=Id(b);return c>d?1:c==d?0:-1};function Qd(a,b,c){zd.call(this,0,c);this.v=a;this.h=[];this.m=[];this.aa=[];this.a=null;this.fa=\"\";this.K=0}z(Qd,zd);l=Qd.prototype;l.fa=\"\";l.logger=E(\"ydn.db.Request\");function Rd(a,b,c){a.a=b;a.fa=c;I(a.logger,a+\" BEGIN\");if(b){for(c=0;c<a.m.length;c++)a.m[c][0].call(a.m[c][1],b);a.m.length=0}}function Sd(a){var b=new Qd(a.v);a.K++;Rd(b,a.a,a.fa+\"C\"+a.K);return b}function Td(a){I(a.logger,a+\" END\");a.a=null}l.Cb=function(){return!!this.a};","l.abort=function(){I(this.logger,this+\" aborting \"+this.a);if(this.a)if(ga(this.a.abort))this.a.abort();else if(ga(this.a.executeSql))this.a.executeSql(\"ABORT\",[],function(){},function(){return!0});else throw new wd;else throw new Ud(this+\" No active transaction\");};function L(a,b,c){var d=a.aa.shift();c=!!c;d?d[0].call(d[1],b,c,function(b,c){L(a,b,c)}):c?a.o(b):a.callback(b)}function Vd(a,b,c){a.aa.push([b,c])}function M(a,b,c){a.a?b.call(c,a.a):a.m.push([b,c])}","l.callback=function(a){I(this.logger,this+\" SUCCESS\");Qd.w.callback.call(this,a)};l.o=function(a){I(this.logger,this+\" ERROR\");Qd.w.o.call(this,a)};function N(a){var b=\"\";a.fa&&(b=a.a?\"*\":\"\",b=\"[\"+a.fa+b+\"]\");return a.v+b}function Wd(a,b){var c=new Qd(a);L(c,b);return c}l.toString=function(){return\"Request:\"+N(this)};","l.Ma=function(){this.i&&this.c&&Ub(this)&&(Vb(this.i),this.i=0);this.f&&(this.f.A--,delete this.f);for(var a=this.g,b=!1;this.j.length&&!this.l;){var c=this.j.shift(),d=c[0],e=c[1],c=c[2];if(d=this.b?e:d)d=d.call(c||this.P,a),u(d)&&(this.b=this.b&&(d==a||d instanceof Error),this.g=a=d),qa(a)&&(this.l=b=!0)}this.g=a;b&&(b=la(this.qa,this,!0),d=la(this.qa,this,!1),a instanceof D?(Sb(a,b,d),a.C=!0):a.then(b,d))};","l.toJSON=function(){var a=(this.fa||\"\").match(/B(\\d+)T(\\d+)(?:Q(\\d+?))?(?:R(\\d+))?/)||[];return{method:this.v?this.v.split(\":\"):[],branchNo:parseFloat(a[1]),transactionNo:parseFloat(a[2]),queueNo:parseFloat(a[3]),requestNo:parseFloat(a[4])}};var Xd=Ed&&Ed.cmp?la(Ed.cmp,Ed):Pd,Yd=[];var Zd=C(\"Safari\")&&!((C(\"Chrome\")||C(\"CriOS\"))&&!jb()&&!C(\"Edge\")||C(\"Coast\")||jb()||C(\"Edge\")||C(\"Silk\")||C(\"Android\"))&&!(Ic()||C(\"iPad\")||C(\"iPod\"));function $d(){0!=ae&&(be[this[ha]||(this[ha]=++ia)]=this);this.P=this.P;this.V=this.V}var ae=0,be={};$d.prototype.P=!1;$d.prototype.kb=function(){if(!this.P&&(this.P=!0,this.R(),0!=ae)){var a=this[ha]||(this[ha]=++ia);delete be[a]}};$d.prototype.R=function(){if(this.V)for(;this.V.length;)this.V.shift()()};function ce(a,b){this.type=a;this.a=this.target=b;this.ub=!0}ce.prototype.preventDefault=function(){this.ub=!1};function de(a,b){ce.call(this,a,b)}z(de,ce);de.prototype.c=function(){return this.b};function ee(a,b,c,d,e){ce.call(this,a,b);this.version=c;this.zb=d;this.pb=e}z(ee,de);l=ee.prototype;l.name=\"ReadyEvent\";l.version=NaN;l.zb=NaN;l.pb=null;l.Rb=function(){return this.version};l.Fb=function(){return this.zb};l.Eb=function(){return this.pb};function fe(a,b,c){ce.call(this,c||\"error\",a);this.error=b}z(fe,de);fe.prototype.toString=function(){return this.name+\":\"+(this.error?this.error:\"\")};","fe.prototype.name=\"ErrorEvent\";fe.prototype.error=null;fe.prototype.f=function(){return this.error};function ge(a,b){fe.call(this,a,b,\"fail\")}z(ge,fe);ge.prototype.name=\"FailEvent\";function he(a,b,c,d,e){ce.call(this,a,b);this.b=c;this.key=d;this.value=e}z(he,de);he.prototype.name=\"RecordEvent\";he.prototype.f=function(){return this.key};he.prototype.g=function(){return this.value};function ie(a,b,c,d,e){ce.call(this,a,b);this.b=c;this.keys=d;this.values=e}z(ie,de);ie.prototype.name=\"StoreEvent\";","ie.prototype.ba=function(){return this.keys};ie.prototype.Pa=function(){return this.values};function je(a,b,c){var d;if(y(a))d=a.store,b=a.id,null!=a.parent&&(c=new je(a.parent));else if(u(b))d=a;else if(d=a.lastIndexOf(\"^|\"),b=a,0<d&&(b=a.substr(d),c=new je(a.substring(0,d))),b=b.split(\"^:\"),d=b[0],b=b[1],!u(b))throw Error(\"Invalid key value: \"+a);this.a=d;this.id=b;this.b=c||null}l=je.prototype;l.toJSON=function(){var a={store:this.a,id:this.id};this.b&&(a.parent=this.b.toJSON());return a};l.valueOf=function(){return(this.b?this.b.valueOf()+\"^|\":\"\")+this.a+\"^:\"+this.id};","l.toString=function(){return this.valueOf().replace(\"^|\",\"|\").replace(\"^:\",\":\")};l.Nb=function(){return this.a};l.Db=function(){return this.id};function ke(a){return v(a.id)?a.id.join(\"^|\"):a.id instanceof Date?+a.id:a.id}l.Mb=function(){return this.b};function le(a){if(w(a)){for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}return a};function O(a,b,c,d){a>b&&(b=a=void 0);null===a&&(a=void 0);null===b&&(b=void 0);this.lower=a;this.upper=b;this.lowerOpen=!!c;this.upperOpen=!!d}l=O.prototype;l.lower=void 0;l.upper=void 0;l.lowerOpen=!1;l.upperOpen=!1;l.toJSON=function(){return me(this)};function ne(a){return oe(a)}function se(a){return new O(a,a,!1,!1)}function te(a,b,c,d){return new O(a,b,c,d)}function ue(a,b){return new O(void 0,a,void 0,!!b)}function ve(a,b){return new O(a,void 0,!!b,void 0)}","function we(a){var b;if(v(a))b=Za(a),b.push(\"\\uffff\");else if(x(a))b=a+\"\\uffff\";else if(fa(a))b=a+2.220460492503131E-16,a-=2.220460492503131E-16;else return se(a);return te(a,b,!1,!0)}function me(a){a=a||{};return{lower:a.lower,upper:a.upper,lowerOpen:a.lowerOpen,upperOpen:a.upperOpen}}","function oe(a){return null!=a?null!=a.upper&&null!=a.lower?xe.bound(a.lower,a.upper,!!a.lowerOpen,!!a.upperOpen):null!=a.upper?xe.upperBound(a.upper,a.upperOpen):null!=a.lower?xe.lowerBound(a.lower,a.lowerOpen):null:null}function ye(a){if(a instanceof O)return\"\";if(null!=a){if(y(a)){for(var b in a){var c;if(c=a.hasOwnProperty(b))c=!(0<=Ra([\"lower\",\"upper\",\"lowerOpen\",\"upperOpen\"],b));if(c)return'invalid attribute \"'+b+'\" in key range object'}return\"\"}return\"key range must be an object\"}return\"\"}","function ze(a,b){var c=a.lower,d=a.upper,e=a.lowerOpen,f=a.upperOpen;null!=b.lower&&(null==a.lower||b.lower>=a.lower)&&(c=b.lower,e=b.lowerOpen||a.lowerOpen);null!=b.upper&&(null==a.upper||b.upper<=a.upper)&&(d=b.upper,f=b.upperOpen||a.upperOpen);return te(c,d,e,f)}","function Ae(a,b,c,d,e){if(c)if(c.lowerOpen||c.upperOpen||null==c.lower||null==c.upper||0!==Xd(c.lower,c.upper)){if(null!=c.lower){var f=c.lowerOpen?\" > \":\" >= \";d.push(a+f+\"?\");e.push(Be(c.lower,b))}null!=c.upper&&(f=c.upperOpen?\" < \":\" <= \",d.push(a+f+\"?\"),e.push(Be(c.upper,b)))}else d.push(a+\" = ?\"),e.push(Be(c.lower,b))}","function Ce(a,b,c,d){var e,f,g,h;if(\"starts\"==a||\"^\"==a)return we(b);if(\"<\"==a||\"<=\"==a)e=b,g=\"<\"==a;else if(\">\"==a||\">=\"==a)f=b,h=\">\"==a;else if(\"=\"==a||\"==\"==a)e=f=b;else throw new J(\"invalid op: \"+a);if(\"<\"==c||\"<=\"==c)e=d,g=\"<\"==c;else if(\">\"==c||\">=\"==c)f=d,h=\">\"==c;else if(u(c))throw new J(\"invalid op2: \"+c);return te(f,e,h,g)}var xe=r.IDBKeyRange||r.webkitIDBKeyRange||O;function De(a,b,c,d,e,f){u(e)||(e=v(a)?a.join(\", \"):a);if(null!=a&&!x(a)&&!w(a))throw new J(\"index keyPath for \"+e+\" must be a string or array, but \"+a+\" is \"+typeof a);v(a)&&Object.freeze&&Object.freeze(a);!u(a)&&u(e)&&(a=e.replace(/[,\\s]/g,\"\"));this.keyPath=a;this.h=w(this.keyPath);this.b=e;this.type=Ee(b);if(u(b)){if(!u(this.type))throw new J(\"type invalid in index: \"+this.b);if(v(this.keyPath))throw new J('composite key for store \"'+this.b+'\" must not specified type');}this.unique=!!c;this.multiEntry=","!!d;this.i=x(this.type)?this.type:Fe;this.f=x(e)?e:v(a)?this.keyPath.join(\",\"):a;this.c=Ha(this.f);this.a=this.h?null:this.keyPath.split(\".\");this.g=f||null}var Fe=\"TEXT\";function Be(a,b){if(\"DATE\"==b){if(a instanceof Date)return+a}else return null!=b?a:Id(a)}","function Ge(a,b){var c;if(\"DATE\"==b)c=new Date(a);else if(u(b))c=a;else{for(var d=c=[],e,f=[],g,h,k=new Od(a);null!=Md(k);)if(0===k.a)d=f.pop();else{if(null===k.a)break;do{g=k.a/4|0;e=k.a%4;for(var m=0;m<g;m++)h=[],d.push(h),f.push(d),d=h;if(0===e&&12<k.a+4)Md(k);else break}while(1);1===e?d.push(Ld(k)):2===e?d.push(new Date(Ld(k))):3===e?d.push(Nd(k)):0===e&&(d=f.pop())}c=c[0]}return c}var He=[\"BLOB\",\"DATE\",\"INTEGER\",\"NUMERIC\",Fe];function Ee(a){if(x(a))return a=Ra(He,a),He[a]}l=De.prototype;","l.getName=function(){return this.b};l.toJSON=function(){return{name:this.b,keyPath:this.keyPath,type:this.type,unique:this.unique,multiEntry:this.multiEntry}};l.clone=function(){var a=v(this.keyPath)?Za(this.keyPath):this.keyPath;return new De(a,this.type,this.unique,this.multiEntry,this.b,this.g)};","function Ie(a,b){return null!=a||null!=b?null!=a?null!=b?w(a)&&w(b)?ab(a,b)?null:\"expect: \"+a+\", but: \"+b:Je(a,b)?null:\"expect: \"+a+\", but: \"+b:\"keyPath: \"+a+\" no longer defined\":\"newly define \"+b:null}l.hint=function(a){if(!a)return this;var b=v(this.keyPath)?Za(this.keyPath):this.keyPath,c=this.type;u(a.type)||\"TEXT\"!=c||(c=void 0);return new De(b,c,this.unique,this.multiEntry,a.b)};","l.toString=function(){var a=this.multiEntry?\"MultiEntry\":\"\";this.a&&1<this.a.length&&(a+=\"Compound\");return a+\"Index:\"+this.b};function Ke(a,b,c,d,e,f,g,h){if(!x(a))throw new J(\"store name must be a string\");this.c=a;this.keyPath=u(b)?b:null;this.i=w(this.keyPath);if(null!==this.keyPath&&!x(this.keyPath)&&!this.i)throw new J(\"keyPath must be a string or array\");if(null!=c&&!ea(c))throw new J('invalid autoIncrement value in store \"'+a+'\"');this.b=!!c;var k;if(null!=d){k=Ee(d);if(!u(k))throw new J('type \"'+d+'\" for primary key in store \"'+this.c+'\" is invalid.');if(this.i)throw new J('composite key for store \"'+this.c+'\" must not specified type');","}this.type=null!=k?k:this.b?\"INTEGER\":void 0;this.h=x(this.keyPath)?this.keyPath.split(\".\"):[];this.a=e||[];a=[];for(b=0;b<this.a.length;b++){c=this.a[b].getName();if(0<=a.indexOf(c))throw new J('index \"'+c+'\" already defined in store: '+this.c);a.push(c)}this.L=!!f;this.$=!!g;this.m=x(this.type)?this.type:Fe;this.g=v(this.keyPath)?this.keyPath.join(\",\"):x(this.keyPath)?this.keyPath:\"_ROWID_\";this.f=Ha(this.g);if(this.l=!!h){if(this.keyPath)throw new J('encrypted store \"'+this.c+'\" must not use inline key');","if(this.b)throw new J('encrypted store \"'+this.c+'\" must not use key generator');}this.j=[]}l=Ke.prototype;l.L=!1;l.$=!1;l.toJSON=function(){for(var a=[],b=0;b<this.a.length;b++)a.push(this.a[b].toJSON());return{name:this.c,keyPath:this.keyPath,autoIncrement:this.b,type:this.type,indexes:a}};","function Le(a){var b=\"name keyPath autoIncrement type indexes dispatchEvents fixed Sync encrypted\".split(\" \"),c;for(c in a)if(a.hasOwnProperty(c)&&-1==Ra(b,c))throw new J('Unknown attribute \"'+c+'\"');b=[];c=a.indexes||[];if(v(c))for(var d=0;d<c.length;d++){var e;e=c[d];var f=\"name unique type keyPath multiEntry generator\".split(\" \"),g=void 0;for(g in e)if(e.hasOwnProperty(g)&&-1==Ra(f,g))throw new J(\"Unknown field: \"+g+\" in \"+P(e));e=new De(e.keyPath,e.type,e.unique,e.multiEntry,e.name,e.generator);","u(e.keyPath)&&e.keyPath===a.keyPath||b.push(e)}return new Ke(a.name,a.keyPath,a.autoIncrement,\"undefined\"===a.type||\"null\"===a.type?void 0:a.type,b,a.dispatchEvents,a.fixed,a.encrypted)}function Me(a,b,c,d,e,f,g){a=Ne(a,b,c,d,e,f,g);b=\"\";0!=c&&(b+=\"SELECT \"+a.select);b+=\" FROM \"+a.from;a.s&&(b+=\" WHERE \"+a.s);a.group&&(b+=\" GROUP BY \"+a.group);a.J&&(b+=\" ORDER BY \"+a.J);return b}","function Ne(a,b,c,d,e,f,g){var h={select:\"\",from:\"\",s:\"\",group:\"\",J:\"\"},k=a.g,m=a.f,q=null;d!==k&&x(d)&&(q=Oe(a,d));var n=!!q,p=d||k,t=Ha(p),A=n?q.type:a.type,B=n&&q.multiEntry;h.from=Pe(a);6===c?h.select=\"COUNT(\"+m+\")\":3===c||1===c||2===c?(h.select=m,null!=d&&d!=k&&(h.select+=\", \"+t)):h.select=\"*\";d=g?\"DISTINCT \":\"\";k=[];B?(B=Ha(\"ydn.db.me:\"+a.getName()+\":\"+q.getName()),h.select=6===c?\"COUNT(\"+d+B+\".\"+t+\")\":3===c||1===c||2===c?\"DISTINCT \"+Pe(a)+\".\"+m+\", \"+B+\".\"+t+\" AS \"+p:\"DISTINCT \"+Pe(a)+\".*, \"+","B+\".\"+t+\" AS \"+p,h.from=B+\" INNER JOIN \"+Pe(a)+\" USING (\"+m+\")\",null!=e&&(Ae(B+\".\"+t,A,e,k,b),0<k.length&&(h.s=h.s?h.s+(\" AND \"+k.join(\" AND \")):k.join(\" AND \")))):null!=e&&(Ae(t,A,e,k,b),0<k.length&&(h.s=h.s?h.s+(\" AND \"+k.join(\" AND \")):k.join(\" AND \")));n&&!q.unique&&g&&(h.group=t);a=f?\"DESC\":\"ASC\";h.J=t+\" \"+a;n&&(h.J+=\", \"+m+\" \"+a);return h}","function Qe(a,b,c,d,e,f,g,h,k){var m,q,n,p;null!=e?(m=e.lower,q=e.upper,n=e.lowerOpen,p=e.upperOpen,f?null!=q?(e=Xd(h,q),-1==e?(q=h,p=k):0==e&&(p=k||p)):(q=h,p=k):null!=m?(e=Xd(h,m),1==e?(m=h,n=k):0==e&&(n=k||n)):(m=h,n=k)):f?(q=h,p=k):(m=h,n=k);e=new O(m,q,!!n,!!p);d=d?Oe(a,d):null;b=Ne(a,c,b,d?d.f:a.g,e,f,g);b=\"SELECT \"+b.select+\" FROM \"+b.from+(b.s?\" WHERE \"+b.s:\"\")+(b.group?\" GROUP BY \"+b.group:\"\")+\" ORDER BY \"+b.J;d&&(b+=\", \"+a.f+(f?\"DESC\":\"ASC\"));return b}","function Re(a,b,c,d,e,f,g,h,k,m){var q=Oe(a,d),n=q.f;d=q.c;var p=a.f,t=k?\" <\":\" >\",t=g?t+\" \":t+\"= \";g=Be(f,q.type);h=Be(h,a.type);q=\"\";e?(a=Ne(a,c,b,n,e,k,m),a.s+=\" AND \",q=d+t+\"?\",c.push(g)):(e=k?ue(f,!0):ve(f,!0),a=Ne(a,c,b,n,e,k,m),q=a.s,a.s=\"\");a.s+=\"(\"+q+\" OR (\"+d+\" = ? AND \"+p+t+\"?))\";c.push(g);c.push(h);return\"SELECT \"+a.select+\" FROM \"+a.from+\" WHERE \"+a.s+(a.group?\" GROUP BY \"+a.group:\"\")+\" ORDER BY \"+a.J}l.clone=function(){return Le(this.toJSON())};function Se(a){return a.a.length}","l.index=function(a){return this.a[a]||null};function Oe(a,b){return Va(a.a,function(a){return a.getName()==b})}function Te(a,b){for(var c=0;c<a.a.length;c++)if(!Ie(a.a[c].keyPath,b))return a.a[c];return null}function Ue(a,b){return b===a.keyPath?!0:Ua(a.a,function(a){return a.getName()==b})}function Pe(a){return Ha(a.c)}","function Ve(a,b){if(!b)return a;var c=a.b,d=v(a.keyPath)?Za(a.keyPath):a.keyPath,e=a.type,f=Ta(a.a,function(a){return a.clone()});u(b.type)||\"TEXT\"!=e||(e=void 0);v(b.keyPath)&&x(d)&&d==b.keyPath.join(\",\")&&(d=Za(b.keyPath));for(var g=0,h=b.a.length;g<h;g++)if(b.a[g].h)for(var k=b.a[g].getName(),m=f.length-1;0<=m;m--)if(0<=k.indexOf(f[m].getName())){f[m]=b.a[g].clone();break}for(g=0;g<f.length;g++)(h=Oe(b,f[g].getName()))&&(f[g]=f[g].hint(h));return new Ke(b.c,d,c,e,f)}l.getName=function(){return this.c};","function We(a){return!!a.keyPath}function Xe(a,b,c){if(b){if(!a.keyPath&&null!=c)return c;if(a.i){c=[];for(var d=0;d<a.keyPath.length;d++)c.push(Fd(b,a.keyPath[d]));return c}if(a.keyPath)return gb(b,a.h)}}function Ye(a,b,c){for(var d=0;d<a.h.length;d++){var e=a.h[d];if(d==a.h.length-1){b[e]=c;break}u(b[e])||(b[e]={});b=b[e]}}","function Ze(a,b,c){var d=[],e=[];c=u(c)?c:Xe(a,b);u(c)&&(e.push(a.f),d.push(Be(c,a.type)));for(var f=0;f<a.a.length;f++){var g=a.a[f];if(!g.multiEntry&&g.getName()!==a.keyPath&&\"_default_\"!=g.getName()){var h;h=g;var k=b;if(null!=k)if(w(h.keyPath)){for(var m=[],q=0,n=h.keyPath.length;q<n;q++){var p=Fd(k,h.keyPath[q]);m[q]=p}h=m}else h=Fd(k,h.keyPath);else h=void 0;null!=h&&(d.push(Be(h,g.type)),e.push(g.c))}}a.$?a.$&&!a.keyPath&&0==Se(a)&&(x(b)&&-1==b.indexOf(\";base64,\")?d.push(b):d.push(P(b)),e.push(\"_default_\")):","(d.push(P(b)),e.push(\"_default_\"));a=[];for(f=d.length-1;0<=f;f--)a[f]=\"?\";return{ib:e,vb:a,values:d,key:c}}","function $e(a,b){if(!b)return\"missing store: \"+a.c;if(a.c!=b.c)return\"store name, expect: \"+a.c+\", but: \"+b.c;var c=Ie(a.keyPath,b.keyPath);if(c)return\"keyPath, \"+c;if(u(a.b)&&u(b.b)&&a.b!=b.b)return\"autoIncrement, expect:  \"+a.b+\", but: \"+b.b;if(a.a.length!=b.a.length)return\"indexes length, expect:  \"+a.a.length+\", but: \"+b.a.length;if(u(a.type)&&u(b.type)&&(w(a.type)?!ab(a.type,b.type):a.type!=b.type))return\"data type, expect:  \"+a.type+\", but: \"+b.type;for(c=0;c<a.a.length;c++){var d=Oe(b,a.a[c].getName()),","e;e=a.a[c];if(d)if(e.b!=d.b)e=\"name, expect: \"+e.b+\", but: \"+d.b;else{var f=Ie(e.keyPath,d.keyPath);e=f?\"keyPath, \"+f:null!=e.unique&&null!=d.unique&&e.unique!=d.unique?\"unique, expect: \"+e.unique+\", but: \"+d.unique:null!=e.multiEntry&&null!=d.multiEntry&&e.multiEntry!=d.multiEntry?\"multiEntry, expect: \"+e.multiEntry+\", but: \"+d.multiEntry:u(e.type)&&u(d.type)&&(w(e.type)?!ab(e.type,d.type):e.type!=d.type)?\"data type, expect: \"+e.type+\", but: \"+d.type:\"\"}else e=\"no index for \"+e.b;if(0<e.length)return'index \"'+","a.a[c].getName()+'\" '+e}return\"\"}function af(a,b){if(b)for(var c=0;c<a.a.length;c++){var d=a.a[c],e=b;if(d.g){var f=d.g(e),g=typeof f;if(\"string\"==g||\"number\"==g||f instanceof Date||v(f)){for(g=0;g<d.a.length-1;g++)y(e[d.a[g]])||(e[d.a[g]]={});e[d.a[d.a.length-1]]=f}}}}function bf(a,b,c,d,e){for(var f=0;f<a.j.length;f++)d!==f&&a.j[f].call(e,b,c)}function cf(a,b){for(var c=0;c<a.a.length;c++)if(a.a[c].getName()==b)return c;return-1}l.toString=function(){return\"Store:\"+this.c+\"[\"+Se(this)+\"index]\"};function df(a){return!x(a)||ua(a)?{}:JSON.parse(a)}function ef(a){var b;try{b=P(a)}catch(c){b=\"\"}return b?b.substr(0,70)+(70<b.length?\"...\":\"\"):\"\"}function P(a){return JSON.stringify(a,void 0,void 0)};function ff(a,b){if(!a||ua(a))throw new J(\"store_name must be provided for primary full text index\");if(!b||ua(b))throw new J(\"index_name must be provided for primary full text index\");this.a=a};function gf(a,b,c){this.name=a;this.a=b;this.b=c||\"\";if(-1==[\"\",\"en\",\"fr\"].indexOf(this.b))throw new J('Unsupported lang \"'+c+\" for full text search index \"+a);}gf.prototype.getName=function(){return this.name};gf.prototype.count=function(){return this.a.length};gf.prototype.index=function(a){return this.a[a]};","function hf(a){var b=[\"name\",\"sources\",\"lang\"],c;for(c in a)if(a.hasOwnProperty(c)&&-1==Ra(b,c))throw new J(\"Unknown field: \"+c+\" in \"+P(a));if(!v(a.sources))throw new J(\"indexes require for full text search index \"+a.name+\", but \"+a.sources+\" of type \"+typeof a.sources+\" found.\");b=a.sources.map(function(a){var b=[\"storeName\",\"keyPath\",\"weight\"],c;for(c in a)if(a.hasOwnProperty(c)&&-1==Ra(b,c))throw new J(\"Unknown field: \"+c+\" in \"+ef(a));return new ff(a.storeName,a.keyPath)});return new gf(a.name,","b,a.lang)};function jf(a,b){var c,d,e=b;if(y(a)){d=a;c=[\"version\",\"stores\",\"fullTextCatalogs\"];for(var f in d)if(d.hasOwnProperty(f)&&-1==Ra(c,f))throw new J(\"Unknown field: \"+f+\" in schema.\");c=d.version;var e=[],g=d.stores||[];if(!v(g))throw new J(\"stores must be array\");for(f=0;f<g.length;f++){var h=Le(g[f]);if(-1!=Wa(e,function(a){return a.name==h.getName()}))throw new J('duplicate store name \"'+h.getName()+'\".');e.push(h)}}else x(a)?c=0==a.length?void 0:parseFloat(a):fa(a)&&(c=a);if(u(c)){if(!fa(c)||0>","c)throw new J(\"Invalid version: \"+c+\" (\"+a+\")\");isNaN(c)&&(c=void 0)}if(u(b)&&(!v(b)||0<b.length&&!(b[0]instanceof Ke)))throw new J(\"stores\");this.version=c;this.b=!u(this.version);this.stores=e||[];c=[];if(d&&d.fullTextCatalogs)for(f=0;f<d.fullTextCatalogs.length;f++)e=hf(d.fullTextCatalogs[f]),c[f]=e,S(this,e.getName())||(g=[new De(\"k\",Fe),new De(\"v\",Fe)],e=new Ke(e.getName(),\"id\",!1,void 0,g,!1,!1,!1),this.stores.push(e));this.c=c}","jf.prototype.toJSON=function(){var a=Ta(this.stores,function(a){return a.toJSON()}),b={};b.stores=a;u(this.version)&&(b.version=this.version);return b};jf.prototype.b=!1;jf.prototype.a=function(){return!1};function kf(a){return Ta(a.stores,function(a){return a.getName()})}jf.prototype.count=function(){return this.stores.length};function S(a,b){return Va(a.stores,function(a){return a.getName()==b})}function lf(a,b){return Ua(a.stores,function(a){return a.getName()==b})}","function mf(a,b,c,d){if(!b||a.stores.length!=b.stores.length)return\"Number of store: \"+a.stores.length+\" vs \"+b.stores.length;for(var e=0;e<a.stores.length;e++){var f=S(b,a.stores[e].getName());if(f){c&&(f=Ve(f,a.stores[e]));if(d)for(var g=f,h=a.stores[e],k=0;k<h.a.length;k++){var m=h.a[k];Ue(g,m.getName())||\"BLOB\"!=m.type||(m=new De(m.keyPath,m.type,m.unique,m.multiEntry,m.getName()),g.a.push(m))}f=$e(a.stores[e],f);if(0<f.length)return'store: \"'+a.stores[e].getName()+'\" '+f}else return'missing object store \"'+","a.stores[e].getName()+'\"'}return\"\"};function nf(a,b){jf.call(this,a,b)}z(nf,jf);nf.prototype.a=function(){return!0};function of(a,b){a.stores.push(b)};function pf(a){Error.captureStackTrace?Error.captureStackTrace(this,pf):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.error.ArgumentException\"}z(pf,Error);z(pf,Error);function qf(a){Error.captureStackTrace?Error.captureStackTrace(this,qf):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.error.InternalError\"}z(qf,Error);qf.prototype.name=\"ydn.InternalError\";","function rf(a){Error.captureStackTrace?Error.captureStackTrace(this,rf):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.error.ConstraintError\"}z(rf,Error);rf.prototype.name=\"ydn.error.ConstraintError\";function sf(a){Error.captureStackTrace?Error.captureStackTrace(this,sf):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.error.InvalidOperationException\"}z(pf,Error);","function tf(a){Error.captureStackTrace?Error.captureStackTrace(this,tf):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.error.InvalidOperationError\"}z(tf,Error);function Je(a,b){var c;c=c||{};if(null!=a&&null!=b){if(w(a)&&w(b)){if(a.length!=b.length)return!1;for(var d=0;d<a.length;d++)if(-1==Wa(b,function(b){return Je(b,a[d])}))return!1;return!0}if(w(a))return 1==a.length&&Je(a[0],b);if(w(b))return 1==b.length&&Je(b[0],a);if(y(a)&&y(a)){for(var e in a)if(a.hasOwnProperty(e)&&!c[e]){var f=Je(a[e],b[e]);if(!f)return!1}for(e in b)if(b.hasOwnProperty(e)&&!c[e]&&(f=Je(a[e],b[e]),!f))return!1;return!0}return a===b}return!1};/*"," Copyright 2012 YDN Authors, Yathit. All Rights Reserved."," Licensed under the Apache License, Version 2.0 (the \"License\");.","*/","function T(a,b,c){c=c||{};var d=\"autoSchema connectionTimeout size mechanisms policy isSerial Encryption\".split(\" \"),e;for(e in c)if(c.hasOwnProperty(e)&&-1==Ra(d,e))throw new J('Unknown attribute \"'+e+'\" in options.');if(c.mechanisms){if(!v(c.mechanisms))throw new J(\"mechanisms attribute must be an array but \"+da(c.mechanisms)+\" found.\");for(e=0;e<c.mechanisms.length;e++)if(!(0<=Ra(uf,c.mechanisms[e])))throw new J('Invalid mechanism \"'+c.mechanisms[e]+'\"');}this.v=c.mechanisms||(Zd||Ic()||C(\"iPad\")||","C(\"iPod\")?$a(uf,1):uf);this.j=c.size;this.A=u(c.connectionTimeout)?c.connectionTimeout:3E3;this.a=null;this.f=[];this.ua=!1;var f;if(b instanceof jf)f=b;else if(y(b))for(c.autoSchema||!u(b.stores)?f=new nf(b):f=new jf(b),c=b.stores?b.stores.length:0,e=0;e<c;e++)d=S(f,b.stores[e].name),b.stores[e].Sync&&G(this.logger,\"Synchronization option for \"+d.getName()+\" ignored.\");else f=new nf;this.c=f;for(e=0;e<this.c.count();e++)if((this.c.stores[e]||null).l)throw Error(\"encryption option must be defined\");","u(a)&&this.m(a);this.i=null;this.g=new D}T.prototype.logger=E(\"ydn.db.con.Storage\");T.prototype.C=function(a){if(u(a)){var b=function(b){a(b.toJSON());a=void 0};if(this.a)this.a.T(b);else{var c=this;this.transaction(function(a){c.a.T(b,a)},null,Cd)}}return this.c?this.c.toJSON():null};T.prototype.m=function(a){if(this.a)throw new xd(\"Already connected with \"+this.h);this.h=a;vf(this)};T.prototype.getName=function(){return this.h};var uf=\"indexeddb sqlite websql localstorage sessionstorage userdata memory\".split(\" \");","l=T.prototype;l.Ka=function(){return null};","function vf(a){function b(b,e){b?(H(a.logger,a+\": ready.\"),a.mb=NaN,d.za=function(b){a.G(new fe(a,b))},d.Ya=function(b){a.G(new ge(a,b));a.a=null},d.Ta=function(b){a.G(b)},setTimeout(function(){wf(a,e);xf(a)},10),c.callback(e)):(G(a.logger,a+\": database connection fail \"+e.name),setTimeout(function(){wf(a,new ge(a,e));if(a.f){var b=a.logger;for(b&&b.log(fd,\"Purging \"+a.f.length+\" transactions request.\",void 0);b=a.f.shift();)b.H&&b.H(\"error\",e)}},10),c.o(e))}for(var c=new D,d=null,e=a.v,f=0;f<e.length;f++){var g=","e[f].toLowerCase();if(d=a.Ka(g)){d=a.Ka(g);break}}null===d?(e=new rf(\"No storage mechanism found.\"),b(!1,new ge(a,e))):Sb(d.connect(a.h,a.c),function(a){this.a=d;b(!0,new ee(\"ready\",this,parseFloat(d.yb()),parseFloat(a),null))},function(a){G(this.logger,this+\": opening fail\");b(!1,a)},a)}l.Aa=function(){if(this.a)return this.a.xb()};l.xa=function(a,b){this.g.V().cb(a,b)};function wf(a,b){setTimeout(function(){a.c.b&&a.g.c||(b instanceof fe?a.g.o(b.error):a.g.callback(),a.G(b))},4)}","function yf(a){return!!a.a&&a.a.Xa()}l.close=function(){this.a&&(this.a.close(),this.a=null,H(this.logger,this+\" closed\"))};l.Qb=function(){return this.a?this.a.wb():null};l.mb=NaN;function xf(a){var b=a.f.shift();b&&(H(a.logger,\"pop tx queue[\"+(a.f.length+1)+\"]\"),a.transaction(b.sa,b.Jb,b.mode,b.H));a.mb=na()}","function zf(a,b,c,d,e){H(a.logger,\"push tx queue[\"+a.f.length+\"]\");a.f.push({sa:b,Jb:c,mode:d||Cd,H:e});100<a.f.length&&0==a.f.length%100&&G(a.logger,\"Transaction queue stack size is \"+a.f.length+\". It is too large, possibility due to incorrect usage.\")}l.ua=!1;","l.transaction=function(a,b,c,d){var e=b;if(x(b))e=[b];else if(null!=b)if(w(b)){if(0==b.length)throw new J(\"number of store names must more than 0\");for(var f=0;f<b.length;f++)if(!x(b[f]))throw new J(\"store name at \"+f+\" must be string but found \"+typeof b[f]);}else throw new J(\"store names must be an array\");else e=null;if(this.a&&this.a.Xa()&&!this.ua){var g=this,h=u(c)?c:Cd;h==Dd&&(this.ua=!0);this.a.La(function(b){a(b);a=null},e,h,function(a,b){ga(d)&&(d(a,b),d=void 0);h==Dd&&(g.ua=!1);xf(g)})}else zf(this,","a,e,c,d)};l.G=function(){};l.toString=function(){return\"Storage:\"+this.a};T.prototype.close=T.prototype.close;T.prototype.getType=T.prototype.Aa;T.prototype.getName=T.prototype.getName;T.prototype.getSchema=T.prototype.C;T.prototype.onReady=T.prototype.xa;T.prototype.setName=T.prototype.m;T.prototype.transaction=T.prototype.transaction;T.prototype.db=T.prototype.Qb;oa(\"ydn.db.version\",\"1.4.3\");oa(\"ydn.db.cmp\",Xd);oa(\"ydn.db.deleteDatabase\",function(a,b){for(var c,d=0;d<Yd.length;d++){var e=Yd[d](a,b);e&&(c=e)}return c||Wd(\"IDBVersionChangeEvent \",null)});","ee.prototype.name=ee.prototype.name;ee.prototype.getVersion=ee.prototype.Rb;ee.prototype.getOldVersion=ee.prototype.Fb;ee.prototype.getOldSchema=ee.prototype.Eb;fe.prototype.getError=fe.prototype.f;Qd.prototype.abort=Qd.prototype.abort;Qd.prototype.canAbort=Qd.prototype.Cb;zd.prototype.progress=zd.prototype.fb;zd.prototype.promise=zd.prototype.Lb;oa(\"ydn.db.KeyRange\",O);O.only=se;O.bound=te;O.upperBound=ue;O.lowerBound=ve;function Af(a,b,c,d){$d.call(this);this.a=c;this.bb=c.getName();this.i=void 0;this.f=!1;this.Z=null;this.j=a;this.ab=b;this.Ea=0;this.C=this.m=!1;this.A=d||4;this.aa=this.g=this.c=void 0;this.K=function(){throw new yd;};this.W=function(){throw new yd;};this.$a=function(){}}z(Af,$d);l=Af.prototype;","l.Za=function(a,b,c,d,e){if(u(b)){a=this.a;var f,g=b;v(b)?(f=Te(a,b),g=b.join(\", \")):f=Oe(a,b);if(!f)throw new J('require index \"'+g+'\" not found in store \"'+a.getName()+'\"');this.i=f.getName()}this.f=x(this.i);this.Z=c||null;this.Ea=0;this.C=this.m=!1;this.reverse=\"prev\"==d||\"prevunique\"==d;this.unique=\"nextunique\"==d||\"prevunique\"==d;this.dir=d;this.va=e;this.aa=this.g=this.c=void 0};l.dir=\"\";l.Z=null;l.unique=!1;l.reverse=!1;l.va=!0;l.logger=E(\"ydn.db.core.req.AbstractCursor\");","function Bf(a,b){a.W(b);Cf(a);a.m=!0}l.O=function(a,b,c){null==a&&(I(this.logger,this+\" finished.\"),this.m=!0);this.c=a;this.g=b;this.aa=c;this.Ea++;this.m?(H(this.logger,this+\" DONE.\"),this.K(),Cf(this)):(H(this.logger,this+\" new cursor position {\"+(this.f?this.c+\", \"+this.g:this.c)+\"}\"),this.K(this.c))};l.R=function(){this.j=null};l.toString=function(){return\"Cursor:\"+this.bb+(u(this.i)?\":\"+this.i:\"\")+\"[\"+(this.j?\"\":\"~\")+this.ab+\"]\"};","function Cf(a){null!=a.g?a.g=le(a.g):a.g=void 0;null!=a.c?a.c=le(a.c):a.c=void 0;a.$a(a.C,a.c,a.g)}l.open=function(a,b,c,d){this.j=a;this.ab=b;this.m=this.C=!1;this.c=c;this.g=d;this.openCursor(this.c,this.g)};function Df(a){a.C=!0;H(a.logger,a+\": exit\");Cf(a)}l.lb=function(){return this.Ea};l.U=function(){return this.f?this.g:this.c};l.Ca=function(){return this.va?this.U():this.aa};l.Ba=function(){};l.ga=function(){};","function Ef(a,b,c){H(a.logger,a+\" restarting\");a.m=!1;a.C=!1;a.openCursor(c,b)};function Ff(){};function Gf(a,b,c,d,e,f,g){if(!x(a))throw new TypeError(\"store name must be a string, but \"+a+\" found.\");this.b=a;this.c=b;this.h=g;this.m=!!this.c;if(u(d)&&!ea(d))throw new J(\"reverse value must be a boolean, but \"+typeof d+\" found\");if(u(e)&&!ea(e))throw new J(\"unique value must be a boolean, but \"+typeof e+\" found\");if(u(f)&&!ea(f))throw new J(\"key_only value must be a boolean, but \"+typeof f+\" found\");this.f=u(f)?f:!!x(this.c);a=\"next\";d&&e?a=\"prevunique\":d?a=\"prev\":e&&(a=\"nextunique\");this.i=","a;if(d=ye(c))throw new J(\"Invalid key range: \"+d);this.a=oe(c);this.g=Hf;this.v=NaN}z(Gf,Ff);Gf.prototype.f=!0;var Hf=\"init\";l=Gf.prototype;l.logger=E(\"ydn.db.Iterator\");l.clone=function(){var a=new Gf(this.b,this.c,this.a,If(this),Jf(this),this.f,this.h);a.v=this.v;return a};l.unique=function(a){return new Gf(this.b,this.c,this.a,If(this),a,this.f,this.h)};l.toJSON=function(){return{store:this.b,index:this.c,keyRange:this.a?me(this.a):null,direction:this.i}};","l.toString=function(){var a=u(this.h)?\":\"+this.h.join(\",\"):u(this.c)?\":\"+this.c:\"\",b;if(b=this.a){var c=b.lowerOpen?\"(\":\"[\";null!=b.lower&&(c+=b.lower+\", \");null!=b.upper&&(c+=b.upper);b=c+=b.upperOpen?\")\":\"]\"}else b=\"\";a+=b;this.g!=Hf&&(a+=this.g+\"{\"+this.j,this.m&&(a+=\", \"+this.l),a+=\"}\");b=this.m?\"Index\":\"\";b+=this.f?\"Key\":\"Value\";return b+\"Iterator:\"+this.b+a};function Kf(a,b,c){a=new Gf(a.b,a.c,a.a,If(a),Jf(a),a.f,a.h);a.j=b;a.l=c;a.g=\"rest\";return a}","l.reverse=function(){return new Gf(this.b,this.c,this.a,!If(this),Jf(this),this.f,this.h)};function If(a){return\"prev\"===a.i||\"prevunique\"===a.i}function Jf(a){return\"nextunique\"===a.i||\"prevunique\"===a.i}l.load=function(a){a=a[0];a.Za(this.b,this.h||this.c,this.a,this.i,this.f);this.g=\"busy\";var b=this;a.$a=function(a,d,e){b.j=d;b.l=e;b.g=a?\"rest\":\"done\"};a.openCursor(this.j,this.l);return a};","l.reset=function(a,b,c){a=a||Hf;\"busy\"==this.g?G(this.logger,this+\": resetting state to \"+a+\" ignore during iteration\"):(this.j=b,this.l=c,this.g=a)};l.stores=function(){return[this.b]};function Lf(a,b){if(null!=a&&!(\"push\"in a))throw new pf('output receiver object must have \"push\" method.');this.b=a||null;this.f=b;this.a=!1}Lf.prototype.logger=E(\"ydn.db.algo.AbstractSolver\");","function Mf(a,b){a.a=If(b[0]);for(var c=0;c<b.length;c++){if(!(b[c]instanceof Gf))throw new vd(\"item at iterators \"+c+\" is not an iterator.\");if(0<c&&a.a!=If(b[c]))throw new vd(\"iterator at \"+c+\" must \"+(a.a?\"be reverse\":\"not be reverse\"));}for(var d=\"{\",c=0;c<b.length;c++)0<c&&(d+=\", \"),d+=b.toString();d+=\"}\";a.a&&(d+=\" reverse\");ud(a.logger,a+\" begin \"+d);return!1}Lf.prototype.c=function(){return[]};function Nf(a){Error.captureStackTrace?Error.captureStackTrace(this,Nf):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ConstraintError\"}z(Nf,Error);Nf.prototype.name=\"ConstraintError\";Nf.prototype.toString=function(){return this.name+\": \"+this.message};function Ud(a){Error.captureStackTrace?Error.captureStackTrace(this,Ud):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"InvalidStateError\"}z(Ud,Error);","function Of(a){Error.captureStackTrace?Error.captureStackTrace(this,Of):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"InvalidAccessError\"}z(Of,Error);function Pf(a){Error.captureStackTrace?Error.captureStackTrace(this,Pf):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"NotFoundError\"}z(Pf,Error);Pf.prototype.name=\"NotFoundError\";Pf.prototype.toString=function(){return this.name+\": \"+this.message};","function Qf(a,b){Error.captureStackTrace?Error.captureStackTrace(this,Qf):this.stack=Error().stack||\"\";b&&(this.message=String(b));this.message+=\" :\"+a.message+\" [\"+a.code+\"]\";this.name=\"SQLError\"}z(Qf,Error);Qf.prototype.toString=function(){return this.name+\": \"+this.message};function Rf(a,b){Error.captureStackTrace?Error.captureStackTrace(this,Rf):this.stack=Error().stack||\"\";b&&(this.message=String(b));this.message+=\" :\"+a.message;this.name=\"SecurityError\"}z(Rf,Error);","Rf.prototype.toString=function(){return this.name+\": \"+this.message};function Sf(a){Error.captureStackTrace?Error.captureStackTrace(this,Sf):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.db.TimeoutError\"}z(Sf,Error);function Tf(a,b){this.a=b}Tf.prototype.logger=E(\"ydn.db.crud.req.RequestExecuto\");Tf.prototype.toString=function(){return\"RequestExecutor\"};function Uf(a){this.c=a;this.a=null;this.b=0}Uf.prototype.logger=E(\"ydn.db.tr.Mutex\");Uf.prototype.I=null;function Vf(a){return!!a.a&&!a.f}Uf.prototype.H=null;Uf.prototype.toString=function(){return\"Mutex:\"+(\"B\"+this.c+\"T\"+this.b)+(this.a?\"*\":\"\")};function Wf(a,b,c,d,e,f){this.j=a;this.K=b;this.a=this.f=0;this.C=d;this.A=e;this.g=c||Xf;this.l=f||0}Wf.prototype.logger=E(\"ydn.db.tr.Thread\");Wf.prototype.type=function(){return this.j.Aa()};Wf.prototype.F=function(){return\"B\"+this.K+\"T\"+this.f};var Xf=\"single\";function Yf(a){if(a)if(ga(a.abort))a.abort();else if(ga(a.executeSql))a.executeSql(\"ABORT\",[],null,function(){return!0});else throw new wd;else throw new Ud(\"No active transaction\");};function Zf(a,b,c,d,e,f){Wf.call(this,a,b,c,d,e,f);this.c=[];this.h=[];this.i=null;this.b=new Uf(b);this.m=f||0;this.v=!1}z(Zf,Wf);l=Zf.prototype;l.logger=E(\"ydn.db.tr.Serial\");","function $f(a,b,c){if(\"multi\"==a.g)a:if(a=a.b,!a.I||!a.mode||c!=a.mode&&(a.mode!=K||c!=Cd)||b.length>a.I.length)b=!1;else{for(c=0;c<b.length;c++)if(-1==a.I.indexOf(b[c])){b=!1;break a}b=!0}else if(\"repeat\"==a.g)a:if(a=a.b,a.I&&a.mode&&c==a.mode&&a.I.length==b.length){for(c=0;c<b.length;c++)if(-1==a.I.indexOf(b[c])){b=!1;break a}b=!0}else b=!1;else b=\"all\"==a.g?!0:!1;return b}function ag(a){var b=0<a.c.length?a.c[0].I:null,c=0<a.c.length?a.c[0].mode:null;return null!=b&&null!=c?$f(a,b,c):!1}","function bg(a,b,c,d,e){H(a.logger,\"push tx queue[\"+a.c.length+\"]\");a.c.push({sa:b,I:c,mode:d||Cd,H:e})}l.abort=function(){I(this.logger,this+\": aborting\");Yf(this.i)};","l.Y=function(a,b,c,d){var e=x(b)?[b]:b;if(w(e)){if(0==e.length)throw new J(\"number of store names must more than 0\");for(var f=0;f<e.length;f++){if(!x(e[f]))throw new J(\"store name at \"+f+\" must be string but found \"+e[f]+\" of type \"+typeof e[f]);if(this.P&&!(0<=Ra(this.P,e[f])))throw new J('store name \"'+f+e[f]+'\" in scope of '+this);}}else throw new J(\"store names must be an array\");var g=u(c)?c:Cd,h=this;if(this.b.a||!yf(this.j)&&this.v)bg(this,a,b,g,d);else{var k=this.F();d&&this.h.push(d);if(this.m&&","this.f>=this.m)throw new xd(\"Exceed maximum number of transactions of \"+this.m);this.v=!0;this.j.transaction(function(c){var d=h.b;d.a=c;d.f=!1;d.I=b;d.mode=g;d.b++;d.H=null;k=h.F();ud(h.logger,k+\" BEGIN \"+P(b)+\" \"+g);a(h);for(a=null;ag(h);)c=h.c.shift(),c.H&&h.h.push(c.H),H(h.logger,\"pop tx queue\"+(h.c.length+1)+\" reusing T\"+h.f),c.sa()},e,g,function(a,b){ud(h.logger,k+\" \"+a);var c=h.b;c.a?(c.a=null,c.I=null,c.mode=null,ga(c.H)&&c.H(a,b),c.H=null):G(c.logger,c+\" has no TX to be unlocked for \"+a);","for(c=0;c<h.h.length;c++)(0,h.h[c])(a,b);h.h.length=0;(c=h.c.shift())&&h.Y(c.sa,c.I,c.mode,c.H);h.a=0})}};l.F=function(){var a=this.b;return\"B\"+a.c+\"T\"+a.b};l.request=function(a,b,c,d){function e(a,b){Td(f);d&&d(a,b)}var f=new Qd(a);a=c||Cd;var g=this;Vf(this.b)&&$f(this,b,a)?(b=this.b.a,this.a++,Rd(f,b,this.F()+\"R\"+this.a),this.h.push(e)):g.Y(function(){var a=g.b.a;g.a++;Rd(f,a,g.F()+\"R\"+g.a)},b,a,e);return f};","l.ia=function(a,b,c,d,e){d=d||Cd;var f=this,g;if(Vf(f.b)&&$f(this,c,d)){var h=f.b.a;f.a++;g=f.F()+\"R\"+f.a;I(f.logger,g+\" BEGIN\");b(h,g,function(b,c){f.i=h;c?(I(f.logger,g+\" ERROR\"),a.o(b)):(I(f.logger,g+\" SUCCESS\"),a.callback(b));f.i=null});I(f.logger,g+\" END\");b=null}else f.Y(function(){var c=f.b.a;f.a++;g=f.F()+\"R\"+f.a;I(f.logger,g+\" BEGIN\");b(c,g,function(b,d){f.i=c;d?(I(f.logger,g+\" ERROR\"),a.o(b)):(I(f.logger,g+\" SUCCESS\"),a.callback(b));f.i=null});I(f.logger,g+\" END\");b=null},c,d,e)};","l.getName=function(){return this.j.getName()};l.toString=function(){return\"Serial:\"+this.F()+(this.i?\"*\":\"\")};function cg(a,b){Zf.call(this,a,b)}z(cg,Zf);cg.prototype.logger=E(\"ydn.db.tr.AtomicSerial\");cg.prototype.request=function(a,b,c){var d,e,f,g=cg.w.request.call(this,a,b,c,function(a,b){Td(g);if(d)\"complete\"!=a&&(f=!0,e=b),d(e,f);else{var c=new Sf;L(g,c,!0)}});Vd(g,function(a,b,c){f=b;e=a;d=c});return g};","cg.prototype.ia=function(a,b,c,d,e){var f,g,h=new D;Sb(h,function(a){g=!1;f=a},function(a){g=!0;f=a});cg.w.ia.call(this,h,b,c,d,function(b,c){if(\"complete\"!=b)a.o(c);else if(!0===g)a.o(f);else if(!1===g)a.callback(f);else{var d=new Sf;a.o(d)}e&&(e(b,c),e=void 0)})};cg.prototype.toString=function(){return\"Atomic\"+cg.w.toString.call(this)};function dg(a,b,c){this.c=a;this.b=b;this.a=c;this.f=null}dg.prototype.logger=E(\"ydn.db.tr.DbOperator\");dg.prototype.g=function(){return this.a.f};dg.prototype.abort=function(){this.a.abort()};function U(a){if(!a.f){var b;b=a.c;var c=b.Aa();if(\"indexeddb\"==c)b=new eg(0,b.c);else if(\"websql\"==c||\"sqlite\"==c)b=new fg(0,b.c);else throw new yd(\"No executor for \"+c);a.f=b}return a.f}","function gg(a,b){var c=x(b)?b:y(b)?b.name:void 0;if(!x(c))throw new J(\"store name \"+c+\" must be a string, but \"+typeof c);var d=S(a.b,c);if(!d){if(!a.b.a())throw new J('store name \"'+c+'\" not found.');d=Le(y(b)?b:{name:c});I(a.logger,\"Adding object store: \"+c);var e=a.c,f=d,g=f instanceof Ke?f:Le(f),f=f.name,h=S(e.c,f);if(0==$e(g,h).length)(new D).callback(!1);else if(h=h?\"update\":\"add\",e.c instanceof nf)of(e.c,g),e.a?(e.a.close(),e.a=null,vf(e)):(new D).callback(!1);else throw new rf(\"Cannot \"+h+","\" store: \"+f+\". Not auto schema generation mode.\");}else if(a.b.a()&&y(b)&&(e=Le(b),e=$e(d,e)))throw new wd(e);if(!d)throw new Pf(c);return d}dg.prototype.toString=function(){return\"TxStorage:\"+this.c.getName()};function V(a,b,c){dg.call(this,a,b,c)}z(V,dg);l=V.prototype;l.logger=E(\"ydn.db.crud.DbOperator\");","l.count=function(a,b,c,d){var e,f,g,h;if(null!=a)if(v(a)){if(u(c)||u(b))throw new J(\"too many arguments.\");f=a;for(var k=0;k<f.length;k++)if(!lf(this.b,f[k]))throw new J('store name \"'+f[k]+'\" at '+k+\" not found.\");I(this.logger,\"countStores: \"+P(f));e=this.a.request(\"count\",f);M(e,function(){U(this).Ja(e,f)},this)}else if(x(a)){k=S(this.b,a);if(!k)throw new J('store name \"'+a+'\" not found.');if(u(d)&&!ea(d))throw new J('unique value \"'+d+'\" must be boolean, but found '+typeof d+\".\");f=[a];if(x(b))if(g=","b,y(c)){var m=ye(c);if(m)throw new J(\"invalid key range: \"+ef(c)+\" \"+m);h=oe(c)}else{if(null!=c)throw new J(\"invalid key range: \"+ef(c)+\" of type \"+typeof c);h=null}else if(y(b)||null==b)if(y(b)){if(m=ye(b))throw new J(\"invalid key range: \"+ef(b)+\" \"+m);h=oe(b)}else{if(null!=b)throw new J(\"key range must be  an object but found \"+ef(b)+\" of type \"+typeof b);h=null}else throw new J('invalid second argument for count \"'+ef(c)+'\" of type '+typeof b);I(this.logger,\"countKeyRange: \"+a+\" \"+(g?g:\"\")+P(h));","e=this.a.request(\"count\",f);bf(k,e,arguments);M(e,function(){U(this).jb(e,f[0],h,g,!!d)},this)}else throw new J(\"Invalid store name or store names.\");else G(this.logger,\"count method requires store name(s)\"),k=kf(this.b),e=this.a.request(\"count\",k),Vd(e,function(a,b,c){if(b)c(a,!0);else{for(var d=b=0;d<a.length;d++)b+=a[d];c(b,!1)}},this),M(e,function(){U(this).Ja(e,f)},this);return e};","l.get=function(a,b){var c=this,d;if(a instanceof je){var e=a,f=e.a,g=S(this.b,f);if(!g){if(this.b.a()){if(yf(this.c))return Wd(\"get\",void 0);d=new Qd(\"get\");this.c.xa(function(){Sb(c.get(a,b),function(a){d.callback(a)},function(a){d.o(a)})});return d}throw new J(\"Store: \"+f+\" not found.\");}var h=e.id;I(this.logger,\"getByKey: \"+f+\":\"+h);d=this.a.request(\"get:key\",[f]);bf(g,d,arguments,void 0,this);M(d,function(){U(this).Na(d,f,h)},this)}else if(x(a)&&u(b)){var k=a,g=S(this.b,k);if(!g){if(this.b.a()){if(yf(this.c))return Wd(\"get\",","void 0);d=new Qd(\"get\");this.c.xa(function(){Sb(c.get(a,b),function(a){d.callback(a)},function(a){d.o(a)})});return d}throw new J('Store name \"'+k+'\" not found.');}var m=b;I(this.logger,\"getById: \"+k+\":\"+m);d=this.a.request(\"get\",[k]);bf(g,d,arguments,void 0,this);M(d,function(){U(this).Na(d,k,m)},this)}else throw new J(\"get require valid input arguments.\");return d};","l.Gb=function(a,b,c,d,e){var f=S(this.b,a),g,h,k,m=null;if(y(b)){var q=ye(b);if(q)throw new J(\"invalid key range: \"+b+\" \"+q);m=oe(b)}else if(null!=b)throw new J('expect key range object, but found \"'+ef(b)+'\" of type '+typeof b);if(u(c))if(fa(c))g=c;else throw new J(\"limit must be a number, but \"+c+\" is \"+typeof c);else g=100;if(u(d))if(fa(d))h=d;else throw new J(\"offset must be a number, but \"+d+\" is \"+typeof d);else h=0;if(u(e))if(ea(e))k=e;else throw new J(\"reverse must be a boolean, but \"+e+\" is \"+","typeof e);I(this.logger,\"keysByKeyRange: \"+a);var n=this.a.request(\"keys\",[a]);bf(f,n,arguments);M(n,function(){U(this).ha(n,2,a,null,m,g,h,k,!1)},this);return n};","l.ja=function(a,b,c,d,e,f,g){var h,k,m,q,n,p=ye(c);if(p)throw new J(\"invalid key range: \"+c+\" \"+p);p=S(this.b,a);h=oe(c);if(fa(d))k=d;else{if(u(d))throw new J(\"limit must be a number\");k=100}if(fa(e))m=e;else{if(u(e))throw new J(\"offset must be a number\");m=0}if(u(f))if(ea(f))q=f;else throw new J(\"reverse must be a boolean\");if(u(g))if(ea(g))n=g;else throw new J(\"unique must be a boolean\");I(this.logger,\"keysByIndex: \"+a);var t=this.a.request(\"keys:iter:index\",[a]);bf(p,t,arguments);M(t,function(){U(this).ha(t,","2,a,b,h,k,m,q,n)},this);return t};l.keys=function(a,b,c,d,e,f,g){var h=S(this.b,a);if(!x(a))throw new J(\"store name must be a string, but \"+a+\" of type \"+typeof a+\" is not.\");if(!this.b.a()){if(!h)throw new J('store name \"'+a+'\" not found.');if(x(b)&&!Oe(h,b))throw new J('index \"'+b+'\" not found in store \"'+a+'\".');}return this.b.a()&&!h?Wd(\"keys\",[]):x(b)?this.ja(a,b,c,d,e,f,g):this.Gb(a,b,c,d,e)};","l.values=function(a,b,c,d,e,f,g){var h=this,k;if(x(a)){var m=a,q=S(this.b,m);if(!q){if(this.b.a()){if(yf(this.c))return Wd(\"values\",[]);k=new Qd(\"values\");this.c.xa(function(){Sb(h.values(a,b,c,d,e,f),function(a){k.callback(a)},function(a){k.o(a)})});return k}throw new Pf(m);}if(v(b)){if(u(c)||u(d))throw new J(\"too many input arguments\");var n=b;I(this.logger,\"listByIds: \"+m+\" \"+n.length+\" ids\");k=this.a.request(\"values:array\",[m]);bf(q,k,arguments,void 0,this);M(k,function(){U(this).nb(k,m,n)},this)}else k=","x(b)?this.ma(m,b,c,d,e,f,g):this.Kb(m,b,c,d,e)}else if(v(a))if(a[0]instanceof je){for(var q=[],p=a,t=0;t<p.length;t++){var A=p[t].a;if(!lf(this.b,A)){if(this.b.a())return q=[],q[p.length-1]=void 0,Wd(\"get\",q);throw new J(\"Store: \"+A+\" not found.\");}0<=Ra(q,A)||q.push(A)}I(this.logger,\"listByKeys: \"+P(q)+\" \"+p.length+\" keys\");k=this.a.request(\"values:keys\",q);M(k,function(){U(this).ob(k,p)},this)}else throw new J(\"first argumentmust be array of ydn.db.Key, but \"+a[0]+\" of \"+typeof a[0]+\" found.\");","else throw new J(\"first argument \"+a+\" is invalid.\");return k};","l.Kb=function(a,b,c,d,e){var f=S(this.b,a),g,h,k,m=null;if(y(b)){var q=ye(b);if(q)throw new J(\"invalid key range: \"+b+\" \"+q);m=oe(b)}else if(null!=b)throw new J('expect key range object, but found \"'+ef(b)+'\" of type '+typeof b);if(u(c))if(fa(c))g=c;else throw new J(\"limit must be a number, but \"+c+\" is \"+typeof c);else g=100;if(u(d))if(fa(d))h=d;else throw new J(\"offset must be a number, but \"+d+\" is \"+typeof d);else h=0;if(u(e))if(ea(e))k=e;else throw new J(\"reverse must be a boolean, but \"+e+\" is \"+","typeof e);I(this.logger,(m?\"listByKeyRange: \":\"listByStore: \")+a);var n=this.a.request(\"values\",[a]);bf(f,n,arguments);M(n,function(){U(this).ha(n,4,a,null,m,g,h,k,!1)},this);return n};","l.ma=function(a,b,c,d,e,f,g){var h=S(this.b,a),k,m,q,n;if(!Ue(h,b))throw new J('index \"'+b+'\" not found in store \"'+a+'\"');var p=ye(c);if(p)throw new J(\"invalid key range: \"+c+\" \"+p);var t=oe(c);if(u(d))if(fa(d))k=d;else throw new J(\"limit must be a number.\");else k=100;if(u(e))if(fa(e))m=e;else throw new J(\"offset must be a number.\");else m=0;if(ea(f))q=f;else if(u(f))throw new J(\"reverse must be a boolean, but \"+f);if(u(g))if(ea(g))n=g;else throw new J(\"unique must be a boolean\");I(this.logger,","\"listByIndexKeyRange: \"+a+\":\"+b);var A=this.a.request(\"values:iter:index\",[a]);bf(h,A,arguments);M(A,function(){U(this).ha(A,4,a,b,t,k,m,q,n)},this);return A};","l.add=function(a,b,c){if(v(b))return this.na(a,b,c);var d=gg(this,a),e=d.getName(),f;if(x(d.keyPath)&&u(c))throw new J(\"key must not be provided while the store uses in-line key.\");if(!d.keyPath&&!d.b&&!u(c))throw new J(\"out-of-line key must be provided for store: \"+e);if(v(b)){I(this.logger,\"addObjects: \"+e+\" \"+b.length+\" objects\");for(a=0;a<b.length;a++)af(d,b[a]);f=this.a.request(\"add:array\",[e],K);M(f,function(){U(this).N(f,!1,!1,e,b,c)},this);d.L&&f.D(function(a){this.c.G(new ie(\"created\",this.c,","e,a,b))},this)}else if(y(b))a=\"store: \"+e+\" key: \"+Xe(d,b,c),I(this.logger,\"addObject: \"+a),af(d,b),f=this.a.request(\"add\",[e],K),M(f,function(){U(this).N(f,!1,!0,e,[b],[c])},this),d.L&&f.D(function(a){this.c.G(new he(\"created\",this.c,d.getName(),a,b))},this);else throw new J(\"record must be an object or array list of objects, but \"+b+\" of type \"+typeof b+\" found.\");return f};","l.na=function(a,b,c){var d=gg(this,a),e=d.getName(),f;if(x(d.keyPath)&&u(c))throw new J(\"key must not be provided while the store uses in-line key.\");if(!d.keyPath&&!d.b&&!u(c))throw new J(\"out-of-line key must be provided for store: \"+e);if(v(b)){I(this.logger,\"addObjects: \"+e+\" \"+b.length+\" objects\");for(a=0;a<b.length;a++)af(d,b[a]);f=this.a.request(\"add:array\",[e],K);M(f,function(){U(this).N(f,!1,!1,e,b,c)},this);d.L&&f.D(function(a){this.c.G(new ie(\"created\",this.c,d.getName(),a,b))},this)}else throw new J(\"record must be an array list of objects, but \"+","b+\" of type \"+typeof b+\" found.\");return f};","l.put=function(a,b,c){var d,e=this;if(a instanceof je){var f=a,g=f.a,h=S(this.b,g);if(!h)throw new J('store \"'+g+'\" not found.');if(h.keyPath){var k=Xe(h,b);if(null!=k){if(0!=Xd(k,f.id))throw new J(\"Inline key must be \"+f+\" but \"+k+\" found.\");}else Ye(h,b,f.id);return this.put(g,b)}return this.put(g,b,f.id)}if(v(a)){if(u(c))throw new J(\"too many arguments\");var m=a;if(!u(b))throw new J(\"record values required\");for(var q=b,f=[],g=0,h=m.length;g<h;g++){k=m[g].a;-1==Ra(f,k)&&f.push(k);var n=S(this.b,","k);if(!n)throw new J('store \"'+k+'\" not found.');n.keyPath&&Ye(n,q[g],m[g].id)}I(this.logger,\"putByKeys: to \"+P(f)+\" \"+q.length+\" objects\");for(g=0;g<q.length;g++)af(n,q[g]);d=this.a.request(\"put:keys\",f,K);bf(n,d,arguments);M(d,function(){U(e).qb(d,q,m)},this)}else if(x(a)||y(a)){var n=gg(this,a),p=n.getName();if(n.keyPath&&u(c))throw new J(\"key must not be provided while the store uses in-line key.\");if(!n.keyPath&&!n.b&&!u(c))throw new J(\"out-of-line key must be provided for store: \"+p);if(v(b)){var t=","b,A=c;I(this.logger,\"putObjects: \"+p+\" \"+t.length+\" objects\");for(g=0;g<t.length;g++)af(n,t[g]);d=this.a.request(\"put:array\",[p],K);bf(n,d,arguments);M(d,function(){U(this).N(d,!0,!1,p,t,A)},this);n.L&&d.D(function(a){this.c.G(new ie(\"updated\",this.c,p,a,t))},this)}else if(y(b)){var B=b,F=c;I(this.logger,\"putObject: \"+p+\" \"+(u(F)?F:\"(without-key)\"));if(u(r.Blob)&&B instanceof Blob&&n.$&&!n.keyPath&&0==Se(n)&&Nc)d=new Qd(\"put\"),f=new FileReader,f.onload=function(a){var b=a.target.result,c=e.a.request(\"put\",","[p],K);bf(n,c,[p,B,F]);M(c,function(){U(e).N(c,!0,!0,p,[b],[F])},this);Sb(c,function(a){d.callback(a)},function(a){d.o(a)})},f.onerror=function(a){d.o(a)},f.onabort=function(a){d.o(a)},f.readAsDataURL(B);else{af(n,B);d=this.a.request(\"put\",[p],K);var Q=[p,B,F];bf(n,d,Q);M(d,function(){var a=u(F)?[Q[2]]:void 0;U(e).N(d,!0,!0,p,[Q[1]],a)},this)}n.L&&d.D(function(a){this.c.G(new he(\"updated\",this.c,p,a,B))},this)}else throw new J(\"put record value must be Object or array of Objects\");}else throw new J(\"the first argument of put must be store name, store schema or array of keys.\");","return d};","l.ya=function(a,b,c){var d,e=gg(this,a),f=e.getName();if(e.keyPath&&u(c))throw new J(\"key must not be provided while the store uses in-line key.\");if(!e.keyPath&&!e.b&&!u(c))throw new J(\"out-of-line key must be provided for store: \"+f);var g=b,h=c;I(this.logger,\"putObjects: \"+f+\" \"+g.length+\" objects\");for(var k=0;k<g.length;k++)af(e,g[k]);d=this.a.request(\"put:array\",[f],K);bf(e,d,arguments);M(d,function(){U(this).N(d,!0,!1,f,g,h)},this);e.L&&d.D(function(a){this.c.G(new ie(\"updated\",this.c,f,a,","g))},this);return d};","l.clear=function(a,b,c){if(u(c))throw new J(\"too many input arguments\");var d;if(x(a)){c=S(this.b,a);if(!c)throw new J('store name \"'+a+'\" not found.');if(y(b)){var e=oe(b);if(null===e)throw new J(\"clear method requires a valid non-null KeyRange object.\");I(this.logger,\"clearByKeyRange: \"+a+\":\"+P(e));d=this.a.request(\"clear\",[a],K);bf(c,d,[a,e]);M(d,function(){U(this).hb(d,a,e)},this)}else{if(u(b))throw new J(\"clear method requires a valid KeyRange object as second argument, but found \"+b+\" of type \"+","typeof b);I(this.logger,\"clearByStore: \"+a);d=this.a.request(\"clear\",[a],K);M(d,function(){U(this).Ha(d,[a])},this)}}else if(!u(a)||v(a)&&x(a[0])){var f=a||kf(this.b);I(this.logger,\"clearByStores: \"+P(f));d=this.a.request(\"clear\",f,K);M(d,function(){U(this).Ha(d,f)},this)}else throw new J('first argument \"'+a+'\" is invalid.');return d};","l.Da=function(a,b,c){var d;if(x(a)){var e=S(this.b,a);if(!e)throw new J('store name \"'+a+'\" not found.');if(u(c))if(x(b)){var f=Oe(e,b);if(!f)throw new J(\"index: \"+b+\" not found in \"+a);if(y(c)||null===c){var g=oe(c);I(this.logger,\"removeByIndexKeyRange: \"+a+\":\"+f.getName()+\" \"+a);d=this.a.request(\"rm:iter:index\",[a],K);M(d,function(){U(this).rb(d,a,f.getName(),g)},this)}else throw new J(\"key range \"+c+' is invalid type \"'+typeof c+'\".');}else throw new J('index name \"'+b+'\" must be a string, but '+","typeof b+\" found.\");else if(x(b)||fa(b)||w(b)||b instanceof Date){I(this.logger,\"removeById: \"+a+\":\"+b);d=this.a.request(\"rm\",[a],K);var h=[a,b];bf(e,d,h);M(d,function(){U(this).Ua(d,a,h[1])},this);e.L&&d.D(function(c){this.c.G(new he(\"deleted\",this.c,a,1==c?b:void 0,void 0))},this)}else if(y(b))g=oe(b),I(this.logger,\"removeByKeyRange: \"+a+\":\"+P(g)),d=this.a.request(\"rm:iter\",[a],K),bf(e,d,[a,g]),M(d,function(){U(this).sb(d,a,g)},this),e.L&&d.D(function(b){var c=[];c.length=b;this.c.G(new ie(\"deleted\",","this.c,a,c,void 0))},this);else throw new J('Invalid key or key range \"'+b+'\" of type '+typeof b);}else if(a instanceof je){var k=a.a,e=S(this.b,k);d=this.a.request(\"rm\",[k],K);var m=[k,a.id];bf(e,d,m);M(d,function(){U(this).Ua(d,k,m[1])},this)}else if(v(a)){c=[];for(var e=0,q=a.length;e<q;e++){if(!(a[e]instanceof je))throw new J(\"key list element at \"+e+\" of \"+q+' must be yn.db.Key, but \"'+ef(a[e])+'\" ('+da(a[e])+\") is not ydn.db.Key.\");var n=a[e].a;-1==Ra(c,n)&&c.push(n)}if(1>c.length)throw new J('at least one valid key required in key list \"'+","ef(a)+'\"');d=this.a.request(\"rm:keys\",c,K);M(d,function(){U(this).tb(d,a)},this)}else throw new J('first argument requires store name, key (ydn.db.Key) or list of keys (array) , but \"'+ef(a)+'\" ('+da(a)+\") found.\");return d};l.toString=function(){return\"DbOperator:\"+this.c.getName()};function hg(a,b,c){dg.call(this,a,b,c)}z(hg,V);l=hg.prototype;l.logger=E(\"ydn.db.core.DbOperator\");l.get=function(a,b){if(a instanceof Gf){var c=a.b,d=S(this.b,c);if(!d)throw new J('store \"'+c+'\" not found.');var e=a.c;if(u(e)&&!Ue(d,e))throw new J('index \"'+e+'\" not found in store \"'+c+'\".');I(this.logger,\"getByIterator:\"+a);var f=this.a.request(\"get:iter\",[c]);M(f,function(){ig(this,5,f,a,1)},this);return f}return hg.w.get.call(this,a,b)};","l.Sa=function(a,b){var c=100;if(fa(b)){if(c=b,1>c)throw new J(\"limit must be a positive value, but \"+b);}else if(u(b))throw new J(\"limit must be a number,  but \"+b);I(this.logger,\"keysOf:\"+a);var d=this.a.request(\"keys:iter\",[a.b]);M(d,function(){a.m?ig(this,1,d,a,c):ig(this,2,d,a,c)},this);return d};l.keys=function(a,b,c,d,e,f,g){return a instanceof Gf?this.Sa(a,b):hg.w.keys.call(this,a,b,c,d,e,f,g)};","l.Ia=function(a){I(this.logger,\"countIterator:\"+a);var b=this.a.request(\"count\",[a.b]);M(b,function(){ig(this,6,b,a)},this);return b};l.count=function(a,b,c,d){if(a instanceof Gf){if(u(b)||u(c))throw new J(\"too many arguments.\");return this.Ia(a)}return hg.w.count.call(this,a,b,c,d)};","l.Va=function(a,b){var c;if(fa(b)){if(c=b,1>c)throw new J(\"limit must be a positive value, but \"+c);}else if(u(b))throw new J(\"limit must be a number, but \"+b);I(this.logger,\"listByIterator:\"+a);var d=this.a.request(\"values:iter\",[a.b]);M(d,function(){a.f?ig(this,2,d,a,c):ig(this,4,d,a,c)},this);return d};l.values=function(a,b,c,d,e,f){return a instanceof Gf?this.Va(a,b):hg.w.values.call(this,a,b,c,d,e,f)};","function jg(a,b,c){if(!v(c))throw new J(\"iterators argument must be an array, but \"+c+\" of type \"+typeof c+\" found\");for(var d=0;d<c.length;d++)if(!(c[d]instanceof Gf))throw new J(\"Iterator at \"+d+\" must be cursor range iterator.\");for(var e=K||Cd,f=[],d=0;d<c.length;d++)for(var g=c[d].stores(),h=0;h<g.length;h++)0<=Ra(f,g[h])||f.push(g[h]);I(a.logger,a+\": scan for \"+c.length+\" iterators on \"+f);d=a.a.request(\"scan\",f);a.a.ia(d,function(d,e,f){function g(){for(var b=0,f=0;f<c.length;f++){var q=c[f],","n=[U(a).b(d,e,q.b)],q=q.load(n);q.W=h;q.K=ma(t,b);Y[f]=q;Q[b]=f;b++}F=c.length}function h(b){for(var c=0;c<Y.length;c++)Df(Y[c]);Ya(Y);I(a.logger,A+\" error\");f(b,!0)}function t(d,e){if(B)throw new qf;aa++;var g=aa===F,h=Q[d],k=c[h],m=Y[h],h=m.U(),m=m.Ca();R[d]=e;Z[d]=k.m?k.f?h:m:k.f?e:m;if(g){var n;b instanceof Lf?n=b.c(R,Z):n=b(R,Z);g=[];k=[];h=[];m=[];if(v(n))for(var p=0;p<n.length;p++)!0===n[p]?h[p]=1:!1===n[p]?m[p]=!0:k[p]=n[p];else if(null===n)g=[];else if(u(n))if(y(n)){g=[\"advance\",\"continue\",","\"continuePrimary\",\"restart\"];for(p in n)if(!(0<=Ra(g,p)))throw new xd('Unknown attribute \"'+p+'\" in cursor advancement object');g=n.continuePrimary||[];k=n[\"continue\"]||[];h=n.advance||[];m=n.restart||[]}else throw new xd(\"scan callback output\");else for(g=[],p=0;p<c.length;p++)u(Q[p])&&(h[p]=1);for(p=aa=n=0;p<c.length;p++)null!=g[p]||u(k[p])||null!=m[p]||null!=h[p]||aa++;for(p=0;p<c.length;p++)if(null!=g[p]||u(k[p])||null!=m[p]||null!=h[p]){var t=Q[p];if(!u(t))throw new sf(p+\" is not an iterator.\");","var t=c[t],vb=Y[p];if(null==R[p]){var re=p+\"/\"+c.length;if(null!=h[p])throw new tf(vb+\" \"+re+\" must not advance \"+h[p]+\" steps\");if(u(k[p]))throw new tf(vb+\" \"+re+\" must not continue to key \"+k[p]);if(null!=g[p])throw new tf(vb+\" \"+re+\" must not continue to primary key \"+g[p]);}R[p]=void 0;Z[p]=void 0;if(null!=m[p])Ef(vb);else if(u(k[p]))vb.ga(k[p]);else if(null!=g[p])vb.Ba(g[p]);else if(null!=h[p])vb.advance(1);else throw new qf(t+\": has no action\");n++}if(0==n){for(n=0;n<Y.length;n++)Df(Y[n]);B=","!0;Ya(Y);I(a.logger,\"success \"+A);f(void 0)}}}var A=e+\" \"+a+\" scanning\";H(a.logger,A);var B=!1,F,Q=[],R=[],Z=[],Y=[],aa=0;b instanceof Lf?Mf(b,c)||g():g()},f,e);return d}","l.open=function(a,b,c,d){if(!(b instanceof Gf))throw new J(\"Second argument must be cursor range iterator.\");for(var e=b.stores(),f=0;f<e.length;f++)if(!S(this.b,e[f]))throw new J('Store \"'+e[f]+'\" not found.');c=c||Cd;var g=this,h=this.a.request(\"open\",b.stores(),c);I(this.logger,\"open:\"+c+\" \"+b);M(h,function(c){var e=N(h);I(g.logger,e+\" iterating \"+b);for(var f=b.stores(),n=[],p=0;p<f.length;p++)n[p]=U(g).b(c,e,f[p]);var t=b.load(n);t.W=function(a){L(h,a,!0)};t.K=function(b){null!=b?(b=a.call(d,","t),!0===b?Ef(t):y(b)?!0===b.restart?Ef(t,b[\"continue\"],b.continuePrimary):null!=b[\"continue\"]?t.ga(b[\"continue\"]):null!=b.continuePrimary?t.Ba(b.continuePrimary):(Df(t),L(h,void 0)):null===b?(Df(t),L(h,void 0)):null!=b?t.ga(b):t.advance(1)):(Df(t),L(h,void 0))}},this);return h};","function kg(a,b,c,d){var e=c.b,f=c.c||null,g=d||100;I(a.logger,\"listIter:\"+b+\" \"+c+(d?\" limit=\"+g:\"\")+\"\");var h=a.a.request(\"values:iter:index\",[e]),k=\"done\"==c.g||c.g==Hf?[]:[c.j,c.l];M(h,function(){U(this).ha(h,b,e,f,c.a?c.a instanceof xe?c.a:xe.bound(c.a.lower,c.a.upper,c.a.lowerOpen,c.a.upperOpen):null,g,0,If(c),Jf(c),k)},a);h.D(function(){null!=k[0]?c.reset(\"rest\",k[0],k[1]):c.reset()});return h}","function ig(a,b,c,d,e){var f=[],g=c.a,h=N(c),k=h+\" \"+b+\"ByIterator \"+d;0<e&&(k+=\" limit \"+e);I(a.logger,k);for(var m=U(a),q=[],n=d.stores(),p=0;p<n.length;p++)q[p]=m.b(g,h,n[p]);var t=d.load(q);t.W=function(a){Df(t);L(c,a,!0)};var A=0,B=!1;t.K=function(d){B||(H(a.logger,k+\" starting\"),B=!0);null!=d?(t.U(),A++,1==b?f.push(d):2==b?f.push(t.U()):3==b?f.push([d,t.U()]):6!=b&&f.push(t.Ca()),5==b?(Df(t),L(c,f[0])):6==b||!u(e)||A<e?t.ga():(I(a.logger,\"success:\"+k+\" yields \"+f.length+\" records\"),Df(t),L(c,","f))):(I(a.logger,\"success:\"+k+\" yields \"+f.length+\" records\"),Df(t),L(c,5==b?f[0]:6==b?A:f))}};function lg(a,b,c,d){this.f=a;this.g=b;this.a=Za(c);this.b=d;this.c=[]}lg.prototype.f=null;function mg(a,b,c){if(a.f)c&&a.c.push(c),b(a.f);else throw new yd(\"tx committed on ParallelTxExecutor\");}lg.prototype.toString=function(){return\"ParallelTxExecutor: txNo:\"+this.g+\" mode:\"+this.b+\" scopes:\"+P(this.a)};function ng(a,b,c,d,e,f){Wf.call(this,a,b,c,d,e,f);this.c=this.b=null}z(ng,Wf);l=ng.prototype;l.logger=E(\"ydn.db.tr.Parallel\");l.abort=function(){I(this.logger,this+\": aborting\");Yf(this.c)};","l.Ab=function(a,b){var c;if(\"multi\"==this.g)a:if(c=this.b,!c.a||!c.b||b!=c.b&&(c.b!=K||b!=Cd)||a.length>c.a.length)c=!1;else{for(var d=0;d<a.length;d++)if(-1==c.a.indexOf(a[d])){c=!1;break a}c=!0}else if(\"repeat\"==this.g)a:if(c=this.b,c.a&&c.b&&b==c.b&&c.a.length==a.length){for(d=0;d<a.length;d++)if(-1==c.a.indexOf(a[d])){c=!1;break a}c=!0}else c=!1;else c=\"all\"==this.g?!0:!1;return c};","l.Y=function(a,b,c,d){function e(c){k.f++;m=new lg(c,k.f,b,h);g=k.F();ud(k.logger,g+\" BEGIN \"+P(b)+\" \"+h);k.b=m;mg(k.b,a,d)}function f(a,b){ud(k.logger,g+\" \"+a);if(m){for(var c=m,d=0;d<c.c.length;d++)c.c[d](a,b);c.c.length=0;c.f=null;c.a=null;c.c=null}k.a=0}var g;this.C&&(b=this.C);this.A&&(c=this.A);var h=u(c)?c:Cd,k=this,m;if(this.b&&this.b.f&&this.Ab(b,h))mg(this.b,a,d);else{if(this.l&&this.f>=this.l)throw new xd(\"Exceed maximum number of transactions of \"+this.l);this.j.transaction(e,b,h,f)}};","l.request=function(a,b,c,d){var e=new Qd(a),f=this;this.Y(function(a){f.a++;Rd(e,a,f.F()+\"R\"+f.a)},b,c||Cd,function(a,b){Td(e);d&&d(a,b)});return e};l.ia=function(a,b,c,d,e){var f=this,g;this.Y(function(c){f.a++;g=f.F()+\"R\"+f.a;I(f.logger,g+\" BEGIN\");b(c,g,function(b,d){f.c=c;g=f.F()+\"R\"+f.a;d?(I(f.logger,g+\" ERROR\"),a.o(b)):(I(f.logger,g+\" SUCCESS\"),a.callback(b));f.c=null});b=null;I(f.logger,g+\" END\")},c,d,e)};l.toString=function(){return\"Parallel:\"+this.g+\":\"+this.F()+(this.c?\"*\":\"\")};function og(a,b){ng.call(this,a,b,Xf)}z(og,ng);l=og.prototype;l.logger=E(\"ydn.db.tr.AtomicParallel\");l.Ab=function(){return!1};l.request=function(a,b,c){var d,e,f,g=this,h=og.w.request.call(this,a,b,c,function(a,b){Td(h);I(g.logger,\"transaction \"+a);if(d)\"complete\"!=a&&(f=!0,e=b),d(e,f);else{var c=new Sf;L(h,c,!0)}});Vd(h,function(a,b,c){f=b;e=a;d=c});return h};","l.ia=function(a,b,c,d,e){var f,g,h=new D;Sb(h,function(a){g=!1;f=a},function(a){g=!0;f=a});og.w.ia.call(this,h,b,c,d,function(b,c){if(\"complete\"!=b)a.o(c);else if(!0===g)a.o(f);else if(!1===g)a.callback(f);else{var d=new Sf;a.o(d)}e&&(e(b,c),e=void 0)})};l.toString=function(){return\"Atomic\"+og.w.toString.call(this)};function pg(a,b,c){T.call(this,a,b,c);this.da=0;a=!0;b=Xf;c&&(u(c.isSerial)&&(a=!!c.isSerial),c.policy&&(b=c.policy));c=qg(this,b,a);this.l=qg(this,\"atomic\",!1);this.b=this.ka(c,this.l)}z(pg,T);l=pg.prototype;l.da=0;l.Bb=function(a,b,c,d,e,f){a=a||Xf;var g;\"readonly\"==d?g=Cd:\"readwrite\"==d&&(g=K);a=qg(this,a,b,c,g,e);return this.ka(a,f?null:this.l)};l.ka=function(a){return new dg(this,this.c,a)};","function qg(a,b,c,d,e,f){if(c){if(\"multi\"==b||\"repeat\"==b||\"all\"==b||b==Xf)return new Zf(a,a.da++,b,d,e,f);if(\"atomic\"==b)return new cg(a,a.da++);throw new J('Invalid requestType \"'+b+'\"');}if(\"multi\"==b||\"repeat\"==b||\"all\"==b||b==Xf)return new ng(a,a.da++,b,d,e,f);if(\"atomic\"==b)return new og(a,a.da++);throw new J('Invalid requestType \"'+b+'\"');}","l.Ib=function(a,b,c){if(3<arguments.length)throw new J(\"too many input arguments, run accept not more than 3 input arguments, but \"+arguments.length+\" found.\");this.da++;var d=b||kf(this.c),e=Cd;if(c)if(\"readwrite\"==c)e=K;else if(\"readonly\"!=c)throw new J('Invalid transaction mode \"'+c+'\"');var f=qg(this,\"all\",!1,d,e,1),g=this.ka(f,this.l),h=new Qd(\"run\"),k=this;f.Y(function(b){H(k.logger,\"executing run in transaction on \"+f);Rd(h,b,f.F()+\"R0\");a(g)},d,e,function(a){Td(h);L(h,f.f,\"complete\"!==a)});","return h};l.Sb=function(){return this.b?this.b.a.f:NaN};function W(a,b,c){pg.call(this,a,b,c);a=this.c;for(b=0;b<a.c.length;b++){c=a.c[b];var d=S(a,c.getName());if(d){if(!Ue(d,\"k\"))throw new J('full text index store \"'+d.getName()+'\" must have \"keyword\" index');if(!Ue(d,\"v\"))throw new J('full text index store \"'+d.getName()+'\" must have \"keyword\" index');if(\"id\"!=d.keyPath)throw new J('full text index store \"'+d.getName()+'\" must use \"id\" as key path.');}else throw new J('full text index store \"'+c.getName()+'\" required.');for(d=0;d<c.count();d++){var e=","c.index(d),f=S(a,e.a);if(f)G(this.logger,\"Full text indexer option for \"+f.getName()+\" ignored.\");else throw new J('full text source store \"'+e.a+'\" does not exist for full text index \"'+c.getName()+'\"');}}}z(W,pg);l=W.prototype;l.ka=function(a){return new V(this,this.c,a)};l.add=function(a,b,c){return this.b.add(a,b,c)};l.na=function(a,b,c){return this.b.na(a,b,c)};l.count=function(a,b,c,d){return this.b.count(a,b,c,d)};l.get=function(a,b){return this.b.get(a,b)};","l.keys=function(a,b,c,d,e,f,g){return this.b.keys(a,b,c,d,e,f,g)};l.ja=function(a,b,c,d,e,f,g){return this.b.ja(a,b,c,d,e,f,g)};l.values=function(a,b,c,d,e,f){return this.b.values(a,b,c,d,e,f)};l.ma=function(a,b,c,d,e,f,g){return this.b.ma(a,b,c,d,e,f,g)};l.put=function(a,b,c){return this.b.put(a,b,c)};l.ya=function(a,b,c){return this.b.ya(a,b,c)};l.clear=function(a,b,c){return this.b.clear(a,b,c)};l.Da=function(a,b,c){return this.b.Da(a,b,c)};","l.toString=function(){var a=\"Storage:\"+this.getName();yf(this)&&(a+=\" [\"+this.Aa()+\"]\");return a};function rg(a,b,c){W.call(this,a,b,c)}z(rg,W);l=rg.prototype;l.ka=function(a){return new hg(this,this.c,a)};l.open=function(a,b,c,d){return this.b.open(a,b,c,d)};l.Ia=function(a){return this.b.Ia(a)};l.Va=function(a,b){return this.b.Va(a,b)};l.Sa=function(a,b){return this.b.Sa(a,b)};function sg(a,b,c,d){Af.call(this,a,b,c,d);this.b=null}z(sg,Af);l=sg.prototype;l.logger=E(\"ydn.db.core.req.IDBCursor\");l.ra=function(a){(a=a.target.result)?this.O(a.key,a.primaryKey,a.value):this.O()};","l.openCursor=function(a,b){function c(a,b,c){n.b=q;n.b.onsuccess=la(n.ra,n);n.O(a,n.f?b:void 0,c);q=null}var d=this+\" opening \";null!=a&&(d+=\"{\"+a,d=null!=b?d+(\";\"+b+\"}\"):d+\"}\");H(this.logger,d);var e=this.Z,d=this.j.objectStore(this.bb),f=x(this.i)?d.index(this.i):null;if(u(a))var g=f?!u(b):!0,h=e?e.lower:void 0,k=e?e.upper:void 0,m=e?!!e.lowerOpen:!1,e=e?!!e.upperOpen:!1,e=ne(this.reverse?new O(h,a,m,g):new O(a,k,g,e));var q;this.va?f?q=null!=this.dir?f.openKeyCursor(e,this.dir):null!=e?f.openKeyCursor(e):","f.openKeyCursor():q=null!=this.dir?d.openCursor(e,this.dir):null!=e?d.openCursor(e):d.openCursor():f?q=null!=this.dir?f.openCursor(e,this.dir):null!=e?f.openCursor(e):f.openCursor():q=null!=this.dir?d.openCursor(e,this.dir):null!=e?d.openCursor(e):d.openCursor();var n=this;q.onerror=function(a){var b=q.error;a.preventDefault();Bf(n,b)};null!=a?q.onsuccess=function(d){if(d=d.target.result){var e=Ed.cmp(d.key,a),f=n.reverse?-1:1;if(e==f)c(d.key,d.primaryKey,d.value);else if(e==-f)d[\"continue\"](a);else if(null!=","b)if(Ed.cmp(d.primaryKey,b)==f)c(d.key,d.primaryKey,d.value);else d[\"continue\"]();else d[\"continue\"]()}else c()}:(n.b=q,n.b.onsuccess=la(n.ra,n))};l.Qa=function(){return!!this.b};l.update=function(a){var b=this.b.result;if(b){var c=new D;a=b.update(a);a.onsuccess=function(a){c.callback(a.target.result)};a.onerror=function(a){a.preventDefault();c.o(a)};return c}throw new Of(\"cursor gone\");};","l.clear=function(){var a=this.b.result;if(a){var b=new D,a=a[\"delete\"]();a.onsuccess=function(){b.callback(1)};a.onerror=function(a){a.preventDefault();b.o(a)};return b}throw new Of(\"cursor gone\");};l.advance=function(a){var b=this.b.result;if(1==a)b[\"continue\"]();else b.advance(a)};","l.Ba=function(a){var b=this.b.result,c=Ed.cmp(a,b.primaryKey);if(c!=(this.reverse?-1:1))throw new yd('continuing primary key \"'+a+'\" must '+(this.reverse?\"lower\":\"higher\")+' than current primary key \"'+b.primaryKey+'\"');var d=this;this.b.onsuccess=function(e){if(b=e.target.result)if(c=Ed.cmp(b.primaryKey,a),0==c||1==c&&!d.reverse||-1==c&&d.reverse)d.b.onsuccess=la(d.ra,d),d.O(b.key,d.f?b.primaryKey:void 0,b.value);else b[\"continue\"]();else d.b.onsuccess=la(d.ra,d),d.O()};b[\"continue\"]()};","l.ga=function(a){var b=this.b.result;if(null!=a)b[\"continue\"](a);else b[\"continue\"]()};l.R=function(){sg.w.R.call(this);this.b=null};l.toString=function(){return\"IDB\"+sg.w.toString.call(this)};function tg(a,b){this.a=b}z(tg,Tf);l=tg.prototype;l.logger=E(\"ydn.db.crud.req.IndexedDb\");l.Ja=function(a,b){function c(e){var f=a.a.objectStore(b[e]).count();f.onsuccess=function(f){d[e]=f.target.result;e++;e==b.length?L(a,d):c(e)};f.onerror=function(b){b.preventDefault();L(a,f.error,!0)}}var d=[];0==b.length?L(a,[]):c(0)};","l.N=function(a,b,c,d,e,f){function g(t){if(null==e[t])if(H(q.logger,\"empty object at \"+t+\" of \"+e.length),k++,k==e.length)L(a,h,m);else{var B=t+10;B<e.length&&g(B)}var F,B=e[t];F=f&&null!=f[t]?b?p.put(B,f[t]):p.add(B,f[t]):b?p.put(B):p.add(B);F.onsuccess=function(b){k++;h[t]=b.target.result;k==e.length?L(a,c?h[0]:h,m):(b=t+10,b<e.length&&g(b))};F.onerror=function(b){k++;var f=F.error;H(q.logger,N(a)+n+' request to \"'+d+'\" cause '+f.name+' for object \"'+ef(e[t])+'\" at index '+t+\" of \"+e.length+\" objects.\");","h[t]=f;m=!0;b.preventDefault();k==e.length?L(a,c?h[0]:h,m):(b=t+10,b<e.length&&g(b))}}var h=[],k=0,m=!1,q=this,n=b?\"put\":\"add\",p=a.a.objectStore(d);H(this.logger,N(a)+\" \"+n+\" \"+e.length+' objects to store \"'+d+'\"');if(0<e.length)for(var t=0;10>t&&t<e.length;t++)g(t);else L(a,[])};","l.qb=function(a,b,c){function d(k){var q=c[k],n=q.a,p=a.a.objectStore(n),t;t=null===p.keyPath?p.put(b[k],q.id):p.put(b[k]);t.onsuccess=function(c){f++;e[k]=c.target.result;f==b.length?L(a,e,g):(c=k+10,c<b.length&&d(c))};t.onerror=function(c){f++;G(h.logger,\"request result \"+c.name+' error when put keys to \"'+n+'\" for object \"'+ef(b[k])+'\" at index '+k+\" of \"+b.length+\" objects.\");e[k]=t.error;g=!0;c.preventDefault();f==b.length?L(a,e,g):(c=k+10,c<b.length&&d(c))}}var e=[],f=0,g=!1,h=this;H(this.logger,","N(a)+\" putByKeys: of \"+b.length+\" objects\");if(0<b.length)for(var k=0;10>k&&k<b.length;k++)d(k);else L(a,e,g)};l.Ua=function(a,b,c){var d=a.a.objectStore(b);H(this.logger,N(a)+\" clearById: \"+b+\" \"+c);var e=d.openCursor(xe.only(c));e.onsuccess=function(b){if(b=b.target.result){var c=b[\"delete\"]();c.onsuccess=function(){L(a,1)};c.onerror=function(){L(a,c.error,!0)}}else L(a,0)};e.onerror=function(b){b.preventDefault();L(a,e.error,!0)}};","l.tb=function(a,b){function c(h){h++;if(h>=b.length)0<g.length?L(a,g,!0):L(a,d);else{b[h].a!=e&&(e=b[h].a,f=a.a.objectStore(e));var k=f[\"delete\"](b[h].id);k.onsuccess=function(){d++;c(h)};k.onerror=function(a){a.preventDefault();g[h]=k.error;c(h)}}}var d=0,e,f;H(this.logger,N(a)+\" removeByKeys: \"+b.length+\" keys\");var g=[];c(-1)};","l.sb=function(a,b,c){var d=a.a.objectStore(b),e=d.count(c);H(this.logger,N(a)+\" clearByKeyRange: \"+b+\" \"+c);e.onsuccess=function(b){var e=b.target.result,h=d[\"delete\"](c);h.onsuccess=function(){L(a,e)};h.onerror=function(){L(a,h.error,!0)}};e.onerror=function(b){b.preventDefault();L(a,e.error,!0)}};l.hb=function(a,b,c){var d=a.a.objectStore(b);H(this.logger,N(a)+\" \"+b+\" \"+c);var e=d[\"delete\"](c);e.onsuccess=function(){L(a,void 0)};e.onerror=function(b){b.preventDefault();L(a,e.error,!0)}};","l.rb=function(a,b,c,d){var e=a.a.objectStore(b).index(c);H(this.logger,N(a)+\" clearByIndexKeyRange: \"+b+\":\"+c+\" \"+d);var f=[],g=e.openCursor(d),h=0;g.onsuccess=function(b){var c=b.target.result;if(c){var d=c[\"delete\"]();d.onsuccess=function(){h++;c[\"continue\"]()};d.onerror=function(a){f.push(d.error);a.preventDefault();c[\"continue\"]()}}else 0<f.length?L(a,f,!0):L(a,h)};g.onerror=function(b){b.preventDefault();L(a,g.error,!0)}};","l.Ha=function(a,b){var c=b.length,d=0;H(this.logger,N(a)+\" clearByStores: \"+b);for(var e=0;e<c;e++){var f=a.a.objectStore(b[e]).clear();f.onsuccess=function(){d++;d==c&&L(a,d)};f.onerror=function(b){d++;b.preventDefault();d==c&&L(a,f.error,!0)}}};","l.Na=function(a,b,c){var d=this;H(this.logger,N(a)+b+\":\"+c);var e=a.a.objectStore(b),f=e.get(c);f.onsuccess=function(b){H(d.logger,N(a)+\" record \"+c+(null!=b.target.result?\" \":\" not \")+\" exists.\");var f=b.target.result;if(!e.keyPath&&0==e.indexNames.length&&Nc&&x(f)&&0<=f.indexOf(\";base64,\")){'\"'==f.charAt(0)&&'\"'==f.charAt(f.length-1)&&(f=f.substr(1,f.length-2));f=f.split(\";base64,\");b=f[0].split(\":\")[1];for(var f=window.atob(f[1]),k=f.length,m=new Uint8Array(k),q=0;q<k;++q)m[q]=f.charCodeAt(q);","L(a,new Blob([m.buffer],{type:b}))}else L(a,b.target.result)};f.onerror=function(b){b.preventDefault();L(a,f.error,!0)}};","l.nb=function(a,b,c){function d(b){if(null==c[b])if(f++,e[b]=void 0,f==h)L(a,e);else{var m=b+10;m<h&&d(m)}var q;q=g.get(c[b]);q.onsuccess=function(c){f++;e[b]=c.target.result;f==h?L(a,e):(c=b+10,c<h&&d(c))};q.onerror=function(b){f++;b.preventDefault();L(a,q.error,!0)}}var e=[];e.length=c.length;var f=0,g=a.a.objectStore(b),h=c.length;H(this.logger,N(a)+\" \"+b+\":\"+h+\" ids\");if(0<h)for(b=0;10>b&&b<h;b++)d(b);else L(a,[])};","l.ob=function(a,b){function c(f){var h=b[f],k=a.a.objectStore(h.a).get(h.id);k.onsuccess=function(h){e++;d[f]=h.target.result;e==b.length?L(a,d):(h=f+10,h<b.length&&c(h))};k.onerror=function(b){e++;b.preventDefault();L(a,k.error,!0)}}var d=[];d.length=b.length;var e=0;H(this.logger,N(a)+\" \"+b.length+\" ids\");if(0<b.length)for(var f=0;10>f&&f<b.length;f++)c(f);else L(a,[])};","l.jb=function(a,b,c,d,e){if(d&&e)throw new xd(\"unique count not available in IndexedDB\");e=a.a.objectStore(b);b=N(a)+\" \"+b+(d?\":\"+d:\"\")+(c?\":\"+P(c):\"\");H(this.logger,b);var f;null!=d?(d=e.index(d),f=null!=c?d.count(c):d.count()):f=null!=c?e.count(c):e.count();f.onsuccess=function(b){L(a,b.target.result)};f.onerror=function(b){b.preventDefault();L(a,f.error,!0)}};","function ug(a,b,c,d){var e=b.getAll(c,d);e.onsuccess=function(b){L(a,b.target.result)};e.onerror=function(b){b.preventDefault();L(a,e.error,!0)}}function vg(a,b,c,d){var e=b.getAllKeys(c,d);e.onsuccess=function(b){L(a,b.target.result)};e.onerror=function(b){b.preventDefault();L(a,e.error,!0)}}","l.ha=function(a,b,c,d,e,f,g,h,k,m){var q=[],n=a.a.objectStore(c),p=h?k?\"prevunique\":\"prev\":k?\"nextunique\":\"next\";c=N(a)+\" \"+b+\" \"+c+(d?\":\"+d:\"\")+(e?P(e):\"\");h&&(c+=\" reverse\");k&&(c+=\" unique\");if(m&&u(m[0])){var t=d?!u(m[1]):!0,A=m[0],B=e?e.lower:void 0,F=e?e.upper:void 0,Q=e?!!e.lowerOpen:!1;e=e?!!e.upperOpen:!1;e=ne(h?new O(B,A,Q,t):new O(A,F,t,e));c+=\" starting from \"+P(m[0]);u(m[1])&&(c+=\", \"+P(m[1]))}H(this.logger,c);var R;if(1==b||2==b||3==b)if(d){c=n.index(d);if(2==b&&c.getAllKeys&&!k&&!g&&","!h&&!m){vg(a,c,e,f);return}R=c.openKeyCursor(e,p)}else{if(2==b&&n.getAllKeys&&!k&&!g&&!h&&!m){vg(a,n,e,f);return}R=n.openCursor(e,p)}else if(d){c=n.index(d);if(c.getAll&&!k&&!g&&!h&&!m){ug(a,c,e,f);return}R=c.openCursor(e,p)}else{if(n.getAll&&!k&&!g&&!h&&!m){ug(a,n,e,f);return}R=n.openCursor(e,p)}var Z=!1;R.onsuccess=function(c){if(c=c.target.result){if(!Z){if(0<g){Z=!0;c.advance(g);return}if(m&&d&&u(m[0]))if(u(m[1])){var e=Ed.cmp(c.key,m[0]),k=h?-1:1;if(0==e){e=Ed.cmp(c.primaryKey,m[1]);if(0==e){Z=","!0;c[\"continue\"]();return}if(e==k)Z=!0;else{c[\"continue\"]();return}}else Z=!0}else Z=!0;else Z=!0}1==b?q.push(c.key):2==b?q.push(c.primaryKey):3==b?(k={},d&&(k[d]=c.key),n.keyPath?k[n.keyPath]=c.primaryKey:k._ROWID_=c.primaryKey,q.push(k)):4==b?q.push(c.value):q.push([c.key,c.primaryKey,c.value]);if(q.length<f)c[\"continue\"]();else m&&(m[0]=le(c.key),m[1]=le(c.primaryKey)),L(a,q)}else m&&(m[0]=void 0,m[1]=void 0),L(a,q)};R.onerror=function(b){b.preventDefault();L(a,R.error,!0)}};function eg(a,b){this.a=b}z(eg,tg);eg.prototype.logger=E(\"ydn.db.core.req.IndexedDb\");eg.prototype.b=function(a,b,c,d){c=S(this.a,c);return new sg(a,b,c,d)};function wg(a,b,c,d){Af.call(this,a,b,c,d);this.v=null;this.b=this.h=void 0}z(wg,Af);l=wg.prototype;l.logger=E(\"ydn.db.core.req.WebsqlCursor\");l.U=function(){return this.b};l.Za=function(a,b,c,d,e){wg.w.Za.call(this,a,b,c,d,e);this.v=x(b)?Oe(this.a,b):null};l.Ca=function(){return this.l};function xg(a,b){a.h=void 0;a.b=void 0;a.l=void 0;if(u(b))if(y(b)){var c=Ge(b[a.a.g],a.a.type);a.b=c;if(a.f){var d=Oe(a.a,a.i);a.h=Ge(b[a.i],d.type)}else a.h=c;a.l=a.va?c:yg(b,a.a)}else a.l=b}","function zg(a,b,c){Oe(a.a,a.i);var d=[],e=a.i,f=a.Z,g=a.h;if(null!=f){var h=f.lower,k=f.upper,m=f.lowerOpen,q=f.upperOpen;a.reverse?k=null!=k&&-1==Xd(k,g)?k:g:h=null!=h&&1==Xd(h,g)?h:g;null!=h&&null!=k?f=te(h,k,!!m,!!q):f=null!=h?xe.lowerBound(h,!!m):xe.upperBound(k,!!q)}else f=a.reverse?xe.upperBound(g):xe.lowerBound(g);e=Ne(a.a,d,a.A,e,f,a.reverse,a.unique);c=a.reverse?xe.upperBound(c,!1):xe.lowerBound(c,!1);c=Ne(a.a,d,a.A,a.a.g,c,a.reverse,a.unique);e.s=e.s?e.s+(\" AND \"+c.s):c.s;c=\"SELECT \"+e.select+","\" FROM \"+e.from+(e.s?\" WHERE \"+e.s:\"\")+(e.group?\" GROUP BY \"+e.group:\"\")+\" ORDER BY \"+e.J;c+=\" LIMIT 1\";H(a.logger,a+\": continuePrimary:  SQL: \"+c+\" : \"+P(d));a.j.executeSql(c,d,function(c,d){0<d.rows.length?xg(a,d.rows.item(0)):xg(a);b.call(a,a.h,a.b,a.l);b=null},function(c,d){G(a.logger,\"get error: \"+d.message);Bf(a,d);xg(a);b.call(a,a.b,a.h,a.l);b=null;return!1})}","function Ag(a,b,c,d,e,f){var g=!d;d=[];a.f&&null!=f&&null!=c?c=Re(a.a,a.A,d,a.v.getName(),a.Z,c,g,f,a.reverse,a.unique):null!=c?c=Qe(a.a,a.A,d,a.v?a.v.getName():null,a.Z,a.reverse,a.unique,c,g):(c=Me(a.a,d,a.A,a.f?a.v.f:a.a.g,a.Z,a.reverse,a.unique),a.f&&(c+=\", \"+a.a.f+\" ASC\"));c+=\" LIMIT 1\";0<e&&(c+=\" OFFSET \"+e);H(a.logger,a+\": continue:  SQL: \"+c+\" : \"+P(d));a.j.executeSql(c,d,function(c,d){0<d.rows.length?xg(a,d.rows.item(0)):xg(a);b.call(a,a.h,a.b,a.l);b=null},function(c,d){G(a.logger,\"get error: \"+","d.message);Bf(a,d);xg(a);b.call(a,a.b,a.h,a.l);b=null;return!1})}l.Qa=function(){return!!this.j};l.update=function(a){if(!this.Qa())throw new Of;var b=new D,c=this.U();a=Ze(this.a,a,c);var d=\"REPLACE INTO \"+Pe(this.a)+\" (\"+a.ib.join(\", \")+\") VALUES (\"+a.vb.join(\", \")+\")\";H(this.logger,this+': update \"'+d+'\" : '+P(a.values));this.j.executeSql(d,a.values,function(){b.callback(c)},function(a,c){b.o(c);return!1});return b};","l.advance=function(a){var b=this.h,c=this.b,d=!0;null==this.h||this.f&&null==this.b||(--a,d=!1);Ag(this,function(a,d,g){var h=null!=b&&null!=a&&0==Xd(b,a);if(this.f){var k=null!=d&&null!=c&&0==Xd(d,c);if(h&&k)throw new yd(\"current: \"+b+\";\"+c+\" next: \"+a+\";\"+d);}else if(h)throw new yd(\"current: \"+b+\" next: \"+a);this.O(a,d,g)},this.h,d,a,this.b)};l.ga=function(a){null!=a?Ag(this,this.O,a,!0):this.advance(1)};l.openCursor=function(a,b){Ag(this,this.O,a,!1,0,b)};","l.clear=function(){if(!this.Qa())throw new Of;var a=new D,b=this.a.g,b=\"DELETE FROM \"+Pe(this.a)+\" WHERE \"+b+\" = ?\",c=[this.U()];H(this.logger,this+': clear \"'+b+'\" : '+P(c));this.j.executeSql(b,c,function(b,c){a.callback(c.rowsAffected)},function(b,c){a.o(c);return!1});return a};l.Ba=function(a){var b=Xd(a,this.b);if(0==b||1==b&&this.reverse||-1==b&&!this.reverse)throw new tf(this+\" to continuePrimaryKey  from \"+this.b+\" to \"+a+\" on \"+this.dir+\" direction is wrong\");zg(this,this.O,a)};","l.toString=function(){return\"WebSql\"+wg.w.toString.call(this)};function Bg(a,b){this.a=b}z(Bg,Tf);l=Bg.prototype;l.logger=E(\"ydn.db.crud.req.WebSql\");","function yg(a,b){if(b.$&&!b.keyPath&&0==Se(b)&&a._default_){var c=a._default_;if(-1==c.indexOf(\";base64,\"))return df(c);'\"'==c.charAt(0)&&'\"'==c.charAt(c.length-1)&&(c=c.substr(1,c.length-2));for(var d=c.split(\";base64,\"),c=d[0].split(\":\")[1],d=window.atob(d[1]),e=d.length,f=new Uint8Array(e),g=0;g<e;++g)f[g]=d.charCodeAt(g);return new Blob([f.buffer],{type:c})}c=a._default_?df(a._default_):{};null!=b.keyPath&&(d=Ge(a[b.keyPath],b.type),null!=d&&Ye(b,c,d));for(d=0;d<Se(b);d++)if(e=b.index(d),f=e.f,","\"_default_\"!=f&&!e.h&&!e.multiEntry&&(\"DATE\"==e.type||b.$)&&(g=Ge(a[f],e.type),u(g)))for(var f=c,h=0;h<e.a.length;h++)h==e.a.length-1?f[e.a[h]]=g:y(f[e.a[h]])||(f[e.a[h]]={});return c}","l.N=function(a,b,c,d,e,f){function g(b,d){if(null==e[b])if(H(m.logger,\"empty object at \"+b+\" of \"+e.length),n++,n==e.length)I(m.logger,p+\" success \"+p),L(a,q,t);else{var F=b+2;F<e.length&&g(F,d)}var Q;Q=u(f)?Ze(h,e[b],f[b]):Ze(h,e[b]);F=k+Pe(h)+\" (\"+Q.ib.join(\", \")+\") VALUES (\"+Q.vb.join(\", \")+\");\";H(m.logger,N(a)+\" SQL: \"+F+\" PARAMS: \"+Q.values+\" REQ: \"+b+\" of \"+e.length);d.executeSql(F,Q.values,function(f,p){function F(b,c){var e=k+Ha(\"ydn.db.me:\"+h.getName()+\":\"+b.getName())+\" (\"+h.f+\", \"+b.c+","\") VALUES (?, ?)\",f=[Be(aa,h.type),Be(c,b.type)];H(m.logger,N(a)+\" multiEntry \"+e+\" \"+f);d.executeSql(e,f,function(){},function(a,b){G(m.logger,\"multiEntry index insert error: \"+b.message);return!1})}n++;var aa=u(Q.key)?Q.key:p.insertId;1>p.rowsAffected&&(t=!0,aa=new Nf(aa+\" no-op\"));for(var Xa=0,md=Se(h);Xa<md;Xa++){var tb=h.index(Xa);if(tb.multiEntry)for(var ub=Fd(e[b],tb.keyPath),pe=(ub?ub.length:0)||0,qe=0;qe<pe;qe++)F(tb,ub[qe])}c?L(a,aa):(q[b]=aa,n==e.length?L(a,q,t):(Xa=b+2,Xa<e.length&&g(Xa,","f)))},function(d,f){n++;t=!0;6==f.code?f.name=\"ConstraintError\":G(m.logger,\"error: \"+f.message+\" \"+p);if(c)L(a,f,!0);else if(q[b]=f,n==e.length)H(m.logger,\"success \"+p),L(a,q,t);else{var h=b+2;h<e.length&&g(h,d)}return!1})}b=!b;var h=S(this.a,d),k=b?\"INSERT INTO \":\"INSERT OR REPLACE INTO \";d=a.a;var m=this,q=[],n=0,p=N(a)+\" inserting \"+e.length+\" objects.\",t=!1;if(0<e.length)for(b=0;2>b&&b<e.length;b++)g(b,d);else I(this.logger,\"success\"),L(a,[])};","l.qb=function(a,b,c){if(0==c.length)L(a,[]);else{for(var d=[],e=0,f=0,g=this,h=function(h,k){var m=[];H(g.logger,\"put \"+k.length+\" objects to \"+h);for(var n=We(S(g.a,h)),q=n?void 0:[],p=0;p<k.length;p++)m.push(b[k[p]]),n||q.push(c[k[p]].id);n=Sd(a);Sb(n,function(b){for(var c=0;c<k.length;c++)d[k[c]]=b[c];e++;e==f&&L(a,d)},function(){e++;e==f&&L(a,d,!0)});g.N(n,!1,!1,h,m,q)},k=\"\",m=[],q=[],n=0;n<c.length;n++){var p=c[n].a,t=c[n].id;p!=k?(f++,0<m.length&&h(k,m),m=[n],q=[t],k=p):(m.push(n),q.push(t))}0<","m.length&&h(k,m)}};l.Na=function(a,b,c){var d=a.a,e=S(this.a,b),f=this;b=e.f;c=[Be(c,e.type)];b=\"SELECT * FROM \"+Pe(e)+\" WHERE \"+b+\" = ?\";var g=N(a)+\" SQL: \"+b+\" PARAMS: \"+c;H(this.logger,g);d.executeSql(b,c,function(b,c){if(0<c.rows.length){var d=c.rows.item(0);null!=d?(d=yg(d,e),L(a,d)):(I(f.logger,\"success no result: \"+g),L(a,void 0))}else I(f.logger,\"success no result: \"+g),L(a,void 0)},function(b,c){G(f.logger,\"error: \"+g+\" \"+c.message);L(a,c,!0);return!1})};","l.nb=function(a,b,c){function d(b,e){var n=k.f,p=[Be(c[b],k.type)],t=\"SELECT * FROM \"+Pe(k)+\" WHERE \"+n+\" = ?\";H(f.logger,\"SQL: \"+t+\" PARAMS: \"+p);e.executeSql(t,p,function(e,f){h++;if(0<f.rows.length){var n=f.rows.item(0);null!=n&&(g[b]=yg(n,k))}else g[b]=void 0;h==c.length?L(a,g):(n=b+10,n<c.length&&d(n,e))},function(e,k){h++;G(f.logger,\"error: \"+t+\" \"+k.message);if(h==c.length)L(a,g);else{var n=b+10;n<c.length&&d(n,e)}return!1})}var e=a.a,f=this,g=[],h=0,k=S(this.a,b);if(0<c.length)for(b=0;10>","b&&b<c.length;b++)d(b,e);else I(f.logger,\"success\"),L(a,[])};","l.ob=function(a,b){function c(d,h){var q=b[d],n=S(e.a,q.a),p=ke(q),q=n.f,p=[Be(p,n.type)],t=\"SELECT * FROM \"+Pe(n)+\" WHERE \"+q+\" = ?\";H(e.logger,\"SQL: \"+t+\" PARAMS: \"+p);h.executeSql(t,p,function(h,m){g++;if(0<m.rows.length){var q=m.rows.item(0);null!=q&&(f[d]=yg(q,n))}else f[d]=void 0;g==b.length?(H(e.logger,\"success \"+t),L(a,f)):(q=d+10,q<b.length&&c(q,h))},function(b,c){L(a,c,!0);return!1})}var d=a.a,e=this,f=[],g=0;if(0<b.length)for(var h=0;10>h&&h<b.length;h++)c(h,d);else H(this.logger,\"success\"),","L(a,[])};","l.Ha=function(a,b){function c(d,g){function h(a){a=\"DELETE FROM  \"+Ha(\"ydn.db.me:\"+k.getName()+\":\"+a.getName());H(e.logger,\"SQL: \"+a);g.executeSql(a,[])}var k=S(e.a,b[d]),m=\"DELETE FROM  \"+Pe(k);H(e.logger,\"SQL: \"+m+\" PARAMS: []\");g.executeSql(m,[],function(g){d==b.length-1?(H(e.logger,\"success \"+m),L(a,b.length)):c(d+1,g)},function(b,c){L(a,c,!0);return!1});for(var q=0,n=Se(k);q<n;q++){var p=k.index(q);p.multiEntry&&h(p)}}var d=a.a,e=this;0<b.length?c(0,d):(H(this.logger,\"success\"),L(a,0))};","l.tb=function(a,b){function c(h){if(h>=b.length)L(a,f,g);else{var k=S(e.a,b[h].a),m=Be(b[h].id,k.type),q=\" WHERE \"+k.f+\" = ?\",n=\"DELETE FROM \"+Pe(k)+q,p=N(a)+\" SQL: \"+n+\" PARAMS: \"+[m];d.executeSql(n,[m],function(){f++;c(h)},function(a,b){G(e.logger,\"error: \"+p+b.message);g=!0;c(h);return!1});h++;for(var n=function(b){b=\"DELETE FROM  \"+Ha(\"ydn.db.me:\"+k.getName()+\":\"+b.getName())+q;H(e.logger,N(a)+NaN+b);d.executeSql(b,[m])},t=0,A=Se(k);t<A;t++){var B=k.index(t);B.multiEntry&&n(B)}}}var d=a.a,e=this,","f=0,g=!1;H(this.logger,N(a)+\" removeByKeys: \"+b.length+\" keys\");c(0)};l.Ua=function(a,b,c){function d(b){b=\"DELETE FROM  \"+Ha(\"ydn.db.me:\"+f.getName()+\":\"+b.getName())+k;H(h.logger,N(a)+NaN+b);e.executeSql(b,[g])}var e=a.a,f=S(this.a,b),g=Be(c,f.type),h=this,k=\" WHERE \"+f.f+\" = ?\";b=\"DELETE FROM \"+Pe(f)+k;H(this.logger,N(a)+\" SQL: \"+b+\" PARAMS: \"+[g]);e.executeSql(b,[g],function(b,c){L(a,c.rowsAffected)},function(b,c){L(a,c,!0);return!1});b=0;for(c=Se(f);b<c;b++){var m=f.index(b);m.multiEntry&&d(m)}};","l.hb=function(a,b,c){Cg(this,a,b,void 0,c)};l.sb=function(a,b,c){Cg(this,a,b,void 0,c)};l.rb=function(a,b,c,d){Cg(this,a,b,c,d)};","function Cg(a,b,c,d,e){function f(c){c=\"DELETE FROM  \"+Ha(\"ydn.db.me:\"+h.getName()+\":\"+c.getName())+q;H(a.logger,N(b)+NaN+c);g.executeSql(c,m)}var g=b.a,h=S(a.a,c);c=\"DELETE FROM \"+Pe(h);var k=[],m=[],q=\"\";null!=e&&(u(d)?(d=Oe(h,d),Ae(d.c,d.type,e,m,k)):Ae(h.f,h.type,e,m,k),q=\" WHERE \"+m.join(\" AND \"));c+=q;var n=N(b)+\" SQL: \"+c+\" PARAMS: \"+k;H(a.logger,n);g.executeSql(c,k,function(c,d){H(a.logger,\"success \"+n);L(b,d.rowsAffected)},function(c,d){G(a.logger,\"error: \"+n+d.message);L(b,d,!0);return!1});","e=0;for(d=Se(h);e<d;e++)c=h.index(e),c.multiEntry&&f(c)}l.Ja=function(a,b){function c(g){var h=\"SELECT COUNT(*) FROM \"+Ha(b[g]);H(e.logger,\"SQL: \"+h+\" PARAMS: []\");d.executeSql(h,[],function(d,e){var h=e.rows.item(0);f[g]=parseInt(h[\"COUNT(*)\"],10);g++;g==b.length?L(a,f):c(g)},function(b,c){L(a,c,!0);return!1})}var d=a.a,e=this,f=[];0==b.length?(H(this.logger,\"success\"),L(a,0)):c(0)};","l.jb=function(a,b,c,d,e){var f=[];b=Me(S(this.a,b),f,6,d,c,!1,e);H(this.logger,N(a)+\" SQL: \"+b+\" PARAMS: \"+f);a.a.executeSql(b,f,function(b,c){var d;a:{if(d=c.rows.item(0))for(var e in d)if(d.hasOwnProperty(e)){d=d[e];break a}d=void 0}L(a,d)},function(b,c){L(a,c,!0);return!1})};","l.ha=function(a,b,c,d,e,f,g,h,k,m){var q=this,n=[],p=S(this.a,c),t=p.g,A=p.type,B=A,F=null!=d&&d!==t?Oe(p,d):null,Q=d||t;F&&(B=F.type);c=[];if(m&&u(m[0])){var R=m[0];d=F&&u(m[1])?Re(p,b,c,F.getName(),e,R,!0,m[1],h,k):Qe(p,b,c,d,e,h,k,R,!0)}else d=Me(p,c,b,Q,e,h,k);fa(f)&&(d+=\" LIMIT \"+f);fa(g)&&(d+=\" OFFSET \"+g);var Z=a+\" SQL: \"+d+\" ;params= \"+P(c);H(this.logger,Z);a.a.executeSql(d,c,function(c,d){for(var e=d.rows.length,f,g=0;g<e;g++)f=d.rows.item(g),2==b?n[g]=Ge(f[t],A):1==b?n[g]=Ge(f[Q],B):3==","b?n[g]=[Ge(f[Q],B),Ge(f[t],A)]:null!=f&&(n[g]=yg(f,p));I(q.logger,\"success \"+a);m&&f&&(m[0]=Ge(f[Q],B),m[1]=Ge(f[t],A));L(a,n)},function(b,c){G(q.logger,\"error: \"+Z+c.message);L(a,c,!0);return!1})};function fg(a,b){this.a=b}z(fg,Bg);fg.prototype.logger=E(\"ydn.db.core.req.WebSql\");fg.prototype.b=function(a,b,c,d){c=S(this.a,c);return new wg(a,b,c,d)};function Dg(a,b){u(a)&&5242880<a&&sd(this.logger,ed,\"storage size request ignored, use Quota Management API instead\");this.u=null;this.la=b||NaN}l=Dg.prototype;","l.connect=function(a,b){function c(a,c,d){I(e.logger,(d?\"changing\":\"upgrading\")+\" version to \"+a.version+\" from \"+g);for(d=0;d<b.stores.length;d++)Eg(e,a,c,b.stores[d]);c=a.objectStoreNames;var f=c.length;for(d=0;d<f;d++)lf(b,c[d])||(a.deleteObjectStore(c[d]),I(e.logger,\"store: \"+c[d]+\" deleted.\"))}function d(a,b){f.c?G(e.logger,\"database already set.\"):u(b)?(G(e.logger,b?b.message:\"Error received.\"),e.u=null,f.o(b)):(e.u=a,e.u.onabort=function(a){H(e.logger,e+\": abort\");e.za(a.target.error)},e.u.onerror=","function(a){H(e.logger,e+\": error\");e.za(a.target.error)},e.u.onversionchange=function(a){H(e.logger,e+\" closing connection for onversionchange to: \"+a.version);if(e.u&&(e.u.onabort=null,e.u.onblocked=null,e.u.onerror=null,e.u.onversionchange=null,e.Ta(a),!a.defaultPrevented)){e.u.close();e.u=null;var b=Error();b.name=a.type;e.Ya(b)}},f.callback(parseFloat(g)))}var e=this,f=new D,g=void 0,h=b.version;sd(this.logger,id,\"Opening database: \"+a+\" ver: \"+(b.b?\"auto\":h));var k;k=u(h)?Ed.open(a,h):Ed.open(a);","k.onsuccess=function(f){var h=f.target.result;u(g)||(g=h.version);sd(e.logger,id,\"Database: \"+h.name+\", ver: \"+h.version+\" opened.\");if(b.b)e.T(function(f){if(b instanceof nf)for(var g=0;g<f.stores.length;g++)lf(b,f.stores[g].getName())||of(b,f.stores[g].clone());f=mf(b,f,!1,!0);if(0<f.length){sd(e.logger,id,\"Schema change require for difference in \"+f);f=fa(h.version)?h.version+1:1;h.close();var k=Ed.open(a,f);k.onupgradeneeded=function(a){a=a.target.result;sd(e.logger,id,\"re-open for version \"+","a.version);c(a,k.transaction,!1)};k.onsuccess=function(a){d(a.target.result)};k.onerror=function(){sd(e.logger,id,e+\": fail.\");d(null)}}else d(h)},void 0,h);else if(b.version>h.version){var k=h.setVersion(b.version);k.a=function(a){G(e.logger,\"migrating from \"+h.version+\" to \"+b.version+\" failed.\");d(null,a)};k.onsuccess=function(){c(h,k.transaction,!0)}}else b.version==h.version?sd(e.logger,id,\"database version \"+h.version+\" ready to go\"):G(e.logger,\"connected database version \"+h.version+\" is higher than requested version.\"),","e.T(function(a){a=mf(b,a,!1,!0);0<a.length?(sd(e.logger,id,a),d(null,new rf(\"different schema: \"+a))):d(h)},void 0,h)};k.onupgradeneeded=function(a){a=a.target.result;g=NaN;sd(this.logger,id,\"upgrade needed for version \"+a.version);c(a,k.transaction,!1)};k.onerror=function(c){td(e.logger,'open request to database \"'+a+'\" '+(u(b.version)?\" with version \"+b.version:\"\")+\" cause error of \"+k.error.name);d(null,c)};k.onblocked=function(c){td(e.logger,\"database \"+a+\" \"+b.version+\" block, close other connections.\");","d(null,c)};fa(this.la)&&!isNaN(this.la)&&setTimeout(function(){\"done\"!=k.readyState&&(td(e.logger,e+\": database state is still \"+k.readyState),d(null,new Sf(\"connection timeout after \"+e.la)))},this.la);return f};l.la=18E4;l.Ya=function(){};l.za=function(){};l.Ta=function(){};l.xb=function(){return\"indexeddb\"};l.wb=function(){return this.u||null};l.Xa=function(){return!!this.u};l.logger=E(\"ydn.db.con.IndexedDb\");l.u=null;l.yb=function(){return this.u?parseFloat(this.u.version):void 0};","l.T=function(a,b,c){c=c||this.u;if(u(b)){if(null===b){if(0==c.objectStoreNames.length){a(new jf(c.version));return}throw new qf;}c=b.db}else{b=[];for(var d=c.objectStoreNames.length-1;0<=d;d--)b[d]=c.objectStoreNames[d];if(0==b.length){a(new jf(c.version));return}b=c.transaction(b,Cd)}for(var e=c.objectStoreNames,f=[],g=e.length,d=0;d<g;d++){for(var h=b.objectStore(e[d]),k=[],m=0,q=h.indexNames.length;m<q;m++){var n=h.index(h.indexNames[m]);k[m]=new De(n.keyPath,void 0,n.unique,n.multiEntry,n.name)}f[d]=","new Ke(h.name,h.keyPath,h.autoIncrement,void 0,k)}b=new jf(c.version,f);a(b)};","function Eg(a,b,c,d){function e(){var a={autoIncrement:!!d.b};null!=d.keyPath&&(a.keyPath=d.keyPath);return b.createObjectStore(d.getName(),a)}sd(a.logger,jd,\"Creating Object Store for \"+d.getName()+\" keyPath: \"+d.keyPath);if(b.objectStoreNames.contains(d.getName())){c=c.objectStore(d.getName());Ie(d.keyPath||\"\",c.keyPath||\"\")?(b.deleteObjectStore(d.getName()),sd(a.logger,ed,\"store: \"+d.getName()+\" deleted due to keyPath change.\"),c=e()):ea(c.autoIncrement)&&ea(d.b)&&c.autoIncrement!=d.b&&(b.deleteObjectStore(d.getName()),","sd(a.logger,ed,\"store: \"+d.getName()+\" deleted due to autoIncrement change.\"),c=e());for(var f=c.indexNames,g=0;g<Se(d);g++){var h=d.index(g);!f.contains(h.getName())&&h.g&&(c.clear(),sd(a.logger,ed,\"store: \"+d.getName()+\" cleared since generator index need re-indexing.\"))}for(var k=0,m=0,q=0,g=0;g<Se(d);g++){var h=d.index(g),n=!1;if(f.contains(h.getName())){var p=c.index(h.getName()),t=null!=p.unique&&null!=h.unique&&p.unique!=h.unique,A=null!=p.multiEntry&&null!=h.multiEntry&&p.multiEntry!=h.multiEntry,","p=null!=p.keyPath&&null!=h.keyPath&&!!Ie(p.keyPath,h.keyPath);if(t||A||p)c.deleteIndex(h.getName()),n=!0,k--,q++}else\"BLOB\"!=h.type&&(n=!0);n&&(h.unique||h.multiEntry?(n={unique:h.unique,multiEntry:h.multiEntry},c.createIndex(h.getName(),h.keyPath,n)):c.createIndex(h.getName(),h.keyPath),k++)}for(g=0;g<f.length;g++)Ue(d,f[g])||(c.deleteIndex(f[g]),m++);sd(a.logger,jd,\"Updated store: \"+c.name+\", \"+k+\" index created, \"+m+\" index deleted, \"+q+\" modified.\")}else{c=e();for(g=0;g<Se(d);g++)h=d.index(g),","\"BLOB\"==h.type?sd(a.logger,fd,\"Index \"+h+\" of blob data type ignored.\"):(H(a.logger,\"Creating index: \"+h+\" for \"+d.getName()),h.unique||h.multiEntry?(n={unique:h.unique,multiEntry:h.multiEntry},c.createIndex(h.getName(),h.keyPath,n)):c.createIndex(h.getName(),h.keyPath));I(a.logger,\"Created store: \"+c)}}","l.La=function(a,b,c,d){var e=this.u;if(!b){b=[];for(var f=e.objectStoreNames.length-1;0<=f;f--)b[f]=e.objectStoreNames[f]}0==b.length?a(null):(b=e.transaction(b,c),b.oncomplete=function(a){d(\"complete\",a)},b.onabort=function(a){d(\"abort\",a)},a(b),a=null)};l.close=function(){sd(this.logger,jd,this+\" closing connection\");this.u.close()};l.toString=function(){return\"IndexedDB:\"+(this.u?this.u.name+\":\"+this.u.version:\"\")};","Yd.push(function(a,b){if(!Ed||b&&\"indexeddb\"!=b)return null;var c=Ed.deleteDatabase(a),d=new Qd(\"IDBVersionChangeEvent \");c.onblocked=function(a){Ad(d,a)};c.onerror=function(a){d.o(a)};c.onsuccess=function(a){d.callback(a)};return d});function Fg(a,b){this.a=u(a)?a:4194304;this.b=b||\"websql\"}l=Fg.prototype;","l.connect=function(a,b){function c(b,c){var f=b.version?parseInt(b.version,10):0,g=c.b?isNaN(f)?1:f+1:c.version;ud(e.logger,a+\": changing version from \"+b.version+\" to \"+g);var h=!1,k=0;b.changeVersion(b.version,g+\"\",function(a){e.T(function(b){h=!0;for(var d=0;d<c.count();d++){var f=S(b,(c.stores[d]||null).getName()),f=f?Ve(f,c.stores[d]||null):null;Gg(e,a,c.stores[d]||null,function(a){a&&k++},f)}for(f=0;f<b.count();f++)if(d=b.stores[f]||null,!lf(c,d.getName()))if(c instanceof nf)of(c,d);else for(var g=","Hg(d),d=0;d<g.length;d++){var m=g[d];I(e.logger,m);a.executeSql(m,[],function(){},function(a,b){throw b;})}},a,b)},function(c){td(e.logger,\"SQLError \"+c+\" \"+c.code+\"(\"+c.message+\") while changing version from \"+b.version+\" to \"+g+\" on \"+a);throw c;},function(){if(h){var f=\".\";k!=c.stores.length&&(f=\" but unexpected stores exists.\");H(e.logger,a+\":\"+b.version+\" ready\"+f);d(b)}else G(e.logger,a+\": changing version voided.\")})}function d(a,b){u(b)?(e.B=null,g.o(b)):(e.B=a,g.callback(parseFloat(f)))}","var e=this,f=NaN,g=new D,h=null;try{\"sqlite\"==this.b?r.sqlitePlugin?(h=r.sqlitePlugin.openDatabase(a,\"\",a,this.a),h.readTransaction||(h.readTransaction=h.transaction),h.changeVersion=function(a,b,c,d,e){h.transaction(c,d,e)}):(G(this.logger,\"sqlitePlugin not found.\"),h=null,this.wa=Error(\"sqlitePlugin not found.\")):h=r.openDatabase(a,\"\",a,this.a)}catch(m){if(\"SECURITY_ERR\"==m.name)G(this.logger,\"SECURITY_ERR for opening \"+a),h=null,this.wa=new Rf(m);else throw m;}if(h){var f=h.version||\"\",k=\"database \"+","a+(0==f.length?\"\":\" version \"+h.version);null!=b.version&&b.version==h.version?(ud(e.logger,\"Existing \"+k+\" opened as requested.\"),d(h)):this.T(function(a){(a=mf(b,a,!0,!1))?(0==f?ud(e.logger,\"New \"+k+\" created.\"):b.b?ud(e.logger,\"Existing \"+k+\" opened and schema change for \"+a):ud(e.logger,\"Existing \"+k+\" opened and  schema change to version \"+b.version+\" for \"+a),c(h,b)):(ud(e.logger,\"Existing \"+k+\" with same schema opened.\"),d(h))},null,h)}else d(null,this.wa);return g};l.xb=function(){return this.b};","l.wa=null;l.B=null;l.wb=function(){return this.B||null};l.logger=E(\"ydn.db.con.WebSql\");l.Ya=function(){};l.za=function(){};function Hg(a){var b=[];b.push(\"DROP TABLE IF EXISTS \"+Ha(a.getName()));for(var c=0,d=Se(a);c<d;c++){var e=a.index(c);e.multiEntry&&(e=\"DROP TABLE IF EXISTS \"+Ha(\"ydn.db.me:\"+a.getName()+\":\"+e.getName()),b.push(e))}return b}","function Ig(a){var b=a.m,c=\"CREATE TABLE IF NOT EXISTS \"+Pe(a)+\" (\",d=a.f,c=c+(d+\" \"+b+\" PRIMARY KEY \");a.b&&(c+=\" AUTOINCREMENT \");if(!a.$||!a.keyPath&&0==Se(a))c+=\" ,_default_ BLOB\";for(var e=[],f=[d],g=0,h=Se(a);g<h;g++){var k=a.index(g),m=\"\";if(k.multiEntry)m=k.unique?\" UNIQUE \":\"\",k=\"CREATE TABLE IF NOT EXISTS \"+Ha(\"ydn.db.me:\"+a.getName()+\":\"+k.getName())+\" (\"+d+\" \"+b+\", \"+k.c+\" \"+k.i+m+\")\",e.push(k);else{k.unique&&(m=\" UNIQUE \");var q=k.c;-1==f.indexOf(q)&&(c+=\", \"+q+\" \"+k.i+m,f.push(q))}}e.unshift(c+","\")\");return e}l.yb=function(){return this.B?parseFloat(this.B.version):void 0};","l.T=function(a,b,c){function d(a,b){throw b;}function e(b,c){if(c&&c.rows){for(var d=0;d<c.rows.length;d++){var e=c.rows.item(d);if(\"__WebKitDatabaseInfoTable__\"!=e.name&&\"sqlite_sequence\"!=e.name&&\"table\"==e.type){var p=null!==e&&\"sql\"in e?e.sql:void 0;H(f.logger,\"Parsing table schema from SQL: \"+p);for(var t=p.substr(p.indexOf(\"(\"),p.lastIndexOf(\")\")).match(/(?:\"[^\"]*\"|[^,])+/g),A=void 0,B,p=[],F=!1,Q=!1,R=0;R<t.length;R++){var Z=t[R].match(/\\w+|\"[^\"]+\"/g),Y=Ta(Z,function(a){return a.toUpperCase()}),","aa=Ea(Z[0]),Z=Ee(Y[1]);if(-1!=Y.indexOf(\"PRIMARY\")&&-1!=Y.indexOf(\"KEY\")){B=Z;if(x(aa)&&!ua(aa)&&\"_ROWID_\"!=aa){var Xa=aa.split(\",\"),A=aa;1<Xa.length&&(A=Xa,B=void 0)}-1!=Y.indexOf(\"AUTOINCREMENT\")&&(F=!0)}else if(\"_ROWID_\"!=aa)if(\"_default_\"==aa)Q=!0;else{var md=\"UNIQUE\"==Y[2];0==aa.lastIndexOf(e.tbl_name+\"-\",0)&&(aa=aa.substr(e.tbl_name.length+1));Y=new De(aa,Z,md);p.push(Y)}}if(0==e.name.lastIndexOf(\"ydn.db.me:\",0))if(A=e.name.split(\":\"),3<=A.length){var tb=A[1],ub=A[2],A=new De(ub,Z,md,!0),t=","Wa(h,function(a){return a.getName()===tb});0<=t?(R=h[t],Y=cf(R,ub),0<=Y?p[Y]=A:(Y=Wa(p,function(a){return a.getName()==ub}),0<=Y?p[Y]=A:p.push(A)),h[t]=new Ke(R.getName(),R.keyPath,F,B,p,void 0,!Q)):h.push(new Ke(tb,void 0,!1,void 0,[A]));H(f.logger,'multi entry index \"'+A.getName()+'\" found in '+tb+(-1==t?\"*\":\"\"))}else G(f.logger,'Invalid multiEntry store name \"'+e.name+'\"');else if(t=Wa(h,function(a){return a.getName()===e.name}),0<=t){for(d=0;d<Se(h[t]);d++){var R=h[t].index(d),pe=R.getName();","-1==Wa(p,function(a){return a.getName()==pe})&&p.push(R)}h[t]=new Ke(e.name,A,F,B,p,void 0,!Q)}else p=new Ke(e.name,A,F,B,p,void 0,!Q),h.push(p)}}d=new jf(g,h);a(d)}}var f=this,g=(c=c||this.B)&&c.version?parseFloat(c.version):void 0,g=isNaN(g)?void 0:g,h=[];b?b.executeSql(\"SELECT * FROM sqlite_master\",[],e,d):c.readTransaction(function(b){f.T(a,b,c)},function(a){td(f.logger,\"opening tx: \"+a.message);throw a;},e)};","function Gg(a,b,c,d,e){function f(a){b.executeSql(a,[],function(){g++;g==h.length&&(d(!0),d=null)},function(b,e){g++;g==h.length&&(d(!1),d=null);throw new Qf(e,\"SQLError creating table: \"+c.getName()+\" \"+e.message+' for executing \"'+a);})}var g=0,h=Ig(c),k=\"Create\";if(e){var m=$e(c,e);if(0==m.length){H(a.logger,\"same table \"+c.getName()+\" exists.\");d(!0);d=null;return}k=\"Modify\";G(a.logger,\"table: \"+c.getName()+\" has changed by \"+m+\" ALTER TABLE cannot run in WebSql, dropping old table.\");h.unshift.apply(h,","Hg(e))}H(a.logger,k+\" table: \"+c.getName()+\": \"+h.join(\";\"));for(a=0;a<h.length;a++)f(h[a])}l.Xa=function(){return!!this.B};l.close=function(){this.B=null};","l.La=function(a,b,c,d){function e(a){H(h.logger,h+\": Tx \"+c+\" request cause error.\");d(\"abort\",a)}function f(){d(\"complete\",{type:\"complete\"})}function g(b){a(b)}var h=this;null===this.B&&(a(null),d(\"abort\",this.wa));c==Cd?this.B.readTransaction(g,e,f):c==Dd?this.B.changeVersion(this.B.version,this.B.version+1+\"\",g,e,f):this.B.transaction(g,e,f)};","Yd.push(function(a,b){if(ga(r.openDatabase)&&(!b||\"websql\"==b)){var c=new Fg,d=new nf;I(c.logger,\"deleting websql database: \"+a);var d=c.connect(a,d),e=function(){var b=c.logger;b&&b.log(fd,\"all tables in \"+a+\" deleted.\",void 0)};d.D(function(){c.La(function(b){b.executeSql('SELECT * FROM sqlite_master WHERE type = \"table\"',[],function(d,e){if(e&&e.rows){for(var k=e.rows.length,m=0,q=0;q<k;q++){var n=e.rows.item(q);\"__WebKitDatabaseInfoTable__\"!=n.name&&\"sqlite_sequence\"!=n.name&&(m++,H(c.logger,","\"deleting table: \"+n.name),b.executeSql(\"DROP TABLE \"+n.name))}I(c.logger,m+' tables deleted from \"'+a+'\"')}},function(a,b){throw b;})},[],K,e)});d.eb(function(){G(c.logger,\"Connecting \"+a+\" failed.\")})}});Fg.prototype.Ta=function(){};Fg.prototype.toString=function(){return\"WebSql:\"+(this.B?\":\"+this.B.version:\"\")};pg.prototype.Ka=function(a){return\"indexeddb\"==a&&Ed?new Dg(this.j,this.A):\"sqlite\"==a&&r.sqlitePlugin?new Fg(this.j,\"sqlite\"):\"websql\"==a&&ga(r.openDatabase)?new Fg(this.j):null};pg.prototype.branch=pg.prototype.Bb;pg.prototype.getTxNo=pg.prototype.Sb;dg.prototype.getTxNo=dg.prototype.g;pg.prototype.run=pg.prototype.Ib;W.prototype.branch=W.prototype.Bb;W.prototype.add=W.prototype.add;W.prototype.addAll=W.prototype.na;W.prototype.get=W.prototype.get;W.prototype.keys=W.prototype.keys;W.prototype.keysByIndex=W.prototype.ja;W.prototype.values=W.prototype.values;W.prototype.valuesByIndex=W.prototype.ma;W.prototype.put=W.prototype.put;W.prototype.putAll=W.prototype.ya;W.prototype.clear=W.prototype.clear;W.prototype.remove=W.prototype.Da;W.prototype.count=W.prototype.count;V.prototype.add=V.prototype.add;","V.prototype.addAll=V.prototype.na;V.prototype.get=V.prototype.get;V.prototype.keys=V.prototype.keys;V.prototype.keysByIndex=V.prototype.ja;V.prototype.values=V.prototype.values;V.prototype.valuesByIndex=V.prototype.ma;V.prototype.put=V.prototype.put;V.prototype.putAll=V.prototype.ya;V.prototype.clear=V.prototype.clear;V.prototype.remove=V.prototype.Da;V.prototype.count=V.prototype.count;oa(\"ydn.db.Key\",je);je.prototype.id=je.prototype.Db;je.prototype.parent=je.prototype.Mb;","je.prototype.storeName=je.prototype.Nb;oa(\"ydn.db.KeyRange\",O);O.upperBound=ue;O.lowerBound=ve;O.bound=te;O.only=se;O.starts=we;de.prototype.store_name=de.prototype.b;de.prototype.getStoreName=de.prototype.c;he.prototype.name=he.prototype.name;he.prototype.getKey=he.prototype.f;he.prototype.getValue=he.prototype.g;ie.prototype.name=ie.prototype.name;ie.prototype.getKeys=ie.prototype.ba;ie.prototype.getValues=ie.prototype.Pa;function Jg(a,b,c){W.call(this,a,b,c)}z(Jg,rg);oa(\"ydn.db.Storage\",Jg);function Kg(){this.a=na()}var Lg=new Kg;Kg.prototype.reset=function(){this.a=na()};Kg.prototype.get=function(){return this.a};function Mg(a){this.h=a||\"\";this.i=Lg}Mg.prototype.c=!0;Mg.prototype.a=!0;Mg.prototype.b=!1;function Ng(a){a=new Date(a.g);return Og(a.getFullYear()-2E3)+Og(a.getMonth()+1)+Og(a.getDate())+\" \"+Og(a.getHours())+\":\"+Og(a.getMinutes())+\":\"+Og(a.getSeconds())+\".\"+Og(Math.floor(a.getMilliseconds()/10))}function Og(a){return 10>a?\"0\"+a:String(a)}function Pg(a,b){var c=(a.g-b)/1E3,d=c.toFixed(3),e=0;if(1>c)e=2;else for(;100>c;)e++,c*=10;for(;0<e--;)d=\" \"+d;return d}function Qg(a){Mg.call(this,a)}z(Qg,Mg);","Qg.prototype.b=!0;Qg.prototype.f=function(a){return a?this.g(a).M():\"\"};","Qg.prototype.g=function(a){if(!a)return Ac;var b;switch(a.f.value){case cd.value:b=\"dbg-sh\";break;case dd.value:b=\"dbg-sev\";break;case ed.value:b=\"dbg-w\";break;case fd.value:b=\"dbg-i\";break;default:b=\"dbg-f\"}var c=[];c.push(this.h,\" \");this.a&&c.push(\"[\",Ng(a),\"] \");c.push(\"[\",Pg(a,this.i.get()),\"s] \");c.push(\"[\",a.b,\"] \");var c=uc(c.join(\"\")),d=Ac;if(this.b&&a.a){var d=yc(\"br\"),e;try{var f;var g=a.a,h=ba(\"window.location.href\");if(x(g))f={message:g,name:\"Unknown error\",lineNumber:\"Not available\",","fileName:h,stack:\"Not available\"};else{var k,m,q=!1;try{k=g.lineNumber||g.Ub||\"Not available\"}catch(F){k=\"Not available\",q=!0}try{m=g.fileName||g.filename||g.sourceURL||r.$googDebugFname||h}catch(F){m=\"Not available\",q=!0}f=!q&&g.lineNumber&&g.fileName&&g.stack&&g.message&&g.name?g:{message:g.message||\"Not available\",name:g.name||\"UnknownError\",lineNumber:k,fileName:m,stack:g.stack||\"Not available\"}}var n;var p=f.fileName;null!=p||(p=\"\");if(/^https?:\\/\\//i.test(p)){var t=lc(p);bc(\"view-source scheme plus HTTP/HTTPS URL\");","var A=\"view-source:\"+jc(t);n=mc(A)}else{var B=bc(\"sanitizedviewsrc\");n=mc(ac(B))}e=zc(uc(\"Message: \"+f.message+\"\\nUrl: \"),yc(\"a\",{href:n,target:\"_new\"},f.fileName),uc(\"\\nLine: \"+f.lineNumber+\"\\n\\nBrowser stack:\\n\"+f.stack+\"-> [end]\\n\\nJS stack traversal:\\n\"+Vc(void 0)+\"-> \"))}catch(F){e=uc(\"Exception trying to expose exception! You win, we lose. \"+F)}d=zc(d,e)}a=uc(a.c);b=yc(\"span\",{\"class\":b},zc(a,d));return this.c?zc(c,b,yc(\"br\")):zc(c,b)};function Rg(a){Mg.call(this,a)}z(Rg,Mg);","Rg.prototype.f=function(a){var b=[];b.push(this.h,\" \");this.a&&b.push(\"[\",Ng(a),\"] \");b.push(\"[\",Pg(a,this.i.get()),\"s] \");b.push(\"[\",a.b,\"] \");b.push(a.c);this.b&&(a=a.a)&&b.push(\"\\n\",a instanceof Error?a.message:a.toString());this.c&&b.push(\"\\n\");return b.join(\"\")};Rg.prototype.g=function(a){return uc(Rg.prototype.f(a))};function Sg(){this.g=la(this.h,this);this.a=new Rg;this.a.a=!1;this.a.b=!1;this.b=this.a.c=!1;this.c=\"\";this.f={}}Sg.prototype.h=function(a){if(!this.f[a.b]){var b=this.a.f(a),c=Tg;if(c)switch(a.f){case cd:Ug(c,\"info\",b);break;case dd:Ug(c,\"error\",b);break;case ed:Ug(c,\"warn\",b);break;default:Ug(c,\"debug\",b)}else this.c+=b}};var Tg=r.console;function Ug(a,b,c){if(a[b])a[b](c);else a.log(c)};var Vg=!Kc||9<=Uc;!Mc&&!Kc||Kc&&9<=Uc||Mc&&Sc(\"1.9.1\");Kc&&Sc(\"9\");function Wg(a,b){fb(b,function(b,d){\"style\"==d?a.style.cssText=b:\"class\"==d?a.className=b:\"for\"==d?a.htmlFor=b:Xg.hasOwnProperty(d)?a.setAttribute(Xg[d],b):0==d.lastIndexOf(\"aria-\",0)||0==d.lastIndexOf(\"data-\",0)?a.setAttribute(d,b):a[d]=b})}var Xg={cellpadding:\"cellPadding\",cellspacing:\"cellSpacing\",colspan:\"colSpan\",frameborder:\"frameBorder\",height:\"height\",maxlength:\"maxLength\",role:\"role\",rowspan:\"rowSpan\",type:\"type\",usemap:\"useMap\",valign:\"vAlign\",width:\"width\"};","function Yg(a,b,c){function d(c){c&&b.appendChild(x(c)?a.createTextNode(c):c)}for(var e=2;e<c.length;e++){var f=c[e];!w(f)||y(f)&&0<f.nodeType?d(f):Sa(Zg(f)?Za(f):f,d)}}function Zg(a){if(a&&\"number\"==typeof a.length){if(y(a))return\"function\"==typeof a.item||\"string\"==typeof a.item;if(ga(a))return\"function\"==typeof a.item}return!1}function $g(a){this.a=a||r.document||document}","function ah(a,b){var c;c=a.a;var d=b&&\"*\"!=b?b.toUpperCase():\"\";c.querySelectorAll&&c.querySelector&&d?c=c.querySelectorAll(d+\"\"):c=c.getElementsByTagName(d||\"*\");return c}","$g.prototype.b=function(a,b,c){var d=this.a,e=arguments,f=e[0],g=e[1];if(!Vg&&g&&(g.name||g.type)){f=[\"<\",f];g.name&&f.push(' name=\"',wa(g.name),'\"');if(g.type){f.push(' type=\"',wa(g.type),'\"');var h={};ib(h,g);delete h.type;g=h}f.push(\">\");f=f.join(\"\")}f=d.createElement(f);g&&(x(g)?f.className=g:v(g)?f.className=g.join(\" \"):Wg(f,g));2<e.length&&Yg(d,f,e);return f};","$g.prototype.contains=function(a,b){if(!a||!b)return!1;if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if(\"undefined\"!=typeof a.compareDocumentPosition)return a==b||!!(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a};function bh(a){bh[\" \"](a);return a}bh[\" \"]=ca;function ch(a){Kc&&u(a.cssText)?a.cssText=\".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}\":a.innerHTML=\".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}\"}",";function dh(a){this.g=la(this.h,this);this.b=new Qg;this.c=this.b.a=!1;this.a=a;this.f=this.a.ownerDocument||this.a.document;a=(a=this.a)?new $g(9==a.nodeType?a:a.ownerDocument||a.document):sa||(sa=new $g);var b=null,c=a.a;Kc&&c.createStyleSheet?(b=c.createStyleSheet(),ch(b)):(c=ah(a,\"HEAD\")[0],c||(b=ah(a,\"BODY\")[0],c=a.b(\"HEAD\"),b.parentNode.insertBefore(c,b)),b=a.b(\"STYLE\"),ch(b),c.appendChild(b));this.a.className+=\" logdiv\"}","dh.prototype.h=function(a){if(a){var b=100>=this.a.scrollHeight-this.a.scrollTop-this.a.clientHeight,c=this.f.createElement(\"DIV\");c.className=\"logmsg\";a=this.b.g(a);c.innerHTML=rc(a);this.a.appendChild(c);b&&(this.a.scrollTop=this.a.scrollHeight)}};dh.prototype.clear=function(){this.a&&(this.a.innerHTML=rc(Ac))};var eh=!Kc||9<=Uc,fh=Kc&&!Sc(\"9\");!Nc||Sc(\"528\");Mc&&Sc(\"1.9b\")||Kc&&Sc(\"8\")||Jc&&Sc(\"9.5\")||Nc&&Sc(\"528\");Mc&&!Sc(\"8\")||Kc&&Sc(\"9\");function gh(a,b){ce.call(this,a?a.type:\"\");this.a=this.target=null;this.clientY=this.clientX=0;this.b=null;if(a){this.type=a.type;var c=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.a=b;var d=a.relatedTarget;if(d&&Mc)try{bh(d.nodeName)}catch(e){}null===c?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY):(this.clientX=void 0!==c.clientX?c.clientX:c.pageX,this.clientY=void 0!==c.clientY?c.clientY:c.pageY);this.b=","a;a.defaultPrevented&&this.preventDefault()}}z(gh,ce);gh.prototype.preventDefault=function(){gh.w.preventDefault.call(this);var a=this.b;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,fh)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var hh=null,ih=null;E(\"ydn.debug\");oa(\"ydn.debug.log\",function(a,b,c){a=a||\"ydn\";if(fa(b))b=new bd(\"log\",b);else if(x(b)){b=b.toUpperCase();if(!ld){ld={};for(var d=0,e;e=kd[d];d++)ld[e.value]=e,ld[e.name]=e}b=ld[b]||null}else b=hd;(d=E(a))?d.b=b:window.console.log(\"logger \"+a+\" not available.\");u(c)?!ih&&(a=ih=new dh(c),1!=a.c&&(c=rd(),b=a.g,c.a||(c.a=[]),c.a.push(b),a.c=!0),a=rd())&&(a.b=ed):!hh&&!ih&&(a=hh=new Sg,1!=a.b&&(c=rd(),b=a.g,c.a||(c.a=[]),c.a.push(b),a.b=!0),a=rd())&&(a.b=ed)});function jh(a,b){$d.call(this);this.f=b;this.a=[];if(a>this.f)throw Error(\"[goog.structs.SimplePool] Initial cannot be greater than max\");for(var c=0;c<a;c++)this.a.push(this.b())}z(jh,$d);function kh(a,b){a.a.length<a.f?a.a.push(b):a.c(b)}jh.prototype.b=function(){return{}};jh.prototype.c=function(a){if(y(a))if(ga(a.kb))a.kb();else for(var b in a)delete a[b]};jh.prototype.R=function(){jh.w.R.call(this);for(var a=this.a;a.length;)this.c(a.pop());delete this.a};function lh(){this.a=[];this.g=new Fc;this.m=this.v=this.A=this.i=0;this.b=new Fc;this.h=this.l=0;this.C=1;this.c=new jh(0,4E3);this.c.b=function(){return new mh};this.j=new jh(0,50);this.j.b=function(){return new nh};var a=this;this.f=new jh(0,2E3);this.f.b=function(){return String(a.C++)};this.f.c=function(){}}E(\"goog.debug.Trace\");function nh(){this.Wa=this.time=this.count=0}","nh.prototype.toString=function(){var a=[];a.push(this.type,\" \",this.count,\" (\",Math.round(10*this.time)/10,\" ms)\");this.Wa&&a.push(\" [VarAlloc = \",this.Wa,\"]\");return a.join(\"\")};function mh(){}function oh(a,b,c,d){var e=[];-1==c?e.push(\"    \"):e.push(ph(a.b-c));e.push(\" \",qh(a.b-b));0==a.a?e.push(\" Start        \"):1==a.a?(e.push(\" Done \"),e.push(ph(a.g-a.startTime),\" ms \")):e.push(\" Comment      \");e.push(d,a);0<a.f&&e.push(\"[VarAlloc \",a.f,\"] \");return e.join(\"\")}","mh.prototype.toString=function(){return null==this.type?this.c:\"[\"+this.type+\"] \"+this.c};lh.prototype.reset=function(){for(var a=0;a<this.a.length;a++){var b=this.c.id;b&&kh(this.f,b);kh(this.c,this.a[a])}this.a.length=0;this.g.clear();this.i=na();this.h=this.l=this.m=this.v=this.A=0;b=this.b.ba();for(a=0;a<b.length;a++){var c=this.b.get(b[a]);c.count=0;c.time=0;c.Wa=0;kh(this.j,c)}this.b.clear()};","lh.prototype.toString=function(){for(var a=[],b=-1,c=[],d=0;d<this.a.length;d++){var e=this.a[d];1==e.a&&c.pop();a.push(\" \",oh(e,this.i,b,c.join(\"\")));b=e.b;a.push(\"\\n\");0==e.a&&c.push(\"|  \")}if(0!=this.g.lb()){var f=na();a.push(\" Unstopped timers:\\n\");Ec(this.g,function(b){a.push(\"  \",b,\" (\",f-b.startTime,\" ms, started at \",qh(b.startTime),\")\\n\")})}b=this.b.ba();for(d=0;d<b.length;d++)c=this.b.get(b[d]),1<c.count&&a.push(\" TOTAL \",c,\"\\n\");a.push(\"Total tracers created \",this.l,\"\\n\",\"Total comments created \",","this.h,\"\\n\",\"Overhead start: \",this.A,\" ms\\n\",\"Overhead end: \",this.v,\" ms\\n\",\"Overhead comment: \",this.m,\" ms\\n\");return a.join(\"\")};function ph(a){a=Math.round(a);var b=\"\";1E3>a&&(b=\" \");100>a&&(b=\"  \");10>a&&(b=\"   \");return b+a}function qh(a){a=Math.round(a);return String(100+a/1E3%60).substring(1,3)+\".\"+String(1E3+a%1E3).substring(1,4)}new lh;var rh=\"closure_listenable_\"+(1E6*Math.random()|0),sh=0;function th(a,b,c,d,e){this.listener=a;this.a=null;this.src=b;this.type=c;this.pa=!!d;this.ta=e;this.key=++sh;this.ea=this.oa=!1}function uh(a){a.ea=!0;a.listener=null;a.a=null;a.src=null;a.ta=null};function vh(a){this.src=a;this.a={};this.b=0}vh.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.a[f];a||(a=this.a[f]=[],this.b++);var g=wh(a,b,d,e);-1<g?(b=a[g],c||(b.oa=!1)):(b=new th(b,this.src,f,!!d,e),b.oa=c,a.push(b));return b};function xh(a,b){var c=b.type;if(c in a.a){var d=a.a[c],e=Ra(d,b),f;(f=0<=e)&&Array.prototype.splice.call(d,e,1);f&&(uh(b),0==a.a[c].length&&(delete a.a[c],a.b--))}}","function wh(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.ea&&f.listener==b&&f.pa==!!c&&f.ta==d)return e}return-1};var yh=\"closure_lm_\"+(1E6*Math.random()|0),zh={},Ah=0;function Bh(a,b,c,d,e){if(v(b))for(var f=0;f<b.length;f++)Bh(a,b[f],c,d,e);else c=Ch(c),a&&a[rh]?a.S.add(String(b),c,!1,d,e):Dh(a,b,c,!1,d,e)}","function Dh(a,b,c,d,e,f){if(!b)throw Error(\"Invalid event type\");var g=!!e,h=Eh(a);h||(a[yh]=h=new vh(a));c=h.add(b,c,d,e,f);if(!c.a){d=Fh();c.a=d;d.src=a;d.listener=c;if(a.addEventListener)a.addEventListener(b.toString(),d,g);else if(a.attachEvent)a.attachEvent(Gh(b.toString()),d);else throw Error(\"addEventListener and attachEvent are unavailable.\");Ah++}}function Fh(){var a=Hh,b=eh?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}","function Ih(a,b,c,d,e){if(v(b))for(var f=0;f<b.length;f++)Ih(a,b[f],c,d,e);else c=Ch(c),a&&a[rh]?a.S.add(String(b),c,!0,d,e):Dh(a,b,c,!0,d,e)}function Jh(a,b,c,d,e){if(v(b))for(var f=0;f<b.length;f++)Jh(a,b[f],c,d,e);else(c=Ch(c),a&&a[rh])?(a=a.S,b=String(b).toString(),b in a.a&&(f=a.a[b],c=wh(f,c,d,e),-1<c&&(uh(f[c]),Array.prototype.splice.call(f,c,1),0==f.length&&(delete a.a[b],a.b--)))):a&&(a=Eh(a))&&(b=a.a[b.toString()],a=-1,b&&(a=wh(b,c,!!d,e)),(c=-1<a?b[a]:null)&&Kh(c))}","function Kh(a){if(!fa(a)&&a&&!a.ea){var b=a.src;if(b&&b[rh])xh(b.S,a);else{var c=a.type,d=a.a;b.removeEventListener?b.removeEventListener(c,d,a.pa):b.detachEvent&&b.detachEvent(Gh(c),d);Ah--;(c=Eh(b))?(xh(c,a),0==c.b&&(c.src=null,b[yh]=null)):uh(a)}}}function Gh(a){return a in zh?zh[a]:zh[a]=\"on\"+a}function Lh(a,b,c,d){var e=!0;if(a=Eh(a))if(b=a.a[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.pa==c&&!f.ea&&(f=Mh(f,d),e=e&&!1!==f)}return e}","function Mh(a,b){var c=a.listener,d=a.ta||a.src;a.oa&&Kh(a);return c.call(d,b)}","function Hh(a,b){if(a.ea)return!0;if(!eh){var c=b||ba(\"window.event\"),d=new gh(c,this),e=!0;if(!(0>c.keyCode||void 0!=c.returnValue)){a:{var f=!1;if(0==c.keyCode)try{c.keyCode=-1;break a}catch(k){f=!0}if(f||void 0==c.returnValue)c.returnValue=!0}c=[];for(f=d.a;f;f=f.parentNode)c.push(f);for(var f=a.type,g=c.length-1;0<=g;g--){d.a=c[g];var h=Lh(c[g],f,!0,d),e=e&&h}for(g=0;g<c.length;g++)d.a=c[g],h=Lh(c[g],f,!1,d),e=e&&h}return e}return Mh(a,new gh(b,this))}","function Eh(a){a=a[yh];return a instanceof vh?a:null}var Nh=\"__closure_events_fn_\"+(1E9*Math.random()>>>0);function Ch(a){if(ga(a))return a;a[Nh]||(a[Nh]=function(b){return a.handleEvent(b)});return a[Nh]};function Oh(){$d.call(this);this.S=new vh(this);this.b=this;this.a=null}z(Oh,$d);Oh.prototype[rh]=!0;Oh.prototype.addEventListener=function(a,b,c,d){Bh(this,a,b,c,d)};Oh.prototype.removeEventListener=function(a,b,c,d){Jh(this,a,b,c,d)};Oh.prototype.R=function(){Oh.w.R.call(this);if(this.S){var a=this.S,b=0,c;for(c in a.a){for(var d=a.a[c],e=0;e<d.length;e++)++b,uh(d[e]);delete a.a[c];a.b--}}this.a=null};","function Ph(a,b,c,d){b=a.S.a[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.ea&&g.pa==c){var h=g.listener,k=g.ta||g.src;g.oa&&xh(a.S,g);e=!1!==h.call(k,d)&&e}}return e&&0!=d.ub};function Qh(a){a.i||(a.i=new Oh);return a.i}pg.prototype.addEventListener=function(a,b,c,d){if(\"ready\"==a)Ih(Qh(this),a,b,c,d);else{var e=\"created error fail ready deleted updated versionchange\".split(\" \"),f=function(a){if(!(0<=Ra(e,a)))throw new J('Invalid event type \"'+a+'\"');};if(w(a))for(var g=0;g<a.length;g++)f(a[g]);else f(a);Bh(Qh(this),a,b,c,d)}};pg.prototype.removeEventListener=function(a,b,c,d){Jh(Qh(this),a,b,c,d)};","pg.prototype.G=function(a){var b=Qh(this),c,d=b.a;if(d)for(c=[];d;d=d.a)c.push(d);b=b.b;d=a.type||a;if(x(a))a=new ce(a,b);else if(a instanceof ce)a.target=a.target||b;else{var e=a;a=new ce(d,b);ib(a,e)}var e=!0,f;if(c)for(var g=c.length-1;0<=g;g--)f=a.a=c[g],e=Ph(f,d,!0,a)&&e;f=a.a=b;e=Ph(f,d,!0,a)&&e;e=Ph(f,d,!1,a)&&e;if(c)for(g=0;g<c.length;g++)f=a.a=c[g],e=Ph(f,d,!1,a)&&e};pg.prototype.addEventListener=pg.prototype.addEventListener;pg.prototype.removeEventListener=pg.prototype.removeEventListener;function Rh(a,b,c){this.db=a;this.b=b;this.type=c||0;this.c=null};function Sh(a,b){Lf.call(this,a,b)}z(Sh,Lf);","Sh.prototype.c=function(a,b){var c=[],d=b[0];if(null==d)return[];for(var e=!0,f=!1,g=d,h=[],k=1;k<a.length;k++)if(null!=b[k]){var m=Xd(d,b[k]);h[k]=m;this.a?-1==m?e=!1:1==m&&(e=!1,f=!0,-1==Xd(b[k],g)&&(g=b[k])):1==m?e=!1:-1==m&&(e=!1,f=!0,1==Xd(b[k],g)&&(g=b[k]))}else e=!1,f=!0;if(e)for(f=0;f<a.length;f++)null!=b[f]&&(c[f]=!0);else if(f)for(f=0;f<a.length;f++)null!=b[f]&&(this.a?-1==Xd(g,b[f])&&(c[f]=g):1==Xd(g,b[f])&&(c[f]=g));else for(k=this.a?-1:1,f=1;f<a.length;f++)h[f]===k&&(c[f]=d);return e?","(this.b&&this.b.push(g),c):{continuePrimary:c}};function Th(a,b){Lf.call(this,a,b)}z(Th,Lf);Th.prototype.logger=E(\"ydn.db.algo.ZigzagMerge\");","Th.prototype.c=function(a,b){function c(a,b){var c=a.slice(0,a.length-1);c.push(b);return c}function d(a){return a[a.length-1]}var e=[];if(0==a.length||null==a[0]||null==a[0])return[];for(var f=!0,g=0,h=d(a[g]),k=[],m=1;m<a.length;m++)if(null!=a[m]){var q=d(a[m]),n=Xd(h,q);k[m]=n;this.a?-1==n?f=!1:1==n&&(f=!1,h=q,g=1):1==n?f=!1:-1==n&&(f=!1,h=q,g=1)}else return[];m=this.a?-1:1;if(f){for(f=0;f<a.length;f++)null!=a[f]&&(e[f]=!0);this.b&&this.b.push(b[0]);return null!=this.f&&this.b.length>=this.f?[]:","e}if(0==g)for(f=1;f<a.length;f++)k[f]==m&&(e[f]=c(a[f],h));else for(f=0;f<a.length;f++)f!=g&&null!=a[f]&&Xd(h,d(a[f]))===m&&(e[f]=c(a[f],h));return{\"continue\":e}};function Uh(a,b,c,d){this.c=a;this.a=b||null;this.h=!!c;this.g=!!d;this.b=[];this.f=[]}function Vh(a,b){for(var c=b.length-1;0<=c;c--)if(b[c]==a.b[a.b.length-1])b=b.slice(0,c);else break;a.f=b;if(a.a&&a.b[0]){if(a.a.lower!=a.a.upper)throw new Nf(\"Ordering no allowed with range query\");a.a=we([a.a.lower])}return null}","function Wh(a,b){if((0!=a.b.length||0!=a.f.length)&&Xh(a)&&!Yh(a))throw new Nf('Require index \"'+a.b.concat(a.f).join(\", \")+'\" not found in store \"'+a.c.getName()+'\"');var c=new Gf(a.c.getName(),Zh(a),a.a,a.h,a.g,!b);c.v=a.b.length;return c}Uh.prototype.clone=function(){var a=new Uh(this.c,this.a,this.h,this.g);a.f=this.f.slice();a.b=this.b.slice();return a};function Yh(a){var b=a.b.concat(a.f),c=Te(a.c,b);return c||b[b.length-1]==a.c.keyPath&&(c=Te(a.c,b.slice(0,b.length-1)))?c:null}","function Zh(a){return(a=Yh(a))?a.getName():void 0}Uh.prototype.reverse=function(){var a=this.clone();a.h=!this.h;return a};Uh.prototype.unique=function(a){var b=this.clone();b.g=!!a;return b};function Xh(a){return 0<a.b.length?!0:1==a.f.length?a.f[0]!=a.c.keyPath:1<a.f.length?!0:!1}","Uh.prototype.s=function(a,b,c,d,e){c=Ce(b,c,d,e);if(0<this.b.length)if(this.a)if(null!=this.a.lower&&null!=this.a.upper&&0==Xd(this.a.lower,this.a.upper))a=v(this.a.lower)?this.a.lower.slice().push(b):[this.a.lower,b],d=null!=d?d:\"\\uffff\",c=v(this.a.upper)?this.a.upper.slice().push(d):[this.a.upper,d],this.a=Ce(b,a,d,c);else if(1==this.b.length&&this.b[0]==a||v(a)&&ab(this.b,a))this.a=ze(this.a,c);else return\"cannot use where clause with existing filter\";else return\"cannot use where clause with existing filter\";","else this.b=v(a)?a:[a],this.a=this.a?ze(this.a,c):c;return null};function $h(a,b,c,d){Rh.call(this,a,b,c);this.a=d}z($h,Rh);$h.prototype.open=function(){var a={push:function(){}},a=ai(this)?new Th(a):new Sh(a);return jg(this.db,a,bi(this))};function bi(a){for(var b=[],c=0;c<a.a.length;c++)b[c]=Wh(a.a[c]);return b}function ai(a){for(var b=0;b<a.a.length;b++)if(0<a.a[b].b.length)return!0;return!1}$h.prototype.Oa=function(){return this.a.slice()};$h.prototype.select=function(){throw Error(\"not impl\");};","$h.prototype.reverse=function(){var a=this.a.map(function(a){return a.reverse()});return new $h(this.db,this.b,this.type,a)};function X(a,b,c,d){Rh.call(this,a,b,c);this.a=d}z(X,Rh);l=X.prototype;l.Ob=function(){return new X(this.db,this.b,this.type,this.a.clone())};l.reverse=function(){var a=this.a.reverse();return new X(this.db,this.b,this.type,a)};l.unique=function(a){if(!ea(a))throw new J(\"unique value must be a boolean, but \"+typeof a+\" found\");a=this.a.unique(a);return new X(this.db,this.b,this.type,a)};","l.J=function(a){var b=x(a)?[a]:a;a=this.a.clone();if(b=Vh(a,b))throw Error(b);return new X(this.db,this.b,this.type,a)};","l.s=function(a,b,c,d,e){if(Zh(this.a)&&Zh(this.a)!=a){var f=Ce(b,c,d,e),f=new Uh(S(this.b,this.a.c.getName()),f,this.a.h,this.a.g),f=(new X(this.db,this.b,this.type,f)).Oa().concat(this.Oa());return new $h(this.db,this.b,this.type,f)}if(!Zh(this.a)&&!Ue(S(this.b,this.a.c.getName()),a))throw new J('index \"'+a+'\" not exists in '+this.a.c.getName());f=this.a.clone();if(a=f.s(a,b,c,d,e))throw new J(a);return new X(this.db,this.b,this.type,f)};","l.select=function(a){var b=S(this.b,this.a.c.getName()),c=x(a)?[a]:a,d=this.type;a=this.a.clone();d=Zh(this.a);if(1==c.length)if(d=c[0],\"_ROWID_\"==d||d==b.keyPath)d=2;else if(d&&\"*\"!=d)if(Ue(b,d)){if(b=Vh(a,c))throw new J(b);d=1}else throw new J('Invalid select \"'+d+'\", index not found in store \"'+b.getName()+'\"');else d=4;else if(2==c.length){if(!d)throw new J(\"Only primary key can be selected for this query.\");for(var e=0;2>e;e++){var f;if(f=\"_ROWID_\"!=c[e]){f=b;var g=c[e];f=!(u(f.keyPath)&&(1==","f.h.length?f.keyPath===g:w(g)&&ab(f.h,g)))}if(f&&c[e]!=d)throw new J('select field name must be \"'+d+'\", but \"'+c[e]+'\" found.');}d=3}else throw new J(\"Selecting more than 2 field names is not supported, but \"+c.length+\" fields selected.\");return new X(this.db,this.b,d,a)};l.Pb=function(a){a=a||100;var b=4,c=ci(this);this.c&&this.c[0]&&(c=Kf(c,this.c[0],this.c[1]));if(2==this.type||3==this.type||1==this.type)b=this.type;a=kg(this.db,b,c,a);a.D(function(){\"rest\"==c.g&&(this.c=[c.j,c.l])},this);return a};","l.Oa=function(){return[this.a.clone()]};function ci(a,b){var c=!!b;u(b)||(c=2==a.type||3==a.type||1==a.type);return Wh(a.a,!c)}","l.Hb=function(a,b){var c=ci(this);c.f&&(c=new Gf(c.b,c.c,c.a,If(c),Jf(c),!1,c.h));if(1>arguments.length)throw new J(\"too few arguments\");if(2==arguments.length){if(!x(a)&&v(a)){if(!v(b))throw new J(\"an array is expected for second argument but, \"+ef(b)+\" of type \"+typeof b+\" found\");if(a.length!=b.length)throw new J(\"length of two input arguments must be equal but, \"+a.length+\" and \"+b.length+\" found\");}}else if(1==arguments.length){if(!y(a))throw new J(\"an object is expected but, \"+ef(a)+\" of type \"+","typeof a+\" found\");}else throw new J(\"too many arguments\");var d=this.db.open(function(c){var f=c.Ca();if(x(a))Gd(f,a,b);else if(v(a))for(var g=0;g<a.length;g++)Gd(f,a[g],b[g]);else if(y(a))for(g in a)a.hasOwnProperty(g)&&(f[g]=a[g]);Tb(d,c.update(f))},c,K,this);return d};l.open=function(a,b){return this.db.open(a,ci(this,!1),K,b)};l.count=function(){return Xh(this.a)?this.a.g?this.db.count(Wh(this.a)):this.db.count(this.a.c.getName(),Zh(this.a),this.a.a):this.db.count(this.a.c.getName(),this.a.a)};","l.clear=function(){return Xh(this.a)?this.db.clear(this.a.c.getName(),Zh(this.a),this.a.a):this.db.clear(this.a.c.getName(),this.a.a)};rg.prototype.from=function(a,b,c,d,e){if(!x(a))throw new TypeError('store name \"'+a+'\"');if(!lf(this.c,a))throw new J('Store \"'+a+'\" not found.');var f=null;if(u(b)){if(!u(c))throw new J(\"boundary value must be defined.\");f=Ce(b,c,d,e)}else if(u(d))throw new J(\"second boundary must not be defined.\");a=new Uh(S(this.c,a),f);return new X(this.b,this.c,null,a)};","hg.prototype.from=function(a,b,c,d,e){if(!x(a))throw new TypeError('store name \"'+a+'\"');if(!lf(this.b,a))throw new J('Store \"'+a+'\" not found.');var f=null;if(u(b)){if(!u(c))throw new J(\"boundary value must be defined.\");f=Ce(b,c,d,e)}else if(u(d))throw new J(\"second boundary must not be defined.\");a=new Uh(S(this.b,a),f);return new X(this,this.b,null,a)};E(\"ydn.db.query.ConjunctionCursor\");X.prototype.copy=X.prototype.Ob;X.prototype.count=X.prototype.count;X.prototype.list=X.prototype.Pb;X.prototype.order=X.prototype.J;X.prototype.patch=X.prototype.Hb;X.prototype.reverse=X.prototype.reverse;X.prototype.unique=X.prototype.unique;X.prototype.where=X.prototype.s;rg.prototype.from=rg.prototype.from;hg.prototype.from=hg.prototype.from; ","","//# sourceMappingURL=ydn.db-is-core-e-qry-dev.js.map","return ydn;}, (this || {}));","            ","","","","","(function (name, definition, context) {if (typeof context['module'] !== 'undefined' && context['module']['exports']) {context['module']['exports'] = definition.apply(context);}else if (typeof context['define'] !== 'undefined' && context['define'] === 'function' && context['define']['amd']) {define(name, [], definition);}else {context[name] = definition();}})('ydn', function () {var l,r=this;","function ba(a){var b=typeof a;if(\"object\"==b)if(a){if(a instanceof Array)return\"array\";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(\"[object Window]\"==c)return\"object\";if(\"[object Array]\"==c||\"number\"==typeof a.length&&\"undefined\"!=typeof a.splice&&\"undefined\"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(\"splice\"))return\"array\";if(\"[object Function]\"==c||\"undefined\"!=typeof a.call&&\"undefined\"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(\"call\"))return\"function\"}else return\"null\";else if(\"function\"==","b&&\"undefined\"==typeof a.call)return\"object\";return b}function t(a){return void 0!==a}function u(a){return\"array\"==ba(a)}function v(a){var b=ba(a);return\"array\"==b||\"object\"==b&&\"number\"==typeof a.length}function w(a){return\"string\"==typeof a}function ca(a){return\"boolean\"==typeof a}function da(a){return\"number\"==typeof a}function ea(a){return\"function\"==ba(a)}function y(a){var b=typeof a;return\"object\"==b&&null!=a||\"function\"==b}var fa=\"closure_uid_\"+(1E9*Math.random()>>>0),ga=0;","function ha(a,b,c){return a.call.apply(a.bind,arguments)}function ia(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function ja(a,b,c){ja=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf(\"native code\")?ha:ia;return ja.apply(null,arguments)}","function ka(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}var la=Date.now||function(){return+new Date};function na(a,b){var c=a.split(\".\"),d=r;c[0]in d||!d.execScript||d.execScript(\"var \"+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b}function z(a,b){function c(){}c.prototype=b.prototype;a.t=b.prototype;a.prototype=new c};function oa(a){Error.captureStackTrace?Error.captureStackTrace(this,oa):this.stack=Error().stack||\"\";a&&(this.message=String(a))}z(oa,Error);oa.prototype.name=\"CustomError\";function pa(a,b){for(var c=1;c<arguments.length;c++){var d=String(arguments[c]).replace(/\\$/g,\"$$$$\");a=a.replace(/\\%s/,d)}return a}function qa(a){return/^[\\s\\xa0]*$/.test(a)}function ra(a,b){return a.replace(/(\\r\\n|\\r|\\n)/g,b?\"<br />\":\"<br>\")}function sa(a){if(!ta.test(a))return a;-1!=a.indexOf(\"&\")&&(a=a.replace(ua,\"&amp;\"));-1!=a.indexOf(\"<\")&&(a=a.replace(va,\"&lt;\"));-1!=a.indexOf(\">\")&&(a=a.replace(wa,\"&gt;\"));-1!=a.indexOf('\"')&&(a=a.replace(xa,\"&quot;\"));return a}","var ua=/&/g,va=/</g,wa=/>/g,xa=/\\\"/g,ta=/[&<>\\\"]/;function ya(a){return ra(a.replace(/  /g,\" &#160;\"),void 0)}function za(a){for(var b=0;1>b;b++)if('\"'==a.charAt(0)&&'\"'==a.charAt(a.length-1))return a.substring(1,a.length-1);return a}var Aa={\"\\x00\":\"\\\\0\",\"\\b\":\"\\\\b\",\"\\f\":\"\\\\f\",\"\\n\":\"\\\\n\",\"\\r\":\"\\\\r\",\"\\t\":\"\\\\t\",\"\\x0B\":\"\\\\x0B\",'\"':'\\\\\"',\"\\\\\":\"\\\\\\\\\"},Ba={\"'\":\"\\\\'\"};","function Ca(a){a=String(a);if(a.quote)return a.quote();for(var b=['\"'],c=0;c<a.length;c++){var d=a.charAt(c),e=d.charCodeAt(0),f=b,g=c+1,h;if(!(h=Aa[d])){if(!(31<e&&127>e))if(d in Ba)d=Ba[d];else if(d in Aa)d=Ba[d]=Aa[d];else{e=d;h=d.charCodeAt(0);if(31<h&&127>h)e=d;else{if(256>h){if(e=\"\\\\x\",16>h||256<h)e+=\"0\"}else e=\"\\\\u\",4096>h&&(e+=\"0\");e+=h.toString(16).toUpperCase()}d=Ba[d]=e}h=d}f[g]=h}b.push('\"');return b.join(\"\")};function Da(a,b){b.unshift(a);oa.call(this,pa.apply(null,b));b.shift()}z(Da,oa);Da.prototype.name=\"AssertionError\";function Ea(a,b){throw new Da(\"Failure\"+(a?\": \"+a:\"\"),Array.prototype.slice.call(arguments,1));};var Fa=Array.prototype,Ga=Fa.indexOf?function(a,b,c){return Fa.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(w(a))return w(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ha=Fa.forEach?function(a,b,c){Fa.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=w(a)?a.split(\"\"):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ia=Fa.map?function(a,b,c){return Fa.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=","w(a)?a.split(\"\"):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Ka=Fa.some?function(a,b,c){return Fa.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=w(a)?a.split(\"\"):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1};function La(a,b){var c=Ma(a,b,void 0);return 0>c?null:w(a)?a.charAt(c):a[c]}function Ma(a,b,c){for(var d=a.length,e=w(a)?a.split(\"\"):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1}","function Na(a){if(!u(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0}function Oa(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function Pa(a,b,c){return 2>=arguments.length?Fa.slice.call(a,b):Fa.slice.call(a,b,c)}function Qa(a,b){if(!v(a)||!v(b)||a.length!=b.length)return!1;for(var c=a.length,d=Sa,e=0;e<c;e++)if(!d(a[e],b[e]))return!1;return!0}function Sa(a,b){return a===b};/*"," Portions of this code are from MochiKit, received by"," The Closure Authors under the MIT license. All other code is Copyright"," 2005-2009 The Closure Authors. All Rights Reserved.","*/","function E(a,b){this.f=[];this.A=b||null}l=E.prototype;l.la=!1;l.za=!1;l.Pa=!1;l.rb=!1;l.mb=!1;l.fb=0;l.hb=function(a,b){this.Pa=!1;Ta(this,a,b)};function Ta(a,b,c){a.la=!0;a.i=c;a.za=!b;Va(a)}function Wa(a){if(a.la){if(!a.mb)throw new Xa;a.mb=!1}}l.n=function(a){Wa(this);Ta(this,!0,a)};l.k=function(a){Wa(this);Ta(this,!1,a)};l.N=function(a,b){return Ya(this,a,null,b)};l.eb=function(a,b){return Ya(this,null,a,b)};l.sa=function(a,b){return Ya(this,a,a,b)};","function Ya(a,b,c,d){a.f.push([b,c,d]);a.la&&Va(a);return a}l.xb=function(a){var b=new E;Ya(this,b.n,b.k,b);a&&(b.g=this,this.fb++);return b};function Za(a){return Ka(a.f,function(a){return ea(a[1])})}","function Va(a){a.r&&a.la&&Za(a)&&(r.clearTimeout(a.r),delete a.r);a.g&&(a.g.fb--,delete a.g);for(var b=a.i,c=!1;a.f.length&&!a.Pa;){var d=a.f.shift(),e=d[0],f=d[1],d=d[2];if(e=a.za?f:e)e=e.call(d||a.A,b),t(e)&&(a.za=a.za&&(e==b||e instanceof Error),a.i=b=e),b instanceof E&&(c=!0,a.Pa=!0)}a.i=b;c&&(Ya(b,ja(a.hb,a,!0),ja(a.hb,a,!1)),b.rb=!0)}function $a(a){var b=new E;b.n(a);return b}","function ab(a){Error.captureStackTrace?Error.captureStackTrace(this,ab):this.stack=Error().stack||\"\";a&&(this.message=String(a))}z(ab,Error);function Xa(){ab.call(this)}z(Xa,ab);Xa.prototype.message=\"Deferred has already fired\";Xa.prototype.name=\"AlreadyCalledError\";function F(a){oa.call(this,a);this.name=\"ydn.error.ArgumentException\"}z(F,oa);function bb(a){oa.call(this,a);this.name=\"ydn.error.TypeError\"}z(bb,oa);function cb(a){oa.call(this,a);this.name=\"ydn.error.NotSupportedException\"}z(cb,oa);function db(a){oa.call(this,a);this.name=\"ydn.error.NotImplementedException\"}z(db,oa);function eb(a){oa.call(this,a);this.name=\"ydn.error.InvalidOperationException\"}z(eb,oa);","function fb(a){Error.captureStackTrace?Error.captureStackTrace(this,fb):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.error.InternalError\"}z(fb,Error);fb.prototype.name=\"ydn.error.InternalError\";function gb(a,b){E.call(this,0,b);this.b=[]}z(gb,E);gb.prototype.w=function(a,b){this.b.push([a,b]);return this};gb.prototype.n=function(a){this.b.length=0;gb.t.n.call(this,a)};gb.prototype.k=function(a){this.b.length=0;gb.t.k.call(this,a)};","gb.prototype.B=function(a,b,c){if(c&&ea(c))throw new F(\"progress callback is not supported\");var d=a;ea(a)&&(d=function(b){b=a.call(c,b);if(y(b)&&ea(b.then)){var d=new E;b.then.call(c,function(a){d.n(a)},function(a){d.k(a)});return d}return b});return Ya(this,d,b,c)};var hb={READ_ONLY:\"readonly\",READ_WRITE:\"readwrite\",VERSION_CHANGE:\"versionchange\"},ib=r.IDBRequest&&\"LOADING\"in r.IDBRequest?r.IDBTransaction:r.webkitIDBRequest&&\"LOADING\"in r.webkitIDBRequest&&1===r.webkitIDBTransaction.READ_WRITE?r.webkitIDBTransaction:hb,jb=ib.READ_ONLY,G=ib.READ_WRITE,kb=ib.VERSION_CHANGE,lb=r.indexedDB||r.mozIndexedDB||r.webkitIndexedDB||r.moz_indexedDB||r.msIndexedDB;E.prototype.done=E.prototype.N;E.prototype.fail=E.prototype.eb;E.prototype.always=E.prototype.sa;gb.prototype.then=gb.prototype.B;function mb(a,b){var c,d;2==arguments.length&&w(arguments[1])?(c=!0,d=arguments[1].split(\".\")):d=(c=v(b))?b:arguments;for(c=c?0:1;c<d.length&&(a=a[d[c]],t(a));c++);return a}function nb(a,b,c){if(a)if(-1==b.indexOf(\".\"))a[b]=c;else{b=b.split(\".\");for(var d=b.pop(),e;e=b.shift();)y(a[e])||(a[e]={}),a=a[e];a[d]=c}}var pb={};","function qb(a){var b=[a];a=new rb;for(var c=0,d,e;void 0!==(e=b.pop());){0===c%4&&12<c+4&&(a.write(c),c=0);d=typeof e;if(e instanceof Array)if(c+=4,0<e.length){b.push(pb);for(d=e.length;d--;)b.push(e[d]);continue}else a.write(c);else if(\"number\"===d)c+=1,a.write(c),sb(a,e);else if(e instanceof Date)c+=2,a.write(c),sb(a,e.valueOf());else if(\"string\"===d){c+=3;a.write(c);c=a;for(d=0;d<e.length;d++){var f=e.charCodeAt(d);126>=f?c.write(f+1):16510>=f?(f-=127,c.write(128|f>>8,f&255)):c.write(192|f>>10,","f>>2|255,(f|3)<<6)}c.write(0)}else if(e===pb)a.write(0);else return\"\";c=0}for(b=a.a.length;\"00\"===a.a[--b];);a.a.length=++b;return a.toString()}function tb(a){for(var b=[],c=b,d=[],e,f,g=new ub(a);null!=vb(g);)if(0===g.a)c=d.pop();else{if(null===g.a)break;do{e=g.a/4|0;a=g.a%4;for(var h=0;h<e;h++)f=[],c.push(f),d.push(c),c=f;if(0===a&&12<g.a+4)vb(g);else break}while(1);1===a?c.push(wb(g)):2===a?c.push(new Date(wb(g))):3===a?c.push(xb(g)):0===a&&(c=d.pop())}return b[0]}","function sb(a,b){var c,d,e;c=b;var f=e=d=0;if(0!==c)if(isFinite(c)){0>c&&(d=1,c=-c);f=0;if(2.2250738585072014E-308<=c){for(e=c;1>e;)f--,e*=2;for(;2<=e;)f++,e/=2;e=f+1023}f=e?Math.floor(4503599627370496*(c/Math.pow(2,f)-1)):Math.floor(c/4.9E-324)}else e=2047,isNaN(c)?f=0x8000000000000:-Infinity===c&&(d=1);c=d;d=e;e=f;c&&(e=0xfffffffffffff-e,d=2047-d);a.write((c?0:128)|d>>4);a.write((d&15)<<4|0|e/281474976710656);e%=281474976710656;c=0|e/4294967296;a.write(c>>8,c&255);e%=4294967296;c=0|e/65536;a.write(c>>","8,c&255);c=e%65536;a.write(c>>8,c&255)}function wb(a){var b=vb(a)|0,c=b>>7?!1:!0,d=c?-1:1,e=(b&127)<<4,b=vb(a)|0,e=e+(b>>4);c&&(e=2047-e);for(var b=[c?15-(b&15):b&15],f=6;f--;)b.push(c?255-(vb(a)|0):vb(a)|0);a=0;for(f=7;f--;)a=a/256+b[f];a/=16;return 0===a&&0===e?0:(a+1)*Math.pow(2,e-1023)*d}","function xb(a){for(var b=[],c=0,d=0,e=0,f,g;;){f=vb(a);if(0===f||null==f)break;0===c?(g=f>>6,2>g&&!isNaN(f)?b.push(String.fromCharCode(f-1)):(c=g,d=f<<10,e++)):2===c?(b.push(String.fromCharCode(d+f+127)),c=d=e=0):2===e?(d+=f<<2,e++):(b.push(String.fromCharCode(d|f>>6)),c=d=e=0)}return b.join(\"\")}function ub(a){this.a=null;this.b=a;this.d=this.b.length-1;this.index=-1}function vb(a){return a.a=a.index<a.d?parseInt(a.b[++a.index]+a.b[++a.index],16):null}function rb(){this.a=[];this.b=void 0}","rb.prototype.write=function(a){for(var b=0;b<arguments.length;b++)this.b=arguments[b].toString(16),this.a.push(2===this.b.length?this.b:this.b=\"0\"+this.b)};rb.prototype.toString=function(){return this.a.length?this.a.join(\"\"):\"\"};function yb(a,b){var c=qb(a),d=qb(b);return c>d?1:c==d?0:-1};var H=lb&&lb.cmp?ja(lb.cmp,lb):yb,zb=[];function Ab(){0!=Bb&&(this[fa]||(this[fa]=++ga))}var Bb=0;function Cb(a,b){this.type=a;this.target=b}Cb.prototype.preventDefault=function(){};function Db(a,b){Cb.call(this,a,b)}z(Db,Cb);Db.prototype.h=function(){return this.J};function Eb(a,b,c,d,e){Cb.call(this,a,b);this.version=c;this.ob=d;this.jb=e}z(Eb,Db);l=Eb.prototype;l.name=\"ReadyEvent\";l.version=NaN;l.ob=NaN;l.jb=null;l.Jb=function(){return this.version};l.wb=function(){return this.ob};l.vb=function(){return this.jb};function Fb(a,b,c){Cb.call(this,c||\"error\",a);this.error=b}z(Fb,Db);Fb.prototype.toString=function(){return this.name+\":\"+(this.error?this.error:\"\")};","Fb.prototype.name=\"ErrorEvent\";Fb.prototype.error=null;Fb.prototype.a=function(){return this.error};function Gb(a,b){Fb.call(this,a,b,\"fail\")}z(Gb,Fb);Gb.prototype.name=\"FailEvent\";function Hb(a,b,c){var d;if(y(a))d=a.store,b=a.id,null!=a.parent&&(c=new Hb(a.parent));else if(t(b))d=a;else if(d=a.lastIndexOf(\"^|\"),b=a,0<d&&(b=a.substr(d),c=new Hb(a.substring(0,d))),b=b.split(\"^:\"),d=b[0],b=b[1],!t(b))throw Error(\"Invalid key value: \"+a);this.J=d;this.q=b;this.parent=c||null}l=Hb.prototype;l.toJSON=function(){var a={store:this.J,id:this.q};this.parent&&(a.parent=this.parent.toJSON());return a};","l.valueOf=function(){return(this.parent?this.parent.valueOf()+\"^|\":\"\")+this.J+\"^:\"+this.q};l.toString=function(){return this.valueOf().replace(\"^|\",\"|\").replace(\"^:\",\":\")};l.h=function(){return this.J};l.tb=function(){return this.q};l.Db=function(){return this.parent};function Ib(a){if(v(a)){for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}return a};function J(a,b,c,d){this.lower=a;this.upper=b;this.lowerOpen=!!c;this.upperOpen=!!d;ea(Object.freeze)&&Object.freeze(this)}J.prototype.lower=void 0;J.prototype.upper=void 0;J.prototype.toJSON=function(){return Jb(this)};function Kb(a){return Lb(a)}J.only=function(a){return new J(a,a,!1,!1)};J.bound=function(a,b,c,d){return new J(a,b,c,d)};J.upperBound=function(a,b){return new J(void 0,a,void 0,!!b)};J.lowerBound=function(a,b){return new J(a,void 0,!!b,void 0)};","function Mb(a){var b;if(u(a))b=Oa(a),b.push(\"\\uffff\");else if(w(a))b=a+\"\\uffff\";else return J.only(a);return J.bound(a,b,!1,!0)}function Jb(a){a=a||{};return{lower:a.lower,upper:a.upper,lowerOpen:a.lowerOpen,upperOpen:a.upperOpen}}function Lb(a){return null!=a?null!=a.upper&&null!=a.lower?Nb.bound(a.lower,a.upper,!!a.lowerOpen,!!a.upperOpen):null!=a.upper?Nb.upperBound(a.upper,a.upperOpen):null!=a.lower?Nb.lowerBound(a.lower,a.lowerOpen):null:null}","function Ob(a){if(a instanceof J)return\"\";if(null!=a){if(y(a)){for(var b in a)if(a.hasOwnProperty(b)&&!(0<=Ga([\"lower\",\"upper\",\"lowerOpen\",\"upperOpen\"],b)))return'invalid attribute \"'+b+'\" in key range object';return\"\"}return\"key range must be an object\"}return\"\"}","function Pb(a,b,c,d,e){if(c)if(c.lowerOpen||c.upperOpen||null==c.lower||null==c.upper||0!==H(c.lower,c.upper)){if(null!=c.lower){var f=c.lowerOpen?\" > \":\" >= \";d.push(a+f+\"?\");e.push(Qb(c.lower,b))}null!=c.upper&&(f=c.upperOpen?\" < \":\" <= \",d.push(a+f+\"?\"),e.push(Qb(c.upper,b)))}else d.push(a+\" = ?\"),e.push(Qb(c.lower,b))}","function Rb(a,b,c,d){var e,f,g,h;if(\"starts\"==a||\"^\"==a)return Mb(b);if(\"<\"==a||\"<=\"==a)e=b,g=\"<\"==a;else if(\">\"==a||\">=\"==a)f=b,h=\">\"==a;else if(\"=\"==a||\"==\"==a)e=f=b;else throw new F(\"invalid op: \"+a);if(\"<\"==c||\"<=\"==c)e=d,g=\"<\"==c;else if(\">\"==c||\">=\"==c)f=d,h=\">\"==c;else if(t(c))throw new F(\"invalid op2: \"+c);return J.bound(f,e,h,g)}var Nb=r.IDBKeyRange||r.webkitIDBKeyRange||J;function Sb(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function Tb(a,b){for(var c=v(b),d=c?b:arguments,c=c?0:1;c<d.length&&(a=a[d[c]],t(a));c++);return a}var Ub=\"constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf\".split(\" \");function Vb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Ub.length;f++)c=Ub[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var Wb,Xb,Yb,Zb;function $b(){return r.navigator?r.navigator.userAgent:null}Zb=Yb=Xb=Wb=!1;var ac;if(ac=$b()){var bc=r.navigator;Wb=0==ac.indexOf(\"Opera\");Xb=!Wb&&-1!=ac.indexOf(\"MSIE\");Yb=!Wb&&-1!=ac.indexOf(\"WebKit\");Zb=!Wb&&!Yb&&\"Gecko\"==bc.product}var cc=Wb,dc=Xb,ec=Zb,fc=Yb;function gc(){var a=r.document;return a?a.documentMode:void 0}var hc;","a:{var ic=\"\",jc;if(cc&&r.opera)var lc=r.opera.version,ic=\"function\"==typeof lc?lc():lc;else if(ec?jc=/rv\\:([^\\);]+)(\\)|;)/:dc?jc=/MSIE\\s+([^\\);]+)(\\)|;)/:fc&&(jc=/WebKit\\/(\\S+)/),jc)var mc=jc.exec($b()),ic=mc?mc[1]:\"\";if(dc){var nc=gc();if(nc>parseFloat(ic)){hc=String(nc);break a}}hc=ic}var oc={};","function pc(a){var b;if(!(b=oc[a])){b=0;for(var c=String(hc).replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g,\"\").split(\".\"),d=String(a).replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g,\"\").split(\".\"),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||\"\",h=d[f]||\"\",k=RegExp(\"(\\\\d*)(\\\\D*)\",\"g\"),n=RegExp(\"(\\\\d*)(\\\\D*)\",\"g\");do{var m=k.exec(g)||[\"\",\"\",\"\"],p=n.exec(h)||[\"\",\"\",\"\"];if(0==m[0].length&&0==p[0].length)break;b=((0==m[1].length?0:parseInt(m[1],10))<(0==p[1].length?0:parseInt(p[1],10))?-1:(0==m[1].length?0:parseInt(m[1],","10))>(0==p[1].length?0:parseInt(p[1],10))?1:0)||((0==m[2].length)<(0==p[2].length)?-1:(0==m[2].length)>(0==p[2].length)?1:0)||(m[2]<p[2]?-1:m[2]>p[2]?1:0)}while(0==b)}b=oc[a]=0<=b}return b}var qc=r.document,rc=qc&&dc?gc()||(\"CSS1Compat\"==qc.compatMode?parseInt(hc,10):5):void 0;function sc(a){return tc(a||arguments.callee.caller,[])}","function tc(a,b){var c=[];if(0<=Ga(b,a))c.push(\"[...circular reference...]\");else if(a&&50>b.length){c.push(uc(a)+\"(\");for(var d=a.arguments,e=0;e<d.length;e++){0<e&&c.push(\", \");var f;f=d[e];switch(typeof f){case \"object\":f=f?\"object\":\"null\";break;case \"string\":break;case \"number\":f=String(f);break;case \"boolean\":f=f?\"true\":\"false\";break;case \"function\":f=(f=uc(f))?f:\"[fn]\";break;default:f=typeof f}40<f.length&&(f=f.substr(0,40)+\"...\");c.push(f)}b.push(a);c.push(\")\\n\");try{c.push(tc(a.caller,b))}catch(g){c.push(\"[exception trying to get caller]\\n\")}}else a?","c.push(\"[...long stack...]\"):c.push(\"[end]\");return c.join(\"\")}function uc(a){if(vc[a])return vc[a];a=String(a);if(!vc[a]){var b=/function ([^\\(]+)/.exec(a);vc[a]=b?b[1]:\"[Anonymous]\"}return vc[a]}var vc={};function wc(a,b,c,d,e){\"number\"==typeof e||xc++;this.g=d||la();this.f=a;this.e=b;this.d=c;delete this.b;delete this.a}wc.prototype.b=null;wc.prototype.a=null;var xc=0;function yc(a){this.f=a}yc.prototype.d=null;yc.prototype.b=null;yc.prototype.e=null;yc.prototype.a=null;function zc(a,b){this.name=a;this.value=b}zc.prototype.toString=function(){return this.name};var Ac=new zc(\"SHOUT\",1200),Bc=new zc(\"SEVERE\",1E3),Cc=new zc(\"WARNING\",900),Dc=new zc(\"INFO\",800),Ec=new zc(\"CONFIG\",700),Fc=new zc(\"FINE\",500),Gc=new zc(\"FINER\",400),Hc=new zc(\"FINEST\",300),Ic=[new zc(\"OFF\",Infinity),Ac,Bc,Cc,Dc,Ec,Fc,Gc,Hc,new zc(\"ALL\",0)],Jc=null;yc.prototype.getName=function(){return this.f};","function Kc(a){if(a.b)return a.b;if(a.d)return Kc(a.d);Ea(\"Root logger has no level set.\");return null}yc.prototype.log=function(a,b,c){if(a.value>=Kc(this).value)for(a=this.g(a,b,c),b=\"log:\"+a.e,r.console&&(r.console.timeStamp?r.console.timeStamp(b):r.console.markTimeline&&r.console.markTimeline(b)),r.msWriteProfilerMark&&r.msWriteProfilerMark(b),b=this;b;){c=b;var d=a;if(c.a)for(var e=0,f=void 0;f=c.a[e];e++)f(d);b=b.d}};","yc.prototype.g=function(a,b,c){var d=new wc(a,String(b),this.f);if(c){d.b=c;var e;var f=arguments.callee.caller;try{var g;var h;c:{for(var k=[\"window\",\"location\",\"href\"],n=r,m;m=k.shift();)if(null!=n[m])n=n[m];else{h=null;break c}h=n}if(w(c))g={message:c,name:\"Unknown error\",lineNumber:\"Not available\",fileName:h,stack:\"Not available\"};else{var p,q,k=!1;try{p=c.lineNumber||c.Mb||\"Not available\"}catch(s){p=\"Not available\",k=!0}try{q=c.fileName||c.filename||c.sourceURL||r.$googDebugFname||h}catch(x){q=","\"Not available\",k=!0}g=!k&&c.lineNumber&&c.fileName&&c.stack?c:{message:c.message,name:c.name,lineNumber:p,fileName:q,stack:c.stack||\"Not available\"}}e=\"Message: \"+sa(g.message)+'\\nUrl: <a href=\"view-source:'+g.fileName+'\" target=\"_new\">'+g.fileName+\"</a>\\nLine: \"+g.lineNumber+\"\\n\\nBrowser stack:\\n\"+sa(g.stack+\"-> \")+\"[end]\\n\\nJS stack traversal:\\n\"+sa(sc(f)+\"-> \")}catch(A){e=\"Exception trying to expose exception! You win, we lose. \"+A}d.a=e}return d};function Lc(a,b){a.log(Bc,b,void 0)}","function K(a,b){a.log(Cc,b,void 0)}function Mc(a,b){a.log(Fc,b,void 0)}function L(a,b){a.log(Gc,b,void 0)}function M(a,b){a.log(Hc,b,void 0)}var Nc={},Oc=null;function Pc(){Oc||(Oc=new yc(\"\"),Nc[\"\"]=Oc,Oc.b=Ec)}function Qc(){Pc();return Oc}function N(a){Pc();var b;if(!(b=Nc[a])){b=new yc(a);var c=a.lastIndexOf(\".\"),d=a.substr(c+1),c=N(a.substr(0,c));c.e||(c.e={});c.e[d]=b;b.d=c;Nc[a]=b}return b};function O(a,b,c){gb.call(this,0,c);this.d=a;this.b=[];this.e=[];this.m=[];this.a=null;this.R=\"\";this.l=0}z(O,gb);l=O.prototype;l.R=\"\";l.c=N(\"ydn.db.Request\");function Rc(a,b,c){a.a=b;a.R=c;L(a.c,a+\" BEGIN\");if(b){for(c=0;c<a.e.length;c++)a.e[c][0].call(a.e[c][1],b);a.e.length=0}L(a.c,a+\" END\")}function Sc(a){var b=new O(a.d);a.l++;Rc(b,a.a,a.R+\"C\"+a.l);return b}l.sb=function(){return!!this.a};","l.abort=function(){if(this.a)if(L(this.c,this+\" aborting\"),ea(this.a.abort))this.a.abort();else if(ea(this.a.executeSql))this.a.executeSql(\"ABORT\",[],function(){},function(){return!0});else throw new cb;else throw new Tc(\"No active transaction\");};function P(a,b,c){var d=a.m.shift();c=!!c;d?d[0].call(d[1],b,c,function(b,c){P(a,b,c)}):c?a.k(b):a.n(b)}function Uc(a,b,c){a.m.push([b,c])}function Q(a,b,c){a.a?b.call(c,a.a):a.e.push([b,c])}","l.n=function(a){L(this.c,this+\" SUCCESS\");O.t.n.call(this,a);this.a=null;this.R=this.R};l.k=function(a){L(this.c,this+\" ERROR\");O.t.k.call(this,a);this.a=null;this.R=this.R};function R(a){var b=\"\";a.R&&(b=a.a?\"*\":\"\",b=\"[\"+a.R+b+\"]\");return a.d+b}function Vc(a,b){var c=new O(a);P(c,b);return c}l.Hb=function(){return this};l.toString=function(){return\"Request:\"+R(this)};","l.toJSON=function(){var a=(this.R||\"\").match(/B(\\d+)T(\\d+)(?:Q(\\d+?))?(?:R(\\d+))?/)||[];return{method:this.d?this.d.split(\":\"):[],branchNo:parseFloat(a[1]),transactionNo:parseFloat(a[2]),queueNo:parseFloat(a[3]),requestNo:parseFloat(a[4])}};function Wc(a,b,c,d,e,f){t(e)||(e=u(a)?a.join(\", \"):a);if(null!=a&&!w(a)&&!v(a))throw new F(\"index keyPath for \"+e+\" must be a string or array, but \"+a+\" is \"+typeof a);u(a)&&Object.freeze&&Object.freeze(a);!t(a)&&t(e)&&(a=e);this.keyPath=a;this.g=v(this.keyPath);this.b=e;this.type=Yc(b);if(t(b)){if(!t(this.type))throw new F(\"type invalid in index: \"+this.b);if(u(this.keyPath))throw new F('composite key for store \"'+this.b+'\" must not specified type');}this.unique=!!c;this.multiEntry=!!d;this.i=w(this.type)?","this.type:Zc;this.e=w(e)?e:u(a)?this.keyPath.join(\",\"):a;this.d=Ca(this.e);this.a=this.g||this.multiEntry?null:this.keyPath.split(\".\");this.f=f||null}function $c(a,b){if(null!=b){if(v(a.keyPath)){for(var c=[],d=0,e=a.keyPath.length;d<e;d++){var f=mb(b,a.keyPath[d]);c[d]=f}return c}return mb(b,a.keyPath)}}function ad(a,b,c){for(var d=0;d<a.a.length;d++)d==a.a.length-1?b[a.a[d]]=c:y(b[a.a[d]])||(b[a.a[d]]={})}var Zc=\"TEXT\";","function Qb(a,b){if(\"DATE\"==b){if(a instanceof Date)return+a}else return null!=b?a:qb(a)}function bd(a,b){return\"DATE\"==b?new Date(a):t(b)?a:tb(a)}var cd=[\"BLOB\",\"DATE\",\"INTEGER\",\"NUMERIC\",Zc];function Yc(a){if(w(a))return a=Ga(cd,a),cd[a]}l=Wc.prototype;l.getName=function(){return this.b};l.toJSON=function(){return{name:this.b,keyPath:this.keyPath,type:this.type,unique:this.unique,multiEntry:this.multiEntry}};","l.clone=function(){var a=u(this.keyPath)?Oa(this.keyPath):this.keyPath;return new Wc(a,this.type,this.unique,this.multiEntry,this.b,this.f)};function dd(a,b){return null!=a||null!=b?null!=a?null!=b?v(a)&&v(b)?Qa(a,b)?null:\"expect: \"+a+\", but: \"+b:ed(a,b)?null:\"expect: \"+a+\", but: \"+b:\"keyPath: \"+a+\" no longer defined\":\"newly define \"+b:null}","l.hint=function(a){if(!a)return this;var b=u(this.keyPath)?Oa(this.keyPath):this.keyPath,c=this.type;t(a.type)||\"TEXT\"!=c||(c=void 0);return new Wc(b,c,this.unique,this.multiEntry,a.b)};l.toString=function(){var a=this.multiEntry?\"MultiEntry\":\"\";this.a&&1<this.a.length&&(a+=\"Compound\");return a+\"Index:\"+this.b};function fd(a,b,c,d,e,f,g,h){this.d=a;if(!w(this.d))throw new F(\"store name must be a string\");this.keyPath=t(b)?b:null;this.l=v(this.keyPath);if(null!==this.keyPath&&!w(this.keyPath)&&!this.l)throw new F(\"keyPath must be a string or array\");this.b=c;var k;if(null!=d){k=Yc(d);if(!t(k))throw new F('type \"'+d+'\" for primary key in store \"'+this.d+'\" is invalid.');if(this.l)throw new F('composite key for store \"'+this.d+'\" must not specified type');}this.type=null!=k?k:this.b?\"INTEGER\":void 0;this.g=","w(this.keyPath)?this.keyPath.split(\".\"):[];this.a=e||[];this.aa=!!f;this.ea=!!g;this.r=w(this.type)?this.type:Zc;this.f=u(this.keyPath)?this.keyPath.join(\",\"):w(this.keyPath)?this.keyPath:\"_ROWID_\";this.e=Ca(this.f);if(this.m=!!h){if(this.keyPath)throw new F('encrypted store \"'+this.d+'\" must not use inline key');if(this.b)throw new F('encrypted store \"'+this.d+'\" must not use key generator');}this.i=[]}l=fd.prototype;l.aa=!1;l.ea=!1;","l.toJSON=function(){for(var a=[],b=0;b<this.a.length;b++)a.push(this.a[b].toJSON());return{name:this.d,keyPath:this.keyPath,autoIncrement:this.b,type:this.type,indexes:a}};","function gd(a){var b=\"name keyPath autoIncrement type indexes dispatchEvents fixed Sync encrypted\".split(\" \"),c;for(c in a)if(a.hasOwnProperty(c)&&-1==Ga(b,c))throw new F('Unknown attribute \"'+c+'\"');b=[];c=a.indexes||[];if(u(c))for(var d=0;d<c.length;d++){var e;e=c[d];var f=\"name unique type keyPath multiEntry generator\".split(\" \"),g=void 0;for(g in e)if(e.hasOwnProperty(g)&&-1==Ga(f,g))throw new F(\"Unknown field: \"+g+\" in \"+S(e));e=new Wc(e.keyPath,e.type,e.unique,e.multiEntry,e.name,e.generator);","t(e.keyPath)&&e.keyPath===a.keyPath||b.push(e)}return new fd(a.name,a.keyPath,a.autoIncrement,\"undefined\"===a.type||\"null\"===a.type?void 0:a.type,b,a.dispatchEvents,a.fixed,a.encrypted)}function hd(a,b,c,d,e,f,g){a=id(a,b,c,d,e,f,g);b=\"\";0!=c&&(b+=\"SELECT \"+a.select);b+=\" FROM \"+a.O;a.p&&(b+=\" WHERE \"+a.p);a.group&&(b+=\" GROUP BY \"+a.group);a.Q&&(b+=\" ORDER BY \"+a.Q);return b}","function id(a,b,c,d,e,f,g){var h={select:\"\",O:\"\",p:\"\",group:\"\",Q:\"\"},k=a.f,n=a.e,m=null;d!==k&&w(d)&&(m=jd(a,d));var p=!!m,q=d||k,s=Ca(q),x=p?m.type:a.type,A=p&&m.multiEntry;h.O=kd(a);6===c?h.select=\"COUNT(\"+n+\")\":3===c||1===c||2===c?(h.select=n,null!=d&&d!=k&&(h.select+=\", \"+s)):h.select=\"*\";d=g?\"DISTINCT \":\"\";k=[];A?(A=Ca(\"ydn.db.me:\"+a.getName()+\":\"+m.getName()),h.select=6===c?\"COUNT(\"+d+A+\".\"+s+\")\":3===c||1===c||2===c?\"DISTINCT \"+kd(a)+\".\"+n+\", \"+A+\".\"+s+\" AS \"+q:\"DISTINCT \"+kd(a)+\".*, \"+A+\".\"+","s+\" AS \"+q,h.O=A+\" INNER JOIN \"+kd(a)+\" USING (\"+n+\")\",null!=e&&(Pb(A+\".\"+s,x,e,k,b),0<k.length&&(h.p=h.p?h.p+(\" AND \"+k.join(\" AND \")):k.join(\" AND \")))):null!=e&&(Pb(s,x,e,k,b),0<k.length&&(h.p=h.p?h.p+(\" AND \"+k.join(\" AND \")):k.join(\" AND \")));p&&!m.unique&&g&&(h.group=s);a=f?\"DESC\":\"ASC\";h.Q=s+\" \"+a;p&&(h.Q+=\", \"+n+\" \"+a);return h}","function ld(a,b,c,d,e,f,g,h,k){var n,m,p,q;null!=e?(n=e.lower,m=e.upper,p=e.lowerOpen,q=e.upperOpen,f?null!=m?(e=H(h,m),-1==e?(m=h,q=k):0==e&&(q=k||q)):(m=h,q=k):null!=n?(e=H(h,n),1==e?(n=h,p=k):0==e&&(p=k||p)):(n=h,p=k)):f?(m=h,q=k):(n=h,p=k);e=new J(n,m,!!p,!!q);d=d?jd(a,d):null;b=id(a,c,b,d?d.e:a.f,e,f,g);b=\"SELECT \"+b.select+\" FROM \"+b.O+(b.p?\" WHERE \"+b.p:\"\")+(b.group?\" GROUP BY \"+b.group:\"\")+\" ORDER BY \"+b.Q;d&&(b+=\", \"+a.e+(f?\"DESC\":\"ASC\"));return b}","function md(a,b,c,d,e,f,g,h,k,n){var m=jd(a,d),p=m.e;d=m.d;var q=a.e,s=k?\" <\":\" >\",s=g?s+\" \":s+\"= \";g=Qb(f,m.type);h=Qb(h,a.type);m=\"\";e?(a=id(a,c,b,p,e,k,n),a.p+=\" AND \",m=d+s+\"?\",c.push(g)):(e=k?J.upperBound(f,!0):J.lowerBound(f,!0),a=id(a,c,b,p,e,k,n),m=a.p,a.p=\"\");a.p+=\"(\"+m+\" OR (\"+d+\" = ? AND \"+q+s+\"?))\";c.push(g);c.push(h);return\"SELECT \"+a.select+\" FROM \"+a.O+\" WHERE \"+a.p+(a.group?\" GROUP BY \"+a.group:\"\")+\" ORDER BY \"+a.Q}l.clone=function(){return gd(this.toJSON())};","l.index=function(a){return this.a[a]||null};function jd(a,b){return La(a.a,function(a){return a.getName()==b})}function nd(a,b){return b===a.keyPath?!0:Ka(a.a,function(a){return a.getName()==b})}function kd(a){return Ca(a.d)}","function od(a,b){if(!b)return a;var c=a.b,d=u(a.keyPath)?Oa(a.keyPath):a.keyPath,e=a.type,f=Ia(a.a,function(a){return a.clone()});t(b.type)||\"TEXT\"!=e||(e=void 0);u(b.keyPath)&&w(d)&&d==b.keyPath.join(\",\")&&(d=Oa(b.keyPath));for(var g=0,h=b.a.length;g<h;g++)if(b.a[g].g)for(var k=b.a[g].getName(),n=f.length-1;0<=n;n--)if(0<=k.indexOf(f[n].getName())){f[n]=b.a[g].clone();break}for(g=0;g<f.length;g++)(h=jd(b,f[g].getName()))&&(f[g]=f[g].hint(h));return new fd(b.d,d,c,e,f)}l.getName=function(){return this.d};","function pd(a){return!!a.keyPath}function qd(a,b,c){if(b){if(!a.keyPath&&null!=c)return c;if(a.l){c=[];for(var d=0;d<a.keyPath.length;d++)c.push(mb(b,a.keyPath[d]));return c}if(a.keyPath)return Tb(b,a.g)}}function rd(a,b,c){for(var d=0;d<a.g.length;d++){var e=a.g[d];if(d==a.g.length-1){b[e]=c;break}t(b[e])||(b[e]={});b=b[e]}}","function sd(a,b,c){var d=[],e=[];c=t(c)?c:qd(a,b);t(c)&&(e.push(a.e),d.push(Qb(c,a.type)));for(var f=0;f<a.a.length;f++){var g=a.a[f];if(!g.multiEntry&&g.getName()!==a.keyPath&&\"_default_\"!=g.getName()){var h=$c(g,b);null!=h&&(d.push(Qb(h,g.type)),e.push(g.d))}}a.ea?a.ea&&!a.keyPath&&0==a.a.length&&(w(b)&&-1==b.indexOf(\";base64,\")?d.push(b):d.push(S(b)),e.push(\"_default_\")):(d.push(S(b)),e.push(\"_default_\"));a=[];for(f=d.length-1;0<=f;f--)a[f]=\"?\";return{gb:e,nb:a,D:d,key:c}}","function td(a,b){if(!b)return\"missing store: \"+a.d;if(a.d!=b.d)return\"store name, expect: \"+a.d+\", but: \"+b.d;var c=dd(a.keyPath,b.keyPath);if(c)return\"keyPath, \"+c;if(t(a.b)&&t(b.b)&&a.b!=b.b)return\"autoIncrement, expect:  \"+a.b+\", but: \"+b.b;if(a.a.length!=b.a.length)return\"indexes length, expect:  \"+a.a.length+\", but: \"+b.a.length;if(t(a.type)&&t(b.type)&&(v(a.type)?!Qa(a.type,b.type):a.type!=b.type))return\"data type, expect:  \"+a.type+\", but: \"+b.type;for(c=0;c<a.a.length;c++){var d=jd(b,a.a[c].getName()),","e;e=a.a[c];if(d)if(e.b!=d.b)e=\"name, expect: \"+e.b+\", but: \"+d.b;else{var f=dd(e.keyPath,d.keyPath);e=f?\"keyPath, \"+f:null!=e.unique&&null!=d.unique&&e.unique!=d.unique?\"unique, expect: \"+e.unique+\", but: \"+d.unique:null!=e.multiEntry&&null!=d.multiEntry&&e.multiEntry!=d.multiEntry?\"multiEntry, expect: \"+e.multiEntry+\", but: \"+d.multiEntry:t(e.type)&&t(d.type)&&(v(e.type)?!Qa(e.type,d.type):e.type!=d.type)?\"data type, expect: \"+e.type+\", but: \"+d.type:\"\"}else e=\"no index for \"+e.b;if(0<e.length)return'index \"'+","a.a[c].getName()+'\" '+e}return\"\"}function ud(a,b){if(b)for(var c=0;c<a.a.length;c++){var d=a.a[c],e=b;if(d.f){var f=d.f(e),g=typeof f;if(\"string\"==g||\"number\"==g||\"array\"==g||\"undefined\"==g||f instanceof Date){for(g=0;g<d.a.length-1;g++)y(e[d.a[g]])||(e[d.a[g]]={});e[d.a[d.a.length-1]]=f}}}}function vd(a,b){a.i.push(b)}function wd(a,b,c){for(var d=0;d<a.i.length;d++)if(void 0!==d)a.i[d](b,c)}l.toString=function(){return\"Store:\"+this.d+\"[\"+this.a.length+\"index]\"};function xd(a){a=String(a);if(/^\\s*$/.test(a)?0:/^[\\],:{}\\s\\u2028\\u2029]*$/.test(a.replace(/\\\\[\"\\\\\\/bfnrtu]/g,\"@\").replace(/\"[^\"\\\\\\n\\r\\u2028\\u2029\\x00-\\x08\\x0a-\\x1f]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g,\"]\").replace(/(?:^|:|,)(?:[\\s\\u2028\\u2029]*\\[)+/g,\"\")))try{return eval(\"(\"+a+\")\")}catch(b){}throw Error(\"Invalid JSON string: \"+a);};N(\"ydn\");function yd(a){return!w(a)||qa(a)?{}:JSON.parse(a)}function zd(a){var b;try{b=S(a)}catch(c){b=\"\"}return b?b.substr(0,70)+(70<b.length?\"...\":\"\"):\"\"}function S(a){return JSON.stringify(a,void 0,void 0)};function Ad(a,b){if(!a||qa(a))throw new F(\"store_name must be provided for primary full text index\");if(!b||qa(b))throw new F(\"index_name must be provided for primary full text index\");this.J=a}Ad.prototype.h=function(){return this.J};function Bd(a,b,c){this.name=a;this.a=b;this.b=c||\"\";if(-1==[\"\",\"en\",\"fr\"].indexOf(this.b))throw new F('Unsupported lang \"'+c+\" for full text search index \"+a);}Bd.prototype.getName=function(){return this.name};Bd.prototype.count=function(){return this.a.length};Bd.prototype.index=function(a){return this.a[a]};","function Cd(a){var b=[\"name\",\"sources\",\"lang\"],c;for(c in a)if(a.hasOwnProperty(c)&&-1==Ga(b,c))throw new F(\"Unknown field: \"+c+\" in \"+S(a));if(!u(a.sources))throw new F(\"indexes require for full text search index \"+a.name+\", but \"+a.sources+\" of type \"+typeof a.sources+\" found.\");b=a.sources.map(function(a){var b=[\"storeName\",\"keyPath\",\"weight\"],c;for(c in a)if(a.hasOwnProperty(c)&&-1==Ga(b,c))throw new F(\"Unknown field: \"+c+\" in \"+zd(a));return new Ad(a.storeName,a.keyPath)});return new Bd(a.name,","b,a.lang)};function Dd(a,b){var c,d,e=b;if(y(a)){d=a;c=[\"version\",\"stores\",\"fullTextCatalogs\"];for(var f in d)if(d.hasOwnProperty(f)&&-1==Ga(c,f))throw new F(\"Unknown field: \"+f+\" in schema.\");c=d.version;var e=[],g=d.stores||[];if(!u(g))throw new F(\"stores must be array\");for(f=0;f<g.length;f++){var h=gd(g[f]);if(-1!=Ma(e,function(a){return a.name==h.getName()}))throw new F('duplicate store name \"'+h.getName()+'\".');e.push(h)}}else w(a)?c=0==a.length?void 0:parseFloat(a):da(a)&&(c=a);if(t(c)){if(!da(c)||0>","c)throw new F(\"Invalid version: \"+c+\" (\"+a+\")\");isNaN(c)&&(c=void 0)}if(t(b)&&(!u(b)||0<b.length&&!(b[0]instanceof fd)))throw new F(\"stores\");this.version=c;this.ga=!t(this.version);this.stores=e||[];c=[];if(d&&d.fullTextCatalogs)for(f=0;f<d.fullTextCatalogs.length;f++)e=Cd(d.fullTextCatalogs[f]),c[f]=e,T(this,e.getName())||(g=[new Wc(\"k\",Zc),new Wc(\"v\",Zc)],e=new fd(e.getName(),\"id\",!1,void 0,g),this.stores.push(e));this.a=c}l=Dd.prototype;","l.toJSON=function(){var a=Ia(this.stores,function(a){return a.toJSON()}),b={};b.stores=a;t(this.version)&&(b.version=this.version);return b};l.ga=!1;l.M=function(){return!1};function Ed(a){return Ia(a.stores,function(a){return a.getName()})}l.Y=function(a){return this.stores[a]||null};l.count=function(){return this.stores.length};function T(a,b){return La(a.stores,function(a){return a.getName()==b})}function Fd(a,b){return Ka(a.stores,function(a){return a.getName()==b})}","function Gd(a,b,c,d){if(!b||a.stores.length!=b.stores.length)return\"Number of store: \"+a.stores.length+\" vs \"+b.stores.length;for(var e=0;e<a.stores.length;e++){var f=T(b,a.stores[e].getName());if(f){c&&(f=od(f,a.stores[e]));if(d)for(var g=f,h=a.stores[e],k=0;k<h.a.length;k++){var n=h.a[k];nd(g,n.getName())||\"BLOB\"!=n.type||(n=new Wc(n.keyPath,n.type,n.unique,n.multiEntry,n.getName()),g.a.push(n))}f=td(a.stores[e],f);if(0<f.length)return'store: \"'+a.stores[e].getName()+'\" '+f}else return'missing object store \"'+","a.stores[e].getName()+'\"'}return\"\"};function Hd(a,b){Dd.call(this,a,b)}z(Hd,Dd);Hd.prototype.M=function(){return!0};function Id(a,b){a.stores.push(b)};function Jd(a){Error.captureStackTrace?Error.captureStackTrace(this,Jd):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.error.ArgumentException\"}z(Jd,Error);z(Jd,Error);function Kd(a){Error.captureStackTrace?Error.captureStackTrace(this,Kd):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.error.InternalError\"}z(Kd,Error);Kd.prototype.name=\"ydn.InternalError\";","function Ld(a){Error.captureStackTrace?Error.captureStackTrace(this,Ld):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.error.ConstraintError\"}z(Ld,Error);Ld.prototype.name=\"ydn.error.ConstraintError\";function Md(a){Error.captureStackTrace?Error.captureStackTrace(this,Md):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.error.InvalidOperationException\"}z(Jd,Error);","function Nd(a){Error.captureStackTrace?Error.captureStackTrace(this,Nd):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.error.InvalidOperationError\"}z(Nd,Error);function ed(a,b){var c;c=c||{};if(null!=a&&null!=b){if(v(a)&&v(b)){if(a.length!=b.length)return!1;for(var d=0;d<a.length;d++)if(-1==La(b,function(b){return ed(b,a[d])}))return!1;return!0}if(v(a))return 1==a.length&&ed(a[0],b);if(v(b))return 1==b.length&&ed(b[0],a);if(y(a)&&y(a)){for(var e in a)if(a.hasOwnProperty(e)&&!c[e]){var f=ed(a[e],b[e]);if(!f)return!1}for(e in b)if(b.hasOwnProperty(e)&&!c[e]&&(f=ed(a[e],b[e]),!f))return!1;return!0}return a===b}return!1};/*"," Copyright 2012 YDN Authors, Yathit. All Rights Reserved."," Licensed under the Apache License, Version 2.0 (the \"License\");.","*/","function U(a,b,c){c=c||{};var d=\"autoSchema connectionTimeout size mechanisms policy isSerial Encryption\".split(\" \"),e;for(e in c)if(c.hasOwnProperty(e)&&-1==Ga(d,e))throw new F('Unknown attribute \"'+e+'\" in options.');if(c.mechanisms){if(!u(c.mechanisms))throw new F(\"mechanisms attribute must be an array but \"+ba(c.mechanisms)+\" found.\");for(e=0;e<c.mechanisms.length;e++)if(!(0<=Ga(Od,c.mechanisms[e])))throw new F('Invalid mechanism \"'+c.mechanisms[e]+'\"');}this.A=c.mechanisms||Od;this.r=c.size;","this.B=t(c.connectionTimeout)?c.connectionTimeout:3E4;this.a=null;this.e=[];this.Ba=!1;if(b instanceof Dd)d=b;else if(y(b)){var d=c.autoSchema||!t(b.stores)?new Hd(b):new Dd(b),f=b.stores?b.stores.length:0;for(e=0;e<f;e++){var g=T(d,b.stores[e].name);b.stores[e].Sync&&K(this.c,\"Synchronization option for \"+g.getName()+\" ignored.\")}}else d=new Hd;b=this.lb(c.Encryption);this.b=d;for(e=0;e<this.b.count();e++)if(this.b.Y(e).m){if(!b)throw Error(\"encryption option must be defined\");this.cb(this.b.Y(e))}t(a)&&","this.m(a);this.i=new E}U.prototype.c=N(\"ydn.db.con.Storage\");U.prototype.I=function(a){if(t(a)){var b=function(b){a(b.toJSON())};if(this.a)this.a.L(b);else{var c=this;this.pa(function(a){c.a.L(b,a)},null,jb)}}return this.b?this.b.toJSON():null};U.prototype.m=function(a){if(this.a)throw new eb(\"Already connected with \"+this.l);this.l=a;Pd(this)};U.prototype.getName=function(){return this.l};var Od=\"indexeddb websql localstorage sessionstorage userdata memory\".split(\" \");l=U.prototype;l.Ta=function(){return null};","function Pd(a){function b(b,e){b?(M(a.c,a+\": ready.\"),a.ib=NaN,d.ab=function(){},d.Ma=function(){a.a=null},d.Wa=function(){},setTimeout(function(){Qd(a,e);Td(a)},10),c.n(e)):(K(a.c,a+\": database connection fail \"+e.name),setTimeout(function(){Qd(a,new Gb(a,e));if(a.e){a.c.log(Dc,\"Purging \"+a.e.length+\" transactions request.\",void 0);for(var b;b=a.e.shift();)b.G&&b.G(\"error\",e)}},10),c.k(e))}for(var c=new E,d=null,e=a.A,f=0;f<e.length;f++){var g=e[f].toLowerCase();if(d=a.Ta(g)){d=a.Ta(g);break}}null===","d?(e=new Ld(\"No storage mechanism found.\"),b(!1,new Gb(a,e))):Ya(d.ia(a.l,a.b),function(a){this.a=d;b(!0,new Eb(\"ready\",this,parseFloat(d.Ka()),parseFloat(a),null))},function(a){K(this.c,this+\": opening fail\");b(!1,a)},a)}l.Na=function(){if(this.a)return this.a.ja()};l.Ea=function(a,b){this.i.sa(a,b)};function Qd(a,b){setTimeout(function(){b instanceof Fb?a.i.k(b.error):a.i.n()},4)}function Ud(a){return!!a.a&&a.a.La()}l.Ib=function(){this.a&&(this.a.Ja(),this.a=null,M(this.c,this+\" closed\"))};","l.ib=NaN;function Td(a){var b=a.e.shift();b&&(M(a.c,\"pop tx queue[\"+(a.e.length+1)+\"]\"),a.pa(b.xa,b.Bb,b.mode,b.G));a.ib=la()}function Vd(a,b,c,d,e){M(a.c,\"push tx queue[\"+a.e.length+\"]\");a.e.push({xa:b,Bb:c,mode:d,G:e});100<a.e.length&&0==a.e.length%100&&K(a.c,\"Transaction queue stack size is \"+a.e.length+\". It is too large, possibility due to incorrect usage.\")}l.Ba=!1;","l.pa=function(a,b,c,d){var e=b;if(w(b))e=[b];else if(null!=b)if(v(b)){if(0==b.length)throw new F(\"number of store names must more than 0\");for(var f=0;f<b.length;f++)if(!w(b[f]))throw new F(\"store name at \"+f+\" must be string but found \"+typeof b[f]);}else throw new F(\"store names must be an array\");else e=null;if(this.a&&this.a.La()&&!this.Ba){var g=this,h=t(c)?c:jb;h==kb&&(this.Ba=!0);this.a.wa(function(b){a(b);a=null},e,h,function(a,b){ea(d)&&(d(a,b),d=void 0);h==kb&&(g.Ba=!1);Td(g)})}else Vd(this,","a,e,c,d)};l.cb=function(a){K(this.c,\"Encryption option for \"+a.getName()+\" ignored.\")};l.lb=function(){return!1};l.toString=function(){return\"Storage:\"+this.a};U.prototype.close=U.prototype.Ib;U.prototype.getType=U.prototype.Na;U.prototype.getName=U.prototype.getName;U.prototype.getSchema=U.prototype.I;U.prototype.onReady=U.prototype.Ea;U.prototype.setName=U.prototype.m;U.prototype.transaction=U.prototype.pa;na(\"ydn.db.version\",\"0.8.10\");na(\"ydn.db.cmp\",H);na(\"ydn.db.deleteDatabase\",function(a,b){for(var c,d=0;d<zb.length;d++){var e=zb[d](a,b);e&&(c=e)}return c||Vc(\"IDBVersionChangeEvent \",null)});Eb.prototype.name=Eb.prototype.name;","Eb.prototype.getVersion=Eb.prototype.Jb;Eb.prototype.getOldVersion=Eb.prototype.wb;Eb.prototype.getOldSchema=Eb.prototype.vb;Fb.prototype.getError=Fb.prototype.a;O.prototype.abort=O.prototype.abort;O.prototype.canAbort=O.prototype.sb;O.prototype.progress=O.prototype.w;O.prototype.promise=O.prototype.Hb;function Wd(a,b,c,d){Ab.call(this);this.a=c;this.J=c.getName();this.H=void 0;this.e=!1;this.o=null;this.i=a;this.Fa=b;this.ba=this.B=!1;this.r=d||4;this.l=this.d=this.b=void 0;this.w=function(){throw new fb;};this.I=function(){throw new fb;};this.na=function(){}}z(Wd,Ab);l=Wd.prototype;","l.bb=function(a,b,c,d,e){if(t(b)){a=this.a;var f,g=b;if(u(b)){a:{for(f=0;f<a.a.length;f++)if(!dd(a.a[f].keyPath,b)){f=a.a[f];break a}f=null}g=b.join(\", \")}else f=jd(a,b);if(!f)throw new F('require index \"'+g+'\" not found in store \"'+a.getName()+'\"');this.H=f.getName()}this.e=w(this.H);this.o=c||null;this.ba=this.B=!1;this.reverse=\"prev\"==d||\"prevunique\"==d;this.unique=\"nextunique\"==d||\"prevunique\"==d;this.S=d;this.ma=e;this.l=this.d=this.b=void 0};l.S=\"\";l.o=null;l.unique=!1;l.reverse=!1;l.ma=!0;","l.c=N(\"ydn.db.core.req.AbstractCursor\");function Xd(a,b){a.I(b);Yd(a);a.B=!0}l.P=function(a,b,c){null==a&&(L(this.c,this+\" finished.\"),this.B=!0);this.b=a;this.d=b;this.l=c;this.B?(M(this.c,this+\" DONE.\"),this.w(),Yd(this)):(M(this.c,this+\" new cursor position {\"+(this.e?this.b+\", \"+this.d:this.b)+\"}\"),this.w(this.b))};l.toString=function(){return\"Cursor:\"+this.J+(t(this.H)?\":\"+this.H:\"\")+\"[\"+(this.i?\"\":\"~\")+this.Fa+\"]\"};","function Yd(a){null!=a.d?a.d=Ib(a.d):a.d=void 0;null!=a.b?a.b=Ib(a.b):a.b=void 0;a.na(a.ba,a.b,a.d)}function Zd(a){a.ba=!0;M(a.c,a+\": exit\");Yd(a)}l.T=function(){return this.e?this.d:this.b};l.ra=function(){return this.ma?this.T():this.l};l.qa=function(){};l.ka=function(){};function $d(a,b,c){M(a.c,a+\" restarting\");a.B=!1;a.ba=!1;a.openCursor(c,b)};function ae(){};function V(a,b,c,d,e,f,g){if(!w(a))throw new TypeError(\"store name must be a string, but \"+a+\" found.\");this.g=a;this.a=b;this.i=g;this.e=!!this.a;if(t(d)&&!ca(d))throw new F(\"reverse value must be a boolean, but \"+typeof d+\" found\");if(t(e)&&!ca(e))throw new F(\"unique value must be a boolean, but \"+typeof e+\" found\");if(t(f)&&!ca(f))throw new F(\"key_only value must be a boolean, but \"+typeof f+\" found\");this.d=t(f)?f:!!w(this.a);a=\"next\";d&&e?a=\"prevunique\":d?a=\"prev\":e&&(a=\"nextunique\");this.l=","a;if(d=Ob(c))throw new F(\"Invalid key range: \"+d);this.b=Lb(c);this.f=be}z(V,ae);V.prototype.d=!0;function ce(a,b,c){if(3<arguments.length)throw new F(\"too many argument\");V.call(this,a,void 0,b,c,void 0,!1)}z(ce,V);function de(a,b,c,d,e){if(!w(b))throw new F(\"index name must be string\");V.call(this,a,b,c,d,e,!1)}z(de,V);var be=\"init\";l=V.prototype;l.c=N(\"ydn.db.Iterator\");l.h=function(){return this.g};l.Ca=function(){return this.b};","function ee(a){return a.b?a.b instanceof Nb?a.b:Nb.bound(a.b.lower,a.b.upper,a.b.lowerOpen,a.b.upperOpen):null}l.clone=function(){return new V(this.g,this.a,this.b,fe(this),ge(this),this.d,this.i)};l.unique=function(a){return new V(this.g,this.a,this.b,fe(this),a,this.d,this.i)};function he(a){return new V(a.g,a.a,a.b,fe(a),ge(a),a.d,a.i)}l.toJSON=function(){return{store:this.g,index:this.a,keyRange:this.b?Jb(this.b):null,direction:this.l}};","l.toString=function(){var a=t(this.i)?\":\"+this.i.join(\",\"):t(this.a)?\":\"+this.a:\"\",b;if(b=this.b){var c=b.lowerOpen?\"(\":\"[\";null!=b.lower&&(c+=b.lower+\", \");null!=b.upper&&(c+=b.upper);b=c+=b.upperOpen?\")\":\"]\"}else b=\"\";a+=b;this.f!=be&&(a+=this.f+\"{\"+this.m,this.e&&(a+=\", \"+this.r),a+=\"}\");b=this.e?\"Index\":\"\";b+=this.d?\"Key\":\"Value\";return b+\"Iterator:\"+this.g+a};l.reverse=function(){return new V(this.g,this.a,this.b,!fe(this),ge(this),this.d,this.i)};","function fe(a){return\"prev\"===a.l||\"prevunique\"===a.l}function ge(a){return\"nextunique\"===a.l||\"prevunique\"===a.l}l.load=function(a){a=a[0];a.bb(this.g,this.i||this.a,this.b,this.l,this.d);this.f=\"busy\";var b=this;a.na=function(a,d,e){b.m=d;b.r=e;b.f=a?\"rest\":\"done\"};a.openCursor(this.m,this.r);return a};function ie(a,b,c,d){b=b||be;\"busy\"==a.f?K(a.c,a+\": resetting state to \"+b+\" ignore during iteration\"):(a.m=c,a.r=d,a.f=b)}l.stores=function(){return[this.g]};function je(a){if(null!=a&&!(\"push\"in a))throw new Jd('output receiver object must have \"push\" method.');this.d=a||null;this.a=!1}je.prototype.c=N(\"ydn.db.algo.AbstractSolver\");","function ke(a,b){a.a=fe(b[0]);for(var c=0;c<b.length;c++){if(!(b[c]instanceof V))throw new bb(\"item at iterators \"+c+\" is not an iterator.\");if(0<c&&a.a!=fe(b[c]))throw new bb(\"iterator at \"+c+\" must \"+(a.a?\"be reverse\":\"not be reverse\"));}for(var d=\"{\",c=0;c<b.length;c++)0<c&&(d+=\", \"),d+=b.toString();d+=\"}\";a.a&&(d+=\" reverse\");Mc(a.c,a+\" begin \"+d);return!1}je.prototype.b=function(){return[]};function le(a){Error.captureStackTrace?Error.captureStackTrace(this,le):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ConstraintError\"}z(le,Error);le.prototype.name=\"ConstraintError\";function me(a){Error.captureStackTrace?Error.captureStackTrace(this,me):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.db.InvalidKeyException\"}z(me,Error);","function ne(a){Error.captureStackTrace?Error.captureStackTrace(this,ne):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.db.VersionError\"}z(ne,Error);ne.prototype.name=\"ydn.db.VersionError\";function Tc(a){Error.captureStackTrace?Error.captureStackTrace(this,Tc):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"InvalidStateError\"}z(Tc,Error);","function oe(a){Error.captureStackTrace?Error.captureStackTrace(this,oe):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"InvalidAccessError\"}z(oe,Error);function pe(a){Error.captureStackTrace?Error.captureStackTrace(this,pe):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"NotFoundError\"}z(pe,Error);pe.prototype.name=\"NotFoundError\";","function qe(a,b){Error.captureStackTrace?Error.captureStackTrace(this,qe):this.stack=Error().stack||\"\";b&&(this.message=String(b));this.message+=\" :\"+a.message+\" [\"+a.code+\"]\";this.name=\"SQLError\"}z(qe,Error);function re(a,b){Error.captureStackTrace?Error.captureStackTrace(this,re):this.stack=Error().stack||\"\";b&&(this.message=String(b));this.message+=\" :\"+a.message;this.name=\"SecurityError\"}z(re,Error);","function se(a){Error.captureStackTrace?Error.captureStackTrace(this,se):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.db.TimeoutError\"}z(se,Error);function te(a,b){this.a=b}te.prototype.c=N(\"ydn.db.crud.req.RequestExecuto\");te.prototype.toString=function(){return\"RequestExecutor\"};function ue(a,b,c,d,e,f){this.Fa=a;this.yb=b;this.b=this.d=0;this.I=d;this.B=e;this.f=c||ve;this.w=f||0;this.ba=null;this.l=!1;this.m=0}l=ue.prototype;l.c=N(\"ydn.db.tr.Thread\");l.kb=function(a){if(\"complete\"==a||\"abort\"==a)this.l?(M(this.c,\"tx \"+this.d+\" committed\"),this.l=!1):(M(this.c,\"Generator done \"+this.l),P(this.ba,this.d,\"complete\"!=a))};","function we(a,b){a.l?(M(a.c,\"waiting tx to be committed for yielding \"+a.m),setTimeout(function(){a.X(function(){M(a.c,\"sending result to yield \"+a.m);a.r.next(b)},a.I,a.B,ja(a.kb,a))},4)):(M(a.c,\"sending result to yield \"+a.m),a.r.next(b));a.m++}l.request=function(a){a=new O(a);this.r&&Ya(a,function(a){we(this,a)},function(a){var c=a;a instanceof Error||(c=Error(),c.error=a);we(this,c)},this);return a};l.type=function(){return this.Fa.Na()};l.j=function(){return this.Fa};","l.v=function(){return\"B\"+this.yb+\"T\"+this.d};var ve=\"single\";function xe(a){if(a)if(ea(a.abort))a.abort();else if(ea(a.executeSql))a.executeSql(\"ABORT\",[],null,function(){return!0});else throw new cb;else throw new Tc(\"No active transaction\");};function ye(a){this.e=a;this.a=null;this.b=0}ye.prototype.c=N(\"ydn.db.tr.Mutex\");ye.prototype.K=null;ye.prototype.G=null;ye.prototype.toString=function(){return\"Mutex:\"+(\"B\"+this.e+\"T\"+this.b)+(this.a?\"*\":\"\")};function ze(a,b,c,d,e,f){ue.call(this,a,b,c,d,e,f);this.e=[];this.g=[];this.i=null;this.a=new ye(b);this.A=f||0;this.na=!1}z(ze,ue);l=ze.prototype;l.c=N(\"ydn.db.tr.Serial\");","function Ae(a,b,c){if(\"multi\"==a.f)a:if(a=a.a,!a.K||!a.mode||c!=a.mode&&(a.mode!=G||c!=jb)||b.length>a.K.length)b=!1;else{for(c=0;c<b.length;c++)if(-1==a.K.indexOf(b[c])){b=!1;break a}b=!0}else if(\"repeat\"==a.f)a:if(a=a.a,a.K&&a.mode&&c==a.mode&&a.K.length==b.length){for(c=0;c<b.length;c++)if(-1==a.K.indexOf(b[c])){b=!1;break a}b=!0}else b=!1;else b=\"all\"==a.f?!0:!1;return b}function Be(a){var b=0<a.e.length?a.e[0].K:null,c=0<a.e.length?a.e[0].mode:null;return null!=b&&null!=c?Ae(a,b,c):!1}","function Ce(a,b,c,d,e){M(a.c,\"push tx queue[\"+a.e.length+\"]\");a.e.push({xa:b,K:c,mode:d,G:e})}l.abort=function(){L(this.c,this+\": aborting\");xe(this.i)};","l.X=function(a,b,c,d){var e=w(b)?[b]:b;if(v(e)){if(0==e.length)throw new F(\"number of store names must more than 0\");for(var f=0;f<e.length;f++){if(!w(e[f]))throw new F(\"store name at \"+f+\" must be string but found \"+e[f]+\" of type \"+typeof e[f]);if(this.Ab&&!(0<=Ga(this.Ab,e[f])))throw new F('store name \"'+f+e[f]+'\" in scope of '+this);}}else throw new F(\"store names must be an array\");var g=t(c)?c:jb,h=this;if(this.a.a||!Ud(this.j())&&this.na)Ce(this,a,b,g,d);else{var k=this.v();d&&this.g.push(d);","if(this.A&&this.d>=this.A)throw new eb(\"Exceed maximum number of transactions of \"+this.A);this.na=!0;this.j().pa(function(c){var d=h.a;d.a=c;d.d=!1;d.K=b;d.mode=g;d.b++;d.G=null;k=h.v();Mc(h.c,k+\" BEGIN \"+S(b)+\" \"+g);a(h);for(a=null;Be(h);)c=h.e.shift(),c.G&&h.g.push(c.G),M(h.c,\"pop tx queue\"+(h.e.length+1)+\" reusing T\"+h.d),c.xa()},e,g,function(a,b){Mc(h.c,k+\" \"+a);var c=h.a;c.a?(c.a=null,c.K=null,c.mode=null,ea(c.G)&&c.G(a,b),c.G=null):K(c.c,c+\" has no TX to be unlocked for \"+a);for(c=0;c<h.g.length;c++)(0,h.g[c])(a,","b);h.g.length=0;(c=h.e.shift())&&h.X(c.xa,c.K,c.mode,c.G);h.b=0})}};l.v=function(){return\"B\"+this.a.e+\"T\"+this.a.b};l.request=function(a,b,c,d){var e=ze.t.request.call(this,a,b,c,d);a=c||jb;var f=this;this.a.a&&!this.a.d&&Ae(this,b,a)?(b=this.a.a,this.b++,Rc(e,b,this.v()+\"R\"+this.b),d&&this.g.push(d)):f.X(function(){var a=f.a.a;f.b++;Rc(e,a,f.v()+\"R\"+f.b)},b,a,d);return e};","l.Z=function(a,b,c,d,e){d=d||jb;var f=this,g;if(f.a.a&&!f.a.d&&Ae(this,c,d)){var h=f.a.a;f.b++;g=f.v()+\"R\"+f.b;L(f.c,g+\" BEGIN\");b(h,g,function(b,c){f.i=h;c?(L(f.c,g+\" ERROR\"),a.k(b)):(L(f.c,g+\" SUCCESS\"),a.n(b));f.i=null});L(f.c,g+\" END\");b=null}else f.X(function(){var c=f.a.a;f.b++;g=f.v()+\"R\"+f.b;L(f.c,g+\" BEGIN\");b(c,g,function(b,d){f.i=c;d?(L(f.c,g+\" ERROR\"),a.k(b)):(L(f.c,g+\" SUCCESS\"),a.n(b));f.i=null});L(f.c,g+\" END\");b=null},c,d,e)};l.getName=function(){return this.j().getName()};","l.toString=function(){return\"Serial:\"+this.v()+(this.i?\"*\":\"\")};function De(a,b){ze.call(this,a,b)}z(De,ze);De.prototype.c=N(\"ydn.db.tr.AtomicSerial\");De.prototype.request=function(a,b,c){var d,e,f,g=De.t.request.call(this,a,b,c,function(a,b){g.a=null;if(d)\"complete\"!=a&&(f=!0,e=b),d(e,f);else{var c=new se;P(g,c,!0)}});Uc(g,function(a,b,c){f=b;e=a;d=c});return g};","De.prototype.Z=function(a,b,c,d,e){var f,g,h=new E;Ya(h,function(a){g=!1;f=a},function(a){g=!0;f=a});De.t.Z.call(this,h,b,c,d,function(b,c){if(\"complete\"!=b)a.k(c);else if(!0===g)a.k(f);else if(!1===g)a.n(f);else{var d=new se;a.k(d)}e&&(e(b,c),e=void 0)})};De.prototype.toString=function(){return\"Atomic\"+De.t.toString.call(this)};function Ee(a,b,c,d){this.e=a;this.b=b;this.a=c;this.f=d;this.d=null}l=Ee.prototype;l.c=N(\"ydn.db.tr.DbOperator\");l.Kb=function(){return this.a.d};l.abort=function(){this.a.abort()};function W(a){if(!a.d){var b;b=a.e;var c=b.Na();if(\"indexeddb\"==c)b=new Fe(0,b.b);else if(\"websql\"==c)b=new Ge(0,b.b);else if(\"memory\"==c||\"localstorage\"==c||\"sessionstorage\"==c)b=new He(0,b.b);else throw new fb(\"No executor for \"+c);a.d=b}return a.d}l.j=function(){return this.e};","function Ie(a,b){var c=a.j(),d=b instanceof fd?b:gd(b),e=b.name,f=T(c.b,e);if(0==td(d,f).length)$a(!1);else if(f=f?\"update\":\"add\",c.b instanceof Hd)Id(c.b,d),c.a?(c.a.Ja(),c.a=null,Pd(c)):$a(!1);else throw new Ld(\"Cannot \"+f+\" store: \"+e+\". Not auto schema generation mode.\");}l.toString=function(){return\"TxStorage:\"+this.j().getName()};function Je(a,b,c,d){Ee.call(this,a,b,c,d)}z(Je,Ee);l=Je.prototype;l.c=N(\"ydn.db.crud.DbOperator\");","l.count=function(a,b,c,d){var e,f,g,h;if(null!=a)if(u(a)){if(t(c)||t(b))throw new F(\"too many arguments.\");f=a;for(var k=0;k<f.length;k++)if(!Fd(this.b,f[k]))throw new F('store name \"'+f[k]+'\" at '+k+\" not found.\");L(this.c,\"countStores: \"+S(f));e=this.a.request(\"count\",f);Q(e,function(){W(this).ua(e,f)},this)}else if(w(a)){k=T(this.b,a);if(!k)throw new F('store name \"'+a+'\" not found.');if(t(d)&&!ca(d))throw new F('unique value \"'+d+'\" must be boolean, but found '+typeof d+\".\");f=[a];if(w(b))if(g=","b,y(c)){var n=Ob(c);if(n)throw new F(\"invalid key range: \"+zd(c)+\" \"+n);h=Lb(c)}else{if(null!=c)throw new F(\"invalid key range: \"+zd(c)+\" of type \"+typeof c);h=null}else if(y(b)||null==b)if(y(b)){if(n=Ob(b))throw new F(\"invalid key range: \"+zd(b)+\" \"+n);h=Lb(b)}else{if(null!=b)throw new F(\"key range must be  an object but found \"+zd(b)+\" of type \"+typeof b);h=null}else throw new F('invalid second argument for count \"'+zd(c)+'\" of type '+typeof b);L(this.c,\"countKeyRange: \"+a+\" \"+(g?g:\"\")+S(h));e=","this.a.request(\"count\",f);wd(k,e,arguments);Q(e,function(){W(this).Sa(e,f[0],h,g,!!d)},this)}else throw new F(\"Invalid store name or store names.\");else K(this.c,\"count method requires store name(s)\"),k=Ed(this.b),e=this.a.request(\"count\",k),Uc(e,function(a,b,c){if(b)c(a,!0);else{for(var d=b=0;d<a.length;d++)b+=a[d];c(b,!1)}},this),Q(e,function(){W(this).ua(e,f)},this);return e};","l.get=function(a,b){var c=this,d;if(a instanceof Hb){var e=a,f=e.h(),g=T(this.b,f);if(!g){if(this.b.M()){if(Ud(this.j()))return Vc(\"get\",void 0);d=new O(\"get\");this.j().Ea(function(){Ya(c.get(a,b),function(a){d.n(a)},function(a){d.k(a)})});return d}throw new F(\"Store: \"+f+\" not found.\");}var h=e.q;L(this.c,\"getByKey: \"+f+\":\"+h);d=this.a.request(\"get:key\",[f]);wd(g,d,arguments);Q(d,function(){W(this).ya(d,f,h)},this)}else if(w(a)&&t(b)){var k=a,g=T(this.b,k);if(!g){if(this.b.M()){if(Ud(this.j()))return Vc(\"get\",","void 0);d=new O(\"get\");this.j().Ea(function(){Ya(c.get(a,b),function(a){d.n(a)},function(a){d.k(a)})});return d}throw new F('Store name \"'+k+'\" not found.');}var n=b;L(this.c,\"getById: \"+k+\":\"+n);d=this.a.request(\"get\",[k]);wd(g,d,arguments);Q(d,function(){W(this).ya(d,k,n)},this)}else throw new F(\"get require valid input arguments.\");return d};","l.keys=function(a,b,c,d,e,f,g){var h,k,n=null,m=!1,p=!1,q=a,s=T(this.b,q);if(!w(q))throw new F(\"store name must be a string, but \"+q+\" of type \"+typeof q+\" is not.\");if(!this.b.M()){if(!s)throw new F('store name \"'+q+'\" not found.');if(w(b)&&!jd(s,b))throw new F('index \"'+b+'\" not found in store \"'+q+'\".');}if(this.b.M()&&!s)return Vc(\"keys\",[]);var x;if(w(b)){var A=b,C=Ob(c);if(C)throw new F(\"invalid key range: \"+c+\" \"+C);n=Lb(c);if(da(d))h=d;else{if(t(d))throw new F(\"limit must be a number\");h=","100}if(da(e))k=e;else{if(t(e))throw new F(\"offset must be a number\");k=0}if(t(f))if(ca(f))m=f;else throw new F(\"reverse must be a boolean\");if(t(g))if(ca(g))p=g;else throw new F(\"unique must be a boolean\");L(this.c,\"keysByIndexKeyRange: \"+q);x=this.a.request(\"keys:iter:index\",[q]);wd(s,x,arguments);Q(x,function(){W(this).da(x,2,q,A,n,h,k,m,p)},this)}else{if(y(b)){if(C=Ob(b))throw new F(\"invalid key range: \"+zd(b)+\" \"+C);n=Lb(b)}else{if(null!=b)throw new F(\"invalid key range: \"+zd(b)+\" of type \"+typeof b);","n=null}if(da(c))h=c;else{if(t(c))throw new F(\"limit must be a number\");h=100}if(da(d))k=d;else{if(t(d))throw new F(\"offset must be a number\");k=0}if(t(e))if(ca(e))m=e;else throw new F(\"reverse must be a boolean\");L(this.c,\"keysByKeyRange: \"+q);x=this.a.request(\"keys\",[q]);wd(s,x,arguments);Q(x,function(){W(this).da(x,2,q,null,n,h,k,m,!1)},this)}return x};","l.D=function(a,b,c,d,e,f,g){var h=this,k,n,m,p=!1,q=!1;if(w(a)){var s=a,x=T(this.b,s);if(!x){if(this.b.M()){if(Ud(this.j()))return Vc(\"values\",[]);k=new O(\"values\");this.j().Ea(function(){Ya(h.D(a,b,c,d,e,f),function(a){k.n(a)},function(a){k.k(a)})});return k}throw new pe(s);}if(u(b)){if(t(c)||t(d))throw new F(\"too many input arguments\");var A=b;L(this.c,\"listByIds: \"+s+\" \"+A.length+\" ids\");k=this.a.request(\"values:array\",[s]);wd(x,k,arguments);Q(k,function(){W(this).Va(k,s,A)},this)}else if(w(b)){var C=","b;if(!nd(x,C))throw new F('index \"'+C+'\" not found in store \"'+s+'\"');var B=Ob(c);if(B)throw new F(\"invalid key range: \"+c+\" \"+B);var D=Lb(c);if(t(d))if(da(d))n=d;else throw new F(\"limit must be a number.\");else n=100;if(t(e))if(da(e))m=e;else throw new F(\"offset must be a number.\");else m=0;if(ca(f))p=f;else if(t(f))throw new F(\"reverse must be a boolean, but \"+f);if(t(g))if(ca(g))q=g;else throw new F(\"unique must be a boolean\");L(this.c,\"listByIndexKeyRange: \"+s+\":\"+C);k=this.a.request(\"values:iter:index\",","[s]);wd(x,k,arguments);Q(k,function(){W(this).da(k,4,s,C,D,n,m,p,q)},this)}else{D=null;if(y(b)){if(B=Ob(b))throw new F(\"invalid key range: \"+b+\" \"+B);D=Lb(b)}else if(null!=b)throw new F('expect key range object, but found \"'+zd(b)+'\" of type '+typeof b);if(t(c))if(da(c))n=c;else throw new F(\"limit must be a number, but \"+c+\" is \"+typeof c);else n=100;if(t(d))if(da(d))m=d;else throw new F(\"offset must be a number, but \"+d+\" is \"+typeof d);else m=0;if(t(e))if(ca(e))p=e;else throw new F(\"reverse must be a boolean, but \"+","e+\" is \"+typeof e);L(this.c,(D?\"listByKeyRange: \":\"listByStore: \")+s);k=this.a.request(\"values\",[s]);wd(x,k,arguments);Q(k,function(){W(this).da(k,4,s,null,D,n,m,p,!1)},this)}}else if(u(a))if(a[0]instanceof Hb){for(var x=[],I=a,B=0;B<I.length;B++){var aa=I[B].h();if(!Fd(this.b,aa)){if(this.b.M())return x=[],x[I.length-1]=void 0,Vc(\"get\",x);throw new F(\"Store: \"+aa+\" not found.\");}0<=Ga(x,aa)||x.push(aa)}L(this.c,\"listByKeys: \"+S(x)+\" \"+I.length+\" keys\");k=this.a.request(\"values:keys\",x);Q(k,function(){W(this).Da(k,","I)},this)}else throw new F(\"first argumentmust be array of ydn.db.Key, but \"+a[0]+\" of \"+typeof a[0]+\" found.\");else throw new F(\"first argument \"+a+\" is invalid.\");return k};","l.add=function(a,b,c){var d=w(a)?a:y(a)?a.name:void 0;if(!w(d))throw new F(\"store name \"+d+\" must be a string, but \"+typeof d);var e=T(this.b,d);if(!e){if(!this.b.M())throw new F('store name \"'+d+'\" not found.');e=gd(y(a)?a:{name:d});L(this.c,\"Adding object store: \"+d);Ie(this,e)}else if(this.b.M()&&y(a)&&(a=gd(a),a=td(e,a)))throw new cb(a);var f;if(!e)throw new F('store name \"'+d+'\" not found.');if(w(e.keyPath)&&t(c))throw new F(\"key must not be provided while the store uses in-line key.\");if(!e.keyPath&&","!e.b&&!t(c))throw new F(\"out-of-line key must be provided.\");if(u(b)){L(this.c,\"addObjects: \"+d+\" \"+b.length+\" objects\");for(a=0;a<b.length;a++)ud(e,b[a]);f=this.a.request(\"add:array\",[d],G);Q(f,function(){W(this).U(f,!1,!1,d,b,c)},this);e.aa&&f.N(function(){this.j();e.getName();this.j()},this)}else if(y(b))a=\"store: \"+d+\" key: \"+qd(e,b,c),L(this.c,\"addObject: \"+a),ud(e,b),f=this.a.request(\"add\",[d],G),Q(f,function(){W(this).U(f,!1,!0,d,[b],[c])},this),e.aa&&f.N(function(){this.j();e.getName();this.j()},","this);else throw new F(\"record must be an object or array list of objects, but \"+b+\" of type \"+typeof b+\" found.\");return f};function Ke(a,b){var c=w(b)?b:y(b)?b.name:void 0;if(!w(c))throw new F(\"store name must be a string\");var d=T(a.b,c);if(!d){if(!a.b.M())throw new pe(c);d=gd(y(b)?b:{name:c});L(a.c,\"Adding object store: \"+c);Ie(a,d)}else if(a.b.M()&&y(b)){var e=gd(b);if(e=td(d,e))throw new cb(e);}if(!d)throw new pe(c);return d}","l.load=function(a,b,c){var d=c||\",\",e=Ke(this,a).getName();a=this.a.request(\"load\",[e]);var f=this;this.a.Z(a,function(a,c,k){W(f).Ya(a,c,k,e,b,d)},[e],G);return a};","l.put=function(a,b,c){var d,e=this;if(a instanceof Hb){var f=a,g=f.h(),h=T(this.b,g);if(!h)throw new F('store \"'+g+'\" not found.');if(h.keyPath){var k=qd(h,b);if(null!=k){if(0!=H(k,f.q))throw new F(\"Inline key must be \"+f+\" but \"+k+\" found.\");}else rd(h,b,f.q);return this.put(g,b)}return this.put(g,b,f.q)}if(u(a)){if(t(c))throw new F(\"too many arguments\");var n=a;if(!t(b))throw new F(\"record values required\");for(var m=b,f=[],g=0,h=n.length;g<h;g++){k=n[g].h();-1==Ga(f,k)&&f.push(k);var p=T(this.b,","k);if(!p)throw new F('store \"'+k+'\" not found.');p.keyPath&&rd(p,m[g],n[g].q)}L(this.c,\"putByKeys: to \"+S(f)+\" \"+m.length+\" objects\");for(g=0;g<m.length;g++)ud(p,m[g]);d=this.a.request(\"put:keys\",f,G);wd(p,d,arguments);Q(d,function(){W(e).Xa(d,m,n)},this)}else if(w(a)||y(a)){var p=Ke(this,a),q=p.getName();if(p.keyPath&&t(c))throw new F(\"key must not be provided while the store uses in-line key.\");if(!p.keyPath&&!p.b&&!t(c))throw new F(\"out-of-line key must be provided.\");if(u(b)){var s=b,x=c;L(this.c,","\"putObjects: \"+q+\" \"+s.length+\" objects\");for(g=0;g<s.length;g++)ud(p,s[g]);d=this.a.request(\"put:array\",[q],G);wd(p,d,arguments);Q(d,function(){W(this).U(d,!0,!1,q,s,x)},this);p.aa&&d.N(function(){this.j();this.j()},this)}else if(y(b)){var A=b,C=c;L(this.c,\"putObject: \"+q+\" \"+C);if(t(r.Blob)&&A instanceof Blob&&p.ea&&!p.keyPath&&0==p.a.length&&fc)d=new O(\"put\"),f=new FileReader,f.onload=function(a){var b=a.target.result,c=e.a.request(\"put\",[q],G);wd(p,c,[q,A,C]);Q(c,function(){W(e).U(c,!0,!0,q,[b],","[C])},this);Ya(c,function(a){d.n(a)},function(a){d.k(a)})},f.onerror=function(a){d.k(a)},f.onabort=function(a){d.k(a)},f.readAsDataURL(A);else{ud(p,A);d=this.a.request(\"put\",[q],G);var B=[q,A,C];wd(p,d,B);Q(d,function(){var a=t(C)?[B[2]]:void 0;W(e).U(d,!0,!0,q,[B[1]],a)},this)}p.aa&&d.N(function(){this.j();this.j()},this)}else throw new F(\"put record value must be Object or array of Objects\");}else throw new F(\"the first argument of put must be store name, store schema or array of keys.\");return d};","function Le(a,b){var c=[],d=b.length;if(0==d)return Vc(\"keys\",[]);for(var e=0;e<d;e++){var f=b[e].h();-1==Ga(c,f)&&c.push(f);if(!Fd(a.b,f))throw new pe(f);}var g=a.f.request(\"keys\",c);Q(g,function(){W(a).Da(g,b)},a);return g}","l.clear=function(a,b,c){if(t(c))throw new F(\"too many input arguments\");var d;if(w(a)){c=T(this.b,a);if(!c)throw new F('store name \"'+a+'\" not found.');if(y(b)){var e=Lb(b);if(null===e)throw new F(\"clear method requires a valid non-null KeyRange object.\");L(this.c,\"clearByKeyRange: \"+a+\":\"+S(e));d=this.a.request(\"clear\",[a],G);wd(c,d,[a,e]);Q(d,function(){W(this).Qa(d,a,e)},this)}else{if(t(b))throw new F(\"clear method requires a valid KeyRange object as second argument, but found \"+b+\" of type \"+","typeof b);L(this.c,\"clearByStore: \"+a);d=this.a.request(\"clear\",[a],G);Q(d,function(){W(this).ta(d,[a])},this)}}else if(!t(a)||u(a)&&w(a[0])){var f=a||Ed(this.b);L(this.c,\"clearByStores: \"+S(f));d=this.a.request(\"clear\",f,G);Q(d,function(){W(this).ta(d,f)},this)}else throw new F('first argument \"'+a+'\" is invalid.');return d};","l.Oa=function(a,b,c){var d;if(w(a)){var e=T(this.b,a);if(!e)throw new F('store name \"'+a+'\" not found.');if(t(c))if(w(b)){var f=jd(e,b);if(!f)throw new F(\"index: \"+b+\" not found in \"+a);if(y(c)||null===c){var g=Lb(c);L(this.c,\"removeByIndexKeyRange: \"+a+\":\"+f.getName()+\" \"+a);d=this.a.request(\"rm:iter:index\",[a],G);Q(d,function(){W(this).Za(d,a,f.getName(),g)},this)}else throw new F(\"key range \"+c+' is invalid type \"'+typeof c+'\".');}else throw new F('index name \"'+b+'\" must be a string, but '+typeof b+","\" found.\");else if(w(b)||da(b)||v(b)||b instanceof Date){L(this.c,\"removeById: \"+a+\":\"+b);d=this.a.request(\"rm\",[a],G);var h=[a,b];wd(e,d,h);Q(d,function(){W(this).Ga(d,a,h[1])},this);e.aa&&d.N(function(){this.j();this.j()},this)}else if(y(b))g=Lb(b),L(this.c,\"removeByKeyRange: \"+a+\":\"+S(g)),d=this.a.request(\"rm:iter\",[a],G),wd(e,d,[a,g]),Q(d,function(){W(this).Ha(d,a,g)},this),e.aa&&d.N(function(){this.j();this.j()},this);else throw new F('Invalid key or key range \"'+b+'\" of type '+typeof b);}else if(a instanceof","Hb){var k=a.h(),e=T(this.b,k);d=this.a.request(\"rm\",[k],G);var n=[k,a.q];wd(e,d,n);Q(d,function(){W(this).Ga(d,k,n[1])},this)}else if(u(a)){b=[];c=0;for(e=a.length;c<e;c++){if(!(a[c]instanceof Hb))throw new F(\"key list element at \"+c+\" of \"+e+' must be yn.db.Key, but \"'+zd(a[c])+'\" ('+ba(a[c])+\") is not ydn.db.Key.\");var m=a[c].h();-1==Ga(b,m)&&b.push(m)}if(1>b.length)throw new F('at least one valid key required in key list \"'+zd(a)+'\"');d=this.a.request(\"rm:keys\",b,G);Q(d,function(){W(this).$a(d,","a)},this)}else throw new F('first argument requires store name, key (ydn.db.Key) or list of keys (array) , but \"'+zd(a)+'\" ('+ba(a)+\") found.\");return d};l.toString=function(){return\"DbOperator:\"+this.j().getName()};function Me(a,b,c,d){Ee.call(this,a,b,c,d)}z(Me,Je);l=Me.prototype;l.c=N(\"ydn.db.core.DbOperator\");l.get=function(a,b){if(a instanceof V){var c=a.h(),d=T(this.b,c);if(!d)throw new F('store \"'+c+'\" not found.');var e=a.a;if(t(e)&&!nd(d,e))throw new F('index \"'+e+'\" not found in store \"'+c+'\".');L(this.c,\"getByIterator:\"+a);var f=this.a.request(\"get:iter\",[c]);Q(f,function(){Ne(this,5,f,a,1)},this);return f}return Me.t.get.call(this,a,b)};","l.keys=function(a,b,c,d,e,f,g){if(a instanceof V){var h=100;if(da(b)){if(h=b,1>h)throw new F(\"limit must be a positive value, but \"+b);}else if(t(b))throw new F(\"limit must be a number,  but \"+b);if(t(c))throw new F(\"offset must not be specified\");L(this.c,\"keysByIterator:\"+a);var k=this.a.request(\"keys:iter\",a.stores());Q(k,function(){a.e?Ne(this,1,k,a,h):Ne(this,2,k,a,h)},this);return k}return Me.t.keys.call(this,a,b,c,d,e,f,g)};","l.count=function(a,b,c){if(a instanceof V){if(t(b)||t(c))throw new F(\"too many arguments.\");L(this.c,\"countIterator:\"+a);var d=this.a.request(\"count\",a.stores());Q(d,function(){Ne(this,6,d,a)},this);return d}return Me.t.count.call(this,a,b,c)};","l.D=function(a,b,c,d,e,f){if(a instanceof V){var g;if(da(b)){if(g=b,1>g)throw new F(\"limit must be a positive value, but \"+g);}else if(t(b))throw new F(\"limit must be a number, but \"+b);if(t(c))throw new F(\"offset must not be specified\");L(this.c,\"listByIterator:\"+a);var h=this.a.request(\"values:iter\",a.stores());Q(h,function(){a.d?Ne(this,2,h,a,g):Ne(this,4,h,a,g)},this);return h}return Me.t.D.call(this,a,b,c,d,e,f)};","function Oe(a,b,c){if(t(c)){if(!u(c))throw new F(\"Iterator argument must be an array.\");for(var d=0;d<c.length;d++)if(!(c[d]instanceof V))throw new F(\"Iterator at \"+d+\" must be cursor range iterator.\");}var e;e=c?c:null;c=[];for(d=0;d<e.length;d++)for(var f=e[d].stores(),g=0;g<f.length;g++)0<=Ga(c,f[g])||c.push(f[g]);M(a.c,a+\": scan for \"+e.length+\" iterators on \"+c);d=a.a.request(\"scan\",c);a.a.Z(d,function(c,d,f){function g(){for(var b=0,f=0;f<e.length;f++){for(var m=e[f],n=m.stores(),s=[],x=0;x<","n.length;x++)s[x]=W(a).b(c,d,n[x]);m=m.load(s);m.I=p;m.w=ka(q,b);I[f]=m;C[b]=f;b++}A=e.length}function p(b){for(var c=0;c<I.length;c++)Zd(I[c]);Na(I);L(a.c,s+\" error\");f(b,!0)}function q(c,d){if(x)throw new Kd;aa++;var g=aa===A,h=C[c],k=e[h],m=I[h],h=m.T(),m=m.ra();B[c]=d;D[c]=k.e?k.d?h:m:k.d?d:m;if(g){var p;p=b instanceof je?b.b(B,D):b(B,D);g=[];k=[];h=[];m=[];if(u(p))for(var q=0;q<p.length;q++)!0===p[q]?h[q]=1:!1===p[q]?m[q]=!0:k[q]=p[q];else if(null===p)g=[];else if(t(p))if(y(p)){g=[\"advance\",","\"continue\",\"continuePrimary\",\"restart\"];for(q in p)if(!(0<=Ga(g,q)))throw new eb('Unknown attribute \"'+q+'\" in cursor advancement object');g=p.continuePrimary||[];k=p[\"continue\"]||[];h=p.advance||[];m=p.restart||[]}else throw new eb(\"scan callback output\");else for(g=[],q=0;q<e.length;q++)t(C[q])&&(h[q]=1);for(q=aa=p=0;q<e.length;q++)null!=g[q]||t(k[q])||null!=m[q]||null!=h[q]||aa++;for(q=0;q<e.length;q++)if(null!=g[q]||t(k[q])||null!=m[q]||null!=h[q]){var Xc=C[q];if(!t(Xc))throw new Md(q+\" is not an iterator.\");","var Xc=e[Xc],ob=I[q];if(null==B[q]){var Sd=q+\"/\"+e.length;if(null!=h[q])throw new Nd(ob+\" \"+Sd+\" must not advance \"+h[q]+\" steps\");if(t(k[q]))throw new Nd(ob+\" \"+Sd+\" must not continue to key \"+k[q]);if(null!=g[q])throw new Nd(ob+\" \"+Sd+\" must not continue to primary key \"+g[q]);}B[q]=void 0;D[q]=void 0;if(null!=m[q])$d(ob);else if(t(k[q]))ob.ka(k[q]);else if(null!=g[q])ob.qa(g[q]);else if(null!=h[q])ob.advance(1);else throw new Kd(Xc+\": has no action\");p++}if(0==p){for(q=0;q<I.length;q++)Zd(I[q]);","x=!0;Na(I);L(a.c,\"success \"+s);f(void 0)}}}var s=d+\" \"+a+\" scanning\";M(a.c,s);var x=!1,A,C=[],B=[],D=[],I=[],aa=0;b instanceof je?ke(b,e)||g():g()},c,jb);return d}","function Pe(a,b,c,d){if(!(c instanceof V))throw new F(\"Second argument must be cursor range iterator.\");if(!T(a.b,c.h()))throw new F('Store \"'+c.h()+'\" not found.');var e=G||jb,f=a.a.request(\"open\",c.stores(),e);L(a.c,\"open:\"+e+\" \"+c);Q(f,function(e){var h=R(f);L(a.c,h+\" iterating \"+c);for(var k=c.stores(),n=[],m=0;m<k.length;m++)n[m]=W(a).b(e,h,k[m]);var p=c.load(n);p.I=function(a){P(f,a,!0)};p.w=function(a){null!=a?(a=b.call(d,p),!0===a?$d(p):y(a)?!0===a.restart?$d(p,a[\"continue\"],a.continuePrimary):","null!=a[\"continue\"]?p.ka(a[\"continue\"]):null!=a.continuePrimary?p.qa(a.continuePrimary):(Zd(p),P(f,void 0)):p.advance(1)):(Zd(p),P(f,void 0))}},a);return f}","l.map=function(a,b){for(var c=this,d=a.stores(),e,f=0;e=d[f];f++)if(!e)throw new F('Store \"'+e+'\" not found.');e=this.a.request(\"map\",d);M(this.c,\"map:\"+a);this.a.Z(e,function(d,e,f){M(c.c,e+\" iterating \"+a);for(var n=a.stores(),m=[],p=0;p<n.length;p++)m[p]=W(c).b(d,e,n[p]);var q=a.load(m);q.I=function(a){f(a,!1)};q.w=function(c){null!=c?(c=a.e?a.d?c:q.T():a.d?c:q.ra(),b(c),q.advance(1)):(f(void 0),b=null)}},d,jb);return e};","function Qe(a,b,c,d){var e=c.h(),f=c.a||null,g=d||100;L(a.c,\"listIter:\"+b+\" \"+c+(d?\" limit=\"+g:\"\")+\"\");var h=a.a.request(\"values:iter:index\",[e]),k=\"done\"==c.f||c.f==be?[]:[c.m,c.r];Q(h,function(){W(this).da(h,b,e,f,ee(c),g,0,fe(c),ge(c),k)},a);h.N(function(){null!=k[0]?ie(c,\"rest\",k[0],k[1]):ie(c)});return h}","function Ne(a,b,c,d,e){var f=[],g=c.a,h=R(c),k=h+\" \"+b+\"ByIterator \"+d;0<e&&(k+=\" limit \"+e);L(a.c,k);for(var n=W(a),m=[],p=d.stores(),q=0;q<p.length;q++)m[q]=n.b(g,h,p[q]);var s=d.load(m);s.I=function(a){Zd(s);P(c,a,!0)};var x=0,A=!1;s.w=function(d){A||(M(a.c,k+\" starting\"),A=!0);null!=d?(s.T(),x++,1==b?f.push(d):2==b?f.push(s.T()):3==b?f.push([d,s.T()]):6!=b&&f.push(s.ra()),5==b?(Zd(s),P(c,f[0])):6==b||!t(e)||x<e?s.ka():(L(a.c,\"success:\"+k+\" yields \"+f.length+\" records\"),Zd(s),P(c,f))):(L(a.c,\"success:\"+","k+\" yields \"+f.length+\" records\"),Zd(s),P(c,5==b?f[0]:6==b?x:f))}};function Re(a,b,c,d){this.e=a;this.f=b;this.a=Oa(c);this.b=d;this.d=[]}Re.prototype.e=null;function Se(a,b,c){if(a.e)c&&a.d.push(c),b(a.e);else throw new fb(\"tx committed on ParallelTxExecutor\");}Re.prototype.toString=function(){return\"ParallelTxExecutor: txNo:\"+this.f+\" mode:\"+this.b+\" scopes:\"+S(this.a)};function Te(a,b,c,d,e,f){ue.call(this,a,b,c,d,e,f);this.e=this.a=null}z(Te,ue);l=Te.prototype;l.c=N(\"ydn.db.tr.Parallel\");l.abort=function(){L(this.c,this+\": aborting\");xe(this.e)};","l.pb=function(a,b){var c;if(\"multi\"==this.f)a:if(c=this.a,!c.a||!c.b||b!=c.b&&(c.b!=G||b!=jb)||a.length>c.a.length)c=!1;else{for(var d=0;d<a.length;d++)if(-1==c.a.indexOf(a[d])){c=!1;break a}c=!0}else if(\"repeat\"==this.f)a:if(c=this.a,c.a&&c.b&&b==c.b&&c.a.length==a.length){for(d=0;d<a.length;d++)if(-1==c.a.indexOf(a[d])){c=!1;break a}c=!0}else c=!1;else c=\"all\"==this.f?!0:!1;return c};","l.X=function(a,b,c,d){function e(c){k.d++;n=new Re(c,k.d,b,h);g=k.v();Mc(k.c,g+\" BEGIN \"+S(b)+\" \"+h);k.a=n;Se(k.a,a,d)}function f(a,b){Mc(k.c,g+\" \"+a);if(n){for(var c=n,d=0;d<c.d.length;d++)c.d[d](a,b);c.d.length=0;c.e=null;c.a=null;c.d=null}k.b=0}var g;this.I&&(b=this.I);this.B&&(c=this.B);var h=t(c)?c:jb,k=this,n;if(this.a&&this.a.e&&this.pb(b,h))Se(this.a,a,d);else{if(this.w&&this.d>=this.w)throw new eb(\"Exceed maximum number of transactions of \"+this.w);this.j().pa(e,b,h,f)}};","l.request=function(a,b,c,d){var e=Te.t.request.call(this,a,b,c,d),f=this;this.X(function(a){f.b++;Rc(e,a,f.v()+\"R\"+f.b)},b,c||jb,d);return e};l.Z=function(a,b,c,d,e){var f=this,g;this.X(function(c){f.b++;g=f.v()+\"R\"+f.b;L(f.c,g+\" BEGIN\");b(c,g,function(b,d){f.e=c;g=f.v()+\"R\"+f.b;d?(L(f.c,g+\" ERROR\"),a.k(b)):(L(f.c,g+\" SUCCESS\"),a.n(b));f.e=null});b=null;L(f.c,g+\" END\")},c,d,e)};l.toString=function(){return\"Parallel:\"+this.f+\":\"+this.v()+(this.e?\"*\":\"\")};function Ue(a,b){Te.call(this,a,b,ve)}z(Ue,Te);l=Ue.prototype;l.c=N(\"ydn.db.tr.AtomicParallel\");l.pb=function(){return!1};l.request=function(a,b,c){var d,e,f,g=this,h=Ue.t.request.call(this,a,b,c,function(a,b){h.a=null;L(g.c,\"transaction \"+a);if(d)\"complete\"!=a&&(f=!0,e=b),d(e,f);else{var c=new se;P(h,c,!0)}});Uc(h,function(a,b,c){f=b;e=a;d=c});return h};","l.Z=function(a,b,c,d,e){var f,g,h=new E;Ya(h,function(a){g=!1;f=a},function(a){g=!0;f=a});Ue.t.Z.call(this,h,b,c,d,function(b,c){if(\"complete\"!=b)a.k(c);else if(!0===g)a.k(f);else if(!1===g)a.n(f);else{var d=new se;a.k(d)}e&&(e(b,c),e=void 0)})};l.toString=function(){return\"Atomic\"+Ue.t.toString.call(this)};function Ve(a,b,c){U.call(this,a,b,c);this.ca=0;a=!0;b=ve;c&&(t(c.isSerial)&&(a=!!c.isSerial),c.policy&&(b=c.policy));c=We(this,b,a);this.g=We(this,\"atomic\",!1);this.d=this.ha(c,this.g)}z(Ve,U);l=Ve.prototype;l.ca=0;l.qb=function(a,b,c,d,e){var f;\"readonly\"==d?f=jb:\"readwrite\"==d&&(f=G);a=We(this,a,b,c,f,e);return this.ha(a,this.g)};l.ha=function(a,b){return new Ee(this,this.b,a,b)};","function We(a,b,c,d,e,f){if(c){if(\"multi\"==b||\"repeat\"==b||\"all\"==b||b==ve)return new ze(a,a.ca++,b,d,e,f);if(\"atomic\"==b)return new De(a,a.ca++);throw new F('Invalid requestType \"'+b+'\"');}if(\"multi\"==b||\"repeat\"==b||\"all\"==b||b==ve)return new Te(a,a.ca++,b,d,e,f);if(\"atomic\"==b)return new Ue(a,a.ca++);throw new F('Invalid requestType \"'+b+'\"');}","l.zb=function(a,b,c){if(3<arguments.length)throw new F(\"too many input arguments, run accept not more than 3 input arguments, but \"+arguments.length+\" found.\");this.ca++;var d=b||Ed(this.b),e=jb;if(c)if(\"readwrite\"==c)e=G;else if(\"readonly\"!=c)throw new F('Invalid transaction mode \"'+c+'\"');var f=We(this,\"all\",!1,d,e,1),g=this.ha(f,this.g),h=new O(\"run\"),k=this;f.X(function(b){M(k.c,\"executing run in transaction on \"+f);Rc(h,b,f.v()+\"R0\");a(g)},d,e,function(a){h.a=null;P(h,f.d,\"complete\"!==a)});return h};","l.Cb=function(a,b,c,d){if(3<arguments.length)throw new F(\"too many input arguments, run accept not more than 3 input arguments, but \"+arguments.length+\" found.\");this.ca++;var e=b||Ed(this.b),f=jb;if(c)if(\"readwrite\"==c)f=G;else if(\"readonly\"!=c)throw new F('Invalid transaction mode \"'+c+'\"');var g=We(this,\"all\",!1,e,f,d),h=this.ha(g,this.g),k=new O(\"run\"),n,m=this;g.X(function(b){M(m.c,\"executing run in transaction on \"+g);Rc(k,b,g.v()+\"R0\");b=a(h);g.r=b;g.ba=k;n=ja(g.kb,g);b.next()},e,f,function(a,","b){k.a=null;\"complete\"!=a&&\"abort\"!=a||n(a,b)});return k};l.Lb=function(){return this.d?this.d.a.d:NaN};function X(a,b,c){Ve.call(this,a,b,c);a=this.b;for(b=0;b<a.a.length;b++){c=a.a[b];var d=T(a,c.getName());if(d){if(!nd(d,\"k\"))throw new F('full text index store \"'+d.getName()+'\" must have \"keyword\" index');if(!nd(d,\"v\"))throw new F('full text index store \"'+d.getName()+'\" must have \"keyword\" index');if(\"id\"!=d.keyPath)throw new F('full text index store \"'+d.getName()+'\" must use \"id\" as key path.');}else throw new F('full text index store \"'+c.getName()+'\" required.');for(d=0;d<c.count();d++){var e=","c.index(d),f=T(a,e.h());if(f)K(this.c,\"Full text indexer option for \"+f.getName()+\" ignored.\");else throw new F('full text source store \"'+e.h()+'\" does not exist for full text index \"'+c.getName()+'\"');}}}z(X,Ve);l=X.prototype;l.ha=function(a,b){return new Je(this,this.b,a,b)};l.add=function(a,b,c){return this.d.add(a,b,c)};l.count=function(a,b,c,d){return this.d.count(a,b,c,d)};l.get=function(a,b){return this.d.get(a,b)};l.keys=function(a,b,c,d,e,f,g){return this.d.keys(a,b,c,d,e,f,g)};","l.D=function(a,b,c,d,e,f){return this.d.D(a,b,c,d,e,f)};l.load=function(a,b,c){return this.d.load(a,b,c)};l.put=function(a,b,c){return this.d.put(a,b,c)};l.clear=function(a,b,c){return this.d.clear(a,b,c)};l.Oa=function(a,b,c){return this.d.Oa(a,b,c)};l.toString=function(){var a=\"Storage:\"+this.getName();Ud(this)&&(a+=\" [\"+this.Na()+\"]\");return a};function Xe(a,b,c){X.call(this,a,b,c)}z(Xe,X);Xe.prototype.ha=function(a,b){return new Me(this,this.b,a,b)};Xe.prototype.map=function(a,b){return this.d.map(a,b)};function Ye(a,b,c,d){Wd.call(this,a,b,c,d);this.f=null}z(Ye,Wd);l=Ye.prototype;l.c=N(\"ydn.db.core.req.IDBCursor\");l.va=function(a){(a=a.target.result)?this.P(a.key,a.primaryKey,a.value):this.P()};","l.openCursor=function(a,b){function c(a,b,c){p.f=m;p.f.onsuccess=ja(p.va,p);p.P(a,p.e?b:void 0,c);m=null}var d=this+\" opening \";null!=a&&(d+=\"{\"+a,d=null!=b?d+(\";\"+b+\"}\"):d+\"}\");M(this.c,d);var e=this.o,d=this.i.objectStore(this.J),f=w(this.H)?d.index(this.H):null;if(t(a))var g=f?!t(b):!0,h=e?e.lower:void 0,k=e?e.upper:void 0,n=e?!!e.lowerOpen:!1,e=e?!!e.upperOpen:!1,e=Kb(this.reverse?new J(h,a,n,g):new J(a,k,g,e));var m;this.ma?f?m=null!=this.S?f.openKeyCursor(e,this.S):null!=e?f.openKeyCursor(e):","f.openKeyCursor():m=null!=this.S?d.openCursor(e,this.S):null!=e?d.openCursor(e):d.openCursor():f?m=null!=this.S?f.openCursor(e,this.S):null!=e?f.openCursor(e):f.openCursor():m=null!=this.S?d.openCursor(e,this.S):null!=e?d.openCursor(e):d.openCursor();var p=this;m.onerror=function(a){var b=m.error;a.preventDefault();Xd(p,b)};null!=a?m.onsuccess=function(d){if(d=d.target.result){var e=lb.cmp(d.key,a),f=p.reverse?-1:1;if(e==f)c(d.key,d.primaryKey,d.value);else if(e==-f)d[\"continue\"](a);else if(null!=","b)if(lb.cmp(d.primaryKey,b)==f)c(d.key,d.primaryKey,d.value);else d[\"continue\"]();else d[\"continue\"]()}else c()}:(p.f=m,p.f.onsuccess=ja(p.va,p))};l.Aa=function(){return!!this.f};l.update=function(a){var b=this.f.result;if(b){var c=new E;a=b.update(a);a.onsuccess=function(a){c.n(a.target.result)};a.onerror=function(a){a.preventDefault();c.k(a)};return c}throw new oe(\"cursor gone\");};","l.clear=function(){var a=this.f.result;if(a){var b=new E,a=a[\"delete\"]();a.onsuccess=function(){b.n(1)};a.onerror=function(a){a.preventDefault();b.k(a)};return b}throw new oe(\"cursor gone\");};l.advance=function(a){var b=this.f.result;if(1==a)b[\"continue\"]();else b.advance(a)};","l.qa=function(a){var b=this.f.result,c=lb.cmp(a,b.primaryKey);if(c!=(this.reverse?-1:1))throw new fb('continuing primary key \"'+a+'\" must '+(this.reverse?\"lower\":\"higher\")+' than current primary key \"'+b.primaryKey+'\"');var d=this;this.f.onsuccess=function(e){if(b=e.target.result)if(c=lb.cmp(b.primaryKey,a),0==c||1==c&&!d.reverse||-1==c&&d.reverse)d.f.onsuccess=ja(d.va,d),d.P(b.key,d.e?b.primaryKey:void 0,b.value);else b[\"continue\"]();else d.f.onsuccess=ja(d.va,d),d.P()};b[\"continue\"]()};","l.ka=function(a){var b=this.f.result;if(null!=a)b[\"continue\"](a);else b[\"continue\"]()};l.toString=function(){return\"IDB\"+Ye.t.toString.call(this)};function Ze(a,b){this.a=b}z(Ze,te);l=Ze.prototype;l.c=N(\"ydn.db.crud.req.IndexedDb\");l.ua=function(a,b){function c(e){var f=a.a.objectStore(b[e]).count();f.onsuccess=function(f){d[e]=f.target.result;e++;e==b.length?P(a,d):c(e)};f.onerror=function(b){b.preventDefault();P(a,f.error,!0)}}var d=[];0==b.length?P(a,[]):c(0)};","l.U=function(a,b,c,d,e,f){function g(s){if(null==e[s])if(M(m.c,\"empty object at \"+s+\" of \"+e.length),k++,k==e.length)P(a,h,n);else{var A=s+10;A<e.length&&g(A)}var C,A=e[s];C=null!=f?b?q.put(A,f[s]):q.add(A,f[s]):b?q.put(A):q.add(A);C.onsuccess=function(b){k++;h[s]=b.target.result;k==e.length?P(a,c?h[0]:h,n):(b=s+10,b<e.length&&g(b))};C.onerror=function(b){k++;var f=C.error;M(m.c,R(a)+p+' request to \"'+d+'\" cause '+f.name+' for object \"'+zd(e[s])+'\" at index '+s+\" of \"+e.length+\" objects.\");h[s]=f;","n=!0;b.preventDefault();k==e.length?P(a,c?h[0]:h,n):(b=s+10,b<e.length&&g(b))}}var h=[],k=0,n=!1,m=this,p=b?\"put\":\"add\",q=a.a.objectStore(d);M(this.c,R(a)+\" \"+p+\" \"+e.length+' objects to store \"'+d+'\"');if(0<e.length)for(var s=0;10>s&&s<e.length;s++)g(s);else P(a,[])};","l.Xa=function(a,b,c){function d(k){var m=c[k],p=m.h(),q=a.a.objectStore(p),s;s=null===q.keyPath?q.put(b[k],m.q):q.put(b[k]);s.onsuccess=function(c){f++;e[k]=c.target.result;f==b.length?P(a,e,g):(c=k+10,c<b.length&&d(c))};s.onerror=function(c){f++;K(h.c,\"request result \"+c.name+' error when put keys to \"'+p+'\" for object \"'+zd(b[k])+'\" at index '+k+\" of \"+b.length+\" objects.\");e[k]=s.error;g=!0;c.preventDefault();f==b.length?P(a,e,g):(c=k+10,c<b.length&&d(c))}}var e=[],f=0,g=!1,h=this;M(this.c,R(a)+","\" putByKeys: of \"+b.length+\" objects\");if(0<b.length)for(var k=0;10>k&&k<b.length;k++)d(k);else P(a,e,g)};","l.Ya=function(a,b,c,d,e,f){function g(){var a={},b=e.indexOf(\"\\n\",m),d=!1,s;-1==b?(d=!0,s=e.substring(m)):(s=e.substring(m,b),m=b+1);for(var b=s.split(f),D=0;D<p.length;D++){var I=b[D];q[D]&&(q[D]==Zc?I=za(I):\"INTEGER\"==q[D]?I=parseInt(I,10):\"NUMERIC\"==q[D]&&(I=parseFloat(I)));a[p[D]]=I}var aa=k.put(a);aa.onsuccess=function(a){n.push(a.target.result);d?c(n):g()};aa.onerror=function(a){\"DataError\"==a.name&&(a=new me(h+\": \"+s.substring(0,70)));a.preventDefault();c(aa.error,!0)}}var h=T(this.a,d),k=","a.objectStore(d),n=[],m=e.indexOf(\"\\n\"),p=e.substr(0,m).split(f),q=[];for(a=0;a<p.length;a++){var s=jd(h,p[a]);s?q[a]=s.type:p[a]==h.keyPath&&(q[a]=h.type)}m++;M(this.c,b+\" Loading data  of \"+p.length+\"-fields record to \"+d);g()};","l.Ga=function(a,b,c){var d=a.a.objectStore(b);M(this.c,R(a)+\" clearById: \"+b+\" \"+c);var e=d.openCursor(Nb.only(c));e.onsuccess=function(b){if(b=b.target.result){var c=b[\"delete\"]();c.onsuccess=function(){P(a,1)};c.onerror=function(){P(a,c.error,!0)}}else P(a,0)};e.onerror=function(b){b.preventDefault();P(a,e.error,!0)}};","l.$a=function(a,b){function c(h){h++;if(h>=b.length)0<g.length?P(a,g,!0):P(a,d);else{b[h].h()!=e&&(e=b[h].h(),f=a.a.objectStore(e));var k=f[\"delete\"](b[h].q);k.onsuccess=function(){d++;c(h)};k.onerror=function(a){a.preventDefault();g[h]=k.error;c(h)}}}var d=0,e,f;M(this.c,R(a)+\" removeByKeys: \"+b.length+\" keys\");var g=[];c(-1)};","l.Ha=function(a,b,c){var d=a.a.objectStore(b),e=d.count(c);M(this.c,R(a)+\" clearByKeyRange: \"+b+\" \"+c);e.onsuccess=function(b){var e=b.target.result,h=d[\"delete\"](c);h.onsuccess=function(){P(a,e)};h.onerror=function(){P(a,h.error,!0)}};e.onerror=function(b){b.preventDefault();P(a,e.error,!0)}};l.Qa=function(a,b,c){var d=a.a.objectStore(b);M(this.c,R(a)+\" \"+b+\" \"+c);var e=d[\"delete\"](c);e.onsuccess=function(){P(a,void 0)};e.onerror=function(b){b.preventDefault();P(a,e.error,!0)}};","l.Za=function(a,b,c,d){var e=a.a.objectStore(b).index(c);M(this.c,R(a)+\" clearByIndexKeyRange: \"+b+\":\"+c+\" \"+d);var f=[],g=e.openCursor(d),h=0;g.onsuccess=function(b){var c=b.target.result;if(c){var d=c[\"delete\"]();d.onsuccess=function(){h++;c[\"continue\"]()};d.onerror=function(a){f.push(d.error);a.preventDefault();c[\"continue\"]()}}else 0<f.length?P(a,f,!0):P(a,h)};g.onerror=function(b){b.preventDefault();P(a,g.error,!0)}};","l.ta=function(a,b){var c=b.length,d=0;M(this.c,R(a)+\" clearByStores: \"+b);for(var e=0;e<c;e++){var f=a.a.objectStore(b[e]).clear();f.onsuccess=function(){d++;d==c&&P(a,d)};f.onerror=function(b){d++;b.preventDefault();d==c&&P(a,f.error,!0)}}};","l.ya=function(a,b,c){var d=this;M(this.c,R(a)+b+\":\"+c);var e=a.a.objectStore(b),f=e.get(c);f.onsuccess=function(b){M(d.c,R(a)+\" record \"+c+(null!=b.target.result?\" \":\" not \")+\" exists.\");var f=b.target.result;if(!e.keyPath&&0==e.indexNames.length&&fc&&w(f)&&0<=f.indexOf(\";base64,\")){'\"'==f.charAt(0)&&'\"'==f.charAt(f.length-1)&&(f=f.substr(1,f.length-2));f=f.split(\";base64,\");b=f[0].split(\":\")[1];for(var f=window.atob(f[1]),k=f.length,n=new Uint8Array(k),m=0;m<k;++m)n[m]=f.charCodeAt(m);P(a,new Blob([n.buffer],","{type:b}))}else P(a,b.target.result)};f.onerror=function(b){b.preventDefault();P(a,f.error,!0)}};","l.Va=function(a,b,c){function d(b){if(null==c[b])if(f++,e[b]=void 0,f==h)P(a,e);else{var n=b+10;n<h&&d(n)}var m;m=g.get(c[b]);m.onsuccess=function(c){f++;e[b]=c.target.result;f==h?P(a,e):(c=b+10,c<h&&d(c))};m.onerror=function(b){f++;b.preventDefault();P(a,m.error,!0)}}var e=[];e.length=c.length;var f=0,g=a.a.objectStore(b),h=c.length;M(this.c,R(a)+\" \"+b+\":\"+h+\" ids\");if(0<h)for(b=0;10>b&&b<h;b++)d(b);else P(a,[])};","l.Da=function(a,b){function c(f){var h=b[f],k=a.a.objectStore(h.h()).get(h.q);k.onsuccess=function(h){e++;d[f]=h.target.result;e==b.length?P(a,d):(h=f+10,h<b.length&&c(h))};k.onerror=function(b){e++;b.preventDefault();P(a,k.error,!0)}}var d=[];d.length=b.length;var e=0;M(this.c,R(a)+\" \"+b.length+\" ids\");if(0<b.length)for(var f=0;10>f&&f<b.length;f++)c(f);else P(a,[])};","l.Sa=function(a,b,c,d,e){if(d&&e)throw new Md(\"unique count not available in IndexedDB\");e=a.a.objectStore(b);b=R(a)+\" \"+b+(d?\":\"+d:\"\")+(c?\":\"+S(c):\"\");M(this.c,b);var f;null!=d?(d=e.index(d),f=null!=c?d.count(c):d.count()):f=null!=c?e.count(c):e.count();f.onsuccess=function(b){P(a,b.target.result)};f.onerror=function(b){b.preventDefault();P(a,f.error,!0)}};","l.da=function(a,b,c,d,e,f,g,h,k,n){var m=[],p=a.a.objectStore(c),q=h?k?\"prevunique\":\"prev\":k?\"nextunique\":\"next\";c=R(a)+\" \"+b+\" \"+c+(d?\":\"+d:\"\")+(e?S(e):\"\");h&&(c+=\" reverse\");k&&(c+=\" unique\");if(n&&t(n[0])){k=d?!t(n[1]):!0;var s=n[0],x=e?e.lower:void 0,A=e?e.upper:void 0,C=e?!!e.lowerOpen:!1;e=e?!!e.upperOpen:!1;e=Kb(h?new J(x,s,C,k):new J(s,A,k,e));c+=\" starting from \"+S(n[0]);t(n[1])&&(c+=\", \"+S(n[1]))}M(this.c,c);var B;B=1==b||2==b||3==b?d?p.index(d).openKeyCursor(e,q):p.openCursor(e,q):d?p.index(d).openCursor(e,","q):p.openCursor(e,q);var D=!1;B.onsuccess=function(c){if(c=c.target.result){if(!D){if(0<g){D=!0;c.advance(g);return}if(n&&d&&t(n[0]))if(t(n[1])){var e=lb.cmp(c.key,n[0]),k=h?-1:1;if(0==e){e=lb.cmp(c.primaryKey,n[1]);if(0==e){D=!0;c[\"continue\"]();return}if(e==k)D=!0;else{c[\"continue\"]();return}}else D=!0}else D=!0;else D=!0}1==b?m.push(c.key):2==b?m.push(c.primaryKey):3==b?(k={},d&&(k[d]=c.key),p.keyPath?k[p.keyPath]=c.primaryKey:k._ROWID_=c.primaryKey,m.push(k)):4==b?m.push(c.value):m.push([c.key,","c.primaryKey,c.value]);if(m.length<f)c[\"continue\"]();else n&&(n[0]=Ib(c.key),n[1]=Ib(c.primaryKey)),P(a,m)}else n&&(n[0]=void 0,n[1]=void 0),P(a,m)};B.onerror=function(b){b.preventDefault();P(a,B.error,!0)}};function Fe(a,b){this.a=b}z(Fe,Ze);Fe.prototype.c=N(\"ydn.db.core.req.IndexedDb\");Fe.prototype.b=function(a,b,c,d){c=T(this.a,c);return new Ye(a,b,c,d)};function $e(){this.a=!1}$e.prototype.a=!1;function af(a,b,c,d){Wd.call(this,a,b,c,d);this.l=this.d=this.b=void 0;this.g=this.f=null;this.m=new $e;this.Ia=this.$=null}z(af,Wd);l=af.prototype;l.c=N(\"ydn.db.core.req.SimpleCursor\");l.Aa=function(){return!!this.i};l.update=function(a){bf(this.Ia,this.T(),a);return $a()};l.advance=function(a){function b(b){d++;if(!b||d>=a)return cf(c,b)}var c=this,d=this.f?-1:0;this.reverse?df(this.$,b,this.f):ff(this.$,b,this.f)};","l.ka=function(a){if(null!=a){var b=this,c=new Y(a),d=function(c){b.f=c;if(!c)return cf(b,c);var d=H(c.value.key,a);if(b.reverse){if(1!=d)return cf(b,c)}else if(-1!=d)return cf(b,c)};this.reverse?df(this.$,d,c):ff(this.$,d,c)}else this.advance(1)};function gf(a){setTimeout(function(){a.m.a?(a.m.a=!1,a.P(a.b,a.d,a.l),gf(a)):(a.g(),a.g=null)},4)}","function cf(a,b){if(a.f=b){var c=b.value;if(a.o)if(a.reverse||null==a.o.upper)a.reverse&&null!=a.o.lower&&(d=H(c.key,a.o.lower),-1==d||0==d&&a.o.lowerOpen)&&(a.f=null);else{var d=H(c.key,a.o.upper);if(1==d||0==d&&a.o.upperOpen)a.f=null}if(a.f){if(a.unique&&null!=a.b&&null!=c.key&&0==H(a.b,c.key))return;a.b=c.key;a.d=a.e?c.a:a.b;4==a.r&&(a.ma?a.l=a.d:a.l=hf(a.Ia,a.d))}}a.f||(a.b=void 0,a.d=void 0,a.l=void 0);return a.m.a=!0}","l.openCursor=function(a,b){var c=null;if(this.o)if(this.reverse){var d=this.e?\"\\uffff\":void 0;null!=this.o.upper&&(c=new Y(this.o.upper,d))}else null!=this.o.lower&&(c=new Y(this.o.lower));null!=a&&(c=this.e?new Y(a,b):new Y(a));this.g=this.i.j(function(b){function d(b){var e=b.value,f=e.key;if(b&&null!=f)if(null!=a){if(0==jf(c,e))return}else if(this.o&&(!this.reverse&&this.o.lowerOpen&&null!=this.o.lower&&(e=H(f,this.o.lower),0==e)||this.reverse&&this.o.upperOpen&&null!=this.o.upper&&(e=H(f,this.o.upper),","0==e)))return;return cf(this,b)}this.Ia=kf(b,this.J);this.$=lf(this.Ia,this.H);this.reverse?df(this.$,ja(d,this),c):ff(this.$,ja(d,this),c);gf(this)},this)};l.clear=function(){throw new db;};l.qa=function(){throw new db;};l.toString=function(){return\"Simple\"+af.t.toString.call(this)};function mf(a,b,c){a=[\"ydn.db\",a];t(b)&&(a.push(b),t(c)&&(a.push(c),t(void 0)&&a.push(qb(void 0))));return a.join(\"^|\")};function Y(a,b){this.key=a;this.a=b}Y.prototype.toString=function(){return\"ydn.db.con.simple.Node(\"+this.key+(null!=this.a?\", \"+this.a+\")\":\")\")};function jf(a,b){var c=H(a.key,b.key);return 0===c?null!=a.a?null!=b.a?H(a.a,b.a):1:null!=b.a?-1:0:c};function nf(a){this.F=a||of}function of(a,b){return String(a)<String(b)?-1:String(a)>String(b)?1:0}l=nf.prototype;l.C=null;l.F=null;l.W=null;l.V=null;","l.add=function(a){if(null==this.C)return this.V=this.W=this.C=new pf(a),!0;var b=null;qf(this,function(c){var d=null;0<this.F(c.value,a)?(d=c.left,null==c.left&&(b=new pf(a,c),c.left=b,c==this.W&&(this.W=b))):0>this.F(c.value,a)&&(d=c.right,null==c.right&&(b=new pf(a,c),c.right=b,c==this.V&&(this.V=b)));return d});b&&(qf(this,function(a){a.count++;return a.parent},b.parent),rf(this,b.parent));return!!b};","function sf(a,b){qf(a,function(a){var d=null;0<this.F(a.value,b)?d=a.left:0>this.F(a.value,b)?d=a.right:tf(this,a);return d})}l.clear=function(){this.V=this.W=this.C=null};l.contains=function(a){var b=!1;qf(this,function(c){var d=null;0<this.F(c.value,a)?d=c.left:0>this.F(c.value,a)?d=c.right:b=!0;return d});return b};function qf(a,b,c){for(c=c?c:a.C;c&&null!=c;)c=b.call(a,c)}","function rf(a,b){qf(a,function(a){var b=a.left?a.left.height:0,e=a.right?a.right.height:0;1<b-e?(a.left.right&&(!a.left.left||a.left.left.height<a.left.right.height)&&uf(this,a.left),vf(this,a)):1<e-b&&(a.right.left&&(!a.right.right||a.right.right.height<a.right.left.height)&&vf(this,a.right),uf(this,a));b=a.left?a.left.height:0;e=a.right?a.right.height:0;a.height=Math.max(b,e)+1;return a.parent},b)}","function uf(a,b){wf(b)?(b.parent.left=b.right,b.right.parent=b.parent):xf(b)?(b.parent.right=b.right,b.right.parent=b.parent):(a.C=b.right,a.C.parent=null);var c=b.right;b.right=b.right.left;null!=b.right&&(b.right.parent=b);c.left=b;b.parent=c;c.count=b.count;b.count-=(c.right?c.right.count:0)+1}","function vf(a,b){wf(b)?(b.parent.left=b.left,b.left.parent=b.parent):xf(b)?(b.parent.right=b.left,b.left.parent=b.parent):(a.C=b.left,a.C.parent=null);var c=b.left;b.left=b.left.right;null!=b.left&&(b.left.parent=b);c.right=b;b.parent=c;c.count=b.count;b.count-=(c.left?c.left.count:0)+1}","function tf(a,b){if(null!=b.left||null!=b.right){var c=null,d;if(null!=b.left){d=yf(a,b.left);qf(a,function(a){a.count--;return a.parent},d);if(d!=b.left){if(d.parent.right=d.left)d.left.parent=d.parent;d.left=b.left;d.left.parent=d;c=d.parent}d.parent=b.parent;d.right=b.right;d.right&&(d.right.parent=d);b==a.V&&(a.V=d)}else{d=zf(a,b.right);qf(a,function(a){a.count--;return a.parent},d);if(d!=b.right){if(d.parent.left=d.right)d.right.parent=d.parent;d.right=b.right;d.right.parent=d;c=d.parent}d.parent=","b.parent;d.left=b.left;d.left&&(d.left.parent=d);b==a.W&&(a.W=d)}d.count=b.count;wf(b)?b.parent.left=d:xf(b)?b.parent.right=d:a.C=d;rf(a,c?c:d)}else qf(a,function(a){a.count--;return a.parent},b.parent),wf(b)?(b.parent.left=null,b==a.W&&(a.W=b.parent),rf(a,b.parent)):xf(b)?(b.parent.right=null,b==a.V&&(a.V=b.parent),rf(a,b.parent)):a.clear()}function zf(a,b){if(!b)return a.W;var c=b;qf(a,function(a){var b=null;a.left&&(b=c=a.left);return b},b);return c}","function yf(a,b){if(!b)return a.V;var c=b;qf(a,function(a){var b=null;a.right&&(b=c=a.right);return b},b);return c}function pf(a,b){this.value=a;this.parent=b?b:null;this.count=1}pf.prototype.left=null;pf.prototype.right=null;pf.prototype.height=1;function xf(a){return!!a.parent&&a.parent.right==a}function wf(a){return!!a.parent&&a.parent.left==a};function Af(a){this.F=a||of}z(Af,nf);function ff(a,b,c){if(a.C){var d;if(c instanceof pf)d=c;else if(c){if(qf(a,function(a){var b=null;0<this.F(a.value,c)?(b=a.left,d=a):0>this.F(a.value,c)?b=a.right:d=a;return b}),!d)return}else d=zf(a);a=d;for(var e=d.left?d.left:d;null!=a;)if(null!=a.left&&a.left!=e&&a.right!=e)a=a.left;else{if(a.right!=e&&b(a))return;var f=a;a=null!=a.right&&a.right!=e?a.right:a.parent;e=f}b(null)}}","function df(a,b,c){if(a.C){var d;if(c instanceof pf)d=c;else if(c){if(qf(a,ja(function(a){var b=null;0<this.F(a.value,c)?b=a.left:(0>this.F(a.value,c)&&(b=a.right),d=a);return b},a)),!d)return}else d=yf(a);a=d;for(var e=d.right?d.right:d;null!=a;)if(null!=a.right&&a.right!=e&&a.left!=e)a=a.right;else{if(a.left!=e&&b(a))return;var f=a;a=null!=a.left&&a.left!=e?a.left:a.parent;e=f}b(null)}};function Bf(a,b,c){this.f=a;this.storage=b;this.b=c;this.a={};a=this.b.keyPath;this.d=u(a)?a.join(\",\"):a||\"_ROWID_\";this.a[this.d]=null;this.e=mf(this.f,this.b.getName(),this.d)+\"^|\"}","function lf(a,b){var c=b||a.d;if(!a.a[c]){a.a[c]=new Af(jf);for(var d=a.storage.length,e=0;e<d;e++){var f=a.storage.key(e);if(null!==f&&0==f.lastIndexOf(a.e,0)){var g=tb(f.substr(a.e.length));if(c==a.d)a.a[c].add(new Y(g));else{var h=a.storage.getItem(f);if(null!==h)if(f=jd(a.b,c),h=yd(h),h=$c(f,h),f.multiEntry){if(u(h))for(f=0;f<h.length;f++)a.a[c].add(new Y(h[f],g))}else a.a[c].add(new Y(h,g))}}}}return a.a[c]}","function Cf(a,b,c){for(var d in a.a){var e=a.a[d];if(e)if(d==a.d)sf(e,new Y(b));else{var f=jd(a.b,d),f=mb(c,f.keyPath);sf(e,new Y(b,f))}}}function Df(a){for(var b in a.a){var c=a.a[b];c&&c.clear()}a.a={}}","function bf(a,b,c,d){if(null==b&&(a.b.keyPath&&(b=qd(a.b,c)),a.b.b&&null==b)){b=a.e+qb(void 0);var e=yd(a.storage.getItem(b));e.key_count||(e.key_count=0);e.key_count++;a.storage.setItem(b,S(e));b=e.key_count}d&&(d=null!==a.storage.getItem(a.e+qb(b)));if(d)return null;a.storage.setItem(a.e+qb(b),S(c));d=b;for(var f in a.a)if(e=a.a[f])if(f==a.d)e.add(new Y(d));else{var g=jd(a.b,f),g=mb(c,g.keyPath);null!=g&&e.add(new Y(d,g))}return b}","function Ef(a,b){var c=a.e+qb(b),d=a.storage.getItem(c);if(null===d)return 0;a.storage.removeItem(c);c=yd(d);Cf(a,b,c);return 1}Bf.prototype.clear=function(){Df(this);Ff(this)};function hf(a,b){var c=a.storage.getItem(a.e+qb(b)),d=void 0;if(null!==c)for(var d=yd(c),c=0,e=a.b.a.length;c<e;c++){var f=a.b.index(c);if(\"DATE\"==f.type){var g=$c(f,d);g&&ad(f,d,new Date(g))}}return d}Bf.prototype.getName=function(){return this.b.getName()};","function Gf(a,b,c){b=b||a.d;a=lf(a,b);var d=null,e=null,f=0,g=!1,h=!1;null!=c&&(null!=c.lower&&(d=new Y(c.lower)),null!=c.upper&&(e=new Y(c.upper)),g=c.lowerOpen,h=c.upperOpen);ff(a,function(a){if(null!=a&&(a=a.value,!g||null==d||0!=H(a.key,d.key))){if(null!=e&&(a=H(a.key,e.key),1===a||0===a&&h))return!0;f++}},d);return f}","function Ff(a,b){var c=lf(a,a.d),d=null,e=null,f=0,g=[],h=[],k=!1,n=!1;null!=b&&(null!=b.lower&&(d=new Y(b.lower)),null!=b.upper&&(e=new Y(b.upper)),k=b.lowerOpen,n=b.upperOpen);ff(c,function(b){if(null!=b&&(b=b.value,!k||null==d||0!=jf(b,d))){if(null!=e){var c=jf(b,e);if(1===c||0===c&&n)return!0}var c=a.e+qb(b.key),q=a.storage.getItem(c);null!==q&&(a.storage.removeItem(c),f++,10>g.length&&(g.push(b.key),h.push(yd(q))))}},d);if(10>g.length)for(c=0;c<g.length;c++)Cf(a,g[c],h[c]);else Df(a);return f}","function Hf(a,b,c,d,e,f,g,h,k){function n(c){if(c&&(C++,!(C<g))){var d=c.value;if(e){if(D&&null!=A&&(c=q?jf(d,A):H(d.key,A.key),0==c))return;if(null!=x&&(c=q?jf(d,x):H(d.key,x.key),-1==c||0==c&&B))return k&&(k[0]=void 0,k[1]=void 0),!0}else{if(B&&null!=x&&(c=q?jf(d,x):H(d.key,x.key),0==c))return;if(null!=A&&(c=q?jf(d,A):H(d.key,A.key),1==c||0==c&&D))return k&&(k[0]=void 0,k[1]=void 0),!0}c=d.key;if(!h||!s||null==p||0!=H(p,c)){d=s?d.a:c;if(2==b)m.push(d);else if(1==b)m.push(c);else if(3==b)m.push([c,","d]);else if(4==b){var n=hf(a,d);m.push(n)}else m.push([c,d,hf(a,d)]);k&&(k[0]=c,k[1]=d)}p=c;if(t(f)&&m.length>=f)return!0}}var m=[],p,q=!!k&&null!=k[0];c=c||a.d;var s=c!=a.d;c=lf(a,c);var x=null,A=null;t(g)||(g=0);var C=-1,B=!1,D=!1;null!=d&&(null!=d.lower&&(x=s&&e?new Y(d.lower,\"\\uffff\"):new Y(d.lower)),null!=d.upper&&(A=s&&!e?new Y(d.upper,\"\\uffff\"):new Y(d.upper)),B=!!d.lowerOpen,D=!!d.upperOpen);if(q){e?D=!0:B=!0;d=k[0];var I=t(k[1])?k[1]:\"\\uffff\";e?A=s?new Y(d,I):new Y(d):x=s?new Y(d,I):new Y(d)}e?","df(c,n,A):ff(c,n,x);return m}Bf.prototype.ub=function(a,b){return Hf(this,2,a,b,void 0,void 0,void 0)};Bf.prototype.toString=function(){return\"ydn.db.con.simple.Store:\"+this.f+\":\"+this.b.getName()};function If(){this.clear()}l=If.prototype;l.Ra=function(){return this};l.setItem=function(a,b){t(this.a[a])||(this.keys.push(a.toString()),this.length=this.keys.length);this.a[a]=b};l.getItem=function(a){return t(this.a[a])?this.a[a]:null};l.removeItem=function(a){delete this.a[a];var b=this.keys;a=Ga(b,a.toString());0<=a&&Fa.splice.call(b,a,1);this.length=this.keys.length};l.length=0;l.key=function(a){a=this.keys[a];return t(a)?this.a[a]:null};","l.clear=function(){this.a={};this.keys=[];this.length=0};function Jf(a){this.g=a||new If;this.f={}}function kf(a,b){var c=T(a.a,b);if(c)a.f[b]||(a.f[b]=new Bf(a.d,a.e,c));else throw new fb('store name \"'+b+'\" not found.');return a.f[b]}Jf.prototype.L=function(a){var b=this;setTimeout(function(){var c=mf(b.d),c=b.e.getItem(c),c=new Dd(c);a(c)},10)};function Kf(a,b){this.b=a;this.a=b}Kf.prototype.j=function(a,b){var c=this.b;setTimeout(function(){a.call(b,c)},4);var d=this;return function(){d.a(\"complete\",null);d.a=null;d.b=null}};function Lf(a,b){this.a=b}z(Lf,te);l=Lf.prototype;l.c=N(\"ydn.db.crud.req.SimpleStore\");l.Xa=function(a,b,c){this.U(a,!0,!1,null,b,c)};","l.U=function(a,b,c,d,e,f){M(this.c,R(a)+\" \"+(b?\"put\":\"add\")+\"Object\"+(c?\"\":\"s \"+e.length+\" objects\"));var g=a.a.j(function(h){var k;if(c)k=kf(h,d),h=f?f[0]:void 0,h=bf(k,h,e[0],!b),null!=h?P(a,h):(k=zd(h),k=new le(k),P(a,k,!0));else{for(var n=d,m=[],p=!1,q=f||{},s=0;s<e.length;s++){var x;d?x=q[s]:(n=f[s],x=n.q,n=n.h());k&&k.getName()==n||(k=kf(h,n));x=bf(k,x,e[s],!b);null!=x?m.push(x):(p=!0,m.push(new le))}P(a,m,p)}g();g=null},this)};l.Ya=function(){throw new db(\"putData\");};","l.ya=function(a,b,c){var d=a.a.j(function(e){e=hf(kf(e,b),c);P(a,e);d();d=null},this)};function Mf(a,b,c,d){var e=b.a.j(function(a){for(var g=[],h=c,k,n=0;n<d.length;n++){var m=d[n];m instanceof Hb&&(h=m,m=h.q,h=h.h());k&&k.getName()==h||(k=kf(a,h));m=hf(k,m);g[n]=m}P(b,g,!1);e();e=null},a)}l.Va=function(a,b,c){Mf(this,a,b,c)};l.Da=function(a,b){Mf(this,a,null,b)};","l.Ga=function(a,b,c){var d=R(a)+\" removeById \"+b+\" \"+c;M(this.c,d);var e=this,f=a.a.j(function(g){g=Ef(kf(g,b),c);L(e.c,\"success \"+d+(0==g?\" [not found]\":\"\"));P(a,g);f();f=null},this)};l.$a=function(a,b){M(this.c,R(a)+\" removeByKeys \"+b.length+\" keys\");var c,d=0,e=a.a.j(function(f){for(var g=0;g<b.length;g++){var h=b[g].h(),k=b[g].q;c&&c.getName()==h||(c=kf(f,h));d+=Ef(c,k)}P(a,d);e();e=null},this)};l.Qa=function(a,b,c){this.Ha(a,b,c)};","l.Ha=function(a,b,c){var d=R(a)+\" removeByKeyRange \"+(c?S(c):\"\");M(this.c,d);var e=this,f=a.a.j(function(g){g=Ff(kf(g,b),c);L(e.c,d+\" deleted \"+g+\" records.\");P(a,g);f();f=null},this)};l.Za=function(a,b,c,d){var e=R(a)+\" removeByIndexKeyRange \"+(d?S(d):\"\");M(this.c,e);var f=a.a.j(function(e){e=kf(e,b);for(var h=e.ub(c,d),k=h.length,n=0;n<k;n++)Ef(e,h[n]);P(a,k);f();f=null},this)};","l.ta=function(a,b){var c=R(a)+\" clearByStores\";M(this.c,c);var d=a.a.j(function(e){for(var f=0;f<b.length;f++)kf(e,b[f]).clear();L(this.c,\"success \"+c);P(a,b.length);d();d=null},this)};l.ua=function(a,b){var c=a.a.j(function(d){for(var e=[],f=0;f<b.length;f++){var g=kf(d,b[f]);e.push(Gf(g))}P(a,e);c();c=null},this)};","l.Sa=function(a,b,c,d){var e=R(a)+\" count\"+(null!=d?\"Index\":\"\")+(null!=c?\"KeyRange\":\"Store\");M(this.c,e);var f=a.a.j(function(g){g=Gf(kf(g,b),d,c);L(this.c,\"success \"+e);P(a,g);f();f=null},this)};l.da=function(a,b,c,d,e,f,g,h,k,n){var m=R(a)+\" \"+c+\" \"+(e?zd(e):\"\");M(this.c,m);var p=a.a.j(function(q){q=Hf(kf(q,c),b,d,e,h,f,g,k,n);L(this.c,m+\" \"+q.length+\" records found.\");P(a,q);p();p=null},this)};function He(a,b){this.a=b}z(He,Lf);He.prototype.b=function(a,b,c,d){c=T(this.a,c);return new af(a,b,c,d)};function Nf(a,b,c,d){Wd.call(this,a,b,c,d);this.A=null;this.f=this.g=void 0}z(Nf,Wd);l=Nf.prototype;l.c=N(\"ydn.db.core.req.WebsqlCursor\");l.T=function(){return this.f};l.bb=function(a,b,c,d,e){Nf.t.bb.call(this,a,b,c,d,e);this.A=w(b)?jd(this.a,b):null};l.ra=function(){return this.m};","l.fa=function(a){this.m=this.f=this.g=void 0;if(t(a))if(y(a)){var b=bd(a[this.a.f],this.a.type);this.f=b;if(this.e){var c=jd(this.a,this.H);this.g=bd(a[this.H],c.type)}else this.g=b;this.m=this.ma?b:Of(a,this.a)}else this.m=a};","function Pf(a,b,c){jd(a.a,a.H);var d=[],e=a.H,f=a.o,g=a.g;if(null!=f){var h=f.lower,k=f.upper,n=f.lowerOpen,f=f.upperOpen;a.reverse?k=null!=k&&-1==H(k,g)?k:g:h=null!=h&&1==H(h,g)?h:g;f=null!=h&&null!=k?J.bound(h,k,!!n,!!f):null!=h?Nb.lowerBound(h,!!n):Nb.upperBound(k,!!f)}else f=a.reverse?Nb.upperBound(g):Nb.lowerBound(g);e=id(a.a,d,a.r,e,f,a.reverse,a.unique);c=a.reverse?Nb.upperBound(c,!1):Nb.lowerBound(c,!1);c=id(a.a,d,a.r,a.a.f,c,a.reverse,a.unique);e.p=e.p?e.p+(\" AND \"+c.p):c.p;c=\"SELECT \"+e.select+","\" FROM \"+e.O+(e.p?\" WHERE \"+e.p:\"\")+(e.group?\" GROUP BY \"+e.group:\"\")+\" ORDER BY \"+e.Q;c+=\" LIMIT 1\";M(a.c,a+\": continuePrimary:  SQL: \"+c+\" : \"+S(d));a.i.executeSql(c,d,function(c,d){0<d.rows.length?a.fa(d.rows.item(0)):a.fa();b.call(a,a.g,a.f,a.m);b=null},function(c,d){K(a.c,\"get error: \"+d.message);Xd(a,d);a.fa();b.call(a,a.f,a.g,a.m);b=null;return!1})}","function Qf(a,b,c,d,e,f){var g=!d;d=[];a.e&&null!=f&&null!=c?c=md(a.a,a.r,d,a.A.getName(),a.o,c,g,f,a.reverse,a.unique):null!=c?(f=a.A?a.A.getName():null,c=ld(a.a,a.r,d,f,a.o,a.reverse,a.unique,c,g)):(c=hd(a.a,d,a.r,a.e?a.A.e:a.a.f,a.o,a.reverse,a.unique),a.e&&(c+=\", \"+a.a.e+\" ASC\"));c+=\" LIMIT 1\";0<e&&(c+=\" OFFSET \"+e);M(a.c,a+\": continue:  SQL: \"+c+\" : \"+S(d));a.i.executeSql(c,d,function(c,d){0<d.rows.length?a.fa(d.rows.item(0)):a.fa();b.call(a,a.g,a.f,a.m);b=null},function(c,d){K(a.c,\"get error: \"+","d.message);Xd(a,d);a.fa();b.call(a,a.f,a.g,a.m);b=null;return!1})}l.Aa=function(){return!!this.i};l.update=function(a){if(!this.Aa())throw new oe;var b=new E,c=this.T();a=sd(this.a,a,c);var d=\"REPLACE INTO \"+kd(this.a)+\" (\"+a.gb.join(\", \")+\") VALUES (\"+a.nb.join(\", \")+\")\";M(this.c,this+': update \"'+d+'\" : '+S(a.D));this.i.executeSql(d,a.D,function(){b.n(c)},function(a,c){b.k(c);return!1});return b};","l.advance=function(a){var b=this.g,c=this.f,d=!0;null==this.g||this.e&&null==this.f||(a-=1,d=!1);Qf(this,function(a,d,g){var h=null!=b&&null!=a&&0==H(b,a);if(this.e){var k=null!=d&&null!=c&&0==H(d,c);if(h&&k)throw new fb(\"current: \"+b+\";\"+c+\" next: \"+a+\";\"+d);}else if(h)throw new fb(\"current: \"+b+\" next: \"+a);this.P(a,d,g)},this.g,d,a,this.f)};l.ka=function(a){null!=a?Qf(this,this.P,a,!0):this.advance(1)};l.openCursor=function(a,b){Qf(this,this.P,a,!1,0,b)};","l.clear=function(){if(!this.Aa())throw new oe;var a=new E,b=this.a.f,b=\"DELETE FROM \"+kd(this.a)+\" WHERE \"+b+\" = ?\",c=[this.T()];M(this.c,this+': clear \"'+b+'\" : '+S(c));this.i.executeSql(b,c,function(b,c){a.n(c.rowsAffected)},function(b,c){a.k(c);return!1});return a};l.qa=function(a){var b=H(a,this.f);if(0==b||1==b&&this.reverse||-1==b&&!this.reverse)throw new Nd(this+\" to continuePrimaryKey  from \"+this.f+\" to \"+a+\" on \"+this.S+\" direction is wrong\");Pf(this,this.P,a)};","l.toString=function(){return\"WebSql\"+Nf.t.toString.call(this)};function Rf(a,b){this.a=b}z(Rf,te);l=Rf.prototype;l.c=N(\"ydn.db.crud.req.WebSql\");","function Of(a,b){if(b.ea&&!b.keyPath&&0==b.a.length&&a._default_){var c=a._default_;if(-1==c.indexOf(\";base64,\"))return yd(c);'\"'==c.charAt(0)&&'\"'==c.charAt(c.length-1)&&(c=c.substr(1,c.length-2));for(var d=c.split(\";base64,\"),c=d[0].split(\":\")[1],d=window.atob(d[1]),e=d.length,f=new Uint8Array(e),g=0;g<e;++g)f[g]=d.charCodeAt(g);return new Blob([f.buffer],{type:c})}c=a._default_?yd(a._default_):{};null!=b.keyPath&&(d=bd(a[b.keyPath],b.type),null!=d&&rd(b,c,d));for(d=0;d<b.a.length;d++)e=b.index(d),","f=e.e,\"_default_\"==f||e.g||e.multiEntry||\"DATE\"!=e.type&&!b.ea||(f=bd(a[f],e.type),t(f)&&ad(e,c,f));return c}l.Ya=function(){throw new db(\"putData\");};","l.U=function(a,b,c,d,e,f){function g(b,d){if(null==e[b])if(M(n.c,\"empty object at \"+b+\" of \"+e.length),p++,p==e.length)L(n.c,q+\" success \"+q),P(a,m,s);else{var C=b+2;C<e.length&&g(C,d)}var B;B=t(f)?sd(h,e[b],f[b]):sd(h,e[b]);C=k+kd(h)+\" (\"+B.gb.join(\", \")+\") VALUES (\"+B.nb.join(\", \")+\");\";M(n.c,R(a)+\" SQL: \"+C+\" PARAMS: \"+B.D+\" REQ: \"+b+\" of \"+e.length);d.executeSql(C,B.D,function(f,q){function C(b,c){var e=\"ydn.db.me:\"+h.getName()+\":\"+b.getName(),e=k+Ca(e)+\" (\"+h.e+\", \"+b.d+\") VALUES (?, ?)\",f=[Qb(ma,","h.type),Qb(c,b.type)];M(n.c,R(a)+\" multiEntry \"+e+\" \"+f);d.executeSql(e,f,function(){},function(a,b){K(n.c,\"multiEntry index insert error: \"+b.message);return!1})}p++;var ma=t(B.key)?B.key:q.insertId;1>q.rowsAffected&&(s=!0,ma=new le(ma+\" no-op\"));for(var Ua=0,kc=h.a.length;Ua<kc;Ua++){var Ja=h.index(Ua);if(Ja.multiEntry)for(var Ra=mb(e[b],Ja.keyPath),ef=(Ra?Ra.length:0)||0,Rd=0;Rd<ef;Rd++)C(Ja,Ra[Rd])}c?P(a,ma):(m[b]=ma,p==e.length?P(a,m,s):(Ua=b+2,Ua<e.length&&g(Ua,f)))},function(d,f){p++;s=!0;","6==f.code?f.name=\"ConstraintError\":K(n.c,\"error: \"+f.message+\" \"+q);if(c)P(a,f,!0);else if(m[b]=f,p==e.length)M(n.c,\"success \"+q),P(a,m,s);else{var h=b+2;h<e.length&&g(h,d)}return!1})}b=!b;var h=T(this.a,d),k=b?\"INSERT INTO \":\"INSERT OR REPLACE INTO \";d=a.a;var n=this,m=[],p=0,q=R(a)+\" inserting \"+e.length+\" objects.\",s=!1;if(0<e.length)for(b=0;2>b&&b<e.length;b++)g(b,d);else L(this.c,\"success\"),P(a,[])};","l.Xa=function(a,b,c){if(0==c.length)P(a,[]);else{for(var d=[],e=0,f=0,g=this,h=function(h,k){var m=[];M(g.c,\"put \"+k.length+\" objects to \"+h);for(var n=pd(T(g.a,h)),p=n?void 0:[],q=0;q<k.length;q++)m.push(b[k[q]]),n||p.push(c[k[q]].q);n=Sc(a);Ya(n,function(b){for(var c=0;c<k.length;c++)d[k[c]]=b[c];e++;e==f&&P(a,d)},function(){e++;e==f&&P(a,d,!0)});g.U(n,!1,!1,h,m,p)},k=\"\",n=[],m=[],p=0;p<c.length;p++){var q=c[p].h(),s=c[p].q;q!=k?(f++,0<n.length&&h(k,n),n=[p],m=[s],k=q):(n.push(p),m.push(s))}0<n.length&&","h(k,n)}};l.ya=function(a,b,c){var d=a.a,e=T(this.a,b),f=this;b=e.e;c=[Qb(c,e.type)];b=\"SELECT * FROM \"+kd(e)+\" WHERE \"+b+\" = ?\";var g=R(a)+\" SQL: \"+b+\" PARAMS: \"+c;M(this.c,g);d.executeSql(b,c,function(b,c){if(0<c.rows.length){var d=c.rows.item(0);null!=d?(d=Of(d,e),P(a,d)):(L(f.c,\"success no result: \"+g),P(a,void 0))}else L(f.c,\"success no result: \"+g),P(a,void 0)},function(b,c){K(f.c,\"error: \"+g+\" \"+c.message);P(a,c,!0);return!1})};","l.Va=function(a,b,c){function d(b,e){var p=k.e,q=[Qb(c[b],k.type)],s=\"SELECT * FROM \"+kd(k)+\" WHERE \"+p+\" = ?\";M(f.c,\"SQL: \"+s+\" PARAMS: \"+q);e.executeSql(s,q,function(e,f){h++;if(0<f.rows.length){var m=f.rows.item(0);null!=m&&(g[b]=Of(m,k))}else g[b]=void 0;h==c.length?P(a,g):(m=b+10,m<c.length&&d(m,e))},function(e,k){h++;K(f.c,\"error: \"+s+\" \"+k.message);if(h==c.length)P(a,g);else{var m=b+10;m<c.length&&d(m,e)}return!1})}var e=a.a,f=this,g=[],h=0,k=T(this.a,b);if(0<c.length)for(b=0;10>b&&b<c.length;b++)d(b,","e);else L(f.c,\"success\"),P(a,[])};","l.Da=function(a,b){function c(d,h){var m=b[d],p=T(e.a,m.h()),q=u(m.q)?m.q.join(\"^|\"):m.q instanceof Date?+m.q:m.q,m=p.e,q=[Qb(q,p.type)],s=\"SELECT * FROM \"+kd(p)+\" WHERE \"+m+\" = ?\";M(e.c,\"SQL: \"+s+\" PARAMS: \"+q);h.executeSql(s,q,function(h,m){g++;if(0<m.rows.length){var n=m.rows.item(0);null!=n&&(f[d]=Of(n,p))}else f[d]=void 0;g==b.length?(M(e.c,\"success \"+s),P(a,f)):(n=d+10,n<b.length&&c(n,h))},function(b,c){P(a,c,!0);return!1})}var d=a.a,e=this,f=[],g=0;if(0<b.length)for(var h=0;10>h&&h<b.length;h++)c(h,","d);else M(this.c,\"success\"),P(a,[])};","l.ta=function(a,b){function c(d,g){function h(a){a=\"ydn.db.me:\"+k.getName()+\":\"+a.getName();a=\"DELETE FROM  \"+Ca(a);M(e.c,\"SQL: \"+a);g.executeSql(a,[])}var k=T(e.a,b[d]),n=\"DELETE FROM  \"+kd(k);M(e.c,\"SQL: \"+n+\" PARAMS: []\");g.executeSql(n,[],function(g){d==b.length-1?(M(e.c,\"success \"+n),P(a,b.length)):c(d+1,g)},function(b,c){P(a,c,!0);return!1});for(var m=0,p=k.a.length;m<p;m++){var q=k.index(m);q.multiEntry&&h(q)}}var d=a.a,e=this;0<b.length?c(0,d):(M(this.c,\"success\"),P(a,0))};","l.$a=function(a,b){function c(h){if(h>=b.length)P(a,f,g);else{var k=T(e.a,b[h].h()),n=Qb(b[h].q,k.type),m=\" WHERE \"+k.e+\" = ?\",p=\"DELETE FROM \"+kd(k)+m,q=R(a)+\" SQL: \"+p+\" PARAMS: \"+[n];d.executeSql(p,[n],function(){f++;c(h)},function(a,b){K(e.c,\"error: \"+q+b.message);g=!0;c(h);return!1});h++;for(var p=function(b){b=\"ydn.db.me:\"+k.getName()+\":\"+b.getName();b=\"DELETE FROM  \"+Ca(b)+m;M(e.c,R(a)+NaN+b);d.executeSql(b,[n])},s=0,x=k.a.length;s<x;s++){var A=k.index(s);A.multiEntry&&p(A)}}}var d=a.a,e=this,","f=0,g=!1;M(this.c,R(a)+\" removeByKeys: \"+b.length+\" keys\");c(0)};l.Ga=function(a,b,c){function d(b){b=\"ydn.db.me:\"+f.getName()+\":\"+b.getName();b=\"DELETE FROM  \"+Ca(b)+k;M(h.c,R(a)+NaN+b);e.executeSql(b,[g])}var e=a.a,f=T(this.a,b),g=Qb(c,f.type),h=this,k=\" WHERE \"+f.e+\" = ?\";b=\"DELETE FROM \"+kd(f)+k;M(this.c,R(a)+\" SQL: \"+b+\" PARAMS: \"+[g]);e.executeSql(b,[g],function(b,c){P(a,c.rowsAffected)},function(b,c){P(a,c,!0);return!1});b=0;for(c=f.a.length;b<c;b++){var n=f.index(b);n.multiEntry&&d(n)}};","l.Qa=function(a,b,c){Sf(this,a,b,void 0,c)};l.Ha=function(a,b,c){Sf(this,a,b,void 0,c)};l.Za=function(a,b,c,d){Sf(this,a,b,c,d)};","function Sf(a,b,c,d,e){function f(c){c=\"ydn.db.me:\"+h.getName()+\":\"+c.getName();c=\"DELETE FROM  \"+Ca(c)+m;M(a.c,R(b)+NaN+c);g.executeSql(c,n)}var g=b.a,h=T(a.a,c);c=\"DELETE FROM \"+kd(h);var k=[],n=[],m=\"\";null!=e&&(t(d)?(d=jd(h,d),Pb(d.d,d.type,e,n,k)):Pb(h.e,h.type,e,n,k),m=\" WHERE \"+n.join(\" AND \"));c+=m;var p=R(b)+\" SQL: \"+c+\" PARAMS: \"+k;M(a.c,p);g.executeSql(c,k,function(c,d){M(a.c,\"success \"+p);P(b,d.rowsAffected)},function(c,d){K(a.c,\"error: \"+p+d.message);P(b,d,!0);return!1});e=0;for(d=h.a.length;e<","d;e++)c=h.index(e),c.multiEntry&&f(c)}l.ua=function(a,b){function c(g){var h=\"SELECT COUNT(*) FROM \"+Ca(b[g]);M(e.c,\"SQL: \"+h+\" PARAMS: []\");d.executeSql(h,[],function(d,e){var h=e.rows.item(0);f[g]=parseInt(h[\"COUNT(*)\"],10);g++;g==b.length?P(a,f):c(g)},function(b,c){P(a,c,!0);return!1})}var d=a.a,e=this,f=[];0==b.length?(M(this.c,\"success\"),P(a,0)):c(0)};","l.Sa=function(a,b,c,d,e){var f=[];b=hd(T(this.a,b),f,6,d,c,!1,e);M(this.c,R(a)+\" SQL: \"+b+\" PARAMS: \"+f);a.a.executeSql(b,f,function(b,c){var d;a:{if(d=c.rows.item(0))for(var e in d)if(d.hasOwnProperty(e)){d=d[e];break a}d=void 0}P(a,d)},function(b,c){P(a,c,!0);return!1})};","l.da=function(a,b,c,d,e,f,g,h,k,n){var m=this,p=[],q=T(this.a,c),s=q.f,x=q.type,A=x,C=null!=d&&d!==s?jd(q,d):null,B=d||s;C&&(A=C.type);c=[];if(n&&t(n[0])){var D=n[0];C&&t(n[1])?(d=n[1],e=md(q,b,c,C.getName(),e,D,!0,d,h,k)):e=ld(q,b,c,d,e,h,k,D,!0)}else e=hd(q,c,b,B,e,h,k);da(f)&&(e+=\" LIMIT \"+f);da(g)&&(e+=\" OFFSET \"+g);var I=a+\" SQL: \"+e+\" ;params= \"+S(c);M(this.c,I);a.a.executeSql(e,c,function(c,d){for(var e=d.rows.length,f,g=0;g<e;g++)f=d.rows.item(g),2==b?p[g]=bd(f[s],x):1==b?p[g]=bd(f[B],A):","3==b?p[g]=[bd(f[B],A),bd(f[s],x)]:null!=f&&(p[g]=Of(f,q));L(m.c,\"success \"+a);n&&f&&(n[0]=bd(f[B],A),n[1]=bd(f[s],x));P(a,p)},function(b,c){K(m.c,\"error: \"+I+c.message);P(a,c,!0);return!1})};function Ge(a,b){this.a=b}z(Ge,Rf);Ge.prototype.c=N(\"ydn.db.core.req.WebSql\");Ge.prototype.b=function(a,b,c,d){c=T(this.a,c);return new Nf(a,b,c,d)};function Tf(a,b){t(a)&&5242880<a&&K(this.c,\"storage size request ignored, use Quota Management API instead\");this.s=null;this.oa=b||NaN}l=Tf.prototype;","l.ia=function(a,b){function c(a,c,d){L(e.c,(d?\"changing\":\"upgrading\")+\" version to \"+a.version+\" from \"+g);for(d=0;d<b.stores.length;d++)Uf(e,a,c,b.stores[d]);c=a.objectStoreNames;var f=c.length;for(d=0;d<f;d++)Fd(b,c[d])||(a.deleteObjectStore(c[d]),L(e.c,\"store: \"+c[d]+\" deleted.\"))}function d(a,b){f.la?K(e.c,\"database already set.\"):t(b)?(K(e.c,b?b.message:\"Error received.\"),e.s=null,f.k(b)):(e.s=a,e.s.onabort=function(){M(e.c,e+\": abort\")},e.s.onerror=function(){M(e.c,e+\": error\")},e.s.onversionchange=","function(a){M(e.c,e+\" closing connection for onversionchange to: \"+a.version);if(e.s&&(e.s.onabort=null,e.s.onblocked=null,e.s.onerror=null,e.s.onversionchange=null,!a.defaultPrevented)){e.s.close();e.s=null;var b=Error();b.name=a.type;e.Ma(b)}},f.n(parseFloat(g)))}var e=this,f=new E,g=void 0,h=b.version;L(e.c,\"Opening database: \"+a+\" ver: \"+(b.ga?\"auto\":h));var k;k=t(h)?lb.open(a,h):lb.open(a);k.onsuccess=function(f){var h=f.target.result;t(g)||(g=h.version);L(e.c,\"Database: \"+h.name+\", ver: \"+h.version+","\" opened.\");if(b.ga)e.L(function(f){if(b instanceof Hd)for(var g=0;g<f.stores.length;g++)Fd(b,f.stores[g].getName())||Id(b,f.stores[g].clone());f=Gd(b,f,!1,!0);if(0<f.length){L(e.c,\"Schema change require for difference in \"+f);var k=da(h.version)?h.version+1:1;if(\"IDBOpenDBRequest\"in r){h.close();var n=lb.open(a,k);n.onupgradeneeded=function(a){a=a.target.result;L(e.c,\"re-open for version \"+a.version);c(a,n.transaction,!1)};n.onsuccess=function(a){d(a.target.result)};n.onerror=function(){L(e.c,e+","\": fail.\");d(null)}}else{var p=h.setVersion(k+\"\");p.a=function(a){K(e.c,\"migrating from \"+h.version+\" to \"+k+\" failed.\");d(null,a)};p.onsuccess=function(){p.transaction.oncomplete=B;c(h,p.transaction,!0)};var B=function(){var b=lb.open(a);b.onsuccess=function(a){a=a.target.result;L(e.c,e+\": OK.\");d(a)};b.onerror=function(){L(e.c,e+\": fail.\");d(null)}};null!=p.transaction&&(p.transaction.oncomplete=B)}}else d(h)},void 0,h);else if(b.version>h.version){var k=h.setVersion(b.version);k.a=function(a){K(e.c,","\"migrating from \"+h.version+\" to \"+b.version+\" failed.\");d(null,a)};k.onsuccess=function(){c(h,k.transaction,!0)}}else b.version==h.version?L(e.c,\"database version \"+h.version+\" ready to go\"):K(e.c,\"connected database version \"+h.version+\" is higher than requested version.\"),e.L(function(a){a=Gd(b,a,!1,!0);0<a.length?(L(e.c,a),d(null,new Ld(\"different schema: \"+a))):d(h)},void 0,h)};k.onupgradeneeded=function(a){a=a.target.result;g=NaN;L(e.c,\"upgrade needed for version \"+a.version);c(a,k.transaction,","!1)};k.onerror=function(c){Lc(e.c,'open request to database \"'+a+'\" '+(t(b.version)?\" with version \"+b.version:\"\")+\" cause error of \"+k.error.name);d(null,c)};k.onblocked=function(c){Lc(e.c,\"database \"+a+\" \"+b.version+\" block, close other connections.\");d(null,c)};da(this.oa)&&!isNaN(this.oa)&&setTimeout(function(){\"done\"!=k.readyState&&(Lc(e.c,e+\": database state is still \"+k.readyState),d(null,new se(\"connection timeout after \"+e.oa)))},this.oa);return f};l.oa=18E4;l.Ma=function(){};l.ab=function(){};","l.Wa=function(){};l.ja=function(){return\"indexeddb\"};l.La=function(){return!!this.s};l.c=N(\"ydn.db.con.IndexedDb\");l.s=null;l.Ka=function(){return this.s?parseFloat(this.s.version):void 0};","l.L=function(a,b,c){c=c||this.s;if(t(b)){if(null===b){if(0==c.objectStoreNames.length){a(new Dd(c.version));return}throw new Kd;}c=b.db}else{b=[];for(var d=c.objectStoreNames.length-1;0<=d;d--)b[d]=c.objectStoreNames[d];if(0==b.length){a(new Dd(c.version));return}b=c.transaction(b,jb)}for(var e=c.objectStoreNames,f=[],g=e.length,d=0;d<g;d++){for(var h=b.objectStore(e[d]),k=[],n=0,m=h.indexNames.length;n<m;n++){var p=h.index(h.indexNames[n]);k[n]=new Wc(p.keyPath,void 0,p.unique,p.multiEntry,p.name)}f[d]=","new fd(h.name,h.keyPath,h.autoIncrement,void 0,k)}b=new Dd(c.version,f);a(b)};","function Uf(a,b,c,d){function e(){var a={autoIncrement:!!d.b};null!=d.keyPath&&(a.keyPath=d.keyPath);return b.createObjectStore(d.getName(),a)}M(a.c,\"Creating Object Store for \"+d.getName()+\" keyPath: \"+d.keyPath);if(b.objectStoreNames.contains(d.getName()))if(c=c.objectStore(d.getName()),dd(d.keyPath||\"\",c.keyPath||\"\"))b.deleteObjectStore(d.getName()),K(a.c,\"store: \"+d.getName()+\" deleted due to keyPath change.\"),c=e();else if(ca(c.autoIncrement)&&ca(d.b)&&c.autoIncrement!=d.b)b.deleteObjectStore(d.getName()),","K(a.c,\"store: \"+d.getName()+\" deleted due to autoIncrement change.\"),c=e();else{for(var f=c.indexNames,g=0,h=0,k=0,n=0;n<d.a.length;n++){var m=d.index(n),p=!1;if(f.contains(m.getName())){var q=c.index(m.getName()),s=null!=q.unique&&null!=m.unique&&q.unique!=m.unique,x=null!=q.multiEntry&&null!=m.multiEntry&&q.multiEntry!=m.multiEntry,q=null!=q.keyPath&&null!=m.keyPath&&!!dd(q.keyPath,m.keyPath);if(s||x||q)c.deleteIndex(m.getName()),p=!0,g--,k++}else\"BLOB\"!=m.type&&(p=!0);p&&(m.unique||m.multiEntry?","(p={unique:m.unique,multiEntry:m.multiEntry},c.createIndex(m.getName(),m.keyPath,p)):c.createIndex(m.getName(),m.keyPath),g++)}for(n=0;n<f.length;n++)nd(d,f[n])||(c.deleteIndex(f[n]),h++);M(a.c,\"Updated store: \"+c.name+\", \"+g+\" index created, \"+h+\" index deleted, \"+k+\" modified.\")}else{c=e();for(n=0;n<d.a.length;n++)m=d.index(n),\"BLOB\"==m.type?a.c.log(Dc,\"Index \"+m+\" of blob data type ignored.\",void 0):(M(a.c,\"Creating index: \"+m),m.unique||m.multiEntry?(p={unique:m.unique,multiEntry:m.multiEntry},","c.createIndex(m.getName(),m.keyPath,p)):c.createIndex(m.getName(),m.keyPath));M(a.c,\"Created store: \"+c)}}l.wa=function(a,b,c,d){var e=this.s;if(!b){b=[];for(var f=e.objectStoreNames.length-1;0<=f;f--)b[f]=e.objectStoreNames[f]}0==b.length?a(null):(b=e.transaction(b,c),b.oncomplete=function(a){d(\"complete\",a)},b.onabort=function(a){d(\"abort\",a)},a(b),a=null)};l.Ja=function(){M(this.c,this+\" closing connection\");this.s.close()};","l.toString=function(){return\"IndexedDB:\"+(this.s?this.s.name+\":\"+this.s.version:\"\")};zb.push(function(a,b){if(!lb||b&&\"indexeddb\"!=b)return null;var c=lb.deleteDatabase(a),d=new O(\"IDBVersionChangeEvent \");c.onblocked=function(a){for(var b=0;b<d.b.length;b++)d.b[b][0].call(d.b[b][1],a)};c.onerror=function(a){d.k(a)};c.onsuccess=function(a){d.n(a)};return d});function Vf(a){Jf.call(this,a);this.b=NaN}z(Vf,Jf);l=Vf.prototype;l.c=N(\"ydn.db.con.SimpleStorage\");l.Ka=function(){return this.b};","l.ia=function(a,b){function c(a,b){setTimeout(function(){b?(L(d.c,d+\" opening fail\"),e.k(b)):(L(d.c,d+\" version \"+d.Ka()+\" open\"),e.n(a))},10)}var d=this,e=new E;this.e=this.g.Ra(a);this.d=a;this.a=b;var f=mf(this.d);this.b=NaN;var g=yd(this.e.getItem(f));t(g.version)&&!da(g.version)&&(g.version=NaN);if(g)if(g=new Dd(g),Gd(this.a,g,!1,!1))if(!this.a.ga&&!isNaN(g.version)&&this.a.version>g.version)c(NaN,new ne(\"existing version \"+g.version+\" is larger than \"+this.a.version));else{var h=this.a.version;","this.b=t(h)?h:g.version+1;for(h=0;h<this.a.count();h++)var k=this.a.Y(h);if(this.a instanceof Hd)for(h=0;h<g.count();h++)k=g.Y(h),Id(this.a,k);h=this.a.toJSON();h.version=this.b||NaN;this.e.setItem(f,S(h));c(g.version||NaN)}else{for(h=0;h<this.a.count();h++)k=this.a.Y(h);this.b=g.version||NaN;c(this.b)}else g=b.toJSON(),this.b=1,g.version=this.b,this.e.setItem(f,S(g)),c(NaN);return e};l.La=function(){return!!this.d};l.Ma=function(){};l.ab=function(){};l.Wa=function(){};l.ja=function(){return\"memory\"};","l.Ja=function(){};l.wa=function(a,b,c,d){a(new Kf(this,function(a,b){d(a,b)}))};l.toString=function(){return\"SimpleStorage:\"+this.ja()+\":\"+(this.d+\":\"+this.b)};function Wf(){Vf.call(this,this)}z(Wf,Vf);Wf.prototype.Ra=function(){return window.localStorage};Wf.prototype.ja=function(){return\"localstorage\"};zb.push(function(a,b){if(!b||\"localstorage\"==b){var c=new Wf,d=new Hd;c.ia(a,d);c.L(function(a){for(var b=0;b<a.stores.length;b++)kf(c,a.stores[b].getName()).clear()})}});function Xf(){Vf.call(this,this)}z(Xf,Vf);Xf.prototype.Ra=function(){return window.sessionStorage};Xf.prototype.ja=function(){return\"sessionstorage\"};","zb.push(function(a,b){if(!b||\"sessionstorage\"==b){var c=new Xf,d=new Hd;c.ia(a,d);c.L(function(a){for(var b=0;b<a.stores.length;b++)kf(c,a.stores[b].getName()).clear()})}});function Yf(a){this.a=t(a)?a:4194304}l=Yf.prototype;","l.ia=function(a,b){function c(b,c){var f=b.version?parseInt(b.version,10):0,g=c.ga?isNaN(f)?1:f+1:c.version;Mc(e.c,a+\": changing version from \"+b.version+\" to \"+g);var h=!1,k=0;b.changeVersion(b.version,g+\"\",function(a){e.L(function(b){h=!0;for(var d=0;d<c.count();d++){var f=T(b,c.Y(d).getName()),f=f?od(f,c.Y(d)):null;Zf(e,a,c.Y(d),function(a){a&&k++},f)}for(d=0;d<b.count();d++)f=b.Y(d),Fd(c,f.getName())||(c instanceof Hd?Id(c,f):(f=\"DROP TABLE \"+kd(f),L(e.c,f),a.executeSql(f,[],function(){},function(a,","b){throw b;})))},a,b)},function(c){Lc(e.c,\"SQLError \"+c+\" \"+c.code+\"(\"+c.message+\") while changing version from \"+b.version+\" to \"+g+\" on \"+a);throw c;},function(){if(h){var f=\".\";k!=c.stores.length&&(f=\" but unexpected stores exists.\");M(e.c,a+\":\"+b.version+\" ready\"+f);d(b)}else K(e.c,a+\": changing version voided.\")})}function d(a,b){t(b)?(e.u=null,g.k(b)):(e.u=a,g.n(parseFloat(f)))}var e=this,f=NaN,g=new E,h=null;try{h=r.openDatabase(a,\"\",a,this.a)}catch(k){if(\"SECURITY_ERR\"==k.name)K(this.c,\"SECURITY_ERR for opening \"+","a),h=null,this.Ua=new re(k);else throw k;}if(h){var f=h.version,n=\"database \"+a+(0==h.version.length?\"\":\" version \"+h.version);null!=b.version&&b.version==h.version?(Mc(e.c,\"Existing \"+n+\" opened as requested.\"),d(h)):this.L(function(a){(a=Gd(b,a,!0,!1))?(0==h.version.length?Mc(e.c,\"New \"+n+\" created.\"):b.ga?Mc(e.c,\"Existing \"+n+\" opened and schema change for \"+a):Mc(e.c,\"Existing \"+n+\" opened and  schema change to version \"+b.version+\" for \"+a),c(h,b)):(Mc(e.c,\"Existing \"+n+\" with same schema opened.\"),","d(h))},null,h)}else d(null,this.Ua);return g};l.ja=function(){return\"websql\"};l.Ua=null;l.u=null;l.c=N(\"ydn.db.con.WebSql\");l.Ma=function(){};l.ab=function(){};","function $f(a){var b=a.r,c=\"CREATE TABLE IF NOT EXISTS \"+kd(a)+\" (\",d=a.e,c=c+(d+\" \"+b+\" PRIMARY KEY \");a.b&&(c+=\" AUTOINCREMENT \");if(!a.ea||!a.keyPath&&0==a.a.length)c+=\" ,_default_ BLOB\";for(var e=[],f=[d],g=0,h=a.a.length;g<h;g++){var k=a.index(g),n=\"\";if(k.multiEntry){var n=\"ydn.db.me:\"+a.getName()+\":\"+k.getName(),m=k.unique?\" UNIQUE \":\"\",k=\"CREATE TABLE IF NOT EXISTS \"+Ca(n)+\" (\"+d+\" \"+b+\", \"+k.d+\" \"+k.i+m+\")\";e.push(k)}else k.unique&&(n=\" UNIQUE \"),m=k.keyPath,\"BLOB\"!=k.type&&w(m)&&(m=\"CREATE \"+","n+\" INDEX IF NOT EXISTS \"+Ca(a.getName()+\"-\"+k.getName())+\" ON \"+kd(a)+\" (\"+Ca(m)+\")\",e.push(m)),m=k.d,-1==f.indexOf(m)&&(c+=\", \"+m+\" \"+k.i+n,f.push(m))}e.unshift(c+\")\");return e}l.Ka=function(){return this.u?parseFloat(this.u.version):void 0};","l.L=function(a,b,c){function d(a,b){throw b;}function e(b,c){if(c&&c.rows){for(var d=0;d<c.rows.length;d++){var e=c.rows.item(d);if(\"__WebKitDatabaseInfoTable__\"!=e.name&&\"sqlite_sequence\"!=e.name&&\"table\"==e.type){var q=\"sql\"in e?e.sql:void 0;M(f.c,\"Parsing table schema from SQL: \"+q);for(var s=q.substr(q.indexOf(\"(\"),q.lastIndexOf(\")\")).match(/(?:\"[^\"]*\"|[^,])+/g),x=void 0,A,q=[],C=!1,B=!1,D=0;D<s.length;D++){var I=s[D].match(/\\w+|\"[^\"]+\"/g),aa=Ia(I,function(a){return a.toUpperCase()}),ma=za(I[0]),","I=Yc(aa[1]);if(-1!=aa.indexOf(\"PRIMARY\")&&-1!=aa.indexOf(\"KEY\")){A=I;if(w(ma)&&!qa(ma)&&\"_ROWID_\"!=ma){var Ua=ma.split(\",\"),x=ma;1<Ua.length&&(x=Ua,A=void 0)}-1!=aa.indexOf(\"AUTOINCREMENT\")&&(C=!0)}else if(\"_ROWID_\"!=ma)if(\"_default_\"==ma)B=!0;else{var kc=\"UNIQUE\"==aa[2];0==ma.lastIndexOf(e.tbl_name+\"-\",0)&&(ma=ma.substr(e.tbl_name.length+1));aa=new Wc(ma,I,kc);q.push(aa)}}if(0==e.name.lastIndexOf(\"ydn.db.me:\",0)){var Ja=e.name.split(\":\");if(3<=Ja.length){var Ra=Ja[1],x=new Wc(Ja[2],I,kc,!0),s=Ma(q,","function(a){return a.getName()==Ja[2]});0<=s?q[s]=x:q.push(x);s=Ma(h,function(a){return a.getName()===Ra});0<=s?(D=h[s],h[s]=new fd(D.getName(),D.keyPath,C,A,q,void 0,!B)):h.push(new fd(Ra,void 0,!1,void 0,[x]));M(f.c,'multi entry index \"'+x.getName()+'\" found in '+Ra+(-1==s?\"*\":\"\"))}else K(f.c,'Invalid multiEntry store name \"'+e.name+'\"')}else D=Ma(h,function(a){return a.getName()===e.name}),0<=D?(s=h[D].index(0),q.push(s),h[D]=new fd(e.name,x,C,A,q,void 0,!B)):(q=new fd(e.name,x,C,A,q,void 0,!B),","h.push(q))}}d=new Dd(g,h);a(d)}}var f=this,g=(c=c||this.u)&&c.version?parseFloat(c.version):void 0,g=isNaN(g)?void 0:g,h=[];b?b.executeSql(\"SELECT * FROM sqlite_master\",[],e,d):c.readTransaction(function(b){f.L(a,b,c)},function(a){Lc(f.c,\"opening tx: \"+a.message);throw a;},e)};","function Zf(a,b,c,d,e){function f(a){b.executeSql(a,[],function(){g++;g==h.length&&(d(!0),d=null)},function(b,e){g++;g==h.length&&(d(!1),d=null);var f=\"SQLError creating table: \"+c.getName()+\" \"+e.message+' for executing \"'+a;throw new qe(e,f);})}var g=0,h=$f(c),k=\"Create\";if(e){e=td(c,e);if(0==e.length){M(a.c,\"same table \"+c.getName()+\" exists.\");d(!0);d=null;return}k=\"Modify\";K(a.c,\"table: \"+c.getName()+\" has changed by \"+e+\" ALTER TABLE cannot run in WebSql, dropping old table.\");h.unshift(\"DROP TABLE IF EXISTS \"+","Ca(c.getName()))}M(a.c,k+\" table: \"+c.getName()+\": \"+h.join(\";\"));for(a=0;a<h.length;a++)f(h[a])}l.La=function(){return!!this.u};l.Ja=function(){this.u=null};l.wa=function(a,b,c,d){function e(a){M(h.c,h+\": Tx \"+c+\" request cause error.\");d(\"abort\",a)}function f(){d(\"complete\",{type:\"complete\"})}function g(b){a(b)}var h=this;null===this.u&&(a(null),d(\"abort\",this.Ua));c==jb?this.u.readTransaction(g,e,f):c==kb?this.u.changeVersion(this.u.version,this.u.version+1+\"\",g,e,f):this.u.transaction(g,e,f)};","zb.push(function(a,b){if(!b||\"websql\"==b){var c=new Yf,d=new Hd;L(c.c,\"deleting websql database: \"+a);var d=c.ia(a,d),e=function(){c.c.log(Dc,\"all tables in \"+a+\" deleted.\",void 0)};d.N(function(){c.wa(function(b){b.executeSql('SELECT * FROM sqlite_master WHERE type = \"table\"',[],function(d,e){if(e&&e.rows){for(var k=e.rows.length,n=0,m=0;m<k;m++){var p=e.rows.item(m);\"__WebKitDatabaseInfoTable__\"!=p.name&&\"sqlite_sequence\"!=p.name&&(n++,M(c.c,\"deleting table: \"+p.name),b.executeSql(\"DROP TABLE \"+","p.name))}L(c.c,n+' tables deleted from \"'+a+'\"')}},function(a,b){throw b;})},[],G,e)});d.eb(function(){K(c.c,\"Connecting \"+a+\" failed.\")})}});Yf.prototype.Wa=function(){};Yf.prototype.toString=function(){return\"WebSql:\"+(this.u?\":\"+this.u.version:\"\")};/*"," Copyright 2012 YDN Authors, Yathit. All Rights Reserved."," Licensed under the Apache License, Version 2.0 (the \"License\");.","*/","Ve.prototype.Ta=function(a){return\"indexeddb\"==a&&lb?new Tf(this.r,this.B):\"websql\"==a&&ea(r.openDatabase)?new Yf(this.r):\"localstorage\"==a&&window.localStorage?new Wf:\"sessionstorage\"==a&&window.sessionStorage?new Xf:\"memory\"==a?new Vf:null};/*"," Copyright 2012 YDN Authors, Yathit. All Rights Reserved."," Licensed under the Apache License, Version 2.0 (the \"License\");.","*/","Ve.prototype.branch=Ve.prototype.qb;Ve.prototype.getTxNo=Ve.prototype.Lb;Ee.prototype.getTxNo=Ee.prototype.Kb;Ve.prototype.run=Ve.prototype.zb;Ve.prototype.spawn=Ve.prototype.Cb;X.prototype.branch=X.prototype.qb;X.prototype.add=X.prototype.add;X.prototype.get=X.prototype.get;X.prototype.keys=X.prototype.keys;X.prototype.values=X.prototype.D;X.prototype.put=X.prototype.put;X.prototype.clear=X.prototype.clear;X.prototype.remove=X.prototype.Oa;X.prototype.count=X.prototype.count;Je.prototype.add=Je.prototype.add;Je.prototype.get=Je.prototype.get;Je.prototype.keys=Je.prototype.keys;Je.prototype.values=Je.prototype.D;Je.prototype.put=Je.prototype.put;Je.prototype.clear=Je.prototype.clear;","Je.prototype.remove=Je.prototype.Oa;Je.prototype.count=Je.prototype.count;na(\"ydn.db.Key\",Hb);Hb.prototype.id=Hb.prototype.tb;Hb.prototype.parent=Hb.prototype.Db;Hb.prototype.storeName=Hb.prototype.h;na(\"ydn.db.KeyRange\",J);J.upperBound=J.upperBound;J.lowerBound=J.lowerBound;J.bound=J.bound;J.only=J.only;J.starts=Mb;Db.prototype.store_name=Db.prototype.J;Db.prototype.getStoreName=Db.prototype.h;function ag(a,b,c){X.call(this,a,b,c)}z(ag,Xe);na(\"ydn.db.Storage\",ag);function bg(){this.a=la()}var cg=new bg;bg.prototype.get=function(){return this.a};function dg(a){this.e=a||\"\";this.f=cg}dg.prototype.a=!0;dg.prototype.b=!1;function eg(a){a=new Date(a.g);return fg(a.getFullYear()-2E3)+fg(a.getMonth()+1)+fg(a.getDate())+\" \"+fg(a.getHours())+\":\"+fg(a.getMinutes())+\":\"+fg(a.getSeconds())+\".\"+fg(Math.floor(a.getMilliseconds()/10))}function fg(a){return 10>a?\"0\"+a:String(a)}function gg(a,b){var c=(a.g-b)/1E3,d=c.toFixed(3),e=0;if(1>c)e=2;else for(;100>c;)e++,c*=10;for(;0<e--;)d=\" \"+d;return d}function hg(a){dg.call(this,a)}z(hg,dg);hg.prototype.b=!0;","hg.prototype.d=function(a){var b;switch(a.f.value){case Ac.value:b=\"dbg-sh\";break;case Bc.value:b=\"dbg-sev\";break;case Cc.value:b=\"dbg-w\";break;case Dc.value:b=\"dbg-i\";break;default:b=\"dbg-f\"}var c=[];c.push(this.e,\" \");this.a&&c.push(\"[\",eg(a),\"] \");c.push(\"[\",ya(gg(a,this.f.get())),\"s] \");c.push(\"[\",sa(a.d),\"] \");c.push('<span class=\"',b,'\">',ra(ya(sa(a.e))));this.b&&a.b&&c.push(\"<br>\",ra(ya(a.a||\"\")));c.push(\"</span><br>\");return c.join(\"\")};function ig(a){dg.call(this,a)}z(ig,dg);","ig.prototype.d=function(a){var b=[];b.push(this.e,\" \");this.a&&b.push(\"[\",eg(a),\"] \");b.push(\"[\",gg(a,this.f.get()),\"s] \");b.push(\"[\",a.d,\"] \");b.push(a.e,\"\\n\");this.b&&a.b&&b.push(a.a,\"\\n\");return b.join(\"\")};function jg(){this.f=ja(this.g,this);this.a=new ig;this.a.a=!1;this.b=this.a.b=!1;this.d=\"\";this.e={}}jg.prototype.g=function(a){if(!this.e[a.d]){var b=this.a.d(a),c=kg;if(c)switch(a.f){case Ac:lg(c,\"info\",b);break;case Bc:lg(c,\"error\",b);break;case Cc:lg(c,\"warn\",b);break;default:lg(c,\"debug\",b)}else window.opera?window.opera.postError(b):this.d+=b}};var kg=window.console;function lg(a,b,c){if(a[b])a[b](c);else a.log(c)};var mg,ng=!dc||dc&&9<=rc;!ec&&!dc||dc&&dc&&9<=rc||ec&&pc(\"1.9.1\");dc&&pc(\"9\");function og(a,b){var c;c=a.className;c=w(c)&&c.match(/\\S+/g)||[];for(var d=Pa(arguments,1),e=c.length+d.length,f=c,g=0;g<d.length;g++)0<=Ga(f,d[g])||f.push(d[g]);a.className=c.join(\" \");return c.length==e};function pg(a,b){Sb(b,function(b,d){\"style\"==d?a.style.cssText=b:\"class\"==d?a.className=b:\"for\"==d?a.htmlFor=b:d in qg?a.setAttribute(qg[d],b):0==d.lastIndexOf(\"aria-\",0)||0==d.lastIndexOf(\"data-\",0)?a.setAttribute(d,b):a[d]=b})}var qg={cellpadding:\"cellPadding\",cellspacing:\"cellSpacing\",colspan:\"colSpan\",frameborder:\"frameBorder\",height:\"height\",maxlength:\"maxLength\",role:\"role\",rowspan:\"rowSpan\",type:\"type\",usemap:\"useMap\",valign:\"vAlign\",width:\"width\"};","function rg(a,b,c){function d(c){c&&b.appendChild(w(c)?a.createTextNode(c):c)}for(var e=2;e<c.length;e++){var f=c[e];!v(f)||y(f)&&0<f.nodeType?d(f):Ha(sg(f)?Oa(f):f,d)}}function sg(a){if(a&&\"number\"==typeof a.length){if(y(a))return\"function\"==typeof a.item||\"string\"==typeof a.item;if(ea(a))return\"function\"==typeof a.item}return!1}function tg(a){this.a=a||r.document||document}","function ug(a,b){var c;c=a.a;var d=b&&\"*\"!=b?b.toUpperCase():\"\";c.querySelectorAll&&c.querySelector&&d?c=c.querySelectorAll(d+\"\"):c=c.getElementsByTagName(d||\"*\");return c}","tg.prototype.b=function(a,b,c){var d=this.a,e=arguments,f=e[0],g=e[1];if(!ng&&g&&(g.name||g.type)){f=[\"<\",f];g.name&&f.push(' name=\"',sa(g.name),'\"');if(g.type){f.push(' type=\"',sa(g.type),'\"');var h={};Vb(h,g);delete h.type;g=h}f.push(\">\");f=f.join(\"\")}f=d.createElement(f);g&&(w(g)?f.className=g:u(g)?og.apply(null,[f].concat(g)):pg(f,g));2<e.length&&rg(d,f,e);return f};","tg.prototype.contains=function(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if(\"undefined\"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a};function vg(a){this.f=ja(this.g,this);this.b=new hg;this.d=this.b.a=!1;this.a=a;this.e=this.a.ownerDocument||this.a.document;var b=(a=this.a)?new tg(9==a.nodeType?a:a.ownerDocument||a.document):mg||(mg=new tg),c=null;dc?(a=c=b.a.createStyleSheet(),dc?a.cssText=\".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}\":","a.innerHTML=\".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}\"):(a=ug(b,\"head\")[0],a||(c=ug(b,\"body\")[0],a=b.b(\"head\"),c.parentNode.insertBefore(a,c)),b=c=b.b(\"style\"),dc?b.cssText=\".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}\":","b.innerHTML=\".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}\",a.appendChild(c));this.a.className+=\" logdiv\"}","vg.prototype.g=function(a){var b=100>=this.a.scrollHeight-this.a.scrollTop-this.a.clientHeight,c=this.e.createElement(\"div\");c.className=\"logmsg\";c.innerHTML=this.b.d(a);this.a.appendChild(c);b&&(this.a.scrollTop=this.a.scrollHeight)};vg.prototype.clear=function(){this.a.innerHTML=\"\"};dc&&pc(\"9\");!fc||pc(\"528\");ec&&pc(\"1.9b\")||dc&&pc(\"8\")||cc&&pc(\"9.5\")||fc&&pc(\"528\");ec&&!pc(\"8\")||dc&&pc(\"9\");var wg=null,xg=null;N(\"ydn.debug\");na(\"ydn.debug.log\",function(a,b,c){if(da(b))b=new zc(\"log\",b);else if(w(b)){b=b.toUpperCase();if(!Jc){Jc={};for(var d=0,e;e=Ic[d];d++)Jc[e.value]=e,Jc[e.name]=e}b=Jc[b]||null}else b=Fc;N(a||\"ydn\").b=b;t(c)?xg||(a=xg=new vg(c),!0!=a.d&&(c=Qc(),b=a.f,c.a||(c.a=[]),c.a.push(b),a.d=!0),Qc().b=Cc):wg||xg||(a=wg=new jg,!0!=a.b&&(c=Qc(),b=a.f,c.a||(c.a=[]),c.a.push(b),a.b=!0),Qc().b=Cc)});function yg(){};function zg(){this.b=[];this.e=this.d=0;for(var a=[],b=0;64>b;b++)a[b]=0;this.f=a;this.f[0]=128;this.a=[];this.g=0;this.b=[];this.e=this.d=0;this.a=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];this.g=8}z(zg,yg);","function Ag(a,b){for(var c=[],d=0,e=0;e<b.length;)c[d++]=b[e]<<24|b[e+1]<<16|b[e+2]<<8|b[e+3],e=4*d;for(d=16;64>d;d++)c[d]=c[d-16]+((c[d-15]>>>7|c[d-15]<<25)^(c[d-15]>>>18|c[d-15]<<14)^c[d-15]>>>3)+c[d-7]+((c[d-2]>>>17|c[d-2]<<15)^(c[d-2]>>>19|c[d-2]<<13)^c[d-2]>>>10)&4294967295;for(var e=a.a[0],f=a.a[1],g=a.a[2],h=a.a[3],k=a.a[4],n=a.a[5],m=a.a[6],p=a.a[7],d=0;64>d;d++)var q=((e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10))+(e&f^e&g^f&g)&4294967295,s=p+((k>>>6|k<<26)^(k>>>11|k<<21)^(k>>>25|k<<7))+(k&","n^~k&m)+a.i[d]+c[d]&4294967295,p=m,m=n,n=k,k=h+s&4294967295,h=g,g=f,f=e,e=s+q&4294967295;a.a[0]=a.a[0]+e&4294967295;a.a[1]=a.a[1]+f&4294967295;a.a[2]=a.a[2]+g&4294967295;a.a[3]=a.a[3]+h&4294967295;a.a[4]=a.a[4]+k&4294967295;a.a[5]=a.a[5]+n&4294967295;a.a[6]=a.a[6]+m&4294967295;a.a[7]=a.a[7]+p&4294967295}","zg.prototype.update=function(a,b){t(b)||(b=a.length);var c=0,d=this.d;if(w(a))for(;c<b;)this.b[d++]=a.charCodeAt(c++),64==d&&(Ag(this,this.b),d=0);else for(;c<b;)this.b[d++]=a[c++],64==d&&(Ag(this,this.b),d=0);this.d=d;this.e+=b};function Bg(a){var b=[],c=8*a.e;56>a.d?a.update(a.f,56-a.d):a.update(a.f,64-(a.d-56));for(var d=63;56<=d;d--)a.b[d]=c&255,c/=256;Ag(a,a.b);for(d=c=0;d<a.g;d++)for(var e=24;0<=e;e-=8)b[c++]=a.a[d]>>e&255;return b}","zg.prototype.i=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,","3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Cg(){zg.call(this)}z(Cg,zg);function Dg(a){for(var b=[],c=0,d=0;d<a.length;d++){for(var e=a.charCodeAt(d);255<e;)b[c++]=e&255,e>>=8;b[c++]=e}return b};function Eg(){this.d=[];this.b=this.a=0};var Fg=null,Gg=null;function Hg(a,b,c){this.a=a;this.b=Dg(b);this.d=c}Hg.prototype.c=N(\"ydn.db.rich.RichStorage\");","function Ig(a,b){var c=new Cg;c.update(Dg(b));c.update(a.b);c=Bg(c);if(!v(c))throw Error(\"encodeByteArray takes an array as a parameter\");if(!Fg){Fg={};Gg={};for(var d=0;65>d;d++)Fg[d]=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\".charAt(d),Gg[d]=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.\".charAt(d)}for(var d=Gg,e=[],f=0;f<c.length;f+=3){var g=c[f],h=f+1<c.length,k=h?c[f+1]:0,n=f+2<c.length,m=n?c[f+2]:0,p=g>>2,g=(g&3)<<4|k>>4,k=(k&15)<<2|m>>6,m=m&63;n||","(m=64,h||(k=64));e.push(d[p],d[g],d[k],d[m])}return e.join(\"\")}","function Jg(a,b,c,d){if(!(0<b.length))throw Error(\"Non-empty salt must be provided\");var e=new Cg;e.update(Dg(c));e.update(b);e.update(a.b);a=new Eg;var e=Bg(e),f;f||(f=e.length);b=a.d;for(c=0;256>c;++c)b[c]=c;var g=0;for(c=0;256>c;++c){var g=g+b[c]+e[c%f]&255,h=b[c];b[c]=b[g];b[g]=h}a.a=0;a.b=0;f=a.a;e=a.b;b=a.d;for(c=0;1536>c;++c)f=f+1&255,e=e+b[f]&255,g=b[f],b[f]=b[e],b[e]=g;a.a=f;a.b=e;d=Dg(d);var k;k||(k=d.length);f=a.a;e=a.b;b=a.d;for(c=0;c<k;++c)f=f+1&255,e=e+b[f]&255,g=b[f],b[f]=b[e],b[e]=","g,d[c]^=b[b[f]+b[e]&255];a.a=f;a.b=e;return String.fromCharCode.apply(null,d)}function Kg(a,b,c){var d;b=Ig(a,b);for(var e=[],f=0;8>f;++f)e[f]=256*Math.random()|0;c=Jg(a,e,b,S(c));f={};f.salt=e;f.data=c;t(d)||(d=a.d);d&&(f.expiration=d+la());f.creation=la();f[\"key-name\"]=a.a;return[b,f]};X.prototype.cb=function(a){var b=this;vd(a,function(a,d){var e=a.d;if(\"add\"==e||\"put\"==e){var e=b.f[0],f=d[2],g=d[1];w(f)?(e=Kg(e,f,g),d[2]=e[0],d[1]=e[1]):K(b.c,'encrypted store key must be a string but \"'+f+'\" of type '+typeof f+\" found\")}else if(\"get\"==e){var h=d[0],k=d[1];Uc(a,function(a,c,d){if(t(a))d(a,c);else{for(var e=[],f=0;f<b.f.length;f++)e.push(new Hb(h,Ig(b.f[f],k)));Ya(Le(b.d,e),function(a){for(var c=0;c<a.length;++c)if(null!=a[c])try{var f;a:{var g=b.f[c],h=e[c].q,k=a[c];if(!k)K(g.c,","h+\" corrupted: \"+k);else if(k[\"key-name\"]==g.a){var m=k.salt,n=k.data;if(!w(n)||!u(m)||!m.length)throw\"Storage: Invalid value was encountered\";var s=Jg(g,m,h,n);try{k.data=xd(s)}catch(kc){throw\"Storage: The value could not be decrypted\";}var Ja=k.creation,Ra=k.expiration;f=Ra&&Ra<la()||Ja&&Ja>la()?void 0:k.data;break a}f=void 0}if(null!=f){d(f);return}}catch(ef){}d(void 0)},function(){d(a,c)})}})}else\"rm\"==e&&(h=d[0],k=d[1],w(k)&&(d[1]=Ig(b.f[0],k)))})};","X.prototype.lb=function(a){if(!a)return!1;this.f=[];this.w=[];var b=!1,c=a.expiration;a=a.secrets;if(!a)throw new F(\"Encryption secrets required.\");if(!u(a))throw new F(\"Encryption secrets must be arrays.\");for(var d=0;d<a.length;d++){var b=a[d],e;for(e in b)if(-1==Ga([\"name\",\"key\"],e))throw new F('Unknown Encryption secret key \"'+e+'\"');if(!w(b.name))throw new F(\"Encryption secret at \"+d+\" must have name of type string\");if(!w(b.key))throw new F(\"Encryption secret at \"+d+\" must have key of type string\");","this.w.push(b.name);this.f.push(new Hg(b.name,b.key,c));b=!0}return b};function Lg(a){this.db=a}function Mg(a,b,c,d){var e=Pe(a.db,function(a){var b=a.ra();if(w(c))nb(b,c,d);else if(u(c))for(var h=0;h<c.length;h++)nb(b,c[h],d[h]);else if(y(c))for(h in c)c.hasOwnProperty(h)&&(b[h]=c[h]);a=a.update(b);e.N(ja(a.xb,a))},b,a);return e}Lg.prototype.count=function(a){var b;b=ge(a)?this.db.count(a):a.e?this.db.count(a.h(),a.a,ee(a)):this.db.count(a.h(),ee(a));a.f!=be&&b.sa(function(){\"busy\"!=a.f&&ie(a)});return b};","Lg.prototype.clear=function(a){return a.e?this.db.clear(a.h(),a.a,a.Ca()):this.db.clear(a.h(),a.Ca())};function Ng(a){je.call(this,a)}z(Ng,je);","Ng.prototype.b=function(a,b){var c=[],d=b[0];if(null==d)return[];for(var e=!0,f=!1,g=d,h=[],k=1;k<a.length;k++)if(null!=b[k]){var n=H(d,b[k]);h[k]=n;this.a?-1==n?e=!1:1==n&&(e=!1,f=!0,-1==H(b[k],g)&&(g=b[k])):1==n?e=!1:-1==n&&(e=!1,f=!0,1==H(b[k],g)&&(g=b[k]))}else e=!1,f=!0;if(e)for(f=0;f<a.length;f++)null!=b[f]&&(c[f]=!0);else if(f)for(f=0;f<a.length;f++)null!=b[f]&&(this.a?-1==H(g,b[f])&&(c[f]=g):1==H(g,b[f])&&(c[f]=g));else for(k=this.a?-1:1,f=1;f<a.length;f++)h[f]===k&&(c[f]=d);return e?(this.d&&","this.d.push(g),c):{continuePrimary:c}};function Og(a){this.db=a}function Pg(a,b,c){var d=new Ng([]),d=Oe(a.db,d,c),e=c[0].h(),f=Sc(d);Ya(d,function(a){2==b?f.n(a):(a=this.db.D(e,a),Ya(f,a.n,a.k,a))},function(a){f.k(a)},a);return f}Og.prototype.count=function(a){var b;b=ge(a)?this.db.count(a):a.e?this.db.count(a.h(),a.a,ee(a)):this.db.count(a.h(),ee(a));a.f!=be&&b.sa(function(){\"busy\"!=a.f&&ie(a)});return b};Og.prototype.clear=function(a){return a.e?this.db.clear(a.h(),a.a,a.Ca()):this.db.clear(a.h(),a.Ca())};function Z(a,b,c,d){this.db=a;this.b=b;this.type=d||0;this.a=u(c)?c:[c];this.d=null}l=Z.prototype;l.Eb=function(){for(var a=[],b=0;b<this.a.length;b++)a[b]=he(this.a[b]);a=new Z(this.db,this.b,a,this.type);a.d=this.d;a.e=this.e;return a};l.reverse=function(){for(var a=[],b=0;b<this.a.length;b++)a[b]=this.a[b].reverse();return new Z(this.db,this.b,a,this.type)};","l.unique=function(a){if(!ca(a))throw new F(\"unique value must be a boolean, but \"+typeof a+\" found\");if(1<this.a.length)throw new F(\"multi-iterators cannot be set unique property\");var b=this.a[0];if(!b.e)throw new F(\"primary key query is already unique\");return new Z(this.db,this.b,[b.unique(a)],this.type)};","l.Q=function(a){var b=w(a)?[a]:a;if(1!=b.length)throw new F(\"Multi ordering not implemented, wait for next release\");if(1<this.a.length)throw new F(\"order cannot be set\");a=this.a[0];var c=T(this.b,a.h()),d=ee(a);if(a.e){if(a.a!=b[0])if(b=[a.a,b[0]],d)if(d.lower==d.upper)d=Mb([d.lower]),a=new V(a.h(),b.join(\", \"),d,fe(a),ge(a),a.d,b);else throw new F(\"Not supported\");else a=new V(a.h(),b.join(\", \"),null,fe(a),ge(a),a.d,b)}else if(b[0]!=c.keyPath){if(d)throw new F(\"Not possible without using in memory sorting.\");","a=new de(a.h(),b[0],null,fe(a),ge(a))}return new Z(this.db,this.b,a,this.type)};l.p=function(a,b,c,d,e){var f=this.a[0];if(f.b)throw new F(\"joint query not implemented yet\");var f=f.h(),g=T(this.b,f),f=a==g.keyPath?new ce(f,Rb(b,c,d,e)):new de(f,a,Rb(b,c,d,e));return new Z(this.db,this.b,f,this.type)};","l.select=function(a){var b=T(this.b,this.a[0].h()),c=u(a)?a:[a],d=this.type;a=he(this.a[0]);if(1==c.length)if(c=c[0],\"_ROWID_\"==c||c===b.keyPath)d=2;else if(c&&\"*\"!=c)if(nd(b,c)){if(a.e){if(b=a.a,c!=b)throw new F('select field name must be \"'+b+'\", but \"'+c+'\" found.');}else a=new V(a.h(),c,ee(a),fe(a),ge(a),!0);d=1}else throw new F('Invalid select \"'+c+'\", index not found in store \"'+b.getName()+'\"');else d=4;else if(2==c.length){if(!a.e)throw new F(\"Only primary key can be selected for this query.\");","for(d=0;2>d;d++)if(\"_ROWID_\"!=c[d]&&!(t(b.keyPath)&&(1==b.g.length?b.keyPath===c[d]:v(c[d])&&Qa(b.g,c[d])))){var e=a.a;if(c[d]!=e)throw new F('select field name must be \"'+e+'\", but \"'+c[d]+'\" found.');}d=3}else throw new F(\"Selecting more than 2 field names is not supported, but \"+c.length+\" fields selected.\");return new Z(this.db,this.b,a,d)};","l.Fb=function(a){var b=4;if(2==this.type||3==this.type||1==this.type)b=this.type;return 1==this.a.length?Qe((new Lg(this.db)).db,b,this.a[0],a||100):Pg(new Og(this.db),b,this.a)};","l.Gb=function(a,b){if(1>arguments.length)throw new F(\"too few arguments\");if(2==arguments.length){if(!w(a)&&u(a)){if(!u(b))throw new F(\"an array is expected for second argument but, \"+zd(b)+\" of type \"+typeof b+\" found\");if(a.length!=b.length)throw new F(\"length of two input arguments must be equal but, \"+a.length+\" and \"+b.length+\" found\");}}else if(1==arguments.length){if(!y(a))throw new F(\"an object is expected but, \"+zd(a)+\" of type \"+typeof a+\" found\");}else throw new F(\"too many arguments\");","return Mg(new Lg(this.db),this.a[0],a,b)};l.count=function(){return(new Lg(this.db)).count(this.a[0])};l.clear=function(){return(new Lg(this.db)).clear(this.a[0])};Xe.prototype.O=function(a,b,c,d,e){if(!w(a))throw new TypeError('store name \"'+a+'\"');if(!Fd(this.b,a))throw new F('Store \"'+a+'\" not found.');var f;if(t(b)){if(!t(c))throw new F(\"boundary value must be defined.\");f=Rb(b,c,d,e)}else if(t(d))throw new F(\"second boundary must not be defined.\");a=new ce(a,f);return new Z(this.d,this.b,a)};","Me.prototype.O=function(a,b,c,d,e){if(!w(a))throw new TypeError('store name \"'+a+'\"');if(!Fd(this.b,a))throw new F('Store \"'+a+'\" not found.');var f;if(t(b)){if(!t(c))throw new F(\"boundary value must be defined.\");f=Rb(b,c,d,e)}else if(t(d))throw new F(\"second boundary must not be defined.\");a=new ce(a,f);return new Z(this,this.b,a)};N(\"ydn.db.query.RestrictionCursor\");Z.prototype.copy=Z.prototype.Eb;Z.prototype.count=Z.prototype.count;Z.prototype.list=Z.prototype.Fb;Z.prototype.order=Z.prototype.Q;Z.prototype.patch=Z.prototype.Gb;Z.prototype.reverse=Z.prototype.reverse;Z.prototype.where=Z.prototype.p;Xe.prototype.from=Xe.prototype.O;Me.prototype.from=Me.prototype.O; ","","//# sourceMappingURL=ydn.db-isw-core-crypt-qry-dev.js.map","return ydn;}, (this || {}));","            ",""],"id":1}],[{"start":{"row":0,"column":0},"end":{"row":637,"column":0},"action":"remove","lines":["","(function (name, definition, context) {if (typeof context['module'] !== 'undefined' && context['module']['exports']) {context['module']['exports'] = definition.apply(context);}else if (typeof context['define'] !== 'undefined' && context['define'] === 'function' && context['define']['amd']) {define(name, [], definition);}else {context[name] = definition();}})('ydn', function () {var l,r=this;function u(a){return void 0!==a}function ba(a){a=a.split(\".\");for(var b=r,c;c=a.shift();)if(null!=b[c])b=b[c];else return null;return b}function ca(){}","function da(a){var b=typeof a;if(\"object\"==b)if(a){if(a instanceof Array)return\"array\";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(\"[object Window]\"==c)return\"object\";if(\"[object Array]\"==c||\"number\"==typeof a.length&&\"undefined\"!=typeof a.splice&&\"undefined\"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(\"splice\"))return\"array\";if(\"[object Function]\"==c||\"undefined\"!=typeof a.call&&\"undefined\"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(\"call\"))return\"function\"}else return\"null\";","else if(\"function\"==b&&\"undefined\"==typeof a.call)return\"object\";return b}function v(a){return\"array\"==da(a)}function w(a){var b=da(a);return\"array\"==b||\"object\"==b&&\"number\"==typeof a.length}function x(a){return\"string\"==typeof a}function ea(a){return\"boolean\"==typeof a}function fa(a){return\"number\"==typeof a}function ga(a){return\"function\"==da(a)}function y(a){var b=typeof a;return\"object\"==b&&null!=a||\"function\"==b}var ha=\"closure_uid_\"+(1E9*Math.random()>>>0),ia=0;","function ja(a,b,c){return a.call.apply(a.bind,arguments)}function ka(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function la(a,b,c){la=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf(\"native code\")?ja:ka;return la.apply(null,arguments)}","function ma(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var na=Date.now||function(){return+new Date};function oa(a,b){var c=a.split(\".\"),d=r;c[0]in d||!d.execScript||d.execScript(\"var \"+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&u(b)?d[e]=b:d[e]?d=d[e]:d=d[e]={}}","function z(a,b){function c(){}c.prototype=b.prototype;a.w=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Tb=function(a,c,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[c].apply(a,g)}};function pa(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0}function qa(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};function ra(a){if(Error.captureStackTrace)Error.captureStackTrace(this,ra);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}z(ra,Error);ra.prototype.name=\"CustomError\";var sa;function ta(a,b){for(var c=a.split(\"%s\"),d=\"\",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join(\"%s\")}function ua(a){return/^[\\s\\xa0]*$/.test(a)}var va=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g,\"\")};","function wa(a){if(!xa.test(a))return a;-1!=a.indexOf(\"&\")&&(a=a.replace(ya,\"&amp;\"));-1!=a.indexOf(\"<\")&&(a=a.replace(za,\"&lt;\"));-1!=a.indexOf(\">\")&&(a=a.replace(Aa,\"&gt;\"));-1!=a.indexOf('\"')&&(a=a.replace(Ba,\"&quot;\"));-1!=a.indexOf(\"'\")&&(a=a.replace(Ca,\"&#39;\"));-1!=a.indexOf(\"\\x00\")&&(a=a.replace(Da,\"&#0;\"));return a}var ya=/&/g,za=/</g,Aa=/>/g,Ba=/\"/g,Ca=/'/g,Da=/\\x00/g,xa=/[\\x00&<>\"']/;","function Ea(a){for(var b=0;1>b;b++)if('\"'==a.charAt(0)&&'\"'==a.charAt(a.length-1))return a.substring(1,a.length-1);return a}var Fa={\"\\x00\":\"\\\\0\",\"\\b\":\"\\\\b\",\"\\f\":\"\\\\f\",\"\\n\":\"\\\\n\",\"\\r\":\"\\\\r\",\"\\t\":\"\\\\t\",\"\\x0B\":\"\\\\x0B\",'\"':'\\\\\"',\"\\\\\":\"\\\\\\\\\",\"<\":\"<\"},Ga={\"'\":\"\\\\'\"};","function Ha(a){a=String(a);for(var b=['\"'],c=0;c<a.length;c++){var d=a.charAt(c),e=d.charCodeAt(0),f=c+1,g;if(!(g=Fa[d])){if(!(31<e&&127>e))if(d in Ga)d=Ga[d];else if(d in Fa)d=Ga[d]=Fa[d];else{e=d;g=d.charCodeAt(0);if(31<g&&127>g)e=d;else{if(256>g){if(e=\"\\\\x\",16>g||256<g)e+=\"0\"}else e=\"\\\\u\",4096>g&&(e+=\"0\");e+=g.toString(16).toUpperCase()}d=Ga[d]=e}g=d}b[f]=g}b.push('\"');return b.join(\"\")}function Ia(a,b){return a<b?-1:a>b?1:0};function Ja(a,b){b.unshift(a);ra.call(this,ta.apply(null,b));b.shift()}z(Ja,ra);Ja.prototype.name=\"AssertionError\";function Ka(a,b){throw new Ja(\"Failure\"+(a?\": \"+a:\"\"),Array.prototype.slice.call(arguments,1));};function La(a,b,c){this.f=c;this.c=a;this.g=b;this.b=0;this.a=null}La.prototype.get=function(){var a;0<this.b?(this.b--,a=this.a,this.a=a.next,a.next=null):a=this.c();return a};La.prototype.put=function(a){this.g(a);this.b<this.f&&(this.b++,a.next=this.a,this.a=a)};function Ma(){this.b=this.a=null}var Oa=new La(function(){return new Na},function(a){a.reset()},100);Ma.prototype.add=function(a,b){var c=Oa.get();c.a=a;c.b=b;c.next=null;this.b?this.b.next=c:this.a=c;this.b=c};function Pa(){var a=Qa,b=null;a.a&&(b=a.a,a.a=a.a.next,a.a||(a.b=null),b.next=null);return b}function Na(){this.next=this.b=this.a=null}Na.prototype.reset=function(){this.next=this.b=this.a=null};var Ra=Array.prototype.indexOf?function(a,b,c){return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(x(a))return x(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Sa=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=x(a)?a.split(\"\"):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ta=Array.prototype.map?function(a,b,c){return Array.prototype.map.call(a,","b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=x(a)?a.split(\"\"):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Ua=Array.prototype.some?function(a,b,c){return Array.prototype.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=x(a)?a.split(\"\"):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1};function Va(a,b){var c=Wa(a,b,void 0);return 0>c?null:x(a)?a.charAt(c):a[c]}","function Wa(a,b,c){for(var d=a.length,e=x(a)?a.split(\"\"):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1}function Ya(a){if(!v(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0}function Za(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function $a(a,b,c){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)}","function ab(a,b){if(!w(a)||!w(b)||a.length!=b.length)return!1;for(var c=a.length,d=bb,e=0;e<c;e++)if(!d(a[e],b[e]))return!1;return!0}function bb(a,b){return a===b};var cb;a:{var db=r.navigator;if(db){var eb=db.userAgent;if(eb){cb=eb;break a}}cb=\"\"}function C(a){return-1!=cb.indexOf(a)};function fb(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function gb(a,b){for(var c=w(b),d=c?b:arguments,c=c?0:1;c<d.length&&(a=a[d[c]],u(a));c++);return a}var hb=\"constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf\".split(\" \");function ib(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<hb.length;f++)c=hb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function jb(){return C(\"Opera\")||C(\"OPR\")};function kb(a){r.setTimeout(function(){throw a;},0)}var lb;","function mb(){var a=r.MessageChannel;\"undefined\"===typeof a&&\"undefined\"!==typeof window&&window.postMessage&&window.addEventListener&&!C(\"Presto\")&&(a=function(){var a=document.createElement(\"IFRAME\");a.style.display=\"none\";a.src=\"\";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write(\"\");a.close();var c=\"callImmediate\"+Math.random(),d=\"file:\"==b.location.protocol?\"*\":b.location.protocol+\"//\"+b.location.host,a=la(function(a){if((\"*\"==d||a.origin==d)&&a.data==","c)this.port1.onmessage()},this);b.addEventListener(\"message\",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if(\"undefined\"!==typeof a&&!C(\"Trident\")&&!C(\"MSIE\")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(u(c.next)){c=c.next;var a=c.gb;c.gb=null;a()}};return function(a){d.next={gb:a};d=d.next;b.port2.postMessage(0)}}return\"undefined\"!==typeof document&&\"onreadystatechange\"in document.createElement(\"SCRIPT\")?function(a){var b=document.createElement(\"SCRIPT\");","b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){r.setTimeout(a,0)}};function nb(a,b){ob||pb();qb||(ob(),qb=!0);Qa.add(a,b)}var ob;function pb(){if(r.Promise&&r.Promise.resolve){var a=r.Promise.resolve(void 0);ob=function(){a.then(rb)}}else ob=function(){var a=rb;!ga(r.setImmediate)||r.Window&&r.Window.prototype&&!C(\"Edge\")&&r.Window.prototype.setImmediate==r.setImmediate?(lb||(lb=mb()),lb(a)):r.setImmediate(a)}}var qb=!1,Qa=new Ma;function rb(){for(var a=null;a=Pa();){try{a.a.call(a.b)}catch(b){kb(b)}Oa.put(a)}qb=!1};function sb(a,b){this.a=wb;this.i=void 0;this.f=this.b=this.c=null;this.g=this.h=!1;if(a!=ca)try{var c=this;a.call(b,function(a){xb(c,yb,a)},function(a){if(!(a instanceof zb))try{if(a instanceof Error)throw a;throw Error(\"Promise rejected.\");}catch(b){}xb(c,Ab,a)})}catch(d){xb(this,Ab,d)}}var wb=0,yb=2,Ab=3;function Bb(){this.next=this.c=this.b=this.f=this.a=null;this.g=!1}Bb.prototype.reset=function(){this.c=this.b=this.f=this.a=null;this.g=!1};","var Cb=new La(function(){return new Bb},function(a){a.reset()},100);function Db(a,b,c){var d=Cb.get();d.f=a;d.b=b;d.c=c;return d}sb.prototype.then=function(a,b,c){return Eb(this,ga(a)?a:null,ga(b)?b:null,c)};pa(sb);function Fb(a){a.a==wb&&nb(function(){var a=new zb(void 0);Gb(this,a)},a)}","function Gb(a,b){if(a.a==wb)if(a.c){var c=a.c;if(c.b){for(var d=0,e=null,f=null,g=c.b;g&&(g.g||(d++,g.a==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(c.a==wb&&1==d?Gb(c,b):(f?(d=f,d.next==c.f&&(c.f=d),d.next=d.next.next):Hb(c),Ib(c,e,Ab,b)))}a.c=null}else xb(a,Ab,b)}function Jb(a,b){a.b||a.a!=yb&&a.a!=Ab||Kb(a);a.f?a.f.next=b:a.b=b;a.f=b}","function Eb(a,b,c,d){var e=Db(null,null,null);e.a=new sb(function(a,g){e.f=b?function(c){try{var e=b.call(d,c);a(e)}catch(m){g(m)}}:a;e.b=c?function(b){try{var e=c.call(d,b);!u(e)&&b instanceof zb?g(b):a(e)}catch(m){g(m)}}:g});e.a.c=a;Jb(a,e);return e.a}sb.prototype.l=function(a){this.a=wb;xb(this,yb,a)};sb.prototype.m=function(a){this.a=wb;xb(this,Ab,a)};","function xb(a,b,c){if(a.a==wb){a==c&&(b=Ab,c=new TypeError(\"Promise cannot resolve to itself\"));a.a=1;var d;a:{var e=c,f=a.l,g=a.m;if(e instanceof sb)Jb(e,Db(f||ca,g||null,a)),d=!0;else if(qa(e))e.then(f,g,a),d=!0;else{if(y(e))try{var h=e.then;if(ga(h)){Lb(e,h,f,g,a);d=!0;break a}}catch(k){g.call(a,k);d=!0;break a}d=!1}}d||(a.i=c,a.a=b,a.c=null,Kb(a),b!=Ab||c instanceof zb||Mb(a,c))}}","function Lb(a,b,c,d,e){function f(a){h||(h=!0,d.call(e,a))}function g(a){h||(h=!0,c.call(e,a))}var h=!1;try{b.call(a,g,f)}catch(k){f(k)}}function Kb(a){a.h||(a.h=!0,nb(a.j,a))}function Hb(a){var b=null;a.b&&(b=a.b,a.b=b.next,b.next=null);a.b||(a.f=null);return b}sb.prototype.j=function(){for(var a=null;a=Hb(this);)Ib(this,a,this.a,this.i);this.h=!1};","function Ib(a,b,c,d){if(c==Ab&&b.b&&!b.g)for(;a&&a.g;a=a.c)a.g=!1;if(b.a)b.a.c=null,Nb(b,c,d);else try{b.g?b.f.call(b.c):Nb(b,c,d)}catch(e){Ob.call(null,e)}Cb.put(b)}function Nb(a,b,c){b==yb?a.f.call(a.c,c):a.b&&a.b.call(a.c,c)}function Mb(a,b){a.g=!0;nb(function(){a.g&&Ob.call(null,b)})}var Ob=kb;function zb(a){ra.call(this,a)}z(zb,ra);zb.prototype.name=\"cancel\";/*"," Portions of this code are from MochiKit, received by"," The Closure Authors under the MIT license. All other code is Copyright"," 2005-2009 The Closure Authors. All Rights Reserved.","*/","function D(a,b){this.j=[];this.P=b||null;this.b=this.c=!1;this.g=void 0;this.W=this.C=this.l=!1;this.i=0;this.f=null;this.A=0}l=D.prototype;l.qa=function(a,b){this.l=!1;Pb(this,a,b)};function Pb(a,b,c){a.c=!0;a.g=c;a.b=!b;a.Ma()}function Qb(a){if(a.c){if(!a.W)throw new Rb;a.W=!1}}l.callback=function(a){Qb(this);Pb(this,!0,a)};l.o=function(a){Qb(this);Pb(this,!1,a)};l.D=function(a,b){return Sb(this,a,null,b)};l.eb=function(a,b){return Sb(this,null,a,b)};l.cb=function(a,b){return Sb(this,a,a,b)};","function Sb(a,b,c,d){a.j.push([b,c,d]);a.c&&a.Ma();return a}l.then=function(a,b,c){var d,e,f=new sb(function(a,b){d=a;e=b});Sb(this,d,function(a){e(a)});return f.then(a,b,c)};pa(D);D.prototype.Ga=function(a){Sb(this,a.callback,a.o,a);return this};function Tb(a,b){b instanceof D?a.D(la(b.V,b)):a.D(function(){return b})}D.prototype.V=function(a){var b=new D;this.Ga(b);a&&(b.f=this,this.A++);return b};function Ub(a){return Ua(a.j,function(a){return ga(a[1])})}","D.prototype.Ma=function(){this.i&&this.c&&Ub(this)&&(Vb(this.i),this.i=0);this.f&&(this.f.A--,delete this.f);for(var a=this.g,b=!1,c=!1;this.j.length&&!this.l;){var d=this.j.shift(),e=d[0],f=d[1],d=d[2];if(e=this.b?f:e)try{var g=e.call(d||this.P,a);u(g)&&(this.b=this.b&&(g==a||g instanceof Error),this.g=a=g);if(qa(a)||\"function\"===typeof r.Promise&&a instanceof r.Promise)this.l=c=!0}catch(h){a=h,this.b=!0,Ub(this)||(b=!0)}}this.g=a;c&&(c=la(this.qa,this,!0),g=la(this.qa,this,!1),a instanceof D?(Sb(a,","c,g),a.C=!0):a.then(c,g));b&&(a=new Wb(a),Xb[a.a]=a,this.i=a.a)};function Rb(){ra.call(this)}z(Rb,ra);Rb.prototype.message=\"Deferred has already fired\";Rb.prototype.name=\"AlreadyCalledError\";function Wb(a){this.a=r.setTimeout(la(this.c,this),0);this.b=a}Wb.prototype.c=function(){delete Xb[this.a];window.console.error(this.b.stack);throw this.b;};var Xb={};function Vb(a){var b=Xb[a];b&&(r.clearTimeout(b.a),delete Xb[a])};var Yb={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};function Zb(){this.a=\"\";this.b=$b}Zb.prototype.X=!0;Zb.prototype.M=function(){return this.a};Zb.prototype.toString=function(){return\"Const{\"+this.a+\"}\"};function ac(a){if(a instanceof Zb&&a.constructor===Zb&&a.b===$b)return a.a;Ka(\"expected object of type Const, got '\"+a+\"'\");return\"type_error:Const\"}var $b={};function bc(a){var b=new Zb;b.a=a;return b};function cc(){this.a=\"\";this.b=dc}cc.prototype.X=!0;var dc={};cc.prototype.M=function(){return this.a};cc.prototype.toString=function(){return\"SafeStyle{\"+this.a+\"}\"};function ec(a){var b=new cc;b.a=a;return b}var fc=ec(\"\"),gc=/^[-,.\"'%_!# a-zA-Z0-9]+$/;function hc(){this.a=\"\";this.b=ic}l=hc.prototype;l.X=!0;l.M=function(){return this.a};l.Ra=!0;l.ca=function(){return 1};l.toString=function(){return\"SafeUrl{\"+this.a+\"}\"};function jc(a){if(a instanceof hc&&a.constructor===hc&&a.b===ic)return a.a;Ka(\"expected object of type SafeUrl, got '\"+a+\"'\");return\"type_error:SafeUrl\"}var kc=/^(?:(?:https?|mailto|ftp):|[^&:/?#]*(?:[/?#]|$))/i;","function lc(a){if(a instanceof hc)return a;a=a.X?a.M():String(a);kc.test(a)||(a=\"about:invalid#zClosurez\");return mc(a)}var ic={};function mc(a){var b=new hc;b.a=a;return b};function nc(){this.a=oc}l=nc.prototype;l.X=!0;l.M=function(){return\"\"};l.Ra=!0;l.ca=function(){return 1};l.toString=function(){return\"TrustedResourceUrl{}\"};var oc={};function pc(){this.a=\"\";this.c=qc;this.b=null}l=pc.prototype;l.Ra=!0;l.ca=function(){return this.b};l.X=!0;l.M=function(){return this.a};l.toString=function(){return\"SafeHtml{\"+this.a+\"}\"};function rc(a){if(a instanceof pc&&a.constructor===pc&&a.c===qc)return a.a;Ka(\"expected object of type SafeHtml, got '\"+a+\"'\");return\"type_error:SafeHtml\"}function sc(a){if(a instanceof pc)return a;var b=null;a.Ra&&(b=a.ca());a=wa(a.X?a.M():String(a));return tc(a,b)}","function uc(a){if(a instanceof pc)return a;a=sc(a);var b;b=rc(a).replace(/  /g,\" &#160;\").replace(/(\\r\\n|\\r|\\n)/g,\"<br>\");return tc(b,a.ca())}var vc=/^[a-zA-Z0-9-]+$/,wc={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},xc={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0};","function yc(a,b,c){if(!vc.test(a))throw Error(\"Invalid tag name <\"+a+\">.\");if(a.toUpperCase()in xc)throw Error(\"Tag name <\"+a+\"> is not allowed for SafeHtml.\");var d=null,e=\"<\"+a;if(b)for(var f in b){if(!vc.test(f))throw Error('Invalid attribute name \"'+f+'\".');var g=b[f];if(null!=g){var h,k=a;h=f;if(g instanceof Zb)g=ac(g);else if(\"style\"==h.toLowerCase()){if(!y(g))throw Error('The \"style\" attribute requires goog.html.SafeStyle or map of style properties, '+typeof g+\" given: \"+g);if(!(g instanceof","cc)){var k=\"\",m=void 0;for(m in g){if(!/^[-_a-zA-Z0-9]+$/.test(m))throw Error(\"Name allows only [-_a-zA-Z0-9], got: \"+m);var q=g[m];if(null!=q){if(q instanceof Zb)q=ac(q);else if(gc.test(q)){for(var n=!0,p=!0,t=0;t<q.length;t++){var A=q.charAt(t);\"'\"==A&&p?n=!n:'\"'==A&&n&&(p=!p)}n&&p||(Ka(\"String value requires balanced quotes, got: \"+q),q=\"zClosurez\")}else Ka(\"String value allows only [-,.\\\"'%_!# a-zA-Z0-9], got: \"+q),q=\"zClosurez\";k+=m+\":\"+q+\";\"}}g=k?ec(k):fc}k=void 0;g instanceof cc&&g.constructor===","cc&&g.b===dc?k=g.a:(Ka(\"expected object of type SafeStyle, got '\"+g+\"'\"),k=\"type_error:SafeStyle\");g=k}else{if(/^on/i.test(h))throw Error('Attribute \"'+h+'\" requires goog.string.Const value, \"'+g+'\" given.');if(h.toLowerCase()in wc)if(g instanceof nc)g instanceof nc&&g.constructor===nc&&g.a===oc?g=\"\":(Ka(\"expected object of type TrustedResourceUrl, got '\"+g+\"'\"),g=\"type_error:TrustedResourceUrl\");else if(g instanceof hc)g=jc(g);else if(x(g))g=lc(g).M();else throw Error('Attribute \"'+h+'\" on tag \"'+","k+'\" requires goog.html.SafeUrl, goog.string.Const, or string, value \"'+g+'\" given.');}g.X&&(g=g.M());h=h+'=\"'+wa(String(g))+'\"';e=e+(\" \"+h)}}null!=c?v(c)||(c=[c]):c=[];!0===Yb[a.toLowerCase()]?e+=\">\":(d=zc(c),e+=\">\"+rc(d)+\"</\"+a+\">\",d=d.ca());(a=b&&b.dir)&&(/^(ltr|rtl|auto)$/i.test(a)?d=0:d=null);return tc(e,d)}function zc(a){function b(a){v(a)?Sa(a,b):(a=sc(a),d+=rc(a),a=a.ca(),0==c?c=a:0!=a&&c!=a&&(c=null))}var c=0,d=\"\";Sa(arguments,b);return tc(d,c)}var qc={};","function tc(a,b){var c=new pc;c.a=a;c.b=b;return c}tc(\"<!DOCTYPE html>\",0);var Ac=tc(\"\",0);var Bc=\"StopIteration\"in r?r.StopIteration:{message:\"StopIteration\",stack:\"\"};function Cc(){}Cc.prototype.next=function(){throw Bc;};Cc.prototype.Fa=function(){return this};function Dc(a){if(a instanceof Cc)return a;if(\"function\"==typeof a.Fa)return a.Fa(!1);if(w(a)){var b=0,c=new Cc;c.next=function(){for(;;){if(b>=a.length)throw Bc;if(b in a)return a[b++];b++}};return c}throw Error(\"Not implemented\");}","function Ec(a,b){if(w(a))try{Sa(a,b,void 0)}catch(c){if(c!==Bc)throw c;}else{a=Dc(a);try{for(;;)b.call(void 0,a.next(),void 0,a)}catch(c){if(c!==Bc)throw c;}}};function Fc(a,b){this.b={};this.a=[];this.f=this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error(\"Uneven number of arguments\");for(var d=0;d<c;d+=2)Gc(this,arguments[d],arguments[d+1])}else if(a){var e;if(a instanceof Fc)e=a.ba(),d=a.Pa();else{var c=[],f=0;for(e in a)c[f++]=e;e=c;c=[];f=0;for(d in a)c[f++]=a[d];d=c}for(c=0;c<e.length;c++)Gc(this,e[c],d[c])}}l=Fc.prototype;l.lb=function(){return this.c};l.Pa=function(){Hc(this);for(var a=[],b=0;b<this.a.length;b++)a.push(this.b[this.a[b]]);return a};","l.ba=function(){Hc(this);return this.a.concat()};l.clear=function(){this.b={};this.f=this.c=this.a.length=0};function Hc(a){if(a.c!=a.a.length){for(var b=0,c=0;b<a.a.length;){var d=a.a[b];Object.prototype.hasOwnProperty.call(a.b,d)&&(a.a[c++]=d);b++}a.a.length=c}if(a.c!=a.a.length){for(var e={},c=b=0;b<a.a.length;)d=a.a[b],Object.prototype.hasOwnProperty.call(e,d)||(a.a[c++]=d,e[d]=1),b++;a.a.length=c}}l.get=function(a,b){return Object.prototype.hasOwnProperty.call(this.b,a)?this.b[a]:b};","function Gc(a,b,c){Object.prototype.hasOwnProperty.call(a.b,b)||(a.c++,a.a.push(b),a.f++);a.b[b]=c}l.forEach=function(a,b){for(var c=this.ba(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};l.clone=function(){return new Fc(this)};l.Fa=function(a){Hc(this);var b=0,c=this.f,d=this,e=new Cc;e.next=function(){if(c!=d.f)throw Error(\"The map has changed since the iterator was created\");if(b>=d.a.length)throw Bc;var e=d.a[b++];return a?e:d.b[e]};return e};function Ic(){return C(\"iPhone\")&&!C(\"iPod\")&&!C(\"iPad\")};var Jc=jb(),Kc=C(\"Trident\")||C(\"MSIE\"),Lc=C(\"Edge\"),Mc=C(\"Gecko\")&&!(-1!=cb.toLowerCase().indexOf(\"webkit\")&&!C(\"Edge\"))&&!(C(\"Trident\")||C(\"MSIE\"))&&!C(\"Edge\"),Nc=-1!=cb.toLowerCase().indexOf(\"webkit\")&&!C(\"Edge\");function Oc(){var a=cb;if(Mc)return/rv\\:([^\\);]+)(\\)|;)/.exec(a);if(Lc)return/Edge\\/([\\d\\.]+)/.exec(a);if(Kc)return/\\b(?:MSIE|rv)[: ]([^\\);]+)(\\)|;)/.exec(a);if(Nc)return/WebKit\\/(\\S+)/.exec(a)}function Pc(){var a=r.document;return a?a.documentMode:void 0}","var Qc=function(){if(Jc&&r.opera){var a;var b=r.opera.version;try{a=b()}catch(c){a=b}return a}a=\"\";(b=Oc())&&(a=b?b[1]:\"\");return Kc&&(b=Pc(),b>parseFloat(a))?String(b):a}(),Rc={};","function Sc(a){var b;if(!(b=Rc[a])){b=0;for(var c=va(String(Qc)).split(\".\"),d=va(String(a)).split(\".\"),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||\"\",h=d[f]||\"\",k=RegExp(\"(\\\\d*)(\\\\D*)\",\"g\"),m=RegExp(\"(\\\\d*)(\\\\D*)\",\"g\");do{var q=k.exec(g)||[\"\",\"\",\"\"],n=m.exec(h)||[\"\",\"\",\"\"];if(0==q[0].length&&0==n[0].length)break;b=Ia(0==q[1].length?0:parseInt(q[1],10),0==n[1].length?0:parseInt(n[1],10))||Ia(0==q[2].length,0==n[2].length)||Ia(q[2],n[2])}while(0==b)}b=Rc[a]=0<=b}return b}","var Tc=r.document,Uc=Tc&&Kc?Pc()||(\"CSS1Compat\"==Tc.compatMode?parseInt(Qc,10):5):void 0;function Vc(a){var b;b=Error();if(Error.captureStackTrace)Error.captureStackTrace(b,a||Vc),b=String(b.stack);else{try{throw b;}catch(c){b=c}b=(b=b.stack)?String(b):null}b||(b=Wc(a||arguments.callee.caller,[]));return b}","function Wc(a,b){var c=[];if(0<=Ra(b,a))c.push(\"[...circular reference...]\");else if(a&&50>b.length){c.push(Xc(a)+\"(\");for(var d=a.arguments,e=0;d&&e<d.length;e++){0<e&&c.push(\", \");var f;f=d[e];switch(typeof f){case \"object\":f=f?\"object\":\"null\";break;case \"string\":break;case \"number\":f=String(f);break;case \"boolean\":f=f?\"true\":\"false\";break;case \"function\":f=(f=Xc(f))?f:\"[fn]\";break;default:f=typeof f}40<f.length&&(f=f.substr(0,40)+\"...\");c.push(f)}b.push(a);c.push(\")\\n\");try{c.push(Wc(a.caller,","b))}catch(g){c.push(\"[exception trying to get caller]\\n\")}}else a?c.push(\"[...long stack...]\"):c.push(\"[end]\");return c.join(\"\")}function Xc(a){if(Yc[a])return Yc[a];a=String(a);if(!Yc[a]){var b=/function ([^\\(]+)/.exec(a);Yc[a]=b?b[1]:\"[Anonymous]\"}return Yc[a]}var Yc={};function Zc(a,b,c,d,e){this.reset(a,b,c,d,e)}Zc.prototype.a=null;var $c=0;Zc.prototype.reset=function(a,b,c,d,e){\"number\"==typeof e||$c++;this.g=d||na();this.f=a;this.c=b;this.b=c;delete this.a};function ad(a){this.g=a;this.a=this.f=this.b=this.c=null}function bd(a,b){this.name=a;this.value=b}bd.prototype.toString=function(){return this.name};var cd=new bd(\"SHOUT\",1200),dd=new bd(\"SEVERE\",1E3),ed=new bd(\"WARNING\",900),fd=new bd(\"INFO\",800),gd=new bd(\"CONFIG\",700),hd=new bd(\"FINE\",500),id=new bd(\"FINER\",400),jd=new bd(\"FINEST\",300),kd=[new bd(\"OFF\",Infinity),cd,dd,ed,fd,gd,hd,id,jd,new bd(\"ALL\",0)],ld=null;ad.prototype.getName=function(){return this.g};","function nd(a){if(a.b)return a.b;if(a.c)return nd(a.c);Ka(\"Root logger has no level set.\");return null}ad.prototype.log=function(a,b,c){if(a.value>=nd(this).value)for(ga(b)&&(b=b()),a=new Zc(a,String(b),this.g),c&&(a.a=c),c=\"log:\"+a.c,r.console&&(r.console.timeStamp?r.console.timeStamp(c):r.console.markTimeline&&r.console.markTimeline(c)),r.msWriteProfilerMark&&r.msWriteProfilerMark(c),c=this;c;){b=c;var d=a;if(b.a)for(var e=0,f=void 0;f=b.a[e];e++)f(d);c=c.c}};","ad.prototype.config=function(a,b){this.log(gd,a,b)};var od={},pd=null;function qd(){pd||(pd=new ad(\"\"),od[\"\"]=pd,pd.b=gd)}function rd(){qd();return pd}function E(a){qd();var b;if(!(b=od[a])){b=new ad(a);var c=a.lastIndexOf(\".\"),d=a.substr(c+1),c=E(a.substr(0,c));c.f||(c.f={});c.f[d]=b;b.c=c;od[a]=b}return b};function sd(a,b,c){a&&a.log(b,c,void 0)}function td(a,b){a&&a.log(dd,b,void 0)}function G(a,b){a&&a.log(ed,b,void 0)}function ud(a,b){a&&a.log(hd,b,void 0)};function H(a,b){a&&a.log(jd,b,void 0)}function I(a,b){a&&a.log(id,b,void 0)};function J(a){ra.call(this,a);this.name=\"ydn.error.ArgumentException\"}z(J,ra);function vd(a){ra.call(this,a);this.name=\"ydn.error.TypeError\"}z(vd,ra);function wd(a){ra.call(this,a);this.name=\"ydn.error.NotSupportedException\"}z(wd,ra);function xd(a){ra.call(this,a);this.name=\"ydn.error.InvalidOperationException\"}z(xd,ra);function yd(a){Error.captureStackTrace?Error.captureStackTrace(this,yd):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.error.InternalError\"}z(yd,Error);","yd.prototype.name=\"ydn.error.InternalError\";function zd(a,b){D.call(this,0,b);this.h=[]}z(zd,D);l=zd.prototype;l.fb=function(a,b){this.h.push([a,b]);return this};function Ad(a,b){for(var c=0;c<a.h.length;c++)a.h[c][0].call(a.h[c][1],b)}l.callback=function(a){this.h.length=0;zd.w.callback.call(this,a)};l.o=function(a){this.h.length=0;zd.w.o.call(this,a)};l.Ga=function(a){zd.w.Ga.call(this,a);a instanceof zd&&a.fb(function(a){Ad(this,a)},this);return this};l.Lb=function(){return this};var Bd={READ_ONLY:\"readonly\",READ_WRITE:\"readwrite\",VERSION_CHANGE:\"versionchange\"},Cd=Bd.READ_ONLY,K=Bd.READ_WRITE,Dd=Bd.VERSION_CHANGE,Ed=r.indexedDB;D.prototype.done=D.prototype.D;D.prototype.fail=D.prototype.eb;D.prototype.always=D.prototype.cb;zd.prototype.then=zd.prototype.then;function Fd(a,b){var c,d;2==arguments.length&&x(arguments[1])?(c=!0,d=arguments[1].split(\".\")):d=(c=w(b))?b:arguments;for(c=c?0:1;c<d.length&&(a=a[d[c]],u(a));c++);return a}function Gd(a,b,c){if(a)if(-1==b.indexOf(\".\"))a[b]=c;else{b=b.split(\".\");for(var d=b.pop(),e;e=b.shift();)y(a[e])||(a[e]={}),a=a[e];a[d]=c}}var Hd={};","function Id(a){a=[a];for(var b=new Jd,c=0,d,e;void 0!==(e=a.pop());){0===c%4&&12<c+4&&(b.write(c),c=0);d=typeof e;if(e instanceof Array)if(c+=4,0<e.length){a.push(Hd);for(d=e.length;d--;)a.push(e[d]);continue}else b.write(c);else if(\"number\"===d)c+=1,b.write(c),Kd(b,e);else if(e instanceof Date)c+=2,b.write(c),Kd(b,e.valueOf());else if(\"string\"===d){c+=3;b.write(c);c=b;for(d=0;d<e.length;d++){var f=e.charCodeAt(d);126>=f?c.write(f+1):16510>=f?(f-=127,c.write(128|f>>8,f&255)):c.write(192|f>>10,f>>","2|255,(f|3)<<6)}c.write(0)}else if(e===Hd)b.write(0);else return\"\";c=0}return b.trim().toString()}","function Kd(a,b){var c,d,e;c=b;var f=e=d=0;if(0!==c)if(isFinite(c)){0>c&&(d=1,c=-c);f=0;if(2.2250738585072014E-308<=c){for(e=c;1>e;)f--,e*=2;for(;2<=e;)f++,e/=2;e=f+1023}f=e?Math.floor(4503599627370496*(c/Math.pow(2,f)-1)):Math.floor(c/4.9E-324)}else e=2047,isNaN(c)?f=0x8000000000000:-Infinity===c&&(d=1);c=d;d=e;e=f;c&&(e=0xfffffffffffff-e,d=2047-d);a.write((c?0:128)|d>>4);a.write((d&15)<<4|0|e/281474976710656);e%=281474976710656;c=0|e/4294967296;a.write(c>>8,c&255);e%=4294967296;c=0|e/65536;a.write(c>>","8,c&255);c=e%65536;a.write(c>>8,c&255)}function Ld(a){var b=Md(a)|0,c=b>>7?!1:!0,d=c?-1:1,e=(b&127)<<4,b=Md(a)|0,e=e+(b>>4);c&&(e=2047-e);for(var b=[c?15-(b&15):b&15],f=6;f--;)b.push(c?255-(Md(a)|0):Md(a)|0);a=0;for(f=7;f--;)a=a/256+b[f];a/=16;return 0===a&&0===e?0:(a+1)*Math.pow(2,e-1023)*d}","function Nd(a){for(var b=[],c=0,d=0,e=0,f,g;;){f=Md(a);if(0===f||null==f)break;0===c?(g=f>>6,2>g&&!isNaN(f)?b.push(String.fromCharCode(f-1)):(c=g,d=f<<10,e++)):2===c?(b.push(String.fromCharCode(d+f+127)),c=d=e=0):2===e?(d+=f<<2,e++):(b.push(String.fromCharCode(d|f>>6)),c=d=e=0)}return b.join(\"\")}function Od(a){this.a=null;this.b=a;this.c=this.b.length-1;this.index=-1}function Md(a){return a.a=a.index<a.c?parseInt(a.b.charAt(++a.index)+a.b.charAt(++a.index),16):null}","function Jd(){this.a=[];this.b=void 0}Jd.prototype.write=function(a){for(var b=0;b<arguments.length;b++)this.b=arguments[b].toString(16),this.a.push(2===this.b.length?this.b:this.b=\"0\"+this.b)};Jd.prototype.trim=function(){for(var a=this.a.length;\"00\"===this.a[--a];);this.a.length=++a;return this};Jd.prototype.toString=function(){return this.a.length?this.a.join(\"\"):\"\"};function Pd(a,b){var c=Id(a),d=Id(b);return c>d?1:c==d?0:-1};function Qd(a,b,c){zd.call(this,0,c);this.v=a;this.h=[];this.m=[];this.aa=[];this.a=null;this.fa=\"\";this.K=0}z(Qd,zd);l=Qd.prototype;l.fa=\"\";l.logger=E(\"ydn.db.Request\");function Rd(a,b,c){a.a=b;a.fa=c;I(a.logger,a+\" BEGIN\");if(b){for(c=0;c<a.m.length;c++)a.m[c][0].call(a.m[c][1],b);a.m.length=0}}function Sd(a){var b=new Qd(a.v);a.K++;Rd(b,a.a,a.fa+\"C\"+a.K);return b}function Td(a){I(a.logger,a+\" END\");a.a=null}l.Cb=function(){return!!this.a};","l.abort=function(){I(this.logger,this+\" aborting \"+this.a);if(this.a)if(ga(this.a.abort))this.a.abort();else if(ga(this.a.executeSql))this.a.executeSql(\"ABORT\",[],function(){},function(){return!0});else throw new wd;else throw new Ud(this+\" No active transaction\");};function L(a,b,c){var d=a.aa.shift();c=!!c;d?d[0].call(d[1],b,c,function(b,c){L(a,b,c)}):c?a.o(b):a.callback(b)}function Vd(a,b,c){a.aa.push([b,c])}function M(a,b,c){a.a?b.call(c,a.a):a.m.push([b,c])}","l.callback=function(a){I(this.logger,this+\" SUCCESS\");Qd.w.callback.call(this,a)};l.o=function(a){I(this.logger,this+\" ERROR\");Qd.w.o.call(this,a)};function N(a){var b=\"\";a.fa&&(b=a.a?\"*\":\"\",b=\"[\"+a.fa+b+\"]\");return a.v+b}function Wd(a,b){var c=new Qd(a);L(c,b);return c}l.toString=function(){return\"Request:\"+N(this)};","l.Ma=function(){this.i&&this.c&&Ub(this)&&(Vb(this.i),this.i=0);this.f&&(this.f.A--,delete this.f);for(var a=this.g,b=!1;this.j.length&&!this.l;){var c=this.j.shift(),d=c[0],e=c[1],c=c[2];if(d=this.b?e:d)d=d.call(c||this.P,a),u(d)&&(this.b=this.b&&(d==a||d instanceof Error),this.g=a=d),qa(a)&&(this.l=b=!0)}this.g=a;b&&(b=la(this.qa,this,!0),d=la(this.qa,this,!1),a instanceof D?(Sb(a,b,d),a.C=!0):a.then(b,d))};","l.toJSON=function(){var a=(this.fa||\"\").match(/B(\\d+)T(\\d+)(?:Q(\\d+?))?(?:R(\\d+))?/)||[];return{method:this.v?this.v.split(\":\"):[],branchNo:parseFloat(a[1]),transactionNo:parseFloat(a[2]),queueNo:parseFloat(a[3]),requestNo:parseFloat(a[4])}};var Xd=Ed&&Ed.cmp?la(Ed.cmp,Ed):Pd,Yd=[];var Zd=C(\"Safari\")&&!((C(\"Chrome\")||C(\"CriOS\"))&&!jb()&&!C(\"Edge\")||C(\"Coast\")||jb()||C(\"Edge\")||C(\"Silk\")||C(\"Android\"))&&!(Ic()||C(\"iPad\")||C(\"iPod\"));function $d(){0!=ae&&(be[this[ha]||(this[ha]=++ia)]=this);this.P=this.P;this.V=this.V}var ae=0,be={};$d.prototype.P=!1;$d.prototype.kb=function(){if(!this.P&&(this.P=!0,this.R(),0!=ae)){var a=this[ha]||(this[ha]=++ia);delete be[a]}};$d.prototype.R=function(){if(this.V)for(;this.V.length;)this.V.shift()()};function ce(a,b){this.type=a;this.a=this.target=b;this.ub=!0}ce.prototype.preventDefault=function(){this.ub=!1};function de(a,b){ce.call(this,a,b)}z(de,ce);de.prototype.c=function(){return this.b};function ee(a,b,c,d,e){ce.call(this,a,b);this.version=c;this.zb=d;this.pb=e}z(ee,de);l=ee.prototype;l.name=\"ReadyEvent\";l.version=NaN;l.zb=NaN;l.pb=null;l.Rb=function(){return this.version};l.Fb=function(){return this.zb};l.Eb=function(){return this.pb};function fe(a,b,c){ce.call(this,c||\"error\",a);this.error=b}z(fe,de);fe.prototype.toString=function(){return this.name+\":\"+(this.error?this.error:\"\")};","fe.prototype.name=\"ErrorEvent\";fe.prototype.error=null;fe.prototype.f=function(){return this.error};function ge(a,b){fe.call(this,a,b,\"fail\")}z(ge,fe);ge.prototype.name=\"FailEvent\";function he(a,b,c,d,e){ce.call(this,a,b);this.b=c;this.key=d;this.value=e}z(he,de);he.prototype.name=\"RecordEvent\";he.prototype.f=function(){return this.key};he.prototype.g=function(){return this.value};function ie(a,b,c,d,e){ce.call(this,a,b);this.b=c;this.keys=d;this.values=e}z(ie,de);ie.prototype.name=\"StoreEvent\";","ie.prototype.ba=function(){return this.keys};ie.prototype.Pa=function(){return this.values};function je(a,b,c){var d;if(y(a))d=a.store,b=a.id,null!=a.parent&&(c=new je(a.parent));else if(u(b))d=a;else if(d=a.lastIndexOf(\"^|\"),b=a,0<d&&(b=a.substr(d),c=new je(a.substring(0,d))),b=b.split(\"^:\"),d=b[0],b=b[1],!u(b))throw Error(\"Invalid key value: \"+a);this.a=d;this.id=b;this.b=c||null}l=je.prototype;l.toJSON=function(){var a={store:this.a,id:this.id};this.b&&(a.parent=this.b.toJSON());return a};l.valueOf=function(){return(this.b?this.b.valueOf()+\"^|\":\"\")+this.a+\"^:\"+this.id};","l.toString=function(){return this.valueOf().replace(\"^|\",\"|\").replace(\"^:\",\":\")};l.Nb=function(){return this.a};l.Db=function(){return this.id};function ke(a){return v(a.id)?a.id.join(\"^|\"):a.id instanceof Date?+a.id:a.id}l.Mb=function(){return this.b};function le(a){if(w(a)){for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}return a};function O(a,b,c,d){a>b&&(b=a=void 0);null===a&&(a=void 0);null===b&&(b=void 0);this.lower=a;this.upper=b;this.lowerOpen=!!c;this.upperOpen=!!d}l=O.prototype;l.lower=void 0;l.upper=void 0;l.lowerOpen=!1;l.upperOpen=!1;l.toJSON=function(){return me(this)};function ne(a){return oe(a)}function se(a){return new O(a,a,!1,!1)}function te(a,b,c,d){return new O(a,b,c,d)}function ue(a,b){return new O(void 0,a,void 0,!!b)}function ve(a,b){return new O(a,void 0,!!b,void 0)}","function we(a){var b;if(v(a))b=Za(a),b.push(\"\\uffff\");else if(x(a))b=a+\"\\uffff\";else if(fa(a))b=a+2.220460492503131E-16,a-=2.220460492503131E-16;else return se(a);return te(a,b,!1,!0)}function me(a){a=a||{};return{lower:a.lower,upper:a.upper,lowerOpen:a.lowerOpen,upperOpen:a.upperOpen}}","function oe(a){return null!=a?null!=a.upper&&null!=a.lower?xe.bound(a.lower,a.upper,!!a.lowerOpen,!!a.upperOpen):null!=a.upper?xe.upperBound(a.upper,a.upperOpen):null!=a.lower?xe.lowerBound(a.lower,a.lowerOpen):null:null}function ye(a){if(a instanceof O)return\"\";if(null!=a){if(y(a)){for(var b in a){var c;if(c=a.hasOwnProperty(b))c=!(0<=Ra([\"lower\",\"upper\",\"lowerOpen\",\"upperOpen\"],b));if(c)return'invalid attribute \"'+b+'\" in key range object'}return\"\"}return\"key range must be an object\"}return\"\"}","function ze(a,b){var c=a.lower,d=a.upper,e=a.lowerOpen,f=a.upperOpen;null!=b.lower&&(null==a.lower||b.lower>=a.lower)&&(c=b.lower,e=b.lowerOpen||a.lowerOpen);null!=b.upper&&(null==a.upper||b.upper<=a.upper)&&(d=b.upper,f=b.upperOpen||a.upperOpen);return te(c,d,e,f)}","function Ae(a,b,c,d,e){if(c)if(c.lowerOpen||c.upperOpen||null==c.lower||null==c.upper||0!==Xd(c.lower,c.upper)){if(null!=c.lower){var f=c.lowerOpen?\" > \":\" >= \";d.push(a+f+\"?\");e.push(Be(c.lower,b))}null!=c.upper&&(f=c.upperOpen?\" < \":\" <= \",d.push(a+f+\"?\"),e.push(Be(c.upper,b)))}else d.push(a+\" = ?\"),e.push(Be(c.lower,b))}","function Ce(a,b,c,d){var e,f,g,h;if(\"starts\"==a||\"^\"==a)return we(b);if(\"<\"==a||\"<=\"==a)e=b,g=\"<\"==a;else if(\">\"==a||\">=\"==a)f=b,h=\">\"==a;else if(\"=\"==a||\"==\"==a)e=f=b;else throw new J(\"invalid op: \"+a);if(\"<\"==c||\"<=\"==c)e=d,g=\"<\"==c;else if(\">\"==c||\">=\"==c)f=d,h=\">\"==c;else if(u(c))throw new J(\"invalid op2: \"+c);return te(f,e,h,g)}var xe=r.IDBKeyRange||r.webkitIDBKeyRange||O;function De(a,b,c,d,e,f){u(e)||(e=v(a)?a.join(\", \"):a);if(null!=a&&!x(a)&&!w(a))throw new J(\"index keyPath for \"+e+\" must be a string or array, but \"+a+\" is \"+typeof a);v(a)&&Object.freeze&&Object.freeze(a);!u(a)&&u(e)&&(a=e.replace(/[,\\s]/g,\"\"));this.keyPath=a;this.h=w(this.keyPath);this.b=e;this.type=Ee(b);if(u(b)){if(!u(this.type))throw new J(\"type invalid in index: \"+this.b);if(v(this.keyPath))throw new J('composite key for store \"'+this.b+'\" must not specified type');}this.unique=!!c;this.multiEntry=","!!d;this.i=x(this.type)?this.type:Fe;this.f=x(e)?e:v(a)?this.keyPath.join(\",\"):a;this.c=Ha(this.f);this.a=this.h?null:this.keyPath.split(\".\");this.g=f||null}var Fe=\"TEXT\";function Be(a,b){if(\"DATE\"==b){if(a instanceof Date)return+a}else return null!=b?a:Id(a)}","function Ge(a,b){var c;if(\"DATE\"==b)c=new Date(a);else if(u(b))c=a;else{for(var d=c=[],e,f=[],g,h,k=new Od(a);null!=Md(k);)if(0===k.a)d=f.pop();else{if(null===k.a)break;do{g=k.a/4|0;e=k.a%4;for(var m=0;m<g;m++)h=[],d.push(h),f.push(d),d=h;if(0===e&&12<k.a+4)Md(k);else break}while(1);1===e?d.push(Ld(k)):2===e?d.push(new Date(Ld(k))):3===e?d.push(Nd(k)):0===e&&(d=f.pop())}c=c[0]}return c}var He=[\"BLOB\",\"DATE\",\"INTEGER\",\"NUMERIC\",Fe];function Ee(a){if(x(a))return a=Ra(He,a),He[a]}l=De.prototype;","l.getName=function(){return this.b};l.toJSON=function(){return{name:this.b,keyPath:this.keyPath,type:this.type,unique:this.unique,multiEntry:this.multiEntry}};l.clone=function(){var a=v(this.keyPath)?Za(this.keyPath):this.keyPath;return new De(a,this.type,this.unique,this.multiEntry,this.b,this.g)};","function Ie(a,b){return null!=a||null!=b?null!=a?null!=b?w(a)&&w(b)?ab(a,b)?null:\"expect: \"+a+\", but: \"+b:Je(a,b)?null:\"expect: \"+a+\", but: \"+b:\"keyPath: \"+a+\" no longer defined\":\"newly define \"+b:null}l.hint=function(a){if(!a)return this;var b=v(this.keyPath)?Za(this.keyPath):this.keyPath,c=this.type;u(a.type)||\"TEXT\"!=c||(c=void 0);return new De(b,c,this.unique,this.multiEntry,a.b)};","l.toString=function(){var a=this.multiEntry?\"MultiEntry\":\"\";this.a&&1<this.a.length&&(a+=\"Compound\");return a+\"Index:\"+this.b};function Ke(a,b,c,d,e,f,g,h){if(!x(a))throw new J(\"store name must be a string\");this.c=a;this.keyPath=u(b)?b:null;this.i=w(this.keyPath);if(null!==this.keyPath&&!x(this.keyPath)&&!this.i)throw new J(\"keyPath must be a string or array\");if(null!=c&&!ea(c))throw new J('invalid autoIncrement value in store \"'+a+'\"');this.b=!!c;var k;if(null!=d){k=Ee(d);if(!u(k))throw new J('type \"'+d+'\" for primary key in store \"'+this.c+'\" is invalid.');if(this.i)throw new J('composite key for store \"'+this.c+'\" must not specified type');","}this.type=null!=k?k:this.b?\"INTEGER\":void 0;this.h=x(this.keyPath)?this.keyPath.split(\".\"):[];this.a=e||[];a=[];for(b=0;b<this.a.length;b++){c=this.a[b].getName();if(0<=a.indexOf(c))throw new J('index \"'+c+'\" already defined in store: '+this.c);a.push(c)}this.L=!!f;this.$=!!g;this.m=x(this.type)?this.type:Fe;this.g=v(this.keyPath)?this.keyPath.join(\",\"):x(this.keyPath)?this.keyPath:\"_ROWID_\";this.f=Ha(this.g);if(this.l=!!h){if(this.keyPath)throw new J('encrypted store \"'+this.c+'\" must not use inline key');","if(this.b)throw new J('encrypted store \"'+this.c+'\" must not use key generator');}this.j=[]}l=Ke.prototype;l.L=!1;l.$=!1;l.toJSON=function(){for(var a=[],b=0;b<this.a.length;b++)a.push(this.a[b].toJSON());return{name:this.c,keyPath:this.keyPath,autoIncrement:this.b,type:this.type,indexes:a}};","function Le(a){var b=\"name keyPath autoIncrement type indexes dispatchEvents fixed Sync encrypted\".split(\" \"),c;for(c in a)if(a.hasOwnProperty(c)&&-1==Ra(b,c))throw new J('Unknown attribute \"'+c+'\"');b=[];c=a.indexes||[];if(v(c))for(var d=0;d<c.length;d++){var e;e=c[d];var f=\"name unique type keyPath multiEntry generator\".split(\" \"),g=void 0;for(g in e)if(e.hasOwnProperty(g)&&-1==Ra(f,g))throw new J(\"Unknown field: \"+g+\" in \"+P(e));e=new De(e.keyPath,e.type,e.unique,e.multiEntry,e.name,e.generator);","u(e.keyPath)&&e.keyPath===a.keyPath||b.push(e)}return new Ke(a.name,a.keyPath,a.autoIncrement,\"undefined\"===a.type||\"null\"===a.type?void 0:a.type,b,a.dispatchEvents,a.fixed,a.encrypted)}function Me(a,b,c,d,e,f,g){a=Ne(a,b,c,d,e,f,g);b=\"\";0!=c&&(b+=\"SELECT \"+a.select);b+=\" FROM \"+a.from;a.s&&(b+=\" WHERE \"+a.s);a.group&&(b+=\" GROUP BY \"+a.group);a.J&&(b+=\" ORDER BY \"+a.J);return b}","function Ne(a,b,c,d,e,f,g){var h={select:\"\",from:\"\",s:\"\",group:\"\",J:\"\"},k=a.g,m=a.f,q=null;d!==k&&x(d)&&(q=Oe(a,d));var n=!!q,p=d||k,t=Ha(p),A=n?q.type:a.type,B=n&&q.multiEntry;h.from=Pe(a);6===c?h.select=\"COUNT(\"+m+\")\":3===c||1===c||2===c?(h.select=m,null!=d&&d!=k&&(h.select+=\", \"+t)):h.select=\"*\";d=g?\"DISTINCT \":\"\";k=[];B?(B=Ha(\"ydn.db.me:\"+a.getName()+\":\"+q.getName()),h.select=6===c?\"COUNT(\"+d+B+\".\"+t+\")\":3===c||1===c||2===c?\"DISTINCT \"+Pe(a)+\".\"+m+\", \"+B+\".\"+t+\" AS \"+p:\"DISTINCT \"+Pe(a)+\".*, \"+","B+\".\"+t+\" AS \"+p,h.from=B+\" INNER JOIN \"+Pe(a)+\" USING (\"+m+\")\",null!=e&&(Ae(B+\".\"+t,A,e,k,b),0<k.length&&(h.s=h.s?h.s+(\" AND \"+k.join(\" AND \")):k.join(\" AND \")))):null!=e&&(Ae(t,A,e,k,b),0<k.length&&(h.s=h.s?h.s+(\" AND \"+k.join(\" AND \")):k.join(\" AND \")));n&&!q.unique&&g&&(h.group=t);a=f?\"DESC\":\"ASC\";h.J=t+\" \"+a;n&&(h.J+=\", \"+m+\" \"+a);return h}","function Qe(a,b,c,d,e,f,g,h,k){var m,q,n,p;null!=e?(m=e.lower,q=e.upper,n=e.lowerOpen,p=e.upperOpen,f?null!=q?(e=Xd(h,q),-1==e?(q=h,p=k):0==e&&(p=k||p)):(q=h,p=k):null!=m?(e=Xd(h,m),1==e?(m=h,n=k):0==e&&(n=k||n)):(m=h,n=k)):f?(q=h,p=k):(m=h,n=k);e=new O(m,q,!!n,!!p);d=d?Oe(a,d):null;b=Ne(a,c,b,d?d.f:a.g,e,f,g);b=\"SELECT \"+b.select+\" FROM \"+b.from+(b.s?\" WHERE \"+b.s:\"\")+(b.group?\" GROUP BY \"+b.group:\"\")+\" ORDER BY \"+b.J;d&&(b+=\", \"+a.f+(f?\"DESC\":\"ASC\"));return b}","function Re(a,b,c,d,e,f,g,h,k,m){var q=Oe(a,d),n=q.f;d=q.c;var p=a.f,t=k?\" <\":\" >\",t=g?t+\" \":t+\"= \";g=Be(f,q.type);h=Be(h,a.type);q=\"\";e?(a=Ne(a,c,b,n,e,k,m),a.s+=\" AND \",q=d+t+\"?\",c.push(g)):(e=k?ue(f,!0):ve(f,!0),a=Ne(a,c,b,n,e,k,m),q=a.s,a.s=\"\");a.s+=\"(\"+q+\" OR (\"+d+\" = ? AND \"+p+t+\"?))\";c.push(g);c.push(h);return\"SELECT \"+a.select+\" FROM \"+a.from+\" WHERE \"+a.s+(a.group?\" GROUP BY \"+a.group:\"\")+\" ORDER BY \"+a.J}l.clone=function(){return Le(this.toJSON())};function Se(a){return a.a.length}","l.index=function(a){return this.a[a]||null};function Oe(a,b){return Va(a.a,function(a){return a.getName()==b})}function Te(a,b){for(var c=0;c<a.a.length;c++)if(!Ie(a.a[c].keyPath,b))return a.a[c];return null}function Ue(a,b){return b===a.keyPath?!0:Ua(a.a,function(a){return a.getName()==b})}function Pe(a){return Ha(a.c)}","function Ve(a,b){if(!b)return a;var c=a.b,d=v(a.keyPath)?Za(a.keyPath):a.keyPath,e=a.type,f=Ta(a.a,function(a){return a.clone()});u(b.type)||\"TEXT\"!=e||(e=void 0);v(b.keyPath)&&x(d)&&d==b.keyPath.join(\",\")&&(d=Za(b.keyPath));for(var g=0,h=b.a.length;g<h;g++)if(b.a[g].h)for(var k=b.a[g].getName(),m=f.length-1;0<=m;m--)if(0<=k.indexOf(f[m].getName())){f[m]=b.a[g].clone();break}for(g=0;g<f.length;g++)(h=Oe(b,f[g].getName()))&&(f[g]=f[g].hint(h));return new Ke(b.c,d,c,e,f)}l.getName=function(){return this.c};","function We(a){return!!a.keyPath}function Xe(a,b,c){if(b){if(!a.keyPath&&null!=c)return c;if(a.i){c=[];for(var d=0;d<a.keyPath.length;d++)c.push(Fd(b,a.keyPath[d]));return c}if(a.keyPath)return gb(b,a.h)}}function Ye(a,b,c){for(var d=0;d<a.h.length;d++){var e=a.h[d];if(d==a.h.length-1){b[e]=c;break}u(b[e])||(b[e]={});b=b[e]}}","function Ze(a,b,c){var d=[],e=[];c=u(c)?c:Xe(a,b);u(c)&&(e.push(a.f),d.push(Be(c,a.type)));for(var f=0;f<a.a.length;f++){var g=a.a[f];if(!g.multiEntry&&g.getName()!==a.keyPath&&\"_default_\"!=g.getName()){var h;h=g;var k=b;if(null!=k)if(w(h.keyPath)){for(var m=[],q=0,n=h.keyPath.length;q<n;q++){var p=Fd(k,h.keyPath[q]);m[q]=p}h=m}else h=Fd(k,h.keyPath);else h=void 0;null!=h&&(d.push(Be(h,g.type)),e.push(g.c))}}a.$?a.$&&!a.keyPath&&0==Se(a)&&(x(b)&&-1==b.indexOf(\";base64,\")?d.push(b):d.push(P(b)),e.push(\"_default_\")):","(d.push(P(b)),e.push(\"_default_\"));a=[];for(f=d.length-1;0<=f;f--)a[f]=\"?\";return{ib:e,vb:a,values:d,key:c}}","function $e(a,b){if(!b)return\"missing store: \"+a.c;if(a.c!=b.c)return\"store name, expect: \"+a.c+\", but: \"+b.c;var c=Ie(a.keyPath,b.keyPath);if(c)return\"keyPath, \"+c;if(u(a.b)&&u(b.b)&&a.b!=b.b)return\"autoIncrement, expect:  \"+a.b+\", but: \"+b.b;if(a.a.length!=b.a.length)return\"indexes length, expect:  \"+a.a.length+\", but: \"+b.a.length;if(u(a.type)&&u(b.type)&&(w(a.type)?!ab(a.type,b.type):a.type!=b.type))return\"data type, expect:  \"+a.type+\", but: \"+b.type;for(c=0;c<a.a.length;c++){var d=Oe(b,a.a[c].getName()),","e;e=a.a[c];if(d)if(e.b!=d.b)e=\"name, expect: \"+e.b+\", but: \"+d.b;else{var f=Ie(e.keyPath,d.keyPath);e=f?\"keyPath, \"+f:null!=e.unique&&null!=d.unique&&e.unique!=d.unique?\"unique, expect: \"+e.unique+\", but: \"+d.unique:null!=e.multiEntry&&null!=d.multiEntry&&e.multiEntry!=d.multiEntry?\"multiEntry, expect: \"+e.multiEntry+\", but: \"+d.multiEntry:u(e.type)&&u(d.type)&&(w(e.type)?!ab(e.type,d.type):e.type!=d.type)?\"data type, expect: \"+e.type+\", but: \"+d.type:\"\"}else e=\"no index for \"+e.b;if(0<e.length)return'index \"'+","a.a[c].getName()+'\" '+e}return\"\"}function af(a,b){if(b)for(var c=0;c<a.a.length;c++){var d=a.a[c],e=b;if(d.g){var f=d.g(e),g=typeof f;if(\"string\"==g||\"number\"==g||f instanceof Date||v(f)){for(g=0;g<d.a.length-1;g++)y(e[d.a[g]])||(e[d.a[g]]={});e[d.a[d.a.length-1]]=f}}}}function bf(a,b,c,d,e){for(var f=0;f<a.j.length;f++)d!==f&&a.j[f].call(e,b,c)}function cf(a,b){for(var c=0;c<a.a.length;c++)if(a.a[c].getName()==b)return c;return-1}l.toString=function(){return\"Store:\"+this.c+\"[\"+Se(this)+\"index]\"};function df(a){return!x(a)||ua(a)?{}:JSON.parse(a)}function ef(a){var b;try{b=P(a)}catch(c){b=\"\"}return b?b.substr(0,70)+(70<b.length?\"...\":\"\"):\"\"}function P(a){return JSON.stringify(a,void 0,void 0)};function ff(a,b){if(!a||ua(a))throw new J(\"store_name must be provided for primary full text index\");if(!b||ua(b))throw new J(\"index_name must be provided for primary full text index\");this.a=a};function gf(a,b,c){this.name=a;this.a=b;this.b=c||\"\";if(-1==[\"\",\"en\",\"fr\"].indexOf(this.b))throw new J('Unsupported lang \"'+c+\" for full text search index \"+a);}gf.prototype.getName=function(){return this.name};gf.prototype.count=function(){return this.a.length};gf.prototype.index=function(a){return this.a[a]};","function hf(a){var b=[\"name\",\"sources\",\"lang\"],c;for(c in a)if(a.hasOwnProperty(c)&&-1==Ra(b,c))throw new J(\"Unknown field: \"+c+\" in \"+P(a));if(!v(a.sources))throw new J(\"indexes require for full text search index \"+a.name+\", but \"+a.sources+\" of type \"+typeof a.sources+\" found.\");b=a.sources.map(function(a){var b=[\"storeName\",\"keyPath\",\"weight\"],c;for(c in a)if(a.hasOwnProperty(c)&&-1==Ra(b,c))throw new J(\"Unknown field: \"+c+\" in \"+ef(a));return new ff(a.storeName,a.keyPath)});return new gf(a.name,","b,a.lang)};function jf(a,b){var c,d,e=b;if(y(a)){d=a;c=[\"version\",\"stores\",\"fullTextCatalogs\"];for(var f in d)if(d.hasOwnProperty(f)&&-1==Ra(c,f))throw new J(\"Unknown field: \"+f+\" in schema.\");c=d.version;var e=[],g=d.stores||[];if(!v(g))throw new J(\"stores must be array\");for(f=0;f<g.length;f++){var h=Le(g[f]);if(-1!=Wa(e,function(a){return a.name==h.getName()}))throw new J('duplicate store name \"'+h.getName()+'\".');e.push(h)}}else x(a)?c=0==a.length?void 0:parseFloat(a):fa(a)&&(c=a);if(u(c)){if(!fa(c)||0>","c)throw new J(\"Invalid version: \"+c+\" (\"+a+\")\");isNaN(c)&&(c=void 0)}if(u(b)&&(!v(b)||0<b.length&&!(b[0]instanceof Ke)))throw new J(\"stores\");this.version=c;this.b=!u(this.version);this.stores=e||[];c=[];if(d&&d.fullTextCatalogs)for(f=0;f<d.fullTextCatalogs.length;f++)e=hf(d.fullTextCatalogs[f]),c[f]=e,S(this,e.getName())||(g=[new De(\"k\",Fe),new De(\"v\",Fe)],e=new Ke(e.getName(),\"id\",!1,void 0,g,!1,!1,!1),this.stores.push(e));this.c=c}","jf.prototype.toJSON=function(){var a=Ta(this.stores,function(a){return a.toJSON()}),b={};b.stores=a;u(this.version)&&(b.version=this.version);return b};jf.prototype.b=!1;jf.prototype.a=function(){return!1};function kf(a){return Ta(a.stores,function(a){return a.getName()})}jf.prototype.count=function(){return this.stores.length};function S(a,b){return Va(a.stores,function(a){return a.getName()==b})}function lf(a,b){return Ua(a.stores,function(a){return a.getName()==b})}","function mf(a,b,c,d){if(!b||a.stores.length!=b.stores.length)return\"Number of store: \"+a.stores.length+\" vs \"+b.stores.length;for(var e=0;e<a.stores.length;e++){var f=S(b,a.stores[e].getName());if(f){c&&(f=Ve(f,a.stores[e]));if(d)for(var g=f,h=a.stores[e],k=0;k<h.a.length;k++){var m=h.a[k];Ue(g,m.getName())||\"BLOB\"!=m.type||(m=new De(m.keyPath,m.type,m.unique,m.multiEntry,m.getName()),g.a.push(m))}f=$e(a.stores[e],f);if(0<f.length)return'store: \"'+a.stores[e].getName()+'\" '+f}else return'missing object store \"'+","a.stores[e].getName()+'\"'}return\"\"};function nf(a,b){jf.call(this,a,b)}z(nf,jf);nf.prototype.a=function(){return!0};function of(a,b){a.stores.push(b)};function pf(a){Error.captureStackTrace?Error.captureStackTrace(this,pf):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.error.ArgumentException\"}z(pf,Error);z(pf,Error);function qf(a){Error.captureStackTrace?Error.captureStackTrace(this,qf):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.error.InternalError\"}z(qf,Error);qf.prototype.name=\"ydn.InternalError\";","function rf(a){Error.captureStackTrace?Error.captureStackTrace(this,rf):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.error.ConstraintError\"}z(rf,Error);rf.prototype.name=\"ydn.error.ConstraintError\";function sf(a){Error.captureStackTrace?Error.captureStackTrace(this,sf):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.error.InvalidOperationException\"}z(pf,Error);","function tf(a){Error.captureStackTrace?Error.captureStackTrace(this,tf):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.error.InvalidOperationError\"}z(tf,Error);function Je(a,b){var c;c=c||{};if(null!=a&&null!=b){if(w(a)&&w(b)){if(a.length!=b.length)return!1;for(var d=0;d<a.length;d++)if(-1==Wa(b,function(b){return Je(b,a[d])}))return!1;return!0}if(w(a))return 1==a.length&&Je(a[0],b);if(w(b))return 1==b.length&&Je(b[0],a);if(y(a)&&y(a)){for(var e in a)if(a.hasOwnProperty(e)&&!c[e]){var f=Je(a[e],b[e]);if(!f)return!1}for(e in b)if(b.hasOwnProperty(e)&&!c[e]&&(f=Je(a[e],b[e]),!f))return!1;return!0}return a===b}return!1};/*"," Copyright 2012 YDN Authors, Yathit. All Rights Reserved."," Licensed under the Apache License, Version 2.0 (the \"License\");.","*/","function T(a,b,c){c=c||{};var d=\"autoSchema connectionTimeout size mechanisms policy isSerial Encryption\".split(\" \"),e;for(e in c)if(c.hasOwnProperty(e)&&-1==Ra(d,e))throw new J('Unknown attribute \"'+e+'\" in options.');if(c.mechanisms){if(!v(c.mechanisms))throw new J(\"mechanisms attribute must be an array but \"+da(c.mechanisms)+\" found.\");for(e=0;e<c.mechanisms.length;e++)if(!(0<=Ra(uf,c.mechanisms[e])))throw new J('Invalid mechanism \"'+c.mechanisms[e]+'\"');}this.v=c.mechanisms||(Zd||Ic()||C(\"iPad\")||","C(\"iPod\")?$a(uf,1):uf);this.j=c.size;this.A=u(c.connectionTimeout)?c.connectionTimeout:3E3;this.a=null;this.f=[];this.ua=!1;var f;if(b instanceof jf)f=b;else if(y(b))for(c.autoSchema||!u(b.stores)?f=new nf(b):f=new jf(b),c=b.stores?b.stores.length:0,e=0;e<c;e++)d=S(f,b.stores[e].name),b.stores[e].Sync&&G(this.logger,\"Synchronization option for \"+d.getName()+\" ignored.\");else f=new nf;this.c=f;for(e=0;e<this.c.count();e++)if((this.c.stores[e]||null).l)throw Error(\"encryption option must be defined\");","u(a)&&this.m(a);this.i=null;this.g=new D}T.prototype.logger=E(\"ydn.db.con.Storage\");T.prototype.C=function(a){if(u(a)){var b=function(b){a(b.toJSON());a=void 0};if(this.a)this.a.T(b);else{var c=this;this.transaction(function(a){c.a.T(b,a)},null,Cd)}}return this.c?this.c.toJSON():null};T.prototype.m=function(a){if(this.a)throw new xd(\"Already connected with \"+this.h);this.h=a;vf(this)};T.prototype.getName=function(){return this.h};var uf=\"indexeddb sqlite websql localstorage sessionstorage userdata memory\".split(\" \");","l=T.prototype;l.Ka=function(){return null};","function vf(a){function b(b,e){b?(H(a.logger,a+\": ready.\"),a.mb=NaN,d.za=function(b){a.G(new fe(a,b))},d.Ya=function(b){a.G(new ge(a,b));a.a=null},d.Ta=function(b){a.G(b)},setTimeout(function(){wf(a,e);xf(a)},10),c.callback(e)):(G(a.logger,a+\": database connection fail \"+e.name),setTimeout(function(){wf(a,new ge(a,e));if(a.f){var b=a.logger;for(b&&b.log(fd,\"Purging \"+a.f.length+\" transactions request.\",void 0);b=a.f.shift();)b.H&&b.H(\"error\",e)}},10),c.o(e))}for(var c=new D,d=null,e=a.v,f=0;f<e.length;f++){var g=","e[f].toLowerCase();if(d=a.Ka(g)){d=a.Ka(g);break}}null===d?(e=new rf(\"No storage mechanism found.\"),b(!1,new ge(a,e))):Sb(d.connect(a.h,a.c),function(a){this.a=d;b(!0,new ee(\"ready\",this,parseFloat(d.yb()),parseFloat(a),null))},function(a){G(this.logger,this+\": opening fail\");b(!1,a)},a)}l.Aa=function(){if(this.a)return this.a.xb()};l.xa=function(a,b){this.g.V().cb(a,b)};function wf(a,b){setTimeout(function(){a.c.b&&a.g.c||(b instanceof fe?a.g.o(b.error):a.g.callback(),a.G(b))},4)}","function yf(a){return!!a.a&&a.a.Xa()}l.close=function(){this.a&&(this.a.close(),this.a=null,H(this.logger,this+\" closed\"))};l.Qb=function(){return this.a?this.a.wb():null};l.mb=NaN;function xf(a){var b=a.f.shift();b&&(H(a.logger,\"pop tx queue[\"+(a.f.length+1)+\"]\"),a.transaction(b.sa,b.Jb,b.mode,b.H));a.mb=na()}","function zf(a,b,c,d,e){H(a.logger,\"push tx queue[\"+a.f.length+\"]\");a.f.push({sa:b,Jb:c,mode:d||Cd,H:e});100<a.f.length&&0==a.f.length%100&&G(a.logger,\"Transaction queue stack size is \"+a.f.length+\". It is too large, possibility due to incorrect usage.\")}l.ua=!1;","l.transaction=function(a,b,c,d){var e=b;if(x(b))e=[b];else if(null!=b)if(w(b)){if(0==b.length)throw new J(\"number of store names must more than 0\");for(var f=0;f<b.length;f++)if(!x(b[f]))throw new J(\"store name at \"+f+\" must be string but found \"+typeof b[f]);}else throw new J(\"store names must be an array\");else e=null;if(this.a&&this.a.Xa()&&!this.ua){var g=this,h=u(c)?c:Cd;h==Dd&&(this.ua=!0);this.a.La(function(b){a(b);a=null},e,h,function(a,b){ga(d)&&(d(a,b),d=void 0);h==Dd&&(g.ua=!1);xf(g)})}else zf(this,","a,e,c,d)};l.G=function(){};l.toString=function(){return\"Storage:\"+this.a};T.prototype.close=T.prototype.close;T.prototype.getType=T.prototype.Aa;T.prototype.getName=T.prototype.getName;T.prototype.getSchema=T.prototype.C;T.prototype.onReady=T.prototype.xa;T.prototype.setName=T.prototype.m;T.prototype.transaction=T.prototype.transaction;T.prototype.db=T.prototype.Qb;oa(\"ydn.db.version\",\"1.4.3\");oa(\"ydn.db.cmp\",Xd);oa(\"ydn.db.deleteDatabase\",function(a,b){for(var c,d=0;d<Yd.length;d++){var e=Yd[d](a,b);e&&(c=e)}return c||Wd(\"IDBVersionChangeEvent \",null)});","ee.prototype.name=ee.prototype.name;ee.prototype.getVersion=ee.prototype.Rb;ee.prototype.getOldVersion=ee.prototype.Fb;ee.prototype.getOldSchema=ee.prototype.Eb;fe.prototype.getError=fe.prototype.f;Qd.prototype.abort=Qd.prototype.abort;Qd.prototype.canAbort=Qd.prototype.Cb;zd.prototype.progress=zd.prototype.fb;zd.prototype.promise=zd.prototype.Lb;oa(\"ydn.db.KeyRange\",O);O.only=se;O.bound=te;O.upperBound=ue;O.lowerBound=ve;function Af(a,b,c,d){$d.call(this);this.a=c;this.bb=c.getName();this.i=void 0;this.f=!1;this.Z=null;this.j=a;this.ab=b;this.Ea=0;this.C=this.m=!1;this.A=d||4;this.aa=this.g=this.c=void 0;this.K=function(){throw new yd;};this.W=function(){throw new yd;};this.$a=function(){}}z(Af,$d);l=Af.prototype;","l.Za=function(a,b,c,d,e){if(u(b)){a=this.a;var f,g=b;v(b)?(f=Te(a,b),g=b.join(\", \")):f=Oe(a,b);if(!f)throw new J('require index \"'+g+'\" not found in store \"'+a.getName()+'\"');this.i=f.getName()}this.f=x(this.i);this.Z=c||null;this.Ea=0;this.C=this.m=!1;this.reverse=\"prev\"==d||\"prevunique\"==d;this.unique=\"nextunique\"==d||\"prevunique\"==d;this.dir=d;this.va=e;this.aa=this.g=this.c=void 0};l.dir=\"\";l.Z=null;l.unique=!1;l.reverse=!1;l.va=!0;l.logger=E(\"ydn.db.core.req.AbstractCursor\");","function Bf(a,b){a.W(b);Cf(a);a.m=!0}l.O=function(a,b,c){null==a&&(I(this.logger,this+\" finished.\"),this.m=!0);this.c=a;this.g=b;this.aa=c;this.Ea++;this.m?(H(this.logger,this+\" DONE.\"),this.K(),Cf(this)):(H(this.logger,this+\" new cursor position {\"+(this.f?this.c+\", \"+this.g:this.c)+\"}\"),this.K(this.c))};l.R=function(){this.j=null};l.toString=function(){return\"Cursor:\"+this.bb+(u(this.i)?\":\"+this.i:\"\")+\"[\"+(this.j?\"\":\"~\")+this.ab+\"]\"};","function Cf(a){null!=a.g?a.g=le(a.g):a.g=void 0;null!=a.c?a.c=le(a.c):a.c=void 0;a.$a(a.C,a.c,a.g)}l.open=function(a,b,c,d){this.j=a;this.ab=b;this.m=this.C=!1;this.c=c;this.g=d;this.openCursor(this.c,this.g)};function Df(a){a.C=!0;H(a.logger,a+\": exit\");Cf(a)}l.lb=function(){return this.Ea};l.U=function(){return this.f?this.g:this.c};l.Ca=function(){return this.va?this.U():this.aa};l.Ba=function(){};l.ga=function(){};","function Ef(a,b,c){H(a.logger,a+\" restarting\");a.m=!1;a.C=!1;a.openCursor(c,b)};function Ff(){};function Gf(a,b,c,d,e,f,g){if(!x(a))throw new TypeError(\"store name must be a string, but \"+a+\" found.\");this.b=a;this.c=b;this.h=g;this.m=!!this.c;if(u(d)&&!ea(d))throw new J(\"reverse value must be a boolean, but \"+typeof d+\" found\");if(u(e)&&!ea(e))throw new J(\"unique value must be a boolean, but \"+typeof e+\" found\");if(u(f)&&!ea(f))throw new J(\"key_only value must be a boolean, but \"+typeof f+\" found\");this.f=u(f)?f:!!x(this.c);a=\"next\";d&&e?a=\"prevunique\":d?a=\"prev\":e&&(a=\"nextunique\");this.i=","a;if(d=ye(c))throw new J(\"Invalid key range: \"+d);this.a=oe(c);this.g=Hf;this.v=NaN}z(Gf,Ff);Gf.prototype.f=!0;var Hf=\"init\";l=Gf.prototype;l.logger=E(\"ydn.db.Iterator\");l.clone=function(){var a=new Gf(this.b,this.c,this.a,If(this),Jf(this),this.f,this.h);a.v=this.v;return a};l.unique=function(a){return new Gf(this.b,this.c,this.a,If(this),a,this.f,this.h)};l.toJSON=function(){return{store:this.b,index:this.c,keyRange:this.a?me(this.a):null,direction:this.i}};","l.toString=function(){var a=u(this.h)?\":\"+this.h.join(\",\"):u(this.c)?\":\"+this.c:\"\",b;if(b=this.a){var c=b.lowerOpen?\"(\":\"[\";null!=b.lower&&(c+=b.lower+\", \");null!=b.upper&&(c+=b.upper);b=c+=b.upperOpen?\")\":\"]\"}else b=\"\";a+=b;this.g!=Hf&&(a+=this.g+\"{\"+this.j,this.m&&(a+=\", \"+this.l),a+=\"}\");b=this.m?\"Index\":\"\";b+=this.f?\"Key\":\"Value\";return b+\"Iterator:\"+this.b+a};function Kf(a,b,c){a=new Gf(a.b,a.c,a.a,If(a),Jf(a),a.f,a.h);a.j=b;a.l=c;a.g=\"rest\";return a}","l.reverse=function(){return new Gf(this.b,this.c,this.a,!If(this),Jf(this),this.f,this.h)};function If(a){return\"prev\"===a.i||\"prevunique\"===a.i}function Jf(a){return\"nextunique\"===a.i||\"prevunique\"===a.i}l.load=function(a){a=a[0];a.Za(this.b,this.h||this.c,this.a,this.i,this.f);this.g=\"busy\";var b=this;a.$a=function(a,d,e){b.j=d;b.l=e;b.g=a?\"rest\":\"done\"};a.openCursor(this.j,this.l);return a};","l.reset=function(a,b,c){a=a||Hf;\"busy\"==this.g?G(this.logger,this+\": resetting state to \"+a+\" ignore during iteration\"):(this.j=b,this.l=c,this.g=a)};l.stores=function(){return[this.b]};function Lf(a,b){if(null!=a&&!(\"push\"in a))throw new pf('output receiver object must have \"push\" method.');this.b=a||null;this.f=b;this.a=!1}Lf.prototype.logger=E(\"ydn.db.algo.AbstractSolver\");","function Mf(a,b){a.a=If(b[0]);for(var c=0;c<b.length;c++){if(!(b[c]instanceof Gf))throw new vd(\"item at iterators \"+c+\" is not an iterator.\");if(0<c&&a.a!=If(b[c]))throw new vd(\"iterator at \"+c+\" must \"+(a.a?\"be reverse\":\"not be reverse\"));}for(var d=\"{\",c=0;c<b.length;c++)0<c&&(d+=\", \"),d+=b.toString();d+=\"}\";a.a&&(d+=\" reverse\");ud(a.logger,a+\" begin \"+d);return!1}Lf.prototype.c=function(){return[]};function Nf(a){Error.captureStackTrace?Error.captureStackTrace(this,Nf):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ConstraintError\"}z(Nf,Error);Nf.prototype.name=\"ConstraintError\";Nf.prototype.toString=function(){return this.name+\": \"+this.message};function Ud(a){Error.captureStackTrace?Error.captureStackTrace(this,Ud):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"InvalidStateError\"}z(Ud,Error);","function Of(a){Error.captureStackTrace?Error.captureStackTrace(this,Of):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"InvalidAccessError\"}z(Of,Error);function Pf(a){Error.captureStackTrace?Error.captureStackTrace(this,Pf):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"NotFoundError\"}z(Pf,Error);Pf.prototype.name=\"NotFoundError\";Pf.prototype.toString=function(){return this.name+\": \"+this.message};","function Qf(a,b){Error.captureStackTrace?Error.captureStackTrace(this,Qf):this.stack=Error().stack||\"\";b&&(this.message=String(b));this.message+=\" :\"+a.message+\" [\"+a.code+\"]\";this.name=\"SQLError\"}z(Qf,Error);Qf.prototype.toString=function(){return this.name+\": \"+this.message};function Rf(a,b){Error.captureStackTrace?Error.captureStackTrace(this,Rf):this.stack=Error().stack||\"\";b&&(this.message=String(b));this.message+=\" :\"+a.message;this.name=\"SecurityError\"}z(Rf,Error);","Rf.prototype.toString=function(){return this.name+\": \"+this.message};function Sf(a){Error.captureStackTrace?Error.captureStackTrace(this,Sf):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.db.TimeoutError\"}z(Sf,Error);function Tf(a,b){this.a=b}Tf.prototype.logger=E(\"ydn.db.crud.req.RequestExecuto\");Tf.prototype.toString=function(){return\"RequestExecutor\"};function Uf(a){this.c=a;this.a=null;this.b=0}Uf.prototype.logger=E(\"ydn.db.tr.Mutex\");Uf.prototype.I=null;function Vf(a){return!!a.a&&!a.f}Uf.prototype.H=null;Uf.prototype.toString=function(){return\"Mutex:\"+(\"B\"+this.c+\"T\"+this.b)+(this.a?\"*\":\"\")};function Wf(a,b,c,d,e,f){this.j=a;this.K=b;this.a=this.f=0;this.C=d;this.A=e;this.g=c||Xf;this.l=f||0}Wf.prototype.logger=E(\"ydn.db.tr.Thread\");Wf.prototype.type=function(){return this.j.Aa()};Wf.prototype.F=function(){return\"B\"+this.K+\"T\"+this.f};var Xf=\"single\";function Yf(a){if(a)if(ga(a.abort))a.abort();else if(ga(a.executeSql))a.executeSql(\"ABORT\",[],null,function(){return!0});else throw new wd;else throw new Ud(\"No active transaction\");};function Zf(a,b,c,d,e,f){Wf.call(this,a,b,c,d,e,f);this.c=[];this.h=[];this.i=null;this.b=new Uf(b);this.m=f||0;this.v=!1}z(Zf,Wf);l=Zf.prototype;l.logger=E(\"ydn.db.tr.Serial\");","function $f(a,b,c){if(\"multi\"==a.g)a:if(a=a.b,!a.I||!a.mode||c!=a.mode&&(a.mode!=K||c!=Cd)||b.length>a.I.length)b=!1;else{for(c=0;c<b.length;c++)if(-1==a.I.indexOf(b[c])){b=!1;break a}b=!0}else if(\"repeat\"==a.g)a:if(a=a.b,a.I&&a.mode&&c==a.mode&&a.I.length==b.length){for(c=0;c<b.length;c++)if(-1==a.I.indexOf(b[c])){b=!1;break a}b=!0}else b=!1;else b=\"all\"==a.g?!0:!1;return b}function ag(a){var b=0<a.c.length?a.c[0].I:null,c=0<a.c.length?a.c[0].mode:null;return null!=b&&null!=c?$f(a,b,c):!1}","function bg(a,b,c,d,e){H(a.logger,\"push tx queue[\"+a.c.length+\"]\");a.c.push({sa:b,I:c,mode:d||Cd,H:e})}l.abort=function(){I(this.logger,this+\": aborting\");Yf(this.i)};","l.Y=function(a,b,c,d){var e=x(b)?[b]:b;if(w(e)){if(0==e.length)throw new J(\"number of store names must more than 0\");for(var f=0;f<e.length;f++){if(!x(e[f]))throw new J(\"store name at \"+f+\" must be string but found \"+e[f]+\" of type \"+typeof e[f]);if(this.P&&!(0<=Ra(this.P,e[f])))throw new J('store name \"'+f+e[f]+'\" in scope of '+this);}}else throw new J(\"store names must be an array\");var g=u(c)?c:Cd,h=this;if(this.b.a||!yf(this.j)&&this.v)bg(this,a,b,g,d);else{var k=this.F();d&&this.h.push(d);if(this.m&&","this.f>=this.m)throw new xd(\"Exceed maximum number of transactions of \"+this.m);this.v=!0;this.j.transaction(function(c){var d=h.b;d.a=c;d.f=!1;d.I=b;d.mode=g;d.b++;d.H=null;k=h.F();ud(h.logger,k+\" BEGIN \"+P(b)+\" \"+g);a(h);for(a=null;ag(h);)c=h.c.shift(),c.H&&h.h.push(c.H),H(h.logger,\"pop tx queue\"+(h.c.length+1)+\" reusing T\"+h.f),c.sa()},e,g,function(a,b){ud(h.logger,k+\" \"+a);var c=h.b;c.a?(c.a=null,c.I=null,c.mode=null,ga(c.H)&&c.H(a,b),c.H=null):G(c.logger,c+\" has no TX to be unlocked for \"+a);","for(c=0;c<h.h.length;c++)(0,h.h[c])(a,b);h.h.length=0;(c=h.c.shift())&&h.Y(c.sa,c.I,c.mode,c.H);h.a=0})}};l.F=function(){var a=this.b;return\"B\"+a.c+\"T\"+a.b};l.request=function(a,b,c,d){function e(a,b){Td(f);d&&d(a,b)}var f=new Qd(a);a=c||Cd;var g=this;Vf(this.b)&&$f(this,b,a)?(b=this.b.a,this.a++,Rd(f,b,this.F()+\"R\"+this.a),this.h.push(e)):g.Y(function(){var a=g.b.a;g.a++;Rd(f,a,g.F()+\"R\"+g.a)},b,a,e);return f};","l.ia=function(a,b,c,d,e){d=d||Cd;var f=this,g;if(Vf(f.b)&&$f(this,c,d)){var h=f.b.a;f.a++;g=f.F()+\"R\"+f.a;I(f.logger,g+\" BEGIN\");b(h,g,function(b,c){f.i=h;c?(I(f.logger,g+\" ERROR\"),a.o(b)):(I(f.logger,g+\" SUCCESS\"),a.callback(b));f.i=null});I(f.logger,g+\" END\");b=null}else f.Y(function(){var c=f.b.a;f.a++;g=f.F()+\"R\"+f.a;I(f.logger,g+\" BEGIN\");b(c,g,function(b,d){f.i=c;d?(I(f.logger,g+\" ERROR\"),a.o(b)):(I(f.logger,g+\" SUCCESS\"),a.callback(b));f.i=null});I(f.logger,g+\" END\");b=null},c,d,e)};","l.getName=function(){return this.j.getName()};l.toString=function(){return\"Serial:\"+this.F()+(this.i?\"*\":\"\")};function cg(a,b){Zf.call(this,a,b)}z(cg,Zf);cg.prototype.logger=E(\"ydn.db.tr.AtomicSerial\");cg.prototype.request=function(a,b,c){var d,e,f,g=cg.w.request.call(this,a,b,c,function(a,b){Td(g);if(d)\"complete\"!=a&&(f=!0,e=b),d(e,f);else{var c=new Sf;L(g,c,!0)}});Vd(g,function(a,b,c){f=b;e=a;d=c});return g};","cg.prototype.ia=function(a,b,c,d,e){var f,g,h=new D;Sb(h,function(a){g=!1;f=a},function(a){g=!0;f=a});cg.w.ia.call(this,h,b,c,d,function(b,c){if(\"complete\"!=b)a.o(c);else if(!0===g)a.o(f);else if(!1===g)a.callback(f);else{var d=new Sf;a.o(d)}e&&(e(b,c),e=void 0)})};cg.prototype.toString=function(){return\"Atomic\"+cg.w.toString.call(this)};function dg(a,b,c){this.c=a;this.b=b;this.a=c;this.f=null}dg.prototype.logger=E(\"ydn.db.tr.DbOperator\");dg.prototype.g=function(){return this.a.f};dg.prototype.abort=function(){this.a.abort()};function U(a){if(!a.f){var b;b=a.c;var c=b.Aa();if(\"indexeddb\"==c)b=new eg(0,b.c);else if(\"websql\"==c||\"sqlite\"==c)b=new fg(0,b.c);else throw new yd(\"No executor for \"+c);a.f=b}return a.f}","function gg(a,b){var c=x(b)?b:y(b)?b.name:void 0;if(!x(c))throw new J(\"store name \"+c+\" must be a string, but \"+typeof c);var d=S(a.b,c);if(!d){if(!a.b.a())throw new J('store name \"'+c+'\" not found.');d=Le(y(b)?b:{name:c});I(a.logger,\"Adding object store: \"+c);var e=a.c,f=d,g=f instanceof Ke?f:Le(f),f=f.name,h=S(e.c,f);if(0==$e(g,h).length)(new D).callback(!1);else if(h=h?\"update\":\"add\",e.c instanceof nf)of(e.c,g),e.a?(e.a.close(),e.a=null,vf(e)):(new D).callback(!1);else throw new rf(\"Cannot \"+h+","\" store: \"+f+\". Not auto schema generation mode.\");}else if(a.b.a()&&y(b)&&(e=Le(b),e=$e(d,e)))throw new wd(e);if(!d)throw new Pf(c);return d}dg.prototype.toString=function(){return\"TxStorage:\"+this.c.getName()};function V(a,b,c){dg.call(this,a,b,c)}z(V,dg);l=V.prototype;l.logger=E(\"ydn.db.crud.DbOperator\");","l.count=function(a,b,c,d){var e,f,g,h;if(null!=a)if(v(a)){if(u(c)||u(b))throw new J(\"too many arguments.\");f=a;for(var k=0;k<f.length;k++)if(!lf(this.b,f[k]))throw new J('store name \"'+f[k]+'\" at '+k+\" not found.\");I(this.logger,\"countStores: \"+P(f));e=this.a.request(\"count\",f);M(e,function(){U(this).Ja(e,f)},this)}else if(x(a)){k=S(this.b,a);if(!k)throw new J('store name \"'+a+'\" not found.');if(u(d)&&!ea(d))throw new J('unique value \"'+d+'\" must be boolean, but found '+typeof d+\".\");f=[a];if(x(b))if(g=","b,y(c)){var m=ye(c);if(m)throw new J(\"invalid key range: \"+ef(c)+\" \"+m);h=oe(c)}else{if(null!=c)throw new J(\"invalid key range: \"+ef(c)+\" of type \"+typeof c);h=null}else if(y(b)||null==b)if(y(b)){if(m=ye(b))throw new J(\"invalid key range: \"+ef(b)+\" \"+m);h=oe(b)}else{if(null!=b)throw new J(\"key range must be  an object but found \"+ef(b)+\" of type \"+typeof b);h=null}else throw new J('invalid second argument for count \"'+ef(c)+'\" of type '+typeof b);I(this.logger,\"countKeyRange: \"+a+\" \"+(g?g:\"\")+P(h));","e=this.a.request(\"count\",f);bf(k,e,arguments);M(e,function(){U(this).jb(e,f[0],h,g,!!d)},this)}else throw new J(\"Invalid store name or store names.\");else G(this.logger,\"count method requires store name(s)\"),k=kf(this.b),e=this.a.request(\"count\",k),Vd(e,function(a,b,c){if(b)c(a,!0);else{for(var d=b=0;d<a.length;d++)b+=a[d];c(b,!1)}},this),M(e,function(){U(this).Ja(e,f)},this);return e};","l.get=function(a,b){var c=this,d;if(a instanceof je){var e=a,f=e.a,g=S(this.b,f);if(!g){if(this.b.a()){if(yf(this.c))return Wd(\"get\",void 0);d=new Qd(\"get\");this.c.xa(function(){Sb(c.get(a,b),function(a){d.callback(a)},function(a){d.o(a)})});return d}throw new J(\"Store: \"+f+\" not found.\");}var h=e.id;I(this.logger,\"getByKey: \"+f+\":\"+h);d=this.a.request(\"get:key\",[f]);bf(g,d,arguments,void 0,this);M(d,function(){U(this).Na(d,f,h)},this)}else if(x(a)&&u(b)){var k=a,g=S(this.b,k);if(!g){if(this.b.a()){if(yf(this.c))return Wd(\"get\",","void 0);d=new Qd(\"get\");this.c.xa(function(){Sb(c.get(a,b),function(a){d.callback(a)},function(a){d.o(a)})});return d}throw new J('Store name \"'+k+'\" not found.');}var m=b;I(this.logger,\"getById: \"+k+\":\"+m);d=this.a.request(\"get\",[k]);bf(g,d,arguments,void 0,this);M(d,function(){U(this).Na(d,k,m)},this)}else throw new J(\"get require valid input arguments.\");return d};","l.Gb=function(a,b,c,d,e){var f=S(this.b,a),g,h,k,m=null;if(y(b)){var q=ye(b);if(q)throw new J(\"invalid key range: \"+b+\" \"+q);m=oe(b)}else if(null!=b)throw new J('expect key range object, but found \"'+ef(b)+'\" of type '+typeof b);if(u(c))if(fa(c))g=c;else throw new J(\"limit must be a number, but \"+c+\" is \"+typeof c);else g=100;if(u(d))if(fa(d))h=d;else throw new J(\"offset must be a number, but \"+d+\" is \"+typeof d);else h=0;if(u(e))if(ea(e))k=e;else throw new J(\"reverse must be a boolean, but \"+e+\" is \"+","typeof e);I(this.logger,\"keysByKeyRange: \"+a);var n=this.a.request(\"keys\",[a]);bf(f,n,arguments);M(n,function(){U(this).ha(n,2,a,null,m,g,h,k,!1)},this);return n};","l.ja=function(a,b,c,d,e,f,g){var h,k,m,q,n,p=ye(c);if(p)throw new J(\"invalid key range: \"+c+\" \"+p);p=S(this.b,a);h=oe(c);if(fa(d))k=d;else{if(u(d))throw new J(\"limit must be a number\");k=100}if(fa(e))m=e;else{if(u(e))throw new J(\"offset must be a number\");m=0}if(u(f))if(ea(f))q=f;else throw new J(\"reverse must be a boolean\");if(u(g))if(ea(g))n=g;else throw new J(\"unique must be a boolean\");I(this.logger,\"keysByIndex: \"+a);var t=this.a.request(\"keys:iter:index\",[a]);bf(p,t,arguments);M(t,function(){U(this).ha(t,","2,a,b,h,k,m,q,n)},this);return t};l.keys=function(a,b,c,d,e,f,g){var h=S(this.b,a);if(!x(a))throw new J(\"store name must be a string, but \"+a+\" of type \"+typeof a+\" is not.\");if(!this.b.a()){if(!h)throw new J('store name \"'+a+'\" not found.');if(x(b)&&!Oe(h,b))throw new J('index \"'+b+'\" not found in store \"'+a+'\".');}return this.b.a()&&!h?Wd(\"keys\",[]):x(b)?this.ja(a,b,c,d,e,f,g):this.Gb(a,b,c,d,e)};","l.values=function(a,b,c,d,e,f,g){var h=this,k;if(x(a)){var m=a,q=S(this.b,m);if(!q){if(this.b.a()){if(yf(this.c))return Wd(\"values\",[]);k=new Qd(\"values\");this.c.xa(function(){Sb(h.values(a,b,c,d,e,f),function(a){k.callback(a)},function(a){k.o(a)})});return k}throw new Pf(m);}if(v(b)){if(u(c)||u(d))throw new J(\"too many input arguments\");var n=b;I(this.logger,\"listByIds: \"+m+\" \"+n.length+\" ids\");k=this.a.request(\"values:array\",[m]);bf(q,k,arguments,void 0,this);M(k,function(){U(this).nb(k,m,n)},this)}else k=","x(b)?this.ma(m,b,c,d,e,f,g):this.Kb(m,b,c,d,e)}else if(v(a))if(a[0]instanceof je){for(var q=[],p=a,t=0;t<p.length;t++){var A=p[t].a;if(!lf(this.b,A)){if(this.b.a())return q=[],q[p.length-1]=void 0,Wd(\"get\",q);throw new J(\"Store: \"+A+\" not found.\");}0<=Ra(q,A)||q.push(A)}I(this.logger,\"listByKeys: \"+P(q)+\" \"+p.length+\" keys\");k=this.a.request(\"values:keys\",q);M(k,function(){U(this).ob(k,p)},this)}else throw new J(\"first argumentmust be array of ydn.db.Key, but \"+a[0]+\" of \"+typeof a[0]+\" found.\");","else throw new J(\"first argument \"+a+\" is invalid.\");return k};","l.Kb=function(a,b,c,d,e){var f=S(this.b,a),g,h,k,m=null;if(y(b)){var q=ye(b);if(q)throw new J(\"invalid key range: \"+b+\" \"+q);m=oe(b)}else if(null!=b)throw new J('expect key range object, but found \"'+ef(b)+'\" of type '+typeof b);if(u(c))if(fa(c))g=c;else throw new J(\"limit must be a number, but \"+c+\" is \"+typeof c);else g=100;if(u(d))if(fa(d))h=d;else throw new J(\"offset must be a number, but \"+d+\" is \"+typeof d);else h=0;if(u(e))if(ea(e))k=e;else throw new J(\"reverse must be a boolean, but \"+e+\" is \"+","typeof e);I(this.logger,(m?\"listByKeyRange: \":\"listByStore: \")+a);var n=this.a.request(\"values\",[a]);bf(f,n,arguments);M(n,function(){U(this).ha(n,4,a,null,m,g,h,k,!1)},this);return n};","l.ma=function(a,b,c,d,e,f,g){var h=S(this.b,a),k,m,q,n;if(!Ue(h,b))throw new J('index \"'+b+'\" not found in store \"'+a+'\"');var p=ye(c);if(p)throw new J(\"invalid key range: \"+c+\" \"+p);var t=oe(c);if(u(d))if(fa(d))k=d;else throw new J(\"limit must be a number.\");else k=100;if(u(e))if(fa(e))m=e;else throw new J(\"offset must be a number.\");else m=0;if(ea(f))q=f;else if(u(f))throw new J(\"reverse must be a boolean, but \"+f);if(u(g))if(ea(g))n=g;else throw new J(\"unique must be a boolean\");I(this.logger,","\"listByIndexKeyRange: \"+a+\":\"+b);var A=this.a.request(\"values:iter:index\",[a]);bf(h,A,arguments);M(A,function(){U(this).ha(A,4,a,b,t,k,m,q,n)},this);return A};","l.add=function(a,b,c){if(v(b))return this.na(a,b,c);var d=gg(this,a),e=d.getName(),f;if(x(d.keyPath)&&u(c))throw new J(\"key must not be provided while the store uses in-line key.\");if(!d.keyPath&&!d.b&&!u(c))throw new J(\"out-of-line key must be provided for store: \"+e);if(v(b)){I(this.logger,\"addObjects: \"+e+\" \"+b.length+\" objects\");for(a=0;a<b.length;a++)af(d,b[a]);f=this.a.request(\"add:array\",[e],K);M(f,function(){U(this).N(f,!1,!1,e,b,c)},this);d.L&&f.D(function(a){this.c.G(new ie(\"created\",this.c,","e,a,b))},this)}else if(y(b))a=\"store: \"+e+\" key: \"+Xe(d,b,c),I(this.logger,\"addObject: \"+a),af(d,b),f=this.a.request(\"add\",[e],K),M(f,function(){U(this).N(f,!1,!0,e,[b],[c])},this),d.L&&f.D(function(a){this.c.G(new he(\"created\",this.c,d.getName(),a,b))},this);else throw new J(\"record must be an object or array list of objects, but \"+b+\" of type \"+typeof b+\" found.\");return f};","l.na=function(a,b,c){var d=gg(this,a),e=d.getName(),f;if(x(d.keyPath)&&u(c))throw new J(\"key must not be provided while the store uses in-line key.\");if(!d.keyPath&&!d.b&&!u(c))throw new J(\"out-of-line key must be provided for store: \"+e);if(v(b)){I(this.logger,\"addObjects: \"+e+\" \"+b.length+\" objects\");for(a=0;a<b.length;a++)af(d,b[a]);f=this.a.request(\"add:array\",[e],K);M(f,function(){U(this).N(f,!1,!1,e,b,c)},this);d.L&&f.D(function(a){this.c.G(new ie(\"created\",this.c,d.getName(),a,b))},this)}else throw new J(\"record must be an array list of objects, but \"+","b+\" of type \"+typeof b+\" found.\");return f};","l.put=function(a,b,c){var d,e=this;if(a instanceof je){var f=a,g=f.a,h=S(this.b,g);if(!h)throw new J('store \"'+g+'\" not found.');if(h.keyPath){var k=Xe(h,b);if(null!=k){if(0!=Xd(k,f.id))throw new J(\"Inline key must be \"+f+\" but \"+k+\" found.\");}else Ye(h,b,f.id);return this.put(g,b)}return this.put(g,b,f.id)}if(v(a)){if(u(c))throw new J(\"too many arguments\");var m=a;if(!u(b))throw new J(\"record values required\");for(var q=b,f=[],g=0,h=m.length;g<h;g++){k=m[g].a;-1==Ra(f,k)&&f.push(k);var n=S(this.b,","k);if(!n)throw new J('store \"'+k+'\" not found.');n.keyPath&&Ye(n,q[g],m[g].id)}I(this.logger,\"putByKeys: to \"+P(f)+\" \"+q.length+\" objects\");for(g=0;g<q.length;g++)af(n,q[g]);d=this.a.request(\"put:keys\",f,K);bf(n,d,arguments);M(d,function(){U(e).qb(d,q,m)},this)}else if(x(a)||y(a)){var n=gg(this,a),p=n.getName();if(n.keyPath&&u(c))throw new J(\"key must not be provided while the store uses in-line key.\");if(!n.keyPath&&!n.b&&!u(c))throw new J(\"out-of-line key must be provided for store: \"+p);if(v(b)){var t=","b,A=c;I(this.logger,\"putObjects: \"+p+\" \"+t.length+\" objects\");for(g=0;g<t.length;g++)af(n,t[g]);d=this.a.request(\"put:array\",[p],K);bf(n,d,arguments);M(d,function(){U(this).N(d,!0,!1,p,t,A)},this);n.L&&d.D(function(a){this.c.G(new ie(\"updated\",this.c,p,a,t))},this)}else if(y(b)){var B=b,F=c;I(this.logger,\"putObject: \"+p+\" \"+(u(F)?F:\"(without-key)\"));if(u(r.Blob)&&B instanceof Blob&&n.$&&!n.keyPath&&0==Se(n)&&Nc)d=new Qd(\"put\"),f=new FileReader,f.onload=function(a){var b=a.target.result,c=e.a.request(\"put\",","[p],K);bf(n,c,[p,B,F]);M(c,function(){U(e).N(c,!0,!0,p,[b],[F])},this);Sb(c,function(a){d.callback(a)},function(a){d.o(a)})},f.onerror=function(a){d.o(a)},f.onabort=function(a){d.o(a)},f.readAsDataURL(B);else{af(n,B);d=this.a.request(\"put\",[p],K);var Q=[p,B,F];bf(n,d,Q);M(d,function(){var a=u(F)?[Q[2]]:void 0;U(e).N(d,!0,!0,p,[Q[1]],a)},this)}n.L&&d.D(function(a){this.c.G(new he(\"updated\",this.c,p,a,B))},this)}else throw new J(\"put record value must be Object or array of Objects\");}else throw new J(\"the first argument of put must be store name, store schema or array of keys.\");","return d};","l.ya=function(a,b,c){var d,e=gg(this,a),f=e.getName();if(e.keyPath&&u(c))throw new J(\"key must not be provided while the store uses in-line key.\");if(!e.keyPath&&!e.b&&!u(c))throw new J(\"out-of-line key must be provided for store: \"+f);var g=b,h=c;I(this.logger,\"putObjects: \"+f+\" \"+g.length+\" objects\");for(var k=0;k<g.length;k++)af(e,g[k]);d=this.a.request(\"put:array\",[f],K);bf(e,d,arguments);M(d,function(){U(this).N(d,!0,!1,f,g,h)},this);e.L&&d.D(function(a){this.c.G(new ie(\"updated\",this.c,f,a,","g))},this);return d};","l.clear=function(a,b,c){if(u(c))throw new J(\"too many input arguments\");var d;if(x(a)){c=S(this.b,a);if(!c)throw new J('store name \"'+a+'\" not found.');if(y(b)){var e=oe(b);if(null===e)throw new J(\"clear method requires a valid non-null KeyRange object.\");I(this.logger,\"clearByKeyRange: \"+a+\":\"+P(e));d=this.a.request(\"clear\",[a],K);bf(c,d,[a,e]);M(d,function(){U(this).hb(d,a,e)},this)}else{if(u(b))throw new J(\"clear method requires a valid KeyRange object as second argument, but found \"+b+\" of type \"+","typeof b);I(this.logger,\"clearByStore: \"+a);d=this.a.request(\"clear\",[a],K);M(d,function(){U(this).Ha(d,[a])},this)}}else if(!u(a)||v(a)&&x(a[0])){var f=a||kf(this.b);I(this.logger,\"clearByStores: \"+P(f));d=this.a.request(\"clear\",f,K);M(d,function(){U(this).Ha(d,f)},this)}else throw new J('first argument \"'+a+'\" is invalid.');return d};","l.Da=function(a,b,c){var d;if(x(a)){var e=S(this.b,a);if(!e)throw new J('store name \"'+a+'\" not found.');if(u(c))if(x(b)){var f=Oe(e,b);if(!f)throw new J(\"index: \"+b+\" not found in \"+a);if(y(c)||null===c){var g=oe(c);I(this.logger,\"removeByIndexKeyRange: \"+a+\":\"+f.getName()+\" \"+a);d=this.a.request(\"rm:iter:index\",[a],K);M(d,function(){U(this).rb(d,a,f.getName(),g)},this)}else throw new J(\"key range \"+c+' is invalid type \"'+typeof c+'\".');}else throw new J('index name \"'+b+'\" must be a string, but '+","typeof b+\" found.\");else if(x(b)||fa(b)||w(b)||b instanceof Date){I(this.logger,\"removeById: \"+a+\":\"+b);d=this.a.request(\"rm\",[a],K);var h=[a,b];bf(e,d,h);M(d,function(){U(this).Ua(d,a,h[1])},this);e.L&&d.D(function(c){this.c.G(new he(\"deleted\",this.c,a,1==c?b:void 0,void 0))},this)}else if(y(b))g=oe(b),I(this.logger,\"removeByKeyRange: \"+a+\":\"+P(g)),d=this.a.request(\"rm:iter\",[a],K),bf(e,d,[a,g]),M(d,function(){U(this).sb(d,a,g)},this),e.L&&d.D(function(b){var c=[];c.length=b;this.c.G(new ie(\"deleted\",","this.c,a,c,void 0))},this);else throw new J('Invalid key or key range \"'+b+'\" of type '+typeof b);}else if(a instanceof je){var k=a.a,e=S(this.b,k);d=this.a.request(\"rm\",[k],K);var m=[k,a.id];bf(e,d,m);M(d,function(){U(this).Ua(d,k,m[1])},this)}else if(v(a)){c=[];for(var e=0,q=a.length;e<q;e++){if(!(a[e]instanceof je))throw new J(\"key list element at \"+e+\" of \"+q+' must be yn.db.Key, but \"'+ef(a[e])+'\" ('+da(a[e])+\") is not ydn.db.Key.\");var n=a[e].a;-1==Ra(c,n)&&c.push(n)}if(1>c.length)throw new J('at least one valid key required in key list \"'+","ef(a)+'\"');d=this.a.request(\"rm:keys\",c,K);M(d,function(){U(this).tb(d,a)},this)}else throw new J('first argument requires store name, key (ydn.db.Key) or list of keys (array) , but \"'+ef(a)+'\" ('+da(a)+\") found.\");return d};l.toString=function(){return\"DbOperator:\"+this.c.getName()};function hg(a,b,c){dg.call(this,a,b,c)}z(hg,V);l=hg.prototype;l.logger=E(\"ydn.db.core.DbOperator\");l.get=function(a,b){if(a instanceof Gf){var c=a.b,d=S(this.b,c);if(!d)throw new J('store \"'+c+'\" not found.');var e=a.c;if(u(e)&&!Ue(d,e))throw new J('index \"'+e+'\" not found in store \"'+c+'\".');I(this.logger,\"getByIterator:\"+a);var f=this.a.request(\"get:iter\",[c]);M(f,function(){ig(this,5,f,a,1)},this);return f}return hg.w.get.call(this,a,b)};","l.Sa=function(a,b){var c=100;if(fa(b)){if(c=b,1>c)throw new J(\"limit must be a positive value, but \"+b);}else if(u(b))throw new J(\"limit must be a number,  but \"+b);I(this.logger,\"keysOf:\"+a);var d=this.a.request(\"keys:iter\",[a.b]);M(d,function(){a.m?ig(this,1,d,a,c):ig(this,2,d,a,c)},this);return d};l.keys=function(a,b,c,d,e,f,g){return a instanceof Gf?this.Sa(a,b):hg.w.keys.call(this,a,b,c,d,e,f,g)};","l.Ia=function(a){I(this.logger,\"countIterator:\"+a);var b=this.a.request(\"count\",[a.b]);M(b,function(){ig(this,6,b,a)},this);return b};l.count=function(a,b,c,d){if(a instanceof Gf){if(u(b)||u(c))throw new J(\"too many arguments.\");return this.Ia(a)}return hg.w.count.call(this,a,b,c,d)};","l.Va=function(a,b){var c;if(fa(b)){if(c=b,1>c)throw new J(\"limit must be a positive value, but \"+c);}else if(u(b))throw new J(\"limit must be a number, but \"+b);I(this.logger,\"listByIterator:\"+a);var d=this.a.request(\"values:iter\",[a.b]);M(d,function(){a.f?ig(this,2,d,a,c):ig(this,4,d,a,c)},this);return d};l.values=function(a,b,c,d,e,f){return a instanceof Gf?this.Va(a,b):hg.w.values.call(this,a,b,c,d,e,f)};","function jg(a,b,c){if(!v(c))throw new J(\"iterators argument must be an array, but \"+c+\" of type \"+typeof c+\" found\");for(var d=0;d<c.length;d++)if(!(c[d]instanceof Gf))throw new J(\"Iterator at \"+d+\" must be cursor range iterator.\");for(var e=K||Cd,f=[],d=0;d<c.length;d++)for(var g=c[d].stores(),h=0;h<g.length;h++)0<=Ra(f,g[h])||f.push(g[h]);I(a.logger,a+\": scan for \"+c.length+\" iterators on \"+f);d=a.a.request(\"scan\",f);a.a.ia(d,function(d,e,f){function g(){for(var b=0,f=0;f<c.length;f++){var q=c[f],","n=[U(a).b(d,e,q.b)],q=q.load(n);q.W=h;q.K=ma(t,b);Y[f]=q;Q[b]=f;b++}F=c.length}function h(b){for(var c=0;c<Y.length;c++)Df(Y[c]);Ya(Y);I(a.logger,A+\" error\");f(b,!0)}function t(d,e){if(B)throw new qf;aa++;var g=aa===F,h=Q[d],k=c[h],m=Y[h],h=m.U(),m=m.Ca();R[d]=e;Z[d]=k.m?k.f?h:m:k.f?e:m;if(g){var n;b instanceof Lf?n=b.c(R,Z):n=b(R,Z);g=[];k=[];h=[];m=[];if(v(n))for(var p=0;p<n.length;p++)!0===n[p]?h[p]=1:!1===n[p]?m[p]=!0:k[p]=n[p];else if(null===n)g=[];else if(u(n))if(y(n)){g=[\"advance\",\"continue\",","\"continuePrimary\",\"restart\"];for(p in n)if(!(0<=Ra(g,p)))throw new xd('Unknown attribute \"'+p+'\" in cursor advancement object');g=n.continuePrimary||[];k=n[\"continue\"]||[];h=n.advance||[];m=n.restart||[]}else throw new xd(\"scan callback output\");else for(g=[],p=0;p<c.length;p++)u(Q[p])&&(h[p]=1);for(p=aa=n=0;p<c.length;p++)null!=g[p]||u(k[p])||null!=m[p]||null!=h[p]||aa++;for(p=0;p<c.length;p++)if(null!=g[p]||u(k[p])||null!=m[p]||null!=h[p]){var t=Q[p];if(!u(t))throw new sf(p+\" is not an iterator.\");","var t=c[t],vb=Y[p];if(null==R[p]){var re=p+\"/\"+c.length;if(null!=h[p])throw new tf(vb+\" \"+re+\" must not advance \"+h[p]+\" steps\");if(u(k[p]))throw new tf(vb+\" \"+re+\" must not continue to key \"+k[p]);if(null!=g[p])throw new tf(vb+\" \"+re+\" must not continue to primary key \"+g[p]);}R[p]=void 0;Z[p]=void 0;if(null!=m[p])Ef(vb);else if(u(k[p]))vb.ga(k[p]);else if(null!=g[p])vb.Ba(g[p]);else if(null!=h[p])vb.advance(1);else throw new qf(t+\": has no action\");n++}if(0==n){for(n=0;n<Y.length;n++)Df(Y[n]);B=","!0;Ya(Y);I(a.logger,\"success \"+A);f(void 0)}}}var A=e+\" \"+a+\" scanning\";H(a.logger,A);var B=!1,F,Q=[],R=[],Z=[],Y=[],aa=0;b instanceof Lf?Mf(b,c)||g():g()},f,e);return d}","l.open=function(a,b,c,d){if(!(b instanceof Gf))throw new J(\"Second argument must be cursor range iterator.\");for(var e=b.stores(),f=0;f<e.length;f++)if(!S(this.b,e[f]))throw new J('Store \"'+e[f]+'\" not found.');c=c||Cd;var g=this,h=this.a.request(\"open\",b.stores(),c);I(this.logger,\"open:\"+c+\" \"+b);M(h,function(c){var e=N(h);I(g.logger,e+\" iterating \"+b);for(var f=b.stores(),n=[],p=0;p<f.length;p++)n[p]=U(g).b(c,e,f[p]);var t=b.load(n);t.W=function(a){L(h,a,!0)};t.K=function(b){null!=b?(b=a.call(d,","t),!0===b?Ef(t):y(b)?!0===b.restart?Ef(t,b[\"continue\"],b.continuePrimary):null!=b[\"continue\"]?t.ga(b[\"continue\"]):null!=b.continuePrimary?t.Ba(b.continuePrimary):(Df(t),L(h,void 0)):null===b?(Df(t),L(h,void 0)):null!=b?t.ga(b):t.advance(1)):(Df(t),L(h,void 0))}},this);return h};","function kg(a,b,c,d){var e=c.b,f=c.c||null,g=d||100;I(a.logger,\"listIter:\"+b+\" \"+c+(d?\" limit=\"+g:\"\")+\"\");var h=a.a.request(\"values:iter:index\",[e]),k=\"done\"==c.g||c.g==Hf?[]:[c.j,c.l];M(h,function(){U(this).ha(h,b,e,f,c.a?c.a instanceof xe?c.a:xe.bound(c.a.lower,c.a.upper,c.a.lowerOpen,c.a.upperOpen):null,g,0,If(c),Jf(c),k)},a);h.D(function(){null!=k[0]?c.reset(\"rest\",k[0],k[1]):c.reset()});return h}","function ig(a,b,c,d,e){var f=[],g=c.a,h=N(c),k=h+\" \"+b+\"ByIterator \"+d;0<e&&(k+=\" limit \"+e);I(a.logger,k);for(var m=U(a),q=[],n=d.stores(),p=0;p<n.length;p++)q[p]=m.b(g,h,n[p]);var t=d.load(q);t.W=function(a){Df(t);L(c,a,!0)};var A=0,B=!1;t.K=function(d){B||(H(a.logger,k+\" starting\"),B=!0);null!=d?(t.U(),A++,1==b?f.push(d):2==b?f.push(t.U()):3==b?f.push([d,t.U()]):6!=b&&f.push(t.Ca()),5==b?(Df(t),L(c,f[0])):6==b||!u(e)||A<e?t.ga():(I(a.logger,\"success:\"+k+\" yields \"+f.length+\" records\"),Df(t),L(c,","f))):(I(a.logger,\"success:\"+k+\" yields \"+f.length+\" records\"),Df(t),L(c,5==b?f[0]:6==b?A:f))}};function lg(a,b,c,d){this.f=a;this.g=b;this.a=Za(c);this.b=d;this.c=[]}lg.prototype.f=null;function mg(a,b,c){if(a.f)c&&a.c.push(c),b(a.f);else throw new yd(\"tx committed on ParallelTxExecutor\");}lg.prototype.toString=function(){return\"ParallelTxExecutor: txNo:\"+this.g+\" mode:\"+this.b+\" scopes:\"+P(this.a)};function ng(a,b,c,d,e,f){Wf.call(this,a,b,c,d,e,f);this.c=this.b=null}z(ng,Wf);l=ng.prototype;l.logger=E(\"ydn.db.tr.Parallel\");l.abort=function(){I(this.logger,this+\": aborting\");Yf(this.c)};","l.Ab=function(a,b){var c;if(\"multi\"==this.g)a:if(c=this.b,!c.a||!c.b||b!=c.b&&(c.b!=K||b!=Cd)||a.length>c.a.length)c=!1;else{for(var d=0;d<a.length;d++)if(-1==c.a.indexOf(a[d])){c=!1;break a}c=!0}else if(\"repeat\"==this.g)a:if(c=this.b,c.a&&c.b&&b==c.b&&c.a.length==a.length){for(d=0;d<a.length;d++)if(-1==c.a.indexOf(a[d])){c=!1;break a}c=!0}else c=!1;else c=\"all\"==this.g?!0:!1;return c};","l.Y=function(a,b,c,d){function e(c){k.f++;m=new lg(c,k.f,b,h);g=k.F();ud(k.logger,g+\" BEGIN \"+P(b)+\" \"+h);k.b=m;mg(k.b,a,d)}function f(a,b){ud(k.logger,g+\" \"+a);if(m){for(var c=m,d=0;d<c.c.length;d++)c.c[d](a,b);c.c.length=0;c.f=null;c.a=null;c.c=null}k.a=0}var g;this.C&&(b=this.C);this.A&&(c=this.A);var h=u(c)?c:Cd,k=this,m;if(this.b&&this.b.f&&this.Ab(b,h))mg(this.b,a,d);else{if(this.l&&this.f>=this.l)throw new xd(\"Exceed maximum number of transactions of \"+this.l);this.j.transaction(e,b,h,f)}};","l.request=function(a,b,c,d){var e=new Qd(a),f=this;this.Y(function(a){f.a++;Rd(e,a,f.F()+\"R\"+f.a)},b,c||Cd,function(a,b){Td(e);d&&d(a,b)});return e};l.ia=function(a,b,c,d,e){var f=this,g;this.Y(function(c){f.a++;g=f.F()+\"R\"+f.a;I(f.logger,g+\" BEGIN\");b(c,g,function(b,d){f.c=c;g=f.F()+\"R\"+f.a;d?(I(f.logger,g+\" ERROR\"),a.o(b)):(I(f.logger,g+\" SUCCESS\"),a.callback(b));f.c=null});b=null;I(f.logger,g+\" END\")},c,d,e)};l.toString=function(){return\"Parallel:\"+this.g+\":\"+this.F()+(this.c?\"*\":\"\")};function og(a,b){ng.call(this,a,b,Xf)}z(og,ng);l=og.prototype;l.logger=E(\"ydn.db.tr.AtomicParallel\");l.Ab=function(){return!1};l.request=function(a,b,c){var d,e,f,g=this,h=og.w.request.call(this,a,b,c,function(a,b){Td(h);I(g.logger,\"transaction \"+a);if(d)\"complete\"!=a&&(f=!0,e=b),d(e,f);else{var c=new Sf;L(h,c,!0)}});Vd(h,function(a,b,c){f=b;e=a;d=c});return h};","l.ia=function(a,b,c,d,e){var f,g,h=new D;Sb(h,function(a){g=!1;f=a},function(a){g=!0;f=a});og.w.ia.call(this,h,b,c,d,function(b,c){if(\"complete\"!=b)a.o(c);else if(!0===g)a.o(f);else if(!1===g)a.callback(f);else{var d=new Sf;a.o(d)}e&&(e(b,c),e=void 0)})};l.toString=function(){return\"Atomic\"+og.w.toString.call(this)};function pg(a,b,c){T.call(this,a,b,c);this.da=0;a=!0;b=Xf;c&&(u(c.isSerial)&&(a=!!c.isSerial),c.policy&&(b=c.policy));c=qg(this,b,a);this.l=qg(this,\"atomic\",!1);this.b=this.ka(c,this.l)}z(pg,T);l=pg.prototype;l.da=0;l.Bb=function(a,b,c,d,e,f){a=a||Xf;var g;\"readonly\"==d?g=Cd:\"readwrite\"==d&&(g=K);a=qg(this,a,b,c,g,e);return this.ka(a,f?null:this.l)};l.ka=function(a){return new dg(this,this.c,a)};","function qg(a,b,c,d,e,f){if(c){if(\"multi\"==b||\"repeat\"==b||\"all\"==b||b==Xf)return new Zf(a,a.da++,b,d,e,f);if(\"atomic\"==b)return new cg(a,a.da++);throw new J('Invalid requestType \"'+b+'\"');}if(\"multi\"==b||\"repeat\"==b||\"all\"==b||b==Xf)return new ng(a,a.da++,b,d,e,f);if(\"atomic\"==b)return new og(a,a.da++);throw new J('Invalid requestType \"'+b+'\"');}","l.Ib=function(a,b,c){if(3<arguments.length)throw new J(\"too many input arguments, run accept not more than 3 input arguments, but \"+arguments.length+\" found.\");this.da++;var d=b||kf(this.c),e=Cd;if(c)if(\"readwrite\"==c)e=K;else if(\"readonly\"!=c)throw new J('Invalid transaction mode \"'+c+'\"');var f=qg(this,\"all\",!1,d,e,1),g=this.ka(f,this.l),h=new Qd(\"run\"),k=this;f.Y(function(b){H(k.logger,\"executing run in transaction on \"+f);Rd(h,b,f.F()+\"R0\");a(g)},d,e,function(a){Td(h);L(h,f.f,\"complete\"!==a)});","return h};l.Sb=function(){return this.b?this.b.a.f:NaN};function W(a,b,c){pg.call(this,a,b,c);a=this.c;for(b=0;b<a.c.length;b++){c=a.c[b];var d=S(a,c.getName());if(d){if(!Ue(d,\"k\"))throw new J('full text index store \"'+d.getName()+'\" must have \"keyword\" index');if(!Ue(d,\"v\"))throw new J('full text index store \"'+d.getName()+'\" must have \"keyword\" index');if(\"id\"!=d.keyPath)throw new J('full text index store \"'+d.getName()+'\" must use \"id\" as key path.');}else throw new J('full text index store \"'+c.getName()+'\" required.');for(d=0;d<c.count();d++){var e=","c.index(d),f=S(a,e.a);if(f)G(this.logger,\"Full text indexer option for \"+f.getName()+\" ignored.\");else throw new J('full text source store \"'+e.a+'\" does not exist for full text index \"'+c.getName()+'\"');}}}z(W,pg);l=W.prototype;l.ka=function(a){return new V(this,this.c,a)};l.add=function(a,b,c){return this.b.add(a,b,c)};l.na=function(a,b,c){return this.b.na(a,b,c)};l.count=function(a,b,c,d){return this.b.count(a,b,c,d)};l.get=function(a,b){return this.b.get(a,b)};","l.keys=function(a,b,c,d,e,f,g){return this.b.keys(a,b,c,d,e,f,g)};l.ja=function(a,b,c,d,e,f,g){return this.b.ja(a,b,c,d,e,f,g)};l.values=function(a,b,c,d,e,f){return this.b.values(a,b,c,d,e,f)};l.ma=function(a,b,c,d,e,f,g){return this.b.ma(a,b,c,d,e,f,g)};l.put=function(a,b,c){return this.b.put(a,b,c)};l.ya=function(a,b,c){return this.b.ya(a,b,c)};l.clear=function(a,b,c){return this.b.clear(a,b,c)};l.Da=function(a,b,c){return this.b.Da(a,b,c)};","l.toString=function(){var a=\"Storage:\"+this.getName();yf(this)&&(a+=\" [\"+this.Aa()+\"]\");return a};function rg(a,b,c){W.call(this,a,b,c)}z(rg,W);l=rg.prototype;l.ka=function(a){return new hg(this,this.c,a)};l.open=function(a,b,c,d){return this.b.open(a,b,c,d)};l.Ia=function(a){return this.b.Ia(a)};l.Va=function(a,b){return this.b.Va(a,b)};l.Sa=function(a,b){return this.b.Sa(a,b)};function sg(a,b,c,d){Af.call(this,a,b,c,d);this.b=null}z(sg,Af);l=sg.prototype;l.logger=E(\"ydn.db.core.req.IDBCursor\");l.ra=function(a){(a=a.target.result)?this.O(a.key,a.primaryKey,a.value):this.O()};","l.openCursor=function(a,b){function c(a,b,c){n.b=q;n.b.onsuccess=la(n.ra,n);n.O(a,n.f?b:void 0,c);q=null}var d=this+\" opening \";null!=a&&(d+=\"{\"+a,d=null!=b?d+(\";\"+b+\"}\"):d+\"}\");H(this.logger,d);var e=this.Z,d=this.j.objectStore(this.bb),f=x(this.i)?d.index(this.i):null;if(u(a))var g=f?!u(b):!0,h=e?e.lower:void 0,k=e?e.upper:void 0,m=e?!!e.lowerOpen:!1,e=e?!!e.upperOpen:!1,e=ne(this.reverse?new O(h,a,m,g):new O(a,k,g,e));var q;this.va?f?q=null!=this.dir?f.openKeyCursor(e,this.dir):null!=e?f.openKeyCursor(e):","f.openKeyCursor():q=null!=this.dir?d.openCursor(e,this.dir):null!=e?d.openCursor(e):d.openCursor():f?q=null!=this.dir?f.openCursor(e,this.dir):null!=e?f.openCursor(e):f.openCursor():q=null!=this.dir?d.openCursor(e,this.dir):null!=e?d.openCursor(e):d.openCursor();var n=this;q.onerror=function(a){var b=q.error;a.preventDefault();Bf(n,b)};null!=a?q.onsuccess=function(d){if(d=d.target.result){var e=Ed.cmp(d.key,a),f=n.reverse?-1:1;if(e==f)c(d.key,d.primaryKey,d.value);else if(e==-f)d[\"continue\"](a);else if(null!=","b)if(Ed.cmp(d.primaryKey,b)==f)c(d.key,d.primaryKey,d.value);else d[\"continue\"]();else d[\"continue\"]()}else c()}:(n.b=q,n.b.onsuccess=la(n.ra,n))};l.Qa=function(){return!!this.b};l.update=function(a){var b=this.b.result;if(b){var c=new D;a=b.update(a);a.onsuccess=function(a){c.callback(a.target.result)};a.onerror=function(a){a.preventDefault();c.o(a)};return c}throw new Of(\"cursor gone\");};","l.clear=function(){var a=this.b.result;if(a){var b=new D,a=a[\"delete\"]();a.onsuccess=function(){b.callback(1)};a.onerror=function(a){a.preventDefault();b.o(a)};return b}throw new Of(\"cursor gone\");};l.advance=function(a){var b=this.b.result;if(1==a)b[\"continue\"]();else b.advance(a)};","l.Ba=function(a){var b=this.b.result,c=Ed.cmp(a,b.primaryKey);if(c!=(this.reverse?-1:1))throw new yd('continuing primary key \"'+a+'\" must '+(this.reverse?\"lower\":\"higher\")+' than current primary key \"'+b.primaryKey+'\"');var d=this;this.b.onsuccess=function(e){if(b=e.target.result)if(c=Ed.cmp(b.primaryKey,a),0==c||1==c&&!d.reverse||-1==c&&d.reverse)d.b.onsuccess=la(d.ra,d),d.O(b.key,d.f?b.primaryKey:void 0,b.value);else b[\"continue\"]();else d.b.onsuccess=la(d.ra,d),d.O()};b[\"continue\"]()};","l.ga=function(a){var b=this.b.result;if(null!=a)b[\"continue\"](a);else b[\"continue\"]()};l.R=function(){sg.w.R.call(this);this.b=null};l.toString=function(){return\"IDB\"+sg.w.toString.call(this)};function tg(a,b){this.a=b}z(tg,Tf);l=tg.prototype;l.logger=E(\"ydn.db.crud.req.IndexedDb\");l.Ja=function(a,b){function c(e){var f=a.a.objectStore(b[e]).count();f.onsuccess=function(f){d[e]=f.target.result;e++;e==b.length?L(a,d):c(e)};f.onerror=function(b){b.preventDefault();L(a,f.error,!0)}}var d=[];0==b.length?L(a,[]):c(0)};","l.N=function(a,b,c,d,e,f){function g(t){if(null==e[t])if(H(q.logger,\"empty object at \"+t+\" of \"+e.length),k++,k==e.length)L(a,h,m);else{var B=t+10;B<e.length&&g(B)}var F,B=e[t];F=f&&null!=f[t]?b?p.put(B,f[t]):p.add(B,f[t]):b?p.put(B):p.add(B);F.onsuccess=function(b){k++;h[t]=b.target.result;k==e.length?L(a,c?h[0]:h,m):(b=t+10,b<e.length&&g(b))};F.onerror=function(b){k++;var f=F.error;H(q.logger,N(a)+n+' request to \"'+d+'\" cause '+f.name+' for object \"'+ef(e[t])+'\" at index '+t+\" of \"+e.length+\" objects.\");","h[t]=f;m=!0;b.preventDefault();k==e.length?L(a,c?h[0]:h,m):(b=t+10,b<e.length&&g(b))}}var h=[],k=0,m=!1,q=this,n=b?\"put\":\"add\",p=a.a.objectStore(d);H(this.logger,N(a)+\" \"+n+\" \"+e.length+' objects to store \"'+d+'\"');if(0<e.length)for(var t=0;10>t&&t<e.length;t++)g(t);else L(a,[])};","l.qb=function(a,b,c){function d(k){var q=c[k],n=q.a,p=a.a.objectStore(n),t;t=null===p.keyPath?p.put(b[k],q.id):p.put(b[k]);t.onsuccess=function(c){f++;e[k]=c.target.result;f==b.length?L(a,e,g):(c=k+10,c<b.length&&d(c))};t.onerror=function(c){f++;G(h.logger,\"request result \"+c.name+' error when put keys to \"'+n+'\" for object \"'+ef(b[k])+'\" at index '+k+\" of \"+b.length+\" objects.\");e[k]=t.error;g=!0;c.preventDefault();f==b.length?L(a,e,g):(c=k+10,c<b.length&&d(c))}}var e=[],f=0,g=!1,h=this;H(this.logger,","N(a)+\" putByKeys: of \"+b.length+\" objects\");if(0<b.length)for(var k=0;10>k&&k<b.length;k++)d(k);else L(a,e,g)};l.Ua=function(a,b,c){var d=a.a.objectStore(b);H(this.logger,N(a)+\" clearById: \"+b+\" \"+c);var e=d.openCursor(xe.only(c));e.onsuccess=function(b){if(b=b.target.result){var c=b[\"delete\"]();c.onsuccess=function(){L(a,1)};c.onerror=function(){L(a,c.error,!0)}}else L(a,0)};e.onerror=function(b){b.preventDefault();L(a,e.error,!0)}};","l.tb=function(a,b){function c(h){h++;if(h>=b.length)0<g.length?L(a,g,!0):L(a,d);else{b[h].a!=e&&(e=b[h].a,f=a.a.objectStore(e));var k=f[\"delete\"](b[h].id);k.onsuccess=function(){d++;c(h)};k.onerror=function(a){a.preventDefault();g[h]=k.error;c(h)}}}var d=0,e,f;H(this.logger,N(a)+\" removeByKeys: \"+b.length+\" keys\");var g=[];c(-1)};","l.sb=function(a,b,c){var d=a.a.objectStore(b),e=d.count(c);H(this.logger,N(a)+\" clearByKeyRange: \"+b+\" \"+c);e.onsuccess=function(b){var e=b.target.result,h=d[\"delete\"](c);h.onsuccess=function(){L(a,e)};h.onerror=function(){L(a,h.error,!0)}};e.onerror=function(b){b.preventDefault();L(a,e.error,!0)}};l.hb=function(a,b,c){var d=a.a.objectStore(b);H(this.logger,N(a)+\" \"+b+\" \"+c);var e=d[\"delete\"](c);e.onsuccess=function(){L(a,void 0)};e.onerror=function(b){b.preventDefault();L(a,e.error,!0)}};","l.rb=function(a,b,c,d){var e=a.a.objectStore(b).index(c);H(this.logger,N(a)+\" clearByIndexKeyRange: \"+b+\":\"+c+\" \"+d);var f=[],g=e.openCursor(d),h=0;g.onsuccess=function(b){var c=b.target.result;if(c){var d=c[\"delete\"]();d.onsuccess=function(){h++;c[\"continue\"]()};d.onerror=function(a){f.push(d.error);a.preventDefault();c[\"continue\"]()}}else 0<f.length?L(a,f,!0):L(a,h)};g.onerror=function(b){b.preventDefault();L(a,g.error,!0)}};","l.Ha=function(a,b){var c=b.length,d=0;H(this.logger,N(a)+\" clearByStores: \"+b);for(var e=0;e<c;e++){var f=a.a.objectStore(b[e]).clear();f.onsuccess=function(){d++;d==c&&L(a,d)};f.onerror=function(b){d++;b.preventDefault();d==c&&L(a,f.error,!0)}}};","l.Na=function(a,b,c){var d=this;H(this.logger,N(a)+b+\":\"+c);var e=a.a.objectStore(b),f=e.get(c);f.onsuccess=function(b){H(d.logger,N(a)+\" record \"+c+(null!=b.target.result?\" \":\" not \")+\" exists.\");var f=b.target.result;if(!e.keyPath&&0==e.indexNames.length&&Nc&&x(f)&&0<=f.indexOf(\";base64,\")){'\"'==f.charAt(0)&&'\"'==f.charAt(f.length-1)&&(f=f.substr(1,f.length-2));f=f.split(\";base64,\");b=f[0].split(\":\")[1];for(var f=window.atob(f[1]),k=f.length,m=new Uint8Array(k),q=0;q<k;++q)m[q]=f.charCodeAt(q);","L(a,new Blob([m.buffer],{type:b}))}else L(a,b.target.result)};f.onerror=function(b){b.preventDefault();L(a,f.error,!0)}};","l.nb=function(a,b,c){function d(b){if(null==c[b])if(f++,e[b]=void 0,f==h)L(a,e);else{var m=b+10;m<h&&d(m)}var q;q=g.get(c[b]);q.onsuccess=function(c){f++;e[b]=c.target.result;f==h?L(a,e):(c=b+10,c<h&&d(c))};q.onerror=function(b){f++;b.preventDefault();L(a,q.error,!0)}}var e=[];e.length=c.length;var f=0,g=a.a.objectStore(b),h=c.length;H(this.logger,N(a)+\" \"+b+\":\"+h+\" ids\");if(0<h)for(b=0;10>b&&b<h;b++)d(b);else L(a,[])};","l.ob=function(a,b){function c(f){var h=b[f],k=a.a.objectStore(h.a).get(h.id);k.onsuccess=function(h){e++;d[f]=h.target.result;e==b.length?L(a,d):(h=f+10,h<b.length&&c(h))};k.onerror=function(b){e++;b.preventDefault();L(a,k.error,!0)}}var d=[];d.length=b.length;var e=0;H(this.logger,N(a)+\" \"+b.length+\" ids\");if(0<b.length)for(var f=0;10>f&&f<b.length;f++)c(f);else L(a,[])};","l.jb=function(a,b,c,d,e){if(d&&e)throw new xd(\"unique count not available in IndexedDB\");e=a.a.objectStore(b);b=N(a)+\" \"+b+(d?\":\"+d:\"\")+(c?\":\"+P(c):\"\");H(this.logger,b);var f;null!=d?(d=e.index(d),f=null!=c?d.count(c):d.count()):f=null!=c?e.count(c):e.count();f.onsuccess=function(b){L(a,b.target.result)};f.onerror=function(b){b.preventDefault();L(a,f.error,!0)}};","function ug(a,b,c,d){var e=b.getAll(c,d);e.onsuccess=function(b){L(a,b.target.result)};e.onerror=function(b){b.preventDefault();L(a,e.error,!0)}}function vg(a,b,c,d){var e=b.getAllKeys(c,d);e.onsuccess=function(b){L(a,b.target.result)};e.onerror=function(b){b.preventDefault();L(a,e.error,!0)}}","l.ha=function(a,b,c,d,e,f,g,h,k,m){var q=[],n=a.a.objectStore(c),p=h?k?\"prevunique\":\"prev\":k?\"nextunique\":\"next\";c=N(a)+\" \"+b+\" \"+c+(d?\":\"+d:\"\")+(e?P(e):\"\");h&&(c+=\" reverse\");k&&(c+=\" unique\");if(m&&u(m[0])){var t=d?!u(m[1]):!0,A=m[0],B=e?e.lower:void 0,F=e?e.upper:void 0,Q=e?!!e.lowerOpen:!1;e=e?!!e.upperOpen:!1;e=ne(h?new O(B,A,Q,t):new O(A,F,t,e));c+=\" starting from \"+P(m[0]);u(m[1])&&(c+=\", \"+P(m[1]))}H(this.logger,c);var R;if(1==b||2==b||3==b)if(d){c=n.index(d);if(2==b&&c.getAllKeys&&!k&&!g&&","!h&&!m){vg(a,c,e,f);return}R=c.openKeyCursor(e,p)}else{if(2==b&&n.getAllKeys&&!k&&!g&&!h&&!m){vg(a,n,e,f);return}R=n.openCursor(e,p)}else if(d){c=n.index(d);if(c.getAll&&!k&&!g&&!h&&!m){ug(a,c,e,f);return}R=c.openCursor(e,p)}else{if(n.getAll&&!k&&!g&&!h&&!m){ug(a,n,e,f);return}R=n.openCursor(e,p)}var Z=!1;R.onsuccess=function(c){if(c=c.target.result){if(!Z){if(0<g){Z=!0;c.advance(g);return}if(m&&d&&u(m[0]))if(u(m[1])){var e=Ed.cmp(c.key,m[0]),k=h?-1:1;if(0==e){e=Ed.cmp(c.primaryKey,m[1]);if(0==e){Z=","!0;c[\"continue\"]();return}if(e==k)Z=!0;else{c[\"continue\"]();return}}else Z=!0}else Z=!0;else Z=!0}1==b?q.push(c.key):2==b?q.push(c.primaryKey):3==b?(k={},d&&(k[d]=c.key),n.keyPath?k[n.keyPath]=c.primaryKey:k._ROWID_=c.primaryKey,q.push(k)):4==b?q.push(c.value):q.push([c.key,c.primaryKey,c.value]);if(q.length<f)c[\"continue\"]();else m&&(m[0]=le(c.key),m[1]=le(c.primaryKey)),L(a,q)}else m&&(m[0]=void 0,m[1]=void 0),L(a,q)};R.onerror=function(b){b.preventDefault();L(a,R.error,!0)}};function eg(a,b){this.a=b}z(eg,tg);eg.prototype.logger=E(\"ydn.db.core.req.IndexedDb\");eg.prototype.b=function(a,b,c,d){c=S(this.a,c);return new sg(a,b,c,d)};function wg(a,b,c,d){Af.call(this,a,b,c,d);this.v=null;this.b=this.h=void 0}z(wg,Af);l=wg.prototype;l.logger=E(\"ydn.db.core.req.WebsqlCursor\");l.U=function(){return this.b};l.Za=function(a,b,c,d,e){wg.w.Za.call(this,a,b,c,d,e);this.v=x(b)?Oe(this.a,b):null};l.Ca=function(){return this.l};function xg(a,b){a.h=void 0;a.b=void 0;a.l=void 0;if(u(b))if(y(b)){var c=Ge(b[a.a.g],a.a.type);a.b=c;if(a.f){var d=Oe(a.a,a.i);a.h=Ge(b[a.i],d.type)}else a.h=c;a.l=a.va?c:yg(b,a.a)}else a.l=b}","function zg(a,b,c){Oe(a.a,a.i);var d=[],e=a.i,f=a.Z,g=a.h;if(null!=f){var h=f.lower,k=f.upper,m=f.lowerOpen,q=f.upperOpen;a.reverse?k=null!=k&&-1==Xd(k,g)?k:g:h=null!=h&&1==Xd(h,g)?h:g;null!=h&&null!=k?f=te(h,k,!!m,!!q):f=null!=h?xe.lowerBound(h,!!m):xe.upperBound(k,!!q)}else f=a.reverse?xe.upperBound(g):xe.lowerBound(g);e=Ne(a.a,d,a.A,e,f,a.reverse,a.unique);c=a.reverse?xe.upperBound(c,!1):xe.lowerBound(c,!1);c=Ne(a.a,d,a.A,a.a.g,c,a.reverse,a.unique);e.s=e.s?e.s+(\" AND \"+c.s):c.s;c=\"SELECT \"+e.select+","\" FROM \"+e.from+(e.s?\" WHERE \"+e.s:\"\")+(e.group?\" GROUP BY \"+e.group:\"\")+\" ORDER BY \"+e.J;c+=\" LIMIT 1\";H(a.logger,a+\": continuePrimary:  SQL: \"+c+\" : \"+P(d));a.j.executeSql(c,d,function(c,d){0<d.rows.length?xg(a,d.rows.item(0)):xg(a);b.call(a,a.h,a.b,a.l);b=null},function(c,d){G(a.logger,\"get error: \"+d.message);Bf(a,d);xg(a);b.call(a,a.b,a.h,a.l);b=null;return!1})}","function Ag(a,b,c,d,e,f){var g=!d;d=[];a.f&&null!=f&&null!=c?c=Re(a.a,a.A,d,a.v.getName(),a.Z,c,g,f,a.reverse,a.unique):null!=c?c=Qe(a.a,a.A,d,a.v?a.v.getName():null,a.Z,a.reverse,a.unique,c,g):(c=Me(a.a,d,a.A,a.f?a.v.f:a.a.g,a.Z,a.reverse,a.unique),a.f&&(c+=\", \"+a.a.f+\" ASC\"));c+=\" LIMIT 1\";0<e&&(c+=\" OFFSET \"+e);H(a.logger,a+\": continue:  SQL: \"+c+\" : \"+P(d));a.j.executeSql(c,d,function(c,d){0<d.rows.length?xg(a,d.rows.item(0)):xg(a);b.call(a,a.h,a.b,a.l);b=null},function(c,d){G(a.logger,\"get error: \"+","d.message);Bf(a,d);xg(a);b.call(a,a.b,a.h,a.l);b=null;return!1})}l.Qa=function(){return!!this.j};l.update=function(a){if(!this.Qa())throw new Of;var b=new D,c=this.U();a=Ze(this.a,a,c);var d=\"REPLACE INTO \"+Pe(this.a)+\" (\"+a.ib.join(\", \")+\") VALUES (\"+a.vb.join(\", \")+\")\";H(this.logger,this+': update \"'+d+'\" : '+P(a.values));this.j.executeSql(d,a.values,function(){b.callback(c)},function(a,c){b.o(c);return!1});return b};","l.advance=function(a){var b=this.h,c=this.b,d=!0;null==this.h||this.f&&null==this.b||(--a,d=!1);Ag(this,function(a,d,g){var h=null!=b&&null!=a&&0==Xd(b,a);if(this.f){var k=null!=d&&null!=c&&0==Xd(d,c);if(h&&k)throw new yd(\"current: \"+b+\";\"+c+\" next: \"+a+\";\"+d);}else if(h)throw new yd(\"current: \"+b+\" next: \"+a);this.O(a,d,g)},this.h,d,a,this.b)};l.ga=function(a){null!=a?Ag(this,this.O,a,!0):this.advance(1)};l.openCursor=function(a,b){Ag(this,this.O,a,!1,0,b)};","l.clear=function(){if(!this.Qa())throw new Of;var a=new D,b=this.a.g,b=\"DELETE FROM \"+Pe(this.a)+\" WHERE \"+b+\" = ?\",c=[this.U()];H(this.logger,this+': clear \"'+b+'\" : '+P(c));this.j.executeSql(b,c,function(b,c){a.callback(c.rowsAffected)},function(b,c){a.o(c);return!1});return a};l.Ba=function(a){var b=Xd(a,this.b);if(0==b||1==b&&this.reverse||-1==b&&!this.reverse)throw new tf(this+\" to continuePrimaryKey  from \"+this.b+\" to \"+a+\" on \"+this.dir+\" direction is wrong\");zg(this,this.O,a)};","l.toString=function(){return\"WebSql\"+wg.w.toString.call(this)};function Bg(a,b){this.a=b}z(Bg,Tf);l=Bg.prototype;l.logger=E(\"ydn.db.crud.req.WebSql\");","function yg(a,b){if(b.$&&!b.keyPath&&0==Se(b)&&a._default_){var c=a._default_;if(-1==c.indexOf(\";base64,\"))return df(c);'\"'==c.charAt(0)&&'\"'==c.charAt(c.length-1)&&(c=c.substr(1,c.length-2));for(var d=c.split(\";base64,\"),c=d[0].split(\":\")[1],d=window.atob(d[1]),e=d.length,f=new Uint8Array(e),g=0;g<e;++g)f[g]=d.charCodeAt(g);return new Blob([f.buffer],{type:c})}c=a._default_?df(a._default_):{};null!=b.keyPath&&(d=Ge(a[b.keyPath],b.type),null!=d&&Ye(b,c,d));for(d=0;d<Se(b);d++)if(e=b.index(d),f=e.f,","\"_default_\"!=f&&!e.h&&!e.multiEntry&&(\"DATE\"==e.type||b.$)&&(g=Ge(a[f],e.type),u(g)))for(var f=c,h=0;h<e.a.length;h++)h==e.a.length-1?f[e.a[h]]=g:y(f[e.a[h]])||(f[e.a[h]]={});return c}","l.N=function(a,b,c,d,e,f){function g(b,d){if(null==e[b])if(H(m.logger,\"empty object at \"+b+\" of \"+e.length),n++,n==e.length)I(m.logger,p+\" success \"+p),L(a,q,t);else{var F=b+2;F<e.length&&g(F,d)}var Q;Q=u(f)?Ze(h,e[b],f[b]):Ze(h,e[b]);F=k+Pe(h)+\" (\"+Q.ib.join(\", \")+\") VALUES (\"+Q.vb.join(\", \")+\");\";H(m.logger,N(a)+\" SQL: \"+F+\" PARAMS: \"+Q.values+\" REQ: \"+b+\" of \"+e.length);d.executeSql(F,Q.values,function(f,p){function F(b,c){var e=k+Ha(\"ydn.db.me:\"+h.getName()+\":\"+b.getName())+\" (\"+h.f+\", \"+b.c+","\") VALUES (?, ?)\",f=[Be(aa,h.type),Be(c,b.type)];H(m.logger,N(a)+\" multiEntry \"+e+\" \"+f);d.executeSql(e,f,function(){},function(a,b){G(m.logger,\"multiEntry index insert error: \"+b.message);return!1})}n++;var aa=u(Q.key)?Q.key:p.insertId;1>p.rowsAffected&&(t=!0,aa=new Nf(aa+\" no-op\"));for(var Xa=0,md=Se(h);Xa<md;Xa++){var tb=h.index(Xa);if(tb.multiEntry)for(var ub=Fd(e[b],tb.keyPath),pe=(ub?ub.length:0)||0,qe=0;qe<pe;qe++)F(tb,ub[qe])}c?L(a,aa):(q[b]=aa,n==e.length?L(a,q,t):(Xa=b+2,Xa<e.length&&g(Xa,","f)))},function(d,f){n++;t=!0;6==f.code?f.name=\"ConstraintError\":G(m.logger,\"error: \"+f.message+\" \"+p);if(c)L(a,f,!0);else if(q[b]=f,n==e.length)H(m.logger,\"success \"+p),L(a,q,t);else{var h=b+2;h<e.length&&g(h,d)}return!1})}b=!b;var h=S(this.a,d),k=b?\"INSERT INTO \":\"INSERT OR REPLACE INTO \";d=a.a;var m=this,q=[],n=0,p=N(a)+\" inserting \"+e.length+\" objects.\",t=!1;if(0<e.length)for(b=0;2>b&&b<e.length;b++)g(b,d);else I(this.logger,\"success\"),L(a,[])};","l.qb=function(a,b,c){if(0==c.length)L(a,[]);else{for(var d=[],e=0,f=0,g=this,h=function(h,k){var m=[];H(g.logger,\"put \"+k.length+\" objects to \"+h);for(var n=We(S(g.a,h)),q=n?void 0:[],p=0;p<k.length;p++)m.push(b[k[p]]),n||q.push(c[k[p]].id);n=Sd(a);Sb(n,function(b){for(var c=0;c<k.length;c++)d[k[c]]=b[c];e++;e==f&&L(a,d)},function(){e++;e==f&&L(a,d,!0)});g.N(n,!1,!1,h,m,q)},k=\"\",m=[],q=[],n=0;n<c.length;n++){var p=c[n].a,t=c[n].id;p!=k?(f++,0<m.length&&h(k,m),m=[n],q=[t],k=p):(m.push(n),q.push(t))}0<","m.length&&h(k,m)}};l.Na=function(a,b,c){var d=a.a,e=S(this.a,b),f=this;b=e.f;c=[Be(c,e.type)];b=\"SELECT * FROM \"+Pe(e)+\" WHERE \"+b+\" = ?\";var g=N(a)+\" SQL: \"+b+\" PARAMS: \"+c;H(this.logger,g);d.executeSql(b,c,function(b,c){if(0<c.rows.length){var d=c.rows.item(0);null!=d?(d=yg(d,e),L(a,d)):(I(f.logger,\"success no result: \"+g),L(a,void 0))}else I(f.logger,\"success no result: \"+g),L(a,void 0)},function(b,c){G(f.logger,\"error: \"+g+\" \"+c.message);L(a,c,!0);return!1})};","l.nb=function(a,b,c){function d(b,e){var n=k.f,p=[Be(c[b],k.type)],t=\"SELECT * FROM \"+Pe(k)+\" WHERE \"+n+\" = ?\";H(f.logger,\"SQL: \"+t+\" PARAMS: \"+p);e.executeSql(t,p,function(e,f){h++;if(0<f.rows.length){var n=f.rows.item(0);null!=n&&(g[b]=yg(n,k))}else g[b]=void 0;h==c.length?L(a,g):(n=b+10,n<c.length&&d(n,e))},function(e,k){h++;G(f.logger,\"error: \"+t+\" \"+k.message);if(h==c.length)L(a,g);else{var n=b+10;n<c.length&&d(n,e)}return!1})}var e=a.a,f=this,g=[],h=0,k=S(this.a,b);if(0<c.length)for(b=0;10>","b&&b<c.length;b++)d(b,e);else I(f.logger,\"success\"),L(a,[])};","l.ob=function(a,b){function c(d,h){var q=b[d],n=S(e.a,q.a),p=ke(q),q=n.f,p=[Be(p,n.type)],t=\"SELECT * FROM \"+Pe(n)+\" WHERE \"+q+\" = ?\";H(e.logger,\"SQL: \"+t+\" PARAMS: \"+p);h.executeSql(t,p,function(h,m){g++;if(0<m.rows.length){var q=m.rows.item(0);null!=q&&(f[d]=yg(q,n))}else f[d]=void 0;g==b.length?(H(e.logger,\"success \"+t),L(a,f)):(q=d+10,q<b.length&&c(q,h))},function(b,c){L(a,c,!0);return!1})}var d=a.a,e=this,f=[],g=0;if(0<b.length)for(var h=0;10>h&&h<b.length;h++)c(h,d);else H(this.logger,\"success\"),","L(a,[])};","l.Ha=function(a,b){function c(d,g){function h(a){a=\"DELETE FROM  \"+Ha(\"ydn.db.me:\"+k.getName()+\":\"+a.getName());H(e.logger,\"SQL: \"+a);g.executeSql(a,[])}var k=S(e.a,b[d]),m=\"DELETE FROM  \"+Pe(k);H(e.logger,\"SQL: \"+m+\" PARAMS: []\");g.executeSql(m,[],function(g){d==b.length-1?(H(e.logger,\"success \"+m),L(a,b.length)):c(d+1,g)},function(b,c){L(a,c,!0);return!1});for(var q=0,n=Se(k);q<n;q++){var p=k.index(q);p.multiEntry&&h(p)}}var d=a.a,e=this;0<b.length?c(0,d):(H(this.logger,\"success\"),L(a,0))};","l.tb=function(a,b){function c(h){if(h>=b.length)L(a,f,g);else{var k=S(e.a,b[h].a),m=Be(b[h].id,k.type),q=\" WHERE \"+k.f+\" = ?\",n=\"DELETE FROM \"+Pe(k)+q,p=N(a)+\" SQL: \"+n+\" PARAMS: \"+[m];d.executeSql(n,[m],function(){f++;c(h)},function(a,b){G(e.logger,\"error: \"+p+b.message);g=!0;c(h);return!1});h++;for(var n=function(b){b=\"DELETE FROM  \"+Ha(\"ydn.db.me:\"+k.getName()+\":\"+b.getName())+q;H(e.logger,N(a)+NaN+b);d.executeSql(b,[m])},t=0,A=Se(k);t<A;t++){var B=k.index(t);B.multiEntry&&n(B)}}}var d=a.a,e=this,","f=0,g=!1;H(this.logger,N(a)+\" removeByKeys: \"+b.length+\" keys\");c(0)};l.Ua=function(a,b,c){function d(b){b=\"DELETE FROM  \"+Ha(\"ydn.db.me:\"+f.getName()+\":\"+b.getName())+k;H(h.logger,N(a)+NaN+b);e.executeSql(b,[g])}var e=a.a,f=S(this.a,b),g=Be(c,f.type),h=this,k=\" WHERE \"+f.f+\" = ?\";b=\"DELETE FROM \"+Pe(f)+k;H(this.logger,N(a)+\" SQL: \"+b+\" PARAMS: \"+[g]);e.executeSql(b,[g],function(b,c){L(a,c.rowsAffected)},function(b,c){L(a,c,!0);return!1});b=0;for(c=Se(f);b<c;b++){var m=f.index(b);m.multiEntry&&d(m)}};","l.hb=function(a,b,c){Cg(this,a,b,void 0,c)};l.sb=function(a,b,c){Cg(this,a,b,void 0,c)};l.rb=function(a,b,c,d){Cg(this,a,b,c,d)};","function Cg(a,b,c,d,e){function f(c){c=\"DELETE FROM  \"+Ha(\"ydn.db.me:\"+h.getName()+\":\"+c.getName())+q;H(a.logger,N(b)+NaN+c);g.executeSql(c,m)}var g=b.a,h=S(a.a,c);c=\"DELETE FROM \"+Pe(h);var k=[],m=[],q=\"\";null!=e&&(u(d)?(d=Oe(h,d),Ae(d.c,d.type,e,m,k)):Ae(h.f,h.type,e,m,k),q=\" WHERE \"+m.join(\" AND \"));c+=q;var n=N(b)+\" SQL: \"+c+\" PARAMS: \"+k;H(a.logger,n);g.executeSql(c,k,function(c,d){H(a.logger,\"success \"+n);L(b,d.rowsAffected)},function(c,d){G(a.logger,\"error: \"+n+d.message);L(b,d,!0);return!1});","e=0;for(d=Se(h);e<d;e++)c=h.index(e),c.multiEntry&&f(c)}l.Ja=function(a,b){function c(g){var h=\"SELECT COUNT(*) FROM \"+Ha(b[g]);H(e.logger,\"SQL: \"+h+\" PARAMS: []\");d.executeSql(h,[],function(d,e){var h=e.rows.item(0);f[g]=parseInt(h[\"COUNT(*)\"],10);g++;g==b.length?L(a,f):c(g)},function(b,c){L(a,c,!0);return!1})}var d=a.a,e=this,f=[];0==b.length?(H(this.logger,\"success\"),L(a,0)):c(0)};","l.jb=function(a,b,c,d,e){var f=[];b=Me(S(this.a,b),f,6,d,c,!1,e);H(this.logger,N(a)+\" SQL: \"+b+\" PARAMS: \"+f);a.a.executeSql(b,f,function(b,c){var d;a:{if(d=c.rows.item(0))for(var e in d)if(d.hasOwnProperty(e)){d=d[e];break a}d=void 0}L(a,d)},function(b,c){L(a,c,!0);return!1})};","l.ha=function(a,b,c,d,e,f,g,h,k,m){var q=this,n=[],p=S(this.a,c),t=p.g,A=p.type,B=A,F=null!=d&&d!==t?Oe(p,d):null,Q=d||t;F&&(B=F.type);c=[];if(m&&u(m[0])){var R=m[0];d=F&&u(m[1])?Re(p,b,c,F.getName(),e,R,!0,m[1],h,k):Qe(p,b,c,d,e,h,k,R,!0)}else d=Me(p,c,b,Q,e,h,k);fa(f)&&(d+=\" LIMIT \"+f);fa(g)&&(d+=\" OFFSET \"+g);var Z=a+\" SQL: \"+d+\" ;params= \"+P(c);H(this.logger,Z);a.a.executeSql(d,c,function(c,d){for(var e=d.rows.length,f,g=0;g<e;g++)f=d.rows.item(g),2==b?n[g]=Ge(f[t],A):1==b?n[g]=Ge(f[Q],B):3==","b?n[g]=[Ge(f[Q],B),Ge(f[t],A)]:null!=f&&(n[g]=yg(f,p));I(q.logger,\"success \"+a);m&&f&&(m[0]=Ge(f[Q],B),m[1]=Ge(f[t],A));L(a,n)},function(b,c){G(q.logger,\"error: \"+Z+c.message);L(a,c,!0);return!1})};function fg(a,b){this.a=b}z(fg,Bg);fg.prototype.logger=E(\"ydn.db.core.req.WebSql\");fg.prototype.b=function(a,b,c,d){c=S(this.a,c);return new wg(a,b,c,d)};function Dg(a,b){u(a)&&5242880<a&&sd(this.logger,ed,\"storage size request ignored, use Quota Management API instead\");this.u=null;this.la=b||NaN}l=Dg.prototype;","l.connect=function(a,b){function c(a,c,d){I(e.logger,(d?\"changing\":\"upgrading\")+\" version to \"+a.version+\" from \"+g);for(d=0;d<b.stores.length;d++)Eg(e,a,c,b.stores[d]);c=a.objectStoreNames;var f=c.length;for(d=0;d<f;d++)lf(b,c[d])||(a.deleteObjectStore(c[d]),I(e.logger,\"store: \"+c[d]+\" deleted.\"))}function d(a,b){f.c?G(e.logger,\"database already set.\"):u(b)?(G(e.logger,b?b.message:\"Error received.\"),e.u=null,f.o(b)):(e.u=a,e.u.onabort=function(a){H(e.logger,e+\": abort\");e.za(a.target.error)},e.u.onerror=","function(a){H(e.logger,e+\": error\");e.za(a.target.error)},e.u.onversionchange=function(a){H(e.logger,e+\" closing connection for onversionchange to: \"+a.version);if(e.u&&(e.u.onabort=null,e.u.onblocked=null,e.u.onerror=null,e.u.onversionchange=null,e.Ta(a),!a.defaultPrevented)){e.u.close();e.u=null;var b=Error();b.name=a.type;e.Ya(b)}},f.callback(parseFloat(g)))}var e=this,f=new D,g=void 0,h=b.version;sd(this.logger,id,\"Opening database: \"+a+\" ver: \"+(b.b?\"auto\":h));var k;k=u(h)?Ed.open(a,h):Ed.open(a);","k.onsuccess=function(f){var h=f.target.result;u(g)||(g=h.version);sd(e.logger,id,\"Database: \"+h.name+\", ver: \"+h.version+\" opened.\");if(b.b)e.T(function(f){if(b instanceof nf)for(var g=0;g<f.stores.length;g++)lf(b,f.stores[g].getName())||of(b,f.stores[g].clone());f=mf(b,f,!1,!0);if(0<f.length){sd(e.logger,id,\"Schema change require for difference in \"+f);f=fa(h.version)?h.version+1:1;h.close();var k=Ed.open(a,f);k.onupgradeneeded=function(a){a=a.target.result;sd(e.logger,id,\"re-open for version \"+","a.version);c(a,k.transaction,!1)};k.onsuccess=function(a){d(a.target.result)};k.onerror=function(){sd(e.logger,id,e+\": fail.\");d(null)}}else d(h)},void 0,h);else if(b.version>h.version){var k=h.setVersion(b.version);k.a=function(a){G(e.logger,\"migrating from \"+h.version+\" to \"+b.version+\" failed.\");d(null,a)};k.onsuccess=function(){c(h,k.transaction,!0)}}else b.version==h.version?sd(e.logger,id,\"database version \"+h.version+\" ready to go\"):G(e.logger,\"connected database version \"+h.version+\" is higher than requested version.\"),","e.T(function(a){a=mf(b,a,!1,!0);0<a.length?(sd(e.logger,id,a),d(null,new rf(\"different schema: \"+a))):d(h)},void 0,h)};k.onupgradeneeded=function(a){a=a.target.result;g=NaN;sd(this.logger,id,\"upgrade needed for version \"+a.version);c(a,k.transaction,!1)};k.onerror=function(c){td(e.logger,'open request to database \"'+a+'\" '+(u(b.version)?\" with version \"+b.version:\"\")+\" cause error of \"+k.error.name);d(null,c)};k.onblocked=function(c){td(e.logger,\"database \"+a+\" \"+b.version+\" block, close other connections.\");","d(null,c)};fa(this.la)&&!isNaN(this.la)&&setTimeout(function(){\"done\"!=k.readyState&&(td(e.logger,e+\": database state is still \"+k.readyState),d(null,new Sf(\"connection timeout after \"+e.la)))},this.la);return f};l.la=18E4;l.Ya=function(){};l.za=function(){};l.Ta=function(){};l.xb=function(){return\"indexeddb\"};l.wb=function(){return this.u||null};l.Xa=function(){return!!this.u};l.logger=E(\"ydn.db.con.IndexedDb\");l.u=null;l.yb=function(){return this.u?parseFloat(this.u.version):void 0};","l.T=function(a,b,c){c=c||this.u;if(u(b)){if(null===b){if(0==c.objectStoreNames.length){a(new jf(c.version));return}throw new qf;}c=b.db}else{b=[];for(var d=c.objectStoreNames.length-1;0<=d;d--)b[d]=c.objectStoreNames[d];if(0==b.length){a(new jf(c.version));return}b=c.transaction(b,Cd)}for(var e=c.objectStoreNames,f=[],g=e.length,d=0;d<g;d++){for(var h=b.objectStore(e[d]),k=[],m=0,q=h.indexNames.length;m<q;m++){var n=h.index(h.indexNames[m]);k[m]=new De(n.keyPath,void 0,n.unique,n.multiEntry,n.name)}f[d]=","new Ke(h.name,h.keyPath,h.autoIncrement,void 0,k)}b=new jf(c.version,f);a(b)};","function Eg(a,b,c,d){function e(){var a={autoIncrement:!!d.b};null!=d.keyPath&&(a.keyPath=d.keyPath);return b.createObjectStore(d.getName(),a)}sd(a.logger,jd,\"Creating Object Store for \"+d.getName()+\" keyPath: \"+d.keyPath);if(b.objectStoreNames.contains(d.getName())){c=c.objectStore(d.getName());Ie(d.keyPath||\"\",c.keyPath||\"\")?(b.deleteObjectStore(d.getName()),sd(a.logger,ed,\"store: \"+d.getName()+\" deleted due to keyPath change.\"),c=e()):ea(c.autoIncrement)&&ea(d.b)&&c.autoIncrement!=d.b&&(b.deleteObjectStore(d.getName()),","sd(a.logger,ed,\"store: \"+d.getName()+\" deleted due to autoIncrement change.\"),c=e());for(var f=c.indexNames,g=0;g<Se(d);g++){var h=d.index(g);!f.contains(h.getName())&&h.g&&(c.clear(),sd(a.logger,ed,\"store: \"+d.getName()+\" cleared since generator index need re-indexing.\"))}for(var k=0,m=0,q=0,g=0;g<Se(d);g++){var h=d.index(g),n=!1;if(f.contains(h.getName())){var p=c.index(h.getName()),t=null!=p.unique&&null!=h.unique&&p.unique!=h.unique,A=null!=p.multiEntry&&null!=h.multiEntry&&p.multiEntry!=h.multiEntry,","p=null!=p.keyPath&&null!=h.keyPath&&!!Ie(p.keyPath,h.keyPath);if(t||A||p)c.deleteIndex(h.getName()),n=!0,k--,q++}else\"BLOB\"!=h.type&&(n=!0);n&&(h.unique||h.multiEntry?(n={unique:h.unique,multiEntry:h.multiEntry},c.createIndex(h.getName(),h.keyPath,n)):c.createIndex(h.getName(),h.keyPath),k++)}for(g=0;g<f.length;g++)Ue(d,f[g])||(c.deleteIndex(f[g]),m++);sd(a.logger,jd,\"Updated store: \"+c.name+\", \"+k+\" index created, \"+m+\" index deleted, \"+q+\" modified.\")}else{c=e();for(g=0;g<Se(d);g++)h=d.index(g),","\"BLOB\"==h.type?sd(a.logger,fd,\"Index \"+h+\" of blob data type ignored.\"):(H(a.logger,\"Creating index: \"+h+\" for \"+d.getName()),h.unique||h.multiEntry?(n={unique:h.unique,multiEntry:h.multiEntry},c.createIndex(h.getName(),h.keyPath,n)):c.createIndex(h.getName(),h.keyPath));I(a.logger,\"Created store: \"+c)}}","l.La=function(a,b,c,d){var e=this.u;if(!b){b=[];for(var f=e.objectStoreNames.length-1;0<=f;f--)b[f]=e.objectStoreNames[f]}0==b.length?a(null):(b=e.transaction(b,c),b.oncomplete=function(a){d(\"complete\",a)},b.onabort=function(a){d(\"abort\",a)},a(b),a=null)};l.close=function(){sd(this.logger,jd,this+\" closing connection\");this.u.close()};l.toString=function(){return\"IndexedDB:\"+(this.u?this.u.name+\":\"+this.u.version:\"\")};","Yd.push(function(a,b){if(!Ed||b&&\"indexeddb\"!=b)return null;var c=Ed.deleteDatabase(a),d=new Qd(\"IDBVersionChangeEvent \");c.onblocked=function(a){Ad(d,a)};c.onerror=function(a){d.o(a)};c.onsuccess=function(a){d.callback(a)};return d});function Fg(a,b){this.a=u(a)?a:4194304;this.b=b||\"websql\"}l=Fg.prototype;","l.connect=function(a,b){function c(b,c){var f=b.version?parseInt(b.version,10):0,g=c.b?isNaN(f)?1:f+1:c.version;ud(e.logger,a+\": changing version from \"+b.version+\" to \"+g);var h=!1,k=0;b.changeVersion(b.version,g+\"\",function(a){e.T(function(b){h=!0;for(var d=0;d<c.count();d++){var f=S(b,(c.stores[d]||null).getName()),f=f?Ve(f,c.stores[d]||null):null;Gg(e,a,c.stores[d]||null,function(a){a&&k++},f)}for(f=0;f<b.count();f++)if(d=b.stores[f]||null,!lf(c,d.getName()))if(c instanceof nf)of(c,d);else for(var g=","Hg(d),d=0;d<g.length;d++){var m=g[d];I(e.logger,m);a.executeSql(m,[],function(){},function(a,b){throw b;})}},a,b)},function(c){td(e.logger,\"SQLError \"+c+\" \"+c.code+\"(\"+c.message+\") while changing version from \"+b.version+\" to \"+g+\" on \"+a);throw c;},function(){if(h){var f=\".\";k!=c.stores.length&&(f=\" but unexpected stores exists.\");H(e.logger,a+\":\"+b.version+\" ready\"+f);d(b)}else G(e.logger,a+\": changing version voided.\")})}function d(a,b){u(b)?(e.B=null,g.o(b)):(e.B=a,g.callback(parseFloat(f)))}","var e=this,f=NaN,g=new D,h=null;try{\"sqlite\"==this.b?r.sqlitePlugin?(h=r.sqlitePlugin.openDatabase(a,\"\",a,this.a),h.readTransaction||(h.readTransaction=h.transaction),h.changeVersion=function(a,b,c,d,e){h.transaction(c,d,e)}):(G(this.logger,\"sqlitePlugin not found.\"),h=null,this.wa=Error(\"sqlitePlugin not found.\")):h=r.openDatabase(a,\"\",a,this.a)}catch(m){if(\"SECURITY_ERR\"==m.name)G(this.logger,\"SECURITY_ERR for opening \"+a),h=null,this.wa=new Rf(m);else throw m;}if(h){var f=h.version||\"\",k=\"database \"+","a+(0==f.length?\"\":\" version \"+h.version);null!=b.version&&b.version==h.version?(ud(e.logger,\"Existing \"+k+\" opened as requested.\"),d(h)):this.T(function(a){(a=mf(b,a,!0,!1))?(0==f?ud(e.logger,\"New \"+k+\" created.\"):b.b?ud(e.logger,\"Existing \"+k+\" opened and schema change for \"+a):ud(e.logger,\"Existing \"+k+\" opened and  schema change to version \"+b.version+\" for \"+a),c(h,b)):(ud(e.logger,\"Existing \"+k+\" with same schema opened.\"),d(h))},null,h)}else d(null,this.wa);return g};l.xb=function(){return this.b};","l.wa=null;l.B=null;l.wb=function(){return this.B||null};l.logger=E(\"ydn.db.con.WebSql\");l.Ya=function(){};l.za=function(){};function Hg(a){var b=[];b.push(\"DROP TABLE IF EXISTS \"+Ha(a.getName()));for(var c=0,d=Se(a);c<d;c++){var e=a.index(c);e.multiEntry&&(e=\"DROP TABLE IF EXISTS \"+Ha(\"ydn.db.me:\"+a.getName()+\":\"+e.getName()),b.push(e))}return b}","function Ig(a){var b=a.m,c=\"CREATE TABLE IF NOT EXISTS \"+Pe(a)+\" (\",d=a.f,c=c+(d+\" \"+b+\" PRIMARY KEY \");a.b&&(c+=\" AUTOINCREMENT \");if(!a.$||!a.keyPath&&0==Se(a))c+=\" ,_default_ BLOB\";for(var e=[],f=[d],g=0,h=Se(a);g<h;g++){var k=a.index(g),m=\"\";if(k.multiEntry)m=k.unique?\" UNIQUE \":\"\",k=\"CREATE TABLE IF NOT EXISTS \"+Ha(\"ydn.db.me:\"+a.getName()+\":\"+k.getName())+\" (\"+d+\" \"+b+\", \"+k.c+\" \"+k.i+m+\")\",e.push(k);else{k.unique&&(m=\" UNIQUE \");var q=k.c;-1==f.indexOf(q)&&(c+=\", \"+q+\" \"+k.i+m,f.push(q))}}e.unshift(c+","\")\");return e}l.yb=function(){return this.B?parseFloat(this.B.version):void 0};","l.T=function(a,b,c){function d(a,b){throw b;}function e(b,c){if(c&&c.rows){for(var d=0;d<c.rows.length;d++){var e=c.rows.item(d);if(\"__WebKitDatabaseInfoTable__\"!=e.name&&\"sqlite_sequence\"!=e.name&&\"table\"==e.type){var p=null!==e&&\"sql\"in e?e.sql:void 0;H(f.logger,\"Parsing table schema from SQL: \"+p);for(var t=p.substr(p.indexOf(\"(\"),p.lastIndexOf(\")\")).match(/(?:\"[^\"]*\"|[^,])+/g),A=void 0,B,p=[],F=!1,Q=!1,R=0;R<t.length;R++){var Z=t[R].match(/\\w+|\"[^\"]+\"/g),Y=Ta(Z,function(a){return a.toUpperCase()}),","aa=Ea(Z[0]),Z=Ee(Y[1]);if(-1!=Y.indexOf(\"PRIMARY\")&&-1!=Y.indexOf(\"KEY\")){B=Z;if(x(aa)&&!ua(aa)&&\"_ROWID_\"!=aa){var Xa=aa.split(\",\"),A=aa;1<Xa.length&&(A=Xa,B=void 0)}-1!=Y.indexOf(\"AUTOINCREMENT\")&&(F=!0)}else if(\"_ROWID_\"!=aa)if(\"_default_\"==aa)Q=!0;else{var md=\"UNIQUE\"==Y[2];0==aa.lastIndexOf(e.tbl_name+\"-\",0)&&(aa=aa.substr(e.tbl_name.length+1));Y=new De(aa,Z,md);p.push(Y)}}if(0==e.name.lastIndexOf(\"ydn.db.me:\",0))if(A=e.name.split(\":\"),3<=A.length){var tb=A[1],ub=A[2],A=new De(ub,Z,md,!0),t=","Wa(h,function(a){return a.getName()===tb});0<=t?(R=h[t],Y=cf(R,ub),0<=Y?p[Y]=A:(Y=Wa(p,function(a){return a.getName()==ub}),0<=Y?p[Y]=A:p.push(A)),h[t]=new Ke(R.getName(),R.keyPath,F,B,p,void 0,!Q)):h.push(new Ke(tb,void 0,!1,void 0,[A]));H(f.logger,'multi entry index \"'+A.getName()+'\" found in '+tb+(-1==t?\"*\":\"\"))}else G(f.logger,'Invalid multiEntry store name \"'+e.name+'\"');else if(t=Wa(h,function(a){return a.getName()===e.name}),0<=t){for(d=0;d<Se(h[t]);d++){var R=h[t].index(d),pe=R.getName();","-1==Wa(p,function(a){return a.getName()==pe})&&p.push(R)}h[t]=new Ke(e.name,A,F,B,p,void 0,!Q)}else p=new Ke(e.name,A,F,B,p,void 0,!Q),h.push(p)}}d=new jf(g,h);a(d)}}var f=this,g=(c=c||this.B)&&c.version?parseFloat(c.version):void 0,g=isNaN(g)?void 0:g,h=[];b?b.executeSql(\"SELECT * FROM sqlite_master\",[],e,d):c.readTransaction(function(b){f.T(a,b,c)},function(a){td(f.logger,\"opening tx: \"+a.message);throw a;},e)};","function Gg(a,b,c,d,e){function f(a){b.executeSql(a,[],function(){g++;g==h.length&&(d(!0),d=null)},function(b,e){g++;g==h.length&&(d(!1),d=null);throw new Qf(e,\"SQLError creating table: \"+c.getName()+\" \"+e.message+' for executing \"'+a);})}var g=0,h=Ig(c),k=\"Create\";if(e){var m=$e(c,e);if(0==m.length){H(a.logger,\"same table \"+c.getName()+\" exists.\");d(!0);d=null;return}k=\"Modify\";G(a.logger,\"table: \"+c.getName()+\" has changed by \"+m+\" ALTER TABLE cannot run in WebSql, dropping old table.\");h.unshift.apply(h,","Hg(e))}H(a.logger,k+\" table: \"+c.getName()+\": \"+h.join(\";\"));for(a=0;a<h.length;a++)f(h[a])}l.Xa=function(){return!!this.B};l.close=function(){this.B=null};","l.La=function(a,b,c,d){function e(a){H(h.logger,h+\": Tx \"+c+\" request cause error.\");d(\"abort\",a)}function f(){d(\"complete\",{type:\"complete\"})}function g(b){a(b)}var h=this;null===this.B&&(a(null),d(\"abort\",this.wa));c==Cd?this.B.readTransaction(g,e,f):c==Dd?this.B.changeVersion(this.B.version,this.B.version+1+\"\",g,e,f):this.B.transaction(g,e,f)};","Yd.push(function(a,b){if(ga(r.openDatabase)&&(!b||\"websql\"==b)){var c=new Fg,d=new nf;I(c.logger,\"deleting websql database: \"+a);var d=c.connect(a,d),e=function(){var b=c.logger;b&&b.log(fd,\"all tables in \"+a+\" deleted.\",void 0)};d.D(function(){c.La(function(b){b.executeSql('SELECT * FROM sqlite_master WHERE type = \"table\"',[],function(d,e){if(e&&e.rows){for(var k=e.rows.length,m=0,q=0;q<k;q++){var n=e.rows.item(q);\"__WebKitDatabaseInfoTable__\"!=n.name&&\"sqlite_sequence\"!=n.name&&(m++,H(c.logger,","\"deleting table: \"+n.name),b.executeSql(\"DROP TABLE \"+n.name))}I(c.logger,m+' tables deleted from \"'+a+'\"')}},function(a,b){throw b;})},[],K,e)});d.eb(function(){G(c.logger,\"Connecting \"+a+\" failed.\")})}});Fg.prototype.Ta=function(){};Fg.prototype.toString=function(){return\"WebSql:\"+(this.B?\":\"+this.B.version:\"\")};pg.prototype.Ka=function(a){return\"indexeddb\"==a&&Ed?new Dg(this.j,this.A):\"sqlite\"==a&&r.sqlitePlugin?new Fg(this.j,\"sqlite\"):\"websql\"==a&&ga(r.openDatabase)?new Fg(this.j):null};pg.prototype.branch=pg.prototype.Bb;pg.prototype.getTxNo=pg.prototype.Sb;dg.prototype.getTxNo=dg.prototype.g;pg.prototype.run=pg.prototype.Ib;W.prototype.branch=W.prototype.Bb;W.prototype.add=W.prototype.add;W.prototype.addAll=W.prototype.na;W.prototype.get=W.prototype.get;W.prototype.keys=W.prototype.keys;W.prototype.keysByIndex=W.prototype.ja;W.prototype.values=W.prototype.values;W.prototype.valuesByIndex=W.prototype.ma;W.prototype.put=W.prototype.put;W.prototype.putAll=W.prototype.ya;W.prototype.clear=W.prototype.clear;W.prototype.remove=W.prototype.Da;W.prototype.count=W.prototype.count;V.prototype.add=V.prototype.add;","V.prototype.addAll=V.prototype.na;V.prototype.get=V.prototype.get;V.prototype.keys=V.prototype.keys;V.prototype.keysByIndex=V.prototype.ja;V.prototype.values=V.prototype.values;V.prototype.valuesByIndex=V.prototype.ma;V.prototype.put=V.prototype.put;V.prototype.putAll=V.prototype.ya;V.prototype.clear=V.prototype.clear;V.prototype.remove=V.prototype.Da;V.prototype.count=V.prototype.count;oa(\"ydn.db.Key\",je);je.prototype.id=je.prototype.Db;je.prototype.parent=je.prototype.Mb;","je.prototype.storeName=je.prototype.Nb;oa(\"ydn.db.KeyRange\",O);O.upperBound=ue;O.lowerBound=ve;O.bound=te;O.only=se;O.starts=we;de.prototype.store_name=de.prototype.b;de.prototype.getStoreName=de.prototype.c;he.prototype.name=he.prototype.name;he.prototype.getKey=he.prototype.f;he.prototype.getValue=he.prototype.g;ie.prototype.name=ie.prototype.name;ie.prototype.getKeys=ie.prototype.ba;ie.prototype.getValues=ie.prototype.Pa;function Jg(a,b,c){W.call(this,a,b,c)}z(Jg,rg);oa(\"ydn.db.Storage\",Jg);function Kg(){this.a=na()}var Lg=new Kg;Kg.prototype.reset=function(){this.a=na()};Kg.prototype.get=function(){return this.a};function Mg(a){this.h=a||\"\";this.i=Lg}Mg.prototype.c=!0;Mg.prototype.a=!0;Mg.prototype.b=!1;function Ng(a){a=new Date(a.g);return Og(a.getFullYear()-2E3)+Og(a.getMonth()+1)+Og(a.getDate())+\" \"+Og(a.getHours())+\":\"+Og(a.getMinutes())+\":\"+Og(a.getSeconds())+\".\"+Og(Math.floor(a.getMilliseconds()/10))}function Og(a){return 10>a?\"0\"+a:String(a)}function Pg(a,b){var c=(a.g-b)/1E3,d=c.toFixed(3),e=0;if(1>c)e=2;else for(;100>c;)e++,c*=10;for(;0<e--;)d=\" \"+d;return d}function Qg(a){Mg.call(this,a)}z(Qg,Mg);","Qg.prototype.b=!0;Qg.prototype.f=function(a){return a?this.g(a).M():\"\"};","Qg.prototype.g=function(a){if(!a)return Ac;var b;switch(a.f.value){case cd.value:b=\"dbg-sh\";break;case dd.value:b=\"dbg-sev\";break;case ed.value:b=\"dbg-w\";break;case fd.value:b=\"dbg-i\";break;default:b=\"dbg-f\"}var c=[];c.push(this.h,\" \");this.a&&c.push(\"[\",Ng(a),\"] \");c.push(\"[\",Pg(a,this.i.get()),\"s] \");c.push(\"[\",a.b,\"] \");var c=uc(c.join(\"\")),d=Ac;if(this.b&&a.a){var d=yc(\"br\"),e;try{var f;var g=a.a,h=ba(\"window.location.href\");if(x(g))f={message:g,name:\"Unknown error\",lineNumber:\"Not available\",","fileName:h,stack:\"Not available\"};else{var k,m,q=!1;try{k=g.lineNumber||g.Ub||\"Not available\"}catch(F){k=\"Not available\",q=!0}try{m=g.fileName||g.filename||g.sourceURL||r.$googDebugFname||h}catch(F){m=\"Not available\",q=!0}f=!q&&g.lineNumber&&g.fileName&&g.stack&&g.message&&g.name?g:{message:g.message||\"Not available\",name:g.name||\"UnknownError\",lineNumber:k,fileName:m,stack:g.stack||\"Not available\"}}var n;var p=f.fileName;null!=p||(p=\"\");if(/^https?:\\/\\//i.test(p)){var t=lc(p);bc(\"view-source scheme plus HTTP/HTTPS URL\");","var A=\"view-source:\"+jc(t);n=mc(A)}else{var B=bc(\"sanitizedviewsrc\");n=mc(ac(B))}e=zc(uc(\"Message: \"+f.message+\"\\nUrl: \"),yc(\"a\",{href:n,target:\"_new\"},f.fileName),uc(\"\\nLine: \"+f.lineNumber+\"\\n\\nBrowser stack:\\n\"+f.stack+\"-> [end]\\n\\nJS stack traversal:\\n\"+Vc(void 0)+\"-> \"))}catch(F){e=uc(\"Exception trying to expose exception! You win, we lose. \"+F)}d=zc(d,e)}a=uc(a.c);b=yc(\"span\",{\"class\":b},zc(a,d));return this.c?zc(c,b,yc(\"br\")):zc(c,b)};function Rg(a){Mg.call(this,a)}z(Rg,Mg);","Rg.prototype.f=function(a){var b=[];b.push(this.h,\" \");this.a&&b.push(\"[\",Ng(a),\"] \");b.push(\"[\",Pg(a,this.i.get()),\"s] \");b.push(\"[\",a.b,\"] \");b.push(a.c);this.b&&(a=a.a)&&b.push(\"\\n\",a instanceof Error?a.message:a.toString());this.c&&b.push(\"\\n\");return b.join(\"\")};Rg.prototype.g=function(a){return uc(Rg.prototype.f(a))};function Sg(){this.g=la(this.h,this);this.a=new Rg;this.a.a=!1;this.a.b=!1;this.b=this.a.c=!1;this.c=\"\";this.f={}}Sg.prototype.h=function(a){if(!this.f[a.b]){var b=this.a.f(a),c=Tg;if(c)switch(a.f){case cd:Ug(c,\"info\",b);break;case dd:Ug(c,\"error\",b);break;case ed:Ug(c,\"warn\",b);break;default:Ug(c,\"debug\",b)}else this.c+=b}};var Tg=r.console;function Ug(a,b,c){if(a[b])a[b](c);else a.log(c)};var Vg=!Kc||9<=Uc;!Mc&&!Kc||Kc&&9<=Uc||Mc&&Sc(\"1.9.1\");Kc&&Sc(\"9\");function Wg(a,b){fb(b,function(b,d){\"style\"==d?a.style.cssText=b:\"class\"==d?a.className=b:\"for\"==d?a.htmlFor=b:Xg.hasOwnProperty(d)?a.setAttribute(Xg[d],b):0==d.lastIndexOf(\"aria-\",0)||0==d.lastIndexOf(\"data-\",0)?a.setAttribute(d,b):a[d]=b})}var Xg={cellpadding:\"cellPadding\",cellspacing:\"cellSpacing\",colspan:\"colSpan\",frameborder:\"frameBorder\",height:\"height\",maxlength:\"maxLength\",role:\"role\",rowspan:\"rowSpan\",type:\"type\",usemap:\"useMap\",valign:\"vAlign\",width:\"width\"};","function Yg(a,b,c){function d(c){c&&b.appendChild(x(c)?a.createTextNode(c):c)}for(var e=2;e<c.length;e++){var f=c[e];!w(f)||y(f)&&0<f.nodeType?d(f):Sa(Zg(f)?Za(f):f,d)}}function Zg(a){if(a&&\"number\"==typeof a.length){if(y(a))return\"function\"==typeof a.item||\"string\"==typeof a.item;if(ga(a))return\"function\"==typeof a.item}return!1}function $g(a){this.a=a||r.document||document}","function ah(a,b){var c;c=a.a;var d=b&&\"*\"!=b?b.toUpperCase():\"\";c.querySelectorAll&&c.querySelector&&d?c=c.querySelectorAll(d+\"\"):c=c.getElementsByTagName(d||\"*\");return c}","$g.prototype.b=function(a,b,c){var d=this.a,e=arguments,f=e[0],g=e[1];if(!Vg&&g&&(g.name||g.type)){f=[\"<\",f];g.name&&f.push(' name=\"',wa(g.name),'\"');if(g.type){f.push(' type=\"',wa(g.type),'\"');var h={};ib(h,g);delete h.type;g=h}f.push(\">\");f=f.join(\"\")}f=d.createElement(f);g&&(x(g)?f.className=g:v(g)?f.className=g.join(\" \"):Wg(f,g));2<e.length&&Yg(d,f,e);return f};","$g.prototype.contains=function(a,b){if(!a||!b)return!1;if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if(\"undefined\"!=typeof a.compareDocumentPosition)return a==b||!!(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a};function bh(a){bh[\" \"](a);return a}bh[\" \"]=ca;function ch(a){Kc&&u(a.cssText)?a.cssText=\".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}\":a.innerHTML=\".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}\"}",";function dh(a){this.g=la(this.h,this);this.b=new Qg;this.c=this.b.a=!1;this.a=a;this.f=this.a.ownerDocument||this.a.document;a=(a=this.a)?new $g(9==a.nodeType?a:a.ownerDocument||a.document):sa||(sa=new $g);var b=null,c=a.a;Kc&&c.createStyleSheet?(b=c.createStyleSheet(),ch(b)):(c=ah(a,\"HEAD\")[0],c||(b=ah(a,\"BODY\")[0],c=a.b(\"HEAD\"),b.parentNode.insertBefore(c,b)),b=a.b(\"STYLE\"),ch(b),c.appendChild(b));this.a.className+=\" logdiv\"}","dh.prototype.h=function(a){if(a){var b=100>=this.a.scrollHeight-this.a.scrollTop-this.a.clientHeight,c=this.f.createElement(\"DIV\");c.className=\"logmsg\";a=this.b.g(a);c.innerHTML=rc(a);this.a.appendChild(c);b&&(this.a.scrollTop=this.a.scrollHeight)}};dh.prototype.clear=function(){this.a&&(this.a.innerHTML=rc(Ac))};var eh=!Kc||9<=Uc,fh=Kc&&!Sc(\"9\");!Nc||Sc(\"528\");Mc&&Sc(\"1.9b\")||Kc&&Sc(\"8\")||Jc&&Sc(\"9.5\")||Nc&&Sc(\"528\");Mc&&!Sc(\"8\")||Kc&&Sc(\"9\");function gh(a,b){ce.call(this,a?a.type:\"\");this.a=this.target=null;this.clientY=this.clientX=0;this.b=null;if(a){this.type=a.type;var c=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.a=b;var d=a.relatedTarget;if(d&&Mc)try{bh(d.nodeName)}catch(e){}null===c?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY):(this.clientX=void 0!==c.clientX?c.clientX:c.pageX,this.clientY=void 0!==c.clientY?c.clientY:c.pageY);this.b=","a;a.defaultPrevented&&this.preventDefault()}}z(gh,ce);gh.prototype.preventDefault=function(){gh.w.preventDefault.call(this);var a=this.b;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,fh)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var hh=null,ih=null;E(\"ydn.debug\");oa(\"ydn.debug.log\",function(a,b,c){a=a||\"ydn\";if(fa(b))b=new bd(\"log\",b);else if(x(b)){b=b.toUpperCase();if(!ld){ld={};for(var d=0,e;e=kd[d];d++)ld[e.value]=e,ld[e.name]=e}b=ld[b]||null}else b=hd;(d=E(a))?d.b=b:window.console.log(\"logger \"+a+\" not available.\");u(c)?!ih&&(a=ih=new dh(c),1!=a.c&&(c=rd(),b=a.g,c.a||(c.a=[]),c.a.push(b),a.c=!0),a=rd())&&(a.b=ed):!hh&&!ih&&(a=hh=new Sg,1!=a.b&&(c=rd(),b=a.g,c.a||(c.a=[]),c.a.push(b),a.b=!0),a=rd())&&(a.b=ed)});function jh(a,b){$d.call(this);this.f=b;this.a=[];if(a>this.f)throw Error(\"[goog.structs.SimplePool] Initial cannot be greater than max\");for(var c=0;c<a;c++)this.a.push(this.b())}z(jh,$d);function kh(a,b){a.a.length<a.f?a.a.push(b):a.c(b)}jh.prototype.b=function(){return{}};jh.prototype.c=function(a){if(y(a))if(ga(a.kb))a.kb();else for(var b in a)delete a[b]};jh.prototype.R=function(){jh.w.R.call(this);for(var a=this.a;a.length;)this.c(a.pop());delete this.a};function lh(){this.a=[];this.g=new Fc;this.m=this.v=this.A=this.i=0;this.b=new Fc;this.h=this.l=0;this.C=1;this.c=new jh(0,4E3);this.c.b=function(){return new mh};this.j=new jh(0,50);this.j.b=function(){return new nh};var a=this;this.f=new jh(0,2E3);this.f.b=function(){return String(a.C++)};this.f.c=function(){}}E(\"goog.debug.Trace\");function nh(){this.Wa=this.time=this.count=0}","nh.prototype.toString=function(){var a=[];a.push(this.type,\" \",this.count,\" (\",Math.round(10*this.time)/10,\" ms)\");this.Wa&&a.push(\" [VarAlloc = \",this.Wa,\"]\");return a.join(\"\")};function mh(){}function oh(a,b,c,d){var e=[];-1==c?e.push(\"    \"):e.push(ph(a.b-c));e.push(\" \",qh(a.b-b));0==a.a?e.push(\" Start        \"):1==a.a?(e.push(\" Done \"),e.push(ph(a.g-a.startTime),\" ms \")):e.push(\" Comment      \");e.push(d,a);0<a.f&&e.push(\"[VarAlloc \",a.f,\"] \");return e.join(\"\")}","mh.prototype.toString=function(){return null==this.type?this.c:\"[\"+this.type+\"] \"+this.c};lh.prototype.reset=function(){for(var a=0;a<this.a.length;a++){var b=this.c.id;b&&kh(this.f,b);kh(this.c,this.a[a])}this.a.length=0;this.g.clear();this.i=na();this.h=this.l=this.m=this.v=this.A=0;b=this.b.ba();for(a=0;a<b.length;a++){var c=this.b.get(b[a]);c.count=0;c.time=0;c.Wa=0;kh(this.j,c)}this.b.clear()};","lh.prototype.toString=function(){for(var a=[],b=-1,c=[],d=0;d<this.a.length;d++){var e=this.a[d];1==e.a&&c.pop();a.push(\" \",oh(e,this.i,b,c.join(\"\")));b=e.b;a.push(\"\\n\");0==e.a&&c.push(\"|  \")}if(0!=this.g.lb()){var f=na();a.push(\" Unstopped timers:\\n\");Ec(this.g,function(b){a.push(\"  \",b,\" (\",f-b.startTime,\" ms, started at \",qh(b.startTime),\")\\n\")})}b=this.b.ba();for(d=0;d<b.length;d++)c=this.b.get(b[d]),1<c.count&&a.push(\" TOTAL \",c,\"\\n\");a.push(\"Total tracers created \",this.l,\"\\n\",\"Total comments created \",","this.h,\"\\n\",\"Overhead start: \",this.A,\" ms\\n\",\"Overhead end: \",this.v,\" ms\\n\",\"Overhead comment: \",this.m,\" ms\\n\");return a.join(\"\")};function ph(a){a=Math.round(a);var b=\"\";1E3>a&&(b=\" \");100>a&&(b=\"  \");10>a&&(b=\"   \");return b+a}function qh(a){a=Math.round(a);return String(100+a/1E3%60).substring(1,3)+\".\"+String(1E3+a%1E3).substring(1,4)}new lh;var rh=\"closure_listenable_\"+(1E6*Math.random()|0),sh=0;function th(a,b,c,d,e){this.listener=a;this.a=null;this.src=b;this.type=c;this.pa=!!d;this.ta=e;this.key=++sh;this.ea=this.oa=!1}function uh(a){a.ea=!0;a.listener=null;a.a=null;a.src=null;a.ta=null};function vh(a){this.src=a;this.a={};this.b=0}vh.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.a[f];a||(a=this.a[f]=[],this.b++);var g=wh(a,b,d,e);-1<g?(b=a[g],c||(b.oa=!1)):(b=new th(b,this.src,f,!!d,e),b.oa=c,a.push(b));return b};function xh(a,b){var c=b.type;if(c in a.a){var d=a.a[c],e=Ra(d,b),f;(f=0<=e)&&Array.prototype.splice.call(d,e,1);f&&(uh(b),0==a.a[c].length&&(delete a.a[c],a.b--))}}","function wh(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.ea&&f.listener==b&&f.pa==!!c&&f.ta==d)return e}return-1};var yh=\"closure_lm_\"+(1E6*Math.random()|0),zh={},Ah=0;function Bh(a,b,c,d,e){if(v(b))for(var f=0;f<b.length;f++)Bh(a,b[f],c,d,e);else c=Ch(c),a&&a[rh]?a.S.add(String(b),c,!1,d,e):Dh(a,b,c,!1,d,e)}","function Dh(a,b,c,d,e,f){if(!b)throw Error(\"Invalid event type\");var g=!!e,h=Eh(a);h||(a[yh]=h=new vh(a));c=h.add(b,c,d,e,f);if(!c.a){d=Fh();c.a=d;d.src=a;d.listener=c;if(a.addEventListener)a.addEventListener(b.toString(),d,g);else if(a.attachEvent)a.attachEvent(Gh(b.toString()),d);else throw Error(\"addEventListener and attachEvent are unavailable.\");Ah++}}function Fh(){var a=Hh,b=eh?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}","function Ih(a,b,c,d,e){if(v(b))for(var f=0;f<b.length;f++)Ih(a,b[f],c,d,e);else c=Ch(c),a&&a[rh]?a.S.add(String(b),c,!0,d,e):Dh(a,b,c,!0,d,e)}function Jh(a,b,c,d,e){if(v(b))for(var f=0;f<b.length;f++)Jh(a,b[f],c,d,e);else(c=Ch(c),a&&a[rh])?(a=a.S,b=String(b).toString(),b in a.a&&(f=a.a[b],c=wh(f,c,d,e),-1<c&&(uh(f[c]),Array.prototype.splice.call(f,c,1),0==f.length&&(delete a.a[b],a.b--)))):a&&(a=Eh(a))&&(b=a.a[b.toString()],a=-1,b&&(a=wh(b,c,!!d,e)),(c=-1<a?b[a]:null)&&Kh(c))}","function Kh(a){if(!fa(a)&&a&&!a.ea){var b=a.src;if(b&&b[rh])xh(b.S,a);else{var c=a.type,d=a.a;b.removeEventListener?b.removeEventListener(c,d,a.pa):b.detachEvent&&b.detachEvent(Gh(c),d);Ah--;(c=Eh(b))?(xh(c,a),0==c.b&&(c.src=null,b[yh]=null)):uh(a)}}}function Gh(a){return a in zh?zh[a]:zh[a]=\"on\"+a}function Lh(a,b,c,d){var e=!0;if(a=Eh(a))if(b=a.a[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.pa==c&&!f.ea&&(f=Mh(f,d),e=e&&!1!==f)}return e}","function Mh(a,b){var c=a.listener,d=a.ta||a.src;a.oa&&Kh(a);return c.call(d,b)}","function Hh(a,b){if(a.ea)return!0;if(!eh){var c=b||ba(\"window.event\"),d=new gh(c,this),e=!0;if(!(0>c.keyCode||void 0!=c.returnValue)){a:{var f=!1;if(0==c.keyCode)try{c.keyCode=-1;break a}catch(k){f=!0}if(f||void 0==c.returnValue)c.returnValue=!0}c=[];for(f=d.a;f;f=f.parentNode)c.push(f);for(var f=a.type,g=c.length-1;0<=g;g--){d.a=c[g];var h=Lh(c[g],f,!0,d),e=e&&h}for(g=0;g<c.length;g++)d.a=c[g],h=Lh(c[g],f,!1,d),e=e&&h}return e}return Mh(a,new gh(b,this))}","function Eh(a){a=a[yh];return a instanceof vh?a:null}var Nh=\"__closure_events_fn_\"+(1E9*Math.random()>>>0);function Ch(a){if(ga(a))return a;a[Nh]||(a[Nh]=function(b){return a.handleEvent(b)});return a[Nh]};function Oh(){$d.call(this);this.S=new vh(this);this.b=this;this.a=null}z(Oh,$d);Oh.prototype[rh]=!0;Oh.prototype.addEventListener=function(a,b,c,d){Bh(this,a,b,c,d)};Oh.prototype.removeEventListener=function(a,b,c,d){Jh(this,a,b,c,d)};Oh.prototype.R=function(){Oh.w.R.call(this);if(this.S){var a=this.S,b=0,c;for(c in a.a){for(var d=a.a[c],e=0;e<d.length;e++)++b,uh(d[e]);delete a.a[c];a.b--}}this.a=null};","function Ph(a,b,c,d){b=a.S.a[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.ea&&g.pa==c){var h=g.listener,k=g.ta||g.src;g.oa&&xh(a.S,g);e=!1!==h.call(k,d)&&e}}return e&&0!=d.ub};function Qh(a){a.i||(a.i=new Oh);return a.i}pg.prototype.addEventListener=function(a,b,c,d){if(\"ready\"==a)Ih(Qh(this),a,b,c,d);else{var e=\"created error fail ready deleted updated versionchange\".split(\" \"),f=function(a){if(!(0<=Ra(e,a)))throw new J('Invalid event type \"'+a+'\"');};if(w(a))for(var g=0;g<a.length;g++)f(a[g]);else f(a);Bh(Qh(this),a,b,c,d)}};pg.prototype.removeEventListener=function(a,b,c,d){Jh(Qh(this),a,b,c,d)};","pg.prototype.G=function(a){var b=Qh(this),c,d=b.a;if(d)for(c=[];d;d=d.a)c.push(d);b=b.b;d=a.type||a;if(x(a))a=new ce(a,b);else if(a instanceof ce)a.target=a.target||b;else{var e=a;a=new ce(d,b);ib(a,e)}var e=!0,f;if(c)for(var g=c.length-1;0<=g;g--)f=a.a=c[g],e=Ph(f,d,!0,a)&&e;f=a.a=b;e=Ph(f,d,!0,a)&&e;e=Ph(f,d,!1,a)&&e;if(c)for(g=0;g<c.length;g++)f=a.a=c[g],e=Ph(f,d,!1,a)&&e};pg.prototype.addEventListener=pg.prototype.addEventListener;pg.prototype.removeEventListener=pg.prototype.removeEventListener;function Rh(a,b,c){this.db=a;this.b=b;this.type=c||0;this.c=null};function Sh(a,b){Lf.call(this,a,b)}z(Sh,Lf);","Sh.prototype.c=function(a,b){var c=[],d=b[0];if(null==d)return[];for(var e=!0,f=!1,g=d,h=[],k=1;k<a.length;k++)if(null!=b[k]){var m=Xd(d,b[k]);h[k]=m;this.a?-1==m?e=!1:1==m&&(e=!1,f=!0,-1==Xd(b[k],g)&&(g=b[k])):1==m?e=!1:-1==m&&(e=!1,f=!0,1==Xd(b[k],g)&&(g=b[k]))}else e=!1,f=!0;if(e)for(f=0;f<a.length;f++)null!=b[f]&&(c[f]=!0);else if(f)for(f=0;f<a.length;f++)null!=b[f]&&(this.a?-1==Xd(g,b[f])&&(c[f]=g):1==Xd(g,b[f])&&(c[f]=g));else for(k=this.a?-1:1,f=1;f<a.length;f++)h[f]===k&&(c[f]=d);return e?","(this.b&&this.b.push(g),c):{continuePrimary:c}};function Th(a,b){Lf.call(this,a,b)}z(Th,Lf);Th.prototype.logger=E(\"ydn.db.algo.ZigzagMerge\");","Th.prototype.c=function(a,b){function c(a,b){var c=a.slice(0,a.length-1);c.push(b);return c}function d(a){return a[a.length-1]}var e=[];if(0==a.length||null==a[0]||null==a[0])return[];for(var f=!0,g=0,h=d(a[g]),k=[],m=1;m<a.length;m++)if(null!=a[m]){var q=d(a[m]),n=Xd(h,q);k[m]=n;this.a?-1==n?f=!1:1==n&&(f=!1,h=q,g=1):1==n?f=!1:-1==n&&(f=!1,h=q,g=1)}else return[];m=this.a?-1:1;if(f){for(f=0;f<a.length;f++)null!=a[f]&&(e[f]=!0);this.b&&this.b.push(b[0]);return null!=this.f&&this.b.length>=this.f?[]:","e}if(0==g)for(f=1;f<a.length;f++)k[f]==m&&(e[f]=c(a[f],h));else for(f=0;f<a.length;f++)f!=g&&null!=a[f]&&Xd(h,d(a[f]))===m&&(e[f]=c(a[f],h));return{\"continue\":e}};function Uh(a,b,c,d){this.c=a;this.a=b||null;this.h=!!c;this.g=!!d;this.b=[];this.f=[]}function Vh(a,b){for(var c=b.length-1;0<=c;c--)if(b[c]==a.b[a.b.length-1])b=b.slice(0,c);else break;a.f=b;if(a.a&&a.b[0]){if(a.a.lower!=a.a.upper)throw new Nf(\"Ordering no allowed with range query\");a.a=we([a.a.lower])}return null}","function Wh(a,b){if((0!=a.b.length||0!=a.f.length)&&Xh(a)&&!Yh(a))throw new Nf('Require index \"'+a.b.concat(a.f).join(\", \")+'\" not found in store \"'+a.c.getName()+'\"');var c=new Gf(a.c.getName(),Zh(a),a.a,a.h,a.g,!b);c.v=a.b.length;return c}Uh.prototype.clone=function(){var a=new Uh(this.c,this.a,this.h,this.g);a.f=this.f.slice();a.b=this.b.slice();return a};function Yh(a){var b=a.b.concat(a.f),c=Te(a.c,b);return c||b[b.length-1]==a.c.keyPath&&(c=Te(a.c,b.slice(0,b.length-1)))?c:null}","function Zh(a){return(a=Yh(a))?a.getName():void 0}Uh.prototype.reverse=function(){var a=this.clone();a.h=!this.h;return a};Uh.prototype.unique=function(a){var b=this.clone();b.g=!!a;return b};function Xh(a){return 0<a.b.length?!0:1==a.f.length?a.f[0]!=a.c.keyPath:1<a.f.length?!0:!1}","Uh.prototype.s=function(a,b,c,d,e){c=Ce(b,c,d,e);if(0<this.b.length)if(this.a)if(null!=this.a.lower&&null!=this.a.upper&&0==Xd(this.a.lower,this.a.upper))a=v(this.a.lower)?this.a.lower.slice().push(b):[this.a.lower,b],d=null!=d?d:\"\\uffff\",c=v(this.a.upper)?this.a.upper.slice().push(d):[this.a.upper,d],this.a=Ce(b,a,d,c);else if(1==this.b.length&&this.b[0]==a||v(a)&&ab(this.b,a))this.a=ze(this.a,c);else return\"cannot use where clause with existing filter\";else return\"cannot use where clause with existing filter\";","else this.b=v(a)?a:[a],this.a=this.a?ze(this.a,c):c;return null};function $h(a,b,c,d){Rh.call(this,a,b,c);this.a=d}z($h,Rh);$h.prototype.open=function(){var a={push:function(){}},a=ai(this)?new Th(a):new Sh(a);return jg(this.db,a,bi(this))};function bi(a){for(var b=[],c=0;c<a.a.length;c++)b[c]=Wh(a.a[c]);return b}function ai(a){for(var b=0;b<a.a.length;b++)if(0<a.a[b].b.length)return!0;return!1}$h.prototype.Oa=function(){return this.a.slice()};$h.prototype.select=function(){throw Error(\"not impl\");};","$h.prototype.reverse=function(){var a=this.a.map(function(a){return a.reverse()});return new $h(this.db,this.b,this.type,a)};function X(a,b,c,d){Rh.call(this,a,b,c);this.a=d}z(X,Rh);l=X.prototype;l.Ob=function(){return new X(this.db,this.b,this.type,this.a.clone())};l.reverse=function(){var a=this.a.reverse();return new X(this.db,this.b,this.type,a)};l.unique=function(a){if(!ea(a))throw new J(\"unique value must be a boolean, but \"+typeof a+\" found\");a=this.a.unique(a);return new X(this.db,this.b,this.type,a)};","l.J=function(a){var b=x(a)?[a]:a;a=this.a.clone();if(b=Vh(a,b))throw Error(b);return new X(this.db,this.b,this.type,a)};","l.s=function(a,b,c,d,e){if(Zh(this.a)&&Zh(this.a)!=a){var f=Ce(b,c,d,e),f=new Uh(S(this.b,this.a.c.getName()),f,this.a.h,this.a.g),f=(new X(this.db,this.b,this.type,f)).Oa().concat(this.Oa());return new $h(this.db,this.b,this.type,f)}if(!Zh(this.a)&&!Ue(S(this.b,this.a.c.getName()),a))throw new J('index \"'+a+'\" not exists in '+this.a.c.getName());f=this.a.clone();if(a=f.s(a,b,c,d,e))throw new J(a);return new X(this.db,this.b,this.type,f)};","l.select=function(a){var b=S(this.b,this.a.c.getName()),c=x(a)?[a]:a,d=this.type;a=this.a.clone();d=Zh(this.a);if(1==c.length)if(d=c[0],\"_ROWID_\"==d||d==b.keyPath)d=2;else if(d&&\"*\"!=d)if(Ue(b,d)){if(b=Vh(a,c))throw new J(b);d=1}else throw new J('Invalid select \"'+d+'\", index not found in store \"'+b.getName()+'\"');else d=4;else if(2==c.length){if(!d)throw new J(\"Only primary key can be selected for this query.\");for(var e=0;2>e;e++){var f;if(f=\"_ROWID_\"!=c[e]){f=b;var g=c[e];f=!(u(f.keyPath)&&(1==","f.h.length?f.keyPath===g:w(g)&&ab(f.h,g)))}if(f&&c[e]!=d)throw new J('select field name must be \"'+d+'\", but \"'+c[e]+'\" found.');}d=3}else throw new J(\"Selecting more than 2 field names is not supported, but \"+c.length+\" fields selected.\");return new X(this.db,this.b,d,a)};l.Pb=function(a){a=a||100;var b=4,c=ci(this);this.c&&this.c[0]&&(c=Kf(c,this.c[0],this.c[1]));if(2==this.type||3==this.type||1==this.type)b=this.type;a=kg(this.db,b,c,a);a.D(function(){\"rest\"==c.g&&(this.c=[c.j,c.l])},this);return a};","l.Oa=function(){return[this.a.clone()]};function ci(a,b){var c=!!b;u(b)||(c=2==a.type||3==a.type||1==a.type);return Wh(a.a,!c)}","l.Hb=function(a,b){var c=ci(this);c.f&&(c=new Gf(c.b,c.c,c.a,If(c),Jf(c),!1,c.h));if(1>arguments.length)throw new J(\"too few arguments\");if(2==arguments.length){if(!x(a)&&v(a)){if(!v(b))throw new J(\"an array is expected for second argument but, \"+ef(b)+\" of type \"+typeof b+\" found\");if(a.length!=b.length)throw new J(\"length of two input arguments must be equal but, \"+a.length+\" and \"+b.length+\" found\");}}else if(1==arguments.length){if(!y(a))throw new J(\"an object is expected but, \"+ef(a)+\" of type \"+","typeof a+\" found\");}else throw new J(\"too many arguments\");var d=this.db.open(function(c){var f=c.Ca();if(x(a))Gd(f,a,b);else if(v(a))for(var g=0;g<a.length;g++)Gd(f,a[g],b[g]);else if(y(a))for(g in a)a.hasOwnProperty(g)&&(f[g]=a[g]);Tb(d,c.update(f))},c,K,this);return d};l.open=function(a,b){return this.db.open(a,ci(this,!1),K,b)};l.count=function(){return Xh(this.a)?this.a.g?this.db.count(Wh(this.a)):this.db.count(this.a.c.getName(),Zh(this.a),this.a.a):this.db.count(this.a.c.getName(),this.a.a)};","l.clear=function(){return Xh(this.a)?this.db.clear(this.a.c.getName(),Zh(this.a),this.a.a):this.db.clear(this.a.c.getName(),this.a.a)};rg.prototype.from=function(a,b,c,d,e){if(!x(a))throw new TypeError('store name \"'+a+'\"');if(!lf(this.c,a))throw new J('Store \"'+a+'\" not found.');var f=null;if(u(b)){if(!u(c))throw new J(\"boundary value must be defined.\");f=Ce(b,c,d,e)}else if(u(d))throw new J(\"second boundary must not be defined.\");a=new Uh(S(this.c,a),f);return new X(this.b,this.c,null,a)};","hg.prototype.from=function(a,b,c,d,e){if(!x(a))throw new TypeError('store name \"'+a+'\"');if(!lf(this.b,a))throw new J('Store \"'+a+'\" not found.');var f=null;if(u(b)){if(!u(c))throw new J(\"boundary value must be defined.\");f=Ce(b,c,d,e)}else if(u(d))throw new J(\"second boundary must not be defined.\");a=new Uh(S(this.b,a),f);return new X(this,this.b,null,a)};E(\"ydn.db.query.ConjunctionCursor\");X.prototype.copy=X.prototype.Ob;X.prototype.count=X.prototype.count;X.prototype.list=X.prototype.Pb;X.prototype.order=X.prototype.J;X.prototype.patch=X.prototype.Hb;X.prototype.reverse=X.prototype.reverse;X.prototype.unique=X.prototype.unique;X.prototype.where=X.prototype.s;rg.prototype.from=rg.prototype.from;hg.prototype.from=hg.prototype.from; ","","//# sourceMappingURL=ydn.db-is-core-e-qry-dev.js.map","return ydn;}, (this || {}));","            ","","","","","(function (name, definition, context) {if (typeof context['module'] !== 'undefined' && context['module']['exports']) {context['module']['exports'] = definition.apply(context);}else if (typeof context['define'] !== 'undefined' && context['define'] === 'function' && context['define']['amd']) {define(name, [], definition);}else {context[name] = definition();}})('ydn', function () {var l,r=this;","function ba(a){var b=typeof a;if(\"object\"==b)if(a){if(a instanceof Array)return\"array\";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(\"[object Window]\"==c)return\"object\";if(\"[object Array]\"==c||\"number\"==typeof a.length&&\"undefined\"!=typeof a.splice&&\"undefined\"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(\"splice\"))return\"array\";if(\"[object Function]\"==c||\"undefined\"!=typeof a.call&&\"undefined\"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(\"call\"))return\"function\"}else return\"null\";else if(\"function\"==","b&&\"undefined\"==typeof a.call)return\"object\";return b}function t(a){return void 0!==a}function u(a){return\"array\"==ba(a)}function v(a){var b=ba(a);return\"array\"==b||\"object\"==b&&\"number\"==typeof a.length}function w(a){return\"string\"==typeof a}function ca(a){return\"boolean\"==typeof a}function da(a){return\"number\"==typeof a}function ea(a){return\"function\"==ba(a)}function y(a){var b=typeof a;return\"object\"==b&&null!=a||\"function\"==b}var fa=\"closure_uid_\"+(1E9*Math.random()>>>0),ga=0;","function ha(a,b,c){return a.call.apply(a.bind,arguments)}function ia(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function ja(a,b,c){ja=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf(\"native code\")?ha:ia;return ja.apply(null,arguments)}","function ka(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}var la=Date.now||function(){return+new Date};function na(a,b){var c=a.split(\".\"),d=r;c[0]in d||!d.execScript||d.execScript(\"var \"+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d=d[e]?d[e]:d[e]={}:d[e]=b}function z(a,b){function c(){}c.prototype=b.prototype;a.t=b.prototype;a.prototype=new c};function oa(a){Error.captureStackTrace?Error.captureStackTrace(this,oa):this.stack=Error().stack||\"\";a&&(this.message=String(a))}z(oa,Error);oa.prototype.name=\"CustomError\";function pa(a,b){for(var c=1;c<arguments.length;c++){var d=String(arguments[c]).replace(/\\$/g,\"$$$$\");a=a.replace(/\\%s/,d)}return a}function qa(a){return/^[\\s\\xa0]*$/.test(a)}function ra(a,b){return a.replace(/(\\r\\n|\\r|\\n)/g,b?\"<br />\":\"<br>\")}function sa(a){if(!ta.test(a))return a;-1!=a.indexOf(\"&\")&&(a=a.replace(ua,\"&amp;\"));-1!=a.indexOf(\"<\")&&(a=a.replace(va,\"&lt;\"));-1!=a.indexOf(\">\")&&(a=a.replace(wa,\"&gt;\"));-1!=a.indexOf('\"')&&(a=a.replace(xa,\"&quot;\"));return a}","var ua=/&/g,va=/</g,wa=/>/g,xa=/\\\"/g,ta=/[&<>\\\"]/;function ya(a){return ra(a.replace(/  /g,\" &#160;\"),void 0)}function za(a){for(var b=0;1>b;b++)if('\"'==a.charAt(0)&&'\"'==a.charAt(a.length-1))return a.substring(1,a.length-1);return a}var Aa={\"\\x00\":\"\\\\0\",\"\\b\":\"\\\\b\",\"\\f\":\"\\\\f\",\"\\n\":\"\\\\n\",\"\\r\":\"\\\\r\",\"\\t\":\"\\\\t\",\"\\x0B\":\"\\\\x0B\",'\"':'\\\\\"',\"\\\\\":\"\\\\\\\\\"},Ba={\"'\":\"\\\\'\"};","function Ca(a){a=String(a);if(a.quote)return a.quote();for(var b=['\"'],c=0;c<a.length;c++){var d=a.charAt(c),e=d.charCodeAt(0),f=b,g=c+1,h;if(!(h=Aa[d])){if(!(31<e&&127>e))if(d in Ba)d=Ba[d];else if(d in Aa)d=Ba[d]=Aa[d];else{e=d;h=d.charCodeAt(0);if(31<h&&127>h)e=d;else{if(256>h){if(e=\"\\\\x\",16>h||256<h)e+=\"0\"}else e=\"\\\\u\",4096>h&&(e+=\"0\");e+=h.toString(16).toUpperCase()}d=Ba[d]=e}h=d}f[g]=h}b.push('\"');return b.join(\"\")};function Da(a,b){b.unshift(a);oa.call(this,pa.apply(null,b));b.shift()}z(Da,oa);Da.prototype.name=\"AssertionError\";function Ea(a,b){throw new Da(\"Failure\"+(a?\": \"+a:\"\"),Array.prototype.slice.call(arguments,1));};var Fa=Array.prototype,Ga=Fa.indexOf?function(a,b,c){return Fa.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(w(a))return w(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ha=Fa.forEach?function(a,b,c){Fa.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=w(a)?a.split(\"\"):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ia=Fa.map?function(a,b,c){return Fa.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=","w(a)?a.split(\"\"):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Ka=Fa.some?function(a,b,c){return Fa.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=w(a)?a.split(\"\"):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1};function La(a,b){var c=Ma(a,b,void 0);return 0>c?null:w(a)?a.charAt(c):a[c]}function Ma(a,b,c){for(var d=a.length,e=w(a)?a.split(\"\"):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1}","function Na(a){if(!u(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0}function Oa(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function Pa(a,b,c){return 2>=arguments.length?Fa.slice.call(a,b):Fa.slice.call(a,b,c)}function Qa(a,b){if(!v(a)||!v(b)||a.length!=b.length)return!1;for(var c=a.length,d=Sa,e=0;e<c;e++)if(!d(a[e],b[e]))return!1;return!0}function Sa(a,b){return a===b};/*"," Portions of this code are from MochiKit, received by"," The Closure Authors under the MIT license. All other code is Copyright"," 2005-2009 The Closure Authors. All Rights Reserved.","*/","function E(a,b){this.f=[];this.A=b||null}l=E.prototype;l.la=!1;l.za=!1;l.Pa=!1;l.rb=!1;l.mb=!1;l.fb=0;l.hb=function(a,b){this.Pa=!1;Ta(this,a,b)};function Ta(a,b,c){a.la=!0;a.i=c;a.za=!b;Va(a)}function Wa(a){if(a.la){if(!a.mb)throw new Xa;a.mb=!1}}l.n=function(a){Wa(this);Ta(this,!0,a)};l.k=function(a){Wa(this);Ta(this,!1,a)};l.N=function(a,b){return Ya(this,a,null,b)};l.eb=function(a,b){return Ya(this,null,a,b)};l.sa=function(a,b){return Ya(this,a,a,b)};","function Ya(a,b,c,d){a.f.push([b,c,d]);a.la&&Va(a);return a}l.xb=function(a){var b=new E;Ya(this,b.n,b.k,b);a&&(b.g=this,this.fb++);return b};function Za(a){return Ka(a.f,function(a){return ea(a[1])})}","function Va(a){a.r&&a.la&&Za(a)&&(r.clearTimeout(a.r),delete a.r);a.g&&(a.g.fb--,delete a.g);for(var b=a.i,c=!1;a.f.length&&!a.Pa;){var d=a.f.shift(),e=d[0],f=d[1],d=d[2];if(e=a.za?f:e)e=e.call(d||a.A,b),t(e)&&(a.za=a.za&&(e==b||e instanceof Error),a.i=b=e),b instanceof E&&(c=!0,a.Pa=!0)}a.i=b;c&&(Ya(b,ja(a.hb,a,!0),ja(a.hb,a,!1)),b.rb=!0)}function $a(a){var b=new E;b.n(a);return b}","function ab(a){Error.captureStackTrace?Error.captureStackTrace(this,ab):this.stack=Error().stack||\"\";a&&(this.message=String(a))}z(ab,Error);function Xa(){ab.call(this)}z(Xa,ab);Xa.prototype.message=\"Deferred has already fired\";Xa.prototype.name=\"AlreadyCalledError\";function F(a){oa.call(this,a);this.name=\"ydn.error.ArgumentException\"}z(F,oa);function bb(a){oa.call(this,a);this.name=\"ydn.error.TypeError\"}z(bb,oa);function cb(a){oa.call(this,a);this.name=\"ydn.error.NotSupportedException\"}z(cb,oa);function db(a){oa.call(this,a);this.name=\"ydn.error.NotImplementedException\"}z(db,oa);function eb(a){oa.call(this,a);this.name=\"ydn.error.InvalidOperationException\"}z(eb,oa);","function fb(a){Error.captureStackTrace?Error.captureStackTrace(this,fb):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.error.InternalError\"}z(fb,Error);fb.prototype.name=\"ydn.error.InternalError\";function gb(a,b){E.call(this,0,b);this.b=[]}z(gb,E);gb.prototype.w=function(a,b){this.b.push([a,b]);return this};gb.prototype.n=function(a){this.b.length=0;gb.t.n.call(this,a)};gb.prototype.k=function(a){this.b.length=0;gb.t.k.call(this,a)};","gb.prototype.B=function(a,b,c){if(c&&ea(c))throw new F(\"progress callback is not supported\");var d=a;ea(a)&&(d=function(b){b=a.call(c,b);if(y(b)&&ea(b.then)){var d=new E;b.then.call(c,function(a){d.n(a)},function(a){d.k(a)});return d}return b});return Ya(this,d,b,c)};var hb={READ_ONLY:\"readonly\",READ_WRITE:\"readwrite\",VERSION_CHANGE:\"versionchange\"},ib=r.IDBRequest&&\"LOADING\"in r.IDBRequest?r.IDBTransaction:r.webkitIDBRequest&&\"LOADING\"in r.webkitIDBRequest&&1===r.webkitIDBTransaction.READ_WRITE?r.webkitIDBTransaction:hb,jb=ib.READ_ONLY,G=ib.READ_WRITE,kb=ib.VERSION_CHANGE,lb=r.indexedDB||r.mozIndexedDB||r.webkitIndexedDB||r.moz_indexedDB||r.msIndexedDB;E.prototype.done=E.prototype.N;E.prototype.fail=E.prototype.eb;E.prototype.always=E.prototype.sa;gb.prototype.then=gb.prototype.B;function mb(a,b){var c,d;2==arguments.length&&w(arguments[1])?(c=!0,d=arguments[1].split(\".\")):d=(c=v(b))?b:arguments;for(c=c?0:1;c<d.length&&(a=a[d[c]],t(a));c++);return a}function nb(a,b,c){if(a)if(-1==b.indexOf(\".\"))a[b]=c;else{b=b.split(\".\");for(var d=b.pop(),e;e=b.shift();)y(a[e])||(a[e]={}),a=a[e];a[d]=c}}var pb={};","function qb(a){var b=[a];a=new rb;for(var c=0,d,e;void 0!==(e=b.pop());){0===c%4&&12<c+4&&(a.write(c),c=0);d=typeof e;if(e instanceof Array)if(c+=4,0<e.length){b.push(pb);for(d=e.length;d--;)b.push(e[d]);continue}else a.write(c);else if(\"number\"===d)c+=1,a.write(c),sb(a,e);else if(e instanceof Date)c+=2,a.write(c),sb(a,e.valueOf());else if(\"string\"===d){c+=3;a.write(c);c=a;for(d=0;d<e.length;d++){var f=e.charCodeAt(d);126>=f?c.write(f+1):16510>=f?(f-=127,c.write(128|f>>8,f&255)):c.write(192|f>>10,","f>>2|255,(f|3)<<6)}c.write(0)}else if(e===pb)a.write(0);else return\"\";c=0}for(b=a.a.length;\"00\"===a.a[--b];);a.a.length=++b;return a.toString()}function tb(a){for(var b=[],c=b,d=[],e,f,g=new ub(a);null!=vb(g);)if(0===g.a)c=d.pop();else{if(null===g.a)break;do{e=g.a/4|0;a=g.a%4;for(var h=0;h<e;h++)f=[],c.push(f),d.push(c),c=f;if(0===a&&12<g.a+4)vb(g);else break}while(1);1===a?c.push(wb(g)):2===a?c.push(new Date(wb(g))):3===a?c.push(xb(g)):0===a&&(c=d.pop())}return b[0]}","function sb(a,b){var c,d,e;c=b;var f=e=d=0;if(0!==c)if(isFinite(c)){0>c&&(d=1,c=-c);f=0;if(2.2250738585072014E-308<=c){for(e=c;1>e;)f--,e*=2;for(;2<=e;)f++,e/=2;e=f+1023}f=e?Math.floor(4503599627370496*(c/Math.pow(2,f)-1)):Math.floor(c/4.9E-324)}else e=2047,isNaN(c)?f=0x8000000000000:-Infinity===c&&(d=1);c=d;d=e;e=f;c&&(e=0xfffffffffffff-e,d=2047-d);a.write((c?0:128)|d>>4);a.write((d&15)<<4|0|e/281474976710656);e%=281474976710656;c=0|e/4294967296;a.write(c>>8,c&255);e%=4294967296;c=0|e/65536;a.write(c>>","8,c&255);c=e%65536;a.write(c>>8,c&255)}function wb(a){var b=vb(a)|0,c=b>>7?!1:!0,d=c?-1:1,e=(b&127)<<4,b=vb(a)|0,e=e+(b>>4);c&&(e=2047-e);for(var b=[c?15-(b&15):b&15],f=6;f--;)b.push(c?255-(vb(a)|0):vb(a)|0);a=0;for(f=7;f--;)a=a/256+b[f];a/=16;return 0===a&&0===e?0:(a+1)*Math.pow(2,e-1023)*d}","function xb(a){for(var b=[],c=0,d=0,e=0,f,g;;){f=vb(a);if(0===f||null==f)break;0===c?(g=f>>6,2>g&&!isNaN(f)?b.push(String.fromCharCode(f-1)):(c=g,d=f<<10,e++)):2===c?(b.push(String.fromCharCode(d+f+127)),c=d=e=0):2===e?(d+=f<<2,e++):(b.push(String.fromCharCode(d|f>>6)),c=d=e=0)}return b.join(\"\")}function ub(a){this.a=null;this.b=a;this.d=this.b.length-1;this.index=-1}function vb(a){return a.a=a.index<a.d?parseInt(a.b[++a.index]+a.b[++a.index],16):null}function rb(){this.a=[];this.b=void 0}","rb.prototype.write=function(a){for(var b=0;b<arguments.length;b++)this.b=arguments[b].toString(16),this.a.push(2===this.b.length?this.b:this.b=\"0\"+this.b)};rb.prototype.toString=function(){return this.a.length?this.a.join(\"\"):\"\"};function yb(a,b){var c=qb(a),d=qb(b);return c>d?1:c==d?0:-1};var H=lb&&lb.cmp?ja(lb.cmp,lb):yb,zb=[];function Ab(){0!=Bb&&(this[fa]||(this[fa]=++ga))}var Bb=0;function Cb(a,b){this.type=a;this.target=b}Cb.prototype.preventDefault=function(){};function Db(a,b){Cb.call(this,a,b)}z(Db,Cb);Db.prototype.h=function(){return this.J};function Eb(a,b,c,d,e){Cb.call(this,a,b);this.version=c;this.ob=d;this.jb=e}z(Eb,Db);l=Eb.prototype;l.name=\"ReadyEvent\";l.version=NaN;l.ob=NaN;l.jb=null;l.Jb=function(){return this.version};l.wb=function(){return this.ob};l.vb=function(){return this.jb};function Fb(a,b,c){Cb.call(this,c||\"error\",a);this.error=b}z(Fb,Db);Fb.prototype.toString=function(){return this.name+\":\"+(this.error?this.error:\"\")};","Fb.prototype.name=\"ErrorEvent\";Fb.prototype.error=null;Fb.prototype.a=function(){return this.error};function Gb(a,b){Fb.call(this,a,b,\"fail\")}z(Gb,Fb);Gb.prototype.name=\"FailEvent\";function Hb(a,b,c){var d;if(y(a))d=a.store,b=a.id,null!=a.parent&&(c=new Hb(a.parent));else if(t(b))d=a;else if(d=a.lastIndexOf(\"^|\"),b=a,0<d&&(b=a.substr(d),c=new Hb(a.substring(0,d))),b=b.split(\"^:\"),d=b[0],b=b[1],!t(b))throw Error(\"Invalid key value: \"+a);this.J=d;this.q=b;this.parent=c||null}l=Hb.prototype;l.toJSON=function(){var a={store:this.J,id:this.q};this.parent&&(a.parent=this.parent.toJSON());return a};","l.valueOf=function(){return(this.parent?this.parent.valueOf()+\"^|\":\"\")+this.J+\"^:\"+this.q};l.toString=function(){return this.valueOf().replace(\"^|\",\"|\").replace(\"^:\",\":\")};l.h=function(){return this.J};l.tb=function(){return this.q};l.Db=function(){return this.parent};function Ib(a){if(v(a)){for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}return a};function J(a,b,c,d){this.lower=a;this.upper=b;this.lowerOpen=!!c;this.upperOpen=!!d;ea(Object.freeze)&&Object.freeze(this)}J.prototype.lower=void 0;J.prototype.upper=void 0;J.prototype.toJSON=function(){return Jb(this)};function Kb(a){return Lb(a)}J.only=function(a){return new J(a,a,!1,!1)};J.bound=function(a,b,c,d){return new J(a,b,c,d)};J.upperBound=function(a,b){return new J(void 0,a,void 0,!!b)};J.lowerBound=function(a,b){return new J(a,void 0,!!b,void 0)};","function Mb(a){var b;if(u(a))b=Oa(a),b.push(\"\\uffff\");else if(w(a))b=a+\"\\uffff\";else return J.only(a);return J.bound(a,b,!1,!0)}function Jb(a){a=a||{};return{lower:a.lower,upper:a.upper,lowerOpen:a.lowerOpen,upperOpen:a.upperOpen}}function Lb(a){return null!=a?null!=a.upper&&null!=a.lower?Nb.bound(a.lower,a.upper,!!a.lowerOpen,!!a.upperOpen):null!=a.upper?Nb.upperBound(a.upper,a.upperOpen):null!=a.lower?Nb.lowerBound(a.lower,a.lowerOpen):null:null}","function Ob(a){if(a instanceof J)return\"\";if(null!=a){if(y(a)){for(var b in a)if(a.hasOwnProperty(b)&&!(0<=Ga([\"lower\",\"upper\",\"lowerOpen\",\"upperOpen\"],b)))return'invalid attribute \"'+b+'\" in key range object';return\"\"}return\"key range must be an object\"}return\"\"}","function Pb(a,b,c,d,e){if(c)if(c.lowerOpen||c.upperOpen||null==c.lower||null==c.upper||0!==H(c.lower,c.upper)){if(null!=c.lower){var f=c.lowerOpen?\" > \":\" >= \";d.push(a+f+\"?\");e.push(Qb(c.lower,b))}null!=c.upper&&(f=c.upperOpen?\" < \":\" <= \",d.push(a+f+\"?\"),e.push(Qb(c.upper,b)))}else d.push(a+\" = ?\"),e.push(Qb(c.lower,b))}","function Rb(a,b,c,d){var e,f,g,h;if(\"starts\"==a||\"^\"==a)return Mb(b);if(\"<\"==a||\"<=\"==a)e=b,g=\"<\"==a;else if(\">\"==a||\">=\"==a)f=b,h=\">\"==a;else if(\"=\"==a||\"==\"==a)e=f=b;else throw new F(\"invalid op: \"+a);if(\"<\"==c||\"<=\"==c)e=d,g=\"<\"==c;else if(\">\"==c||\">=\"==c)f=d,h=\">\"==c;else if(t(c))throw new F(\"invalid op2: \"+c);return J.bound(f,e,h,g)}var Nb=r.IDBKeyRange||r.webkitIDBKeyRange||J;function Sb(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function Tb(a,b){for(var c=v(b),d=c?b:arguments,c=c?0:1;c<d.length&&(a=a[d[c]],t(a));c++);return a}var Ub=\"constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf\".split(\" \");function Vb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Ub.length;f++)c=Ub[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var Wb,Xb,Yb,Zb;function $b(){return r.navigator?r.navigator.userAgent:null}Zb=Yb=Xb=Wb=!1;var ac;if(ac=$b()){var bc=r.navigator;Wb=0==ac.indexOf(\"Opera\");Xb=!Wb&&-1!=ac.indexOf(\"MSIE\");Yb=!Wb&&-1!=ac.indexOf(\"WebKit\");Zb=!Wb&&!Yb&&\"Gecko\"==bc.product}var cc=Wb,dc=Xb,ec=Zb,fc=Yb;function gc(){var a=r.document;return a?a.documentMode:void 0}var hc;","a:{var ic=\"\",jc;if(cc&&r.opera)var lc=r.opera.version,ic=\"function\"==typeof lc?lc():lc;else if(ec?jc=/rv\\:([^\\);]+)(\\)|;)/:dc?jc=/MSIE\\s+([^\\);]+)(\\)|;)/:fc&&(jc=/WebKit\\/(\\S+)/),jc)var mc=jc.exec($b()),ic=mc?mc[1]:\"\";if(dc){var nc=gc();if(nc>parseFloat(ic)){hc=String(nc);break a}}hc=ic}var oc={};","function pc(a){var b;if(!(b=oc[a])){b=0;for(var c=String(hc).replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g,\"\").split(\".\"),d=String(a).replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g,\"\").split(\".\"),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||\"\",h=d[f]||\"\",k=RegExp(\"(\\\\d*)(\\\\D*)\",\"g\"),n=RegExp(\"(\\\\d*)(\\\\D*)\",\"g\");do{var m=k.exec(g)||[\"\",\"\",\"\"],p=n.exec(h)||[\"\",\"\",\"\"];if(0==m[0].length&&0==p[0].length)break;b=((0==m[1].length?0:parseInt(m[1],10))<(0==p[1].length?0:parseInt(p[1],10))?-1:(0==m[1].length?0:parseInt(m[1],","10))>(0==p[1].length?0:parseInt(p[1],10))?1:0)||((0==m[2].length)<(0==p[2].length)?-1:(0==m[2].length)>(0==p[2].length)?1:0)||(m[2]<p[2]?-1:m[2]>p[2]?1:0)}while(0==b)}b=oc[a]=0<=b}return b}var qc=r.document,rc=qc&&dc?gc()||(\"CSS1Compat\"==qc.compatMode?parseInt(hc,10):5):void 0;function sc(a){return tc(a||arguments.callee.caller,[])}","function tc(a,b){var c=[];if(0<=Ga(b,a))c.push(\"[...circular reference...]\");else if(a&&50>b.length){c.push(uc(a)+\"(\");for(var d=a.arguments,e=0;e<d.length;e++){0<e&&c.push(\", \");var f;f=d[e];switch(typeof f){case \"object\":f=f?\"object\":\"null\";break;case \"string\":break;case \"number\":f=String(f);break;case \"boolean\":f=f?\"true\":\"false\";break;case \"function\":f=(f=uc(f))?f:\"[fn]\";break;default:f=typeof f}40<f.length&&(f=f.substr(0,40)+\"...\");c.push(f)}b.push(a);c.push(\")\\n\");try{c.push(tc(a.caller,b))}catch(g){c.push(\"[exception trying to get caller]\\n\")}}else a?","c.push(\"[...long stack...]\"):c.push(\"[end]\");return c.join(\"\")}function uc(a){if(vc[a])return vc[a];a=String(a);if(!vc[a]){var b=/function ([^\\(]+)/.exec(a);vc[a]=b?b[1]:\"[Anonymous]\"}return vc[a]}var vc={};function wc(a,b,c,d,e){\"number\"==typeof e||xc++;this.g=d||la();this.f=a;this.e=b;this.d=c;delete this.b;delete this.a}wc.prototype.b=null;wc.prototype.a=null;var xc=0;function yc(a){this.f=a}yc.prototype.d=null;yc.prototype.b=null;yc.prototype.e=null;yc.prototype.a=null;function zc(a,b){this.name=a;this.value=b}zc.prototype.toString=function(){return this.name};var Ac=new zc(\"SHOUT\",1200),Bc=new zc(\"SEVERE\",1E3),Cc=new zc(\"WARNING\",900),Dc=new zc(\"INFO\",800),Ec=new zc(\"CONFIG\",700),Fc=new zc(\"FINE\",500),Gc=new zc(\"FINER\",400),Hc=new zc(\"FINEST\",300),Ic=[new zc(\"OFF\",Infinity),Ac,Bc,Cc,Dc,Ec,Fc,Gc,Hc,new zc(\"ALL\",0)],Jc=null;yc.prototype.getName=function(){return this.f};","function Kc(a){if(a.b)return a.b;if(a.d)return Kc(a.d);Ea(\"Root logger has no level set.\");return null}yc.prototype.log=function(a,b,c){if(a.value>=Kc(this).value)for(a=this.g(a,b,c),b=\"log:\"+a.e,r.console&&(r.console.timeStamp?r.console.timeStamp(b):r.console.markTimeline&&r.console.markTimeline(b)),r.msWriteProfilerMark&&r.msWriteProfilerMark(b),b=this;b;){c=b;var d=a;if(c.a)for(var e=0,f=void 0;f=c.a[e];e++)f(d);b=b.d}};","yc.prototype.g=function(a,b,c){var d=new wc(a,String(b),this.f);if(c){d.b=c;var e;var f=arguments.callee.caller;try{var g;var h;c:{for(var k=[\"window\",\"location\",\"href\"],n=r,m;m=k.shift();)if(null!=n[m])n=n[m];else{h=null;break c}h=n}if(w(c))g={message:c,name:\"Unknown error\",lineNumber:\"Not available\",fileName:h,stack:\"Not available\"};else{var p,q,k=!1;try{p=c.lineNumber||c.Mb||\"Not available\"}catch(s){p=\"Not available\",k=!0}try{q=c.fileName||c.filename||c.sourceURL||r.$googDebugFname||h}catch(x){q=","\"Not available\",k=!0}g=!k&&c.lineNumber&&c.fileName&&c.stack?c:{message:c.message,name:c.name,lineNumber:p,fileName:q,stack:c.stack||\"Not available\"}}e=\"Message: \"+sa(g.message)+'\\nUrl: <a href=\"view-source:'+g.fileName+'\" target=\"_new\">'+g.fileName+\"</a>\\nLine: \"+g.lineNumber+\"\\n\\nBrowser stack:\\n\"+sa(g.stack+\"-> \")+\"[end]\\n\\nJS stack traversal:\\n\"+sa(sc(f)+\"-> \")}catch(A){e=\"Exception trying to expose exception! You win, we lose. \"+A}d.a=e}return d};function Lc(a,b){a.log(Bc,b,void 0)}","function K(a,b){a.log(Cc,b,void 0)}function Mc(a,b){a.log(Fc,b,void 0)}function L(a,b){a.log(Gc,b,void 0)}function M(a,b){a.log(Hc,b,void 0)}var Nc={},Oc=null;function Pc(){Oc||(Oc=new yc(\"\"),Nc[\"\"]=Oc,Oc.b=Ec)}function Qc(){Pc();return Oc}function N(a){Pc();var b;if(!(b=Nc[a])){b=new yc(a);var c=a.lastIndexOf(\".\"),d=a.substr(c+1),c=N(a.substr(0,c));c.e||(c.e={});c.e[d]=b;b.d=c;Nc[a]=b}return b};function O(a,b,c){gb.call(this,0,c);this.d=a;this.b=[];this.e=[];this.m=[];this.a=null;this.R=\"\";this.l=0}z(O,gb);l=O.prototype;l.R=\"\";l.c=N(\"ydn.db.Request\");function Rc(a,b,c){a.a=b;a.R=c;L(a.c,a+\" BEGIN\");if(b){for(c=0;c<a.e.length;c++)a.e[c][0].call(a.e[c][1],b);a.e.length=0}L(a.c,a+\" END\")}function Sc(a){var b=new O(a.d);a.l++;Rc(b,a.a,a.R+\"C\"+a.l);return b}l.sb=function(){return!!this.a};","l.abort=function(){if(this.a)if(L(this.c,this+\" aborting\"),ea(this.a.abort))this.a.abort();else if(ea(this.a.executeSql))this.a.executeSql(\"ABORT\",[],function(){},function(){return!0});else throw new cb;else throw new Tc(\"No active transaction\");};function P(a,b,c){var d=a.m.shift();c=!!c;d?d[0].call(d[1],b,c,function(b,c){P(a,b,c)}):c?a.k(b):a.n(b)}function Uc(a,b,c){a.m.push([b,c])}function Q(a,b,c){a.a?b.call(c,a.a):a.e.push([b,c])}","l.n=function(a){L(this.c,this+\" SUCCESS\");O.t.n.call(this,a);this.a=null;this.R=this.R};l.k=function(a){L(this.c,this+\" ERROR\");O.t.k.call(this,a);this.a=null;this.R=this.R};function R(a){var b=\"\";a.R&&(b=a.a?\"*\":\"\",b=\"[\"+a.R+b+\"]\");return a.d+b}function Vc(a,b){var c=new O(a);P(c,b);return c}l.Hb=function(){return this};l.toString=function(){return\"Request:\"+R(this)};","l.toJSON=function(){var a=(this.R||\"\").match(/B(\\d+)T(\\d+)(?:Q(\\d+?))?(?:R(\\d+))?/)||[];return{method:this.d?this.d.split(\":\"):[],branchNo:parseFloat(a[1]),transactionNo:parseFloat(a[2]),queueNo:parseFloat(a[3]),requestNo:parseFloat(a[4])}};function Wc(a,b,c,d,e,f){t(e)||(e=u(a)?a.join(\", \"):a);if(null!=a&&!w(a)&&!v(a))throw new F(\"index keyPath for \"+e+\" must be a string or array, but \"+a+\" is \"+typeof a);u(a)&&Object.freeze&&Object.freeze(a);!t(a)&&t(e)&&(a=e);this.keyPath=a;this.g=v(this.keyPath);this.b=e;this.type=Yc(b);if(t(b)){if(!t(this.type))throw new F(\"type invalid in index: \"+this.b);if(u(this.keyPath))throw new F('composite key for store \"'+this.b+'\" must not specified type');}this.unique=!!c;this.multiEntry=!!d;this.i=w(this.type)?","this.type:Zc;this.e=w(e)?e:u(a)?this.keyPath.join(\",\"):a;this.d=Ca(this.e);this.a=this.g||this.multiEntry?null:this.keyPath.split(\".\");this.f=f||null}function $c(a,b){if(null!=b){if(v(a.keyPath)){for(var c=[],d=0,e=a.keyPath.length;d<e;d++){var f=mb(b,a.keyPath[d]);c[d]=f}return c}return mb(b,a.keyPath)}}function ad(a,b,c){for(var d=0;d<a.a.length;d++)d==a.a.length-1?b[a.a[d]]=c:y(b[a.a[d]])||(b[a.a[d]]={})}var Zc=\"TEXT\";","function Qb(a,b){if(\"DATE\"==b){if(a instanceof Date)return+a}else return null!=b?a:qb(a)}function bd(a,b){return\"DATE\"==b?new Date(a):t(b)?a:tb(a)}var cd=[\"BLOB\",\"DATE\",\"INTEGER\",\"NUMERIC\",Zc];function Yc(a){if(w(a))return a=Ga(cd,a),cd[a]}l=Wc.prototype;l.getName=function(){return this.b};l.toJSON=function(){return{name:this.b,keyPath:this.keyPath,type:this.type,unique:this.unique,multiEntry:this.multiEntry}};","l.clone=function(){var a=u(this.keyPath)?Oa(this.keyPath):this.keyPath;return new Wc(a,this.type,this.unique,this.multiEntry,this.b,this.f)};function dd(a,b){return null!=a||null!=b?null!=a?null!=b?v(a)&&v(b)?Qa(a,b)?null:\"expect: \"+a+\", but: \"+b:ed(a,b)?null:\"expect: \"+a+\", but: \"+b:\"keyPath: \"+a+\" no longer defined\":\"newly define \"+b:null}","l.hint=function(a){if(!a)return this;var b=u(this.keyPath)?Oa(this.keyPath):this.keyPath,c=this.type;t(a.type)||\"TEXT\"!=c||(c=void 0);return new Wc(b,c,this.unique,this.multiEntry,a.b)};l.toString=function(){var a=this.multiEntry?\"MultiEntry\":\"\";this.a&&1<this.a.length&&(a+=\"Compound\");return a+\"Index:\"+this.b};function fd(a,b,c,d,e,f,g,h){this.d=a;if(!w(this.d))throw new F(\"store name must be a string\");this.keyPath=t(b)?b:null;this.l=v(this.keyPath);if(null!==this.keyPath&&!w(this.keyPath)&&!this.l)throw new F(\"keyPath must be a string or array\");this.b=c;var k;if(null!=d){k=Yc(d);if(!t(k))throw new F('type \"'+d+'\" for primary key in store \"'+this.d+'\" is invalid.');if(this.l)throw new F('composite key for store \"'+this.d+'\" must not specified type');}this.type=null!=k?k:this.b?\"INTEGER\":void 0;this.g=","w(this.keyPath)?this.keyPath.split(\".\"):[];this.a=e||[];this.aa=!!f;this.ea=!!g;this.r=w(this.type)?this.type:Zc;this.f=u(this.keyPath)?this.keyPath.join(\",\"):w(this.keyPath)?this.keyPath:\"_ROWID_\";this.e=Ca(this.f);if(this.m=!!h){if(this.keyPath)throw new F('encrypted store \"'+this.d+'\" must not use inline key');if(this.b)throw new F('encrypted store \"'+this.d+'\" must not use key generator');}this.i=[]}l=fd.prototype;l.aa=!1;l.ea=!1;","l.toJSON=function(){for(var a=[],b=0;b<this.a.length;b++)a.push(this.a[b].toJSON());return{name:this.d,keyPath:this.keyPath,autoIncrement:this.b,type:this.type,indexes:a}};","function gd(a){var b=\"name keyPath autoIncrement type indexes dispatchEvents fixed Sync encrypted\".split(\" \"),c;for(c in a)if(a.hasOwnProperty(c)&&-1==Ga(b,c))throw new F('Unknown attribute \"'+c+'\"');b=[];c=a.indexes||[];if(u(c))for(var d=0;d<c.length;d++){var e;e=c[d];var f=\"name unique type keyPath multiEntry generator\".split(\" \"),g=void 0;for(g in e)if(e.hasOwnProperty(g)&&-1==Ga(f,g))throw new F(\"Unknown field: \"+g+\" in \"+S(e));e=new Wc(e.keyPath,e.type,e.unique,e.multiEntry,e.name,e.generator);","t(e.keyPath)&&e.keyPath===a.keyPath||b.push(e)}return new fd(a.name,a.keyPath,a.autoIncrement,\"undefined\"===a.type||\"null\"===a.type?void 0:a.type,b,a.dispatchEvents,a.fixed,a.encrypted)}function hd(a,b,c,d,e,f,g){a=id(a,b,c,d,e,f,g);b=\"\";0!=c&&(b+=\"SELECT \"+a.select);b+=\" FROM \"+a.O;a.p&&(b+=\" WHERE \"+a.p);a.group&&(b+=\" GROUP BY \"+a.group);a.Q&&(b+=\" ORDER BY \"+a.Q);return b}","function id(a,b,c,d,e,f,g){var h={select:\"\",O:\"\",p:\"\",group:\"\",Q:\"\"},k=a.f,n=a.e,m=null;d!==k&&w(d)&&(m=jd(a,d));var p=!!m,q=d||k,s=Ca(q),x=p?m.type:a.type,A=p&&m.multiEntry;h.O=kd(a);6===c?h.select=\"COUNT(\"+n+\")\":3===c||1===c||2===c?(h.select=n,null!=d&&d!=k&&(h.select+=\", \"+s)):h.select=\"*\";d=g?\"DISTINCT \":\"\";k=[];A?(A=Ca(\"ydn.db.me:\"+a.getName()+\":\"+m.getName()),h.select=6===c?\"COUNT(\"+d+A+\".\"+s+\")\":3===c||1===c||2===c?\"DISTINCT \"+kd(a)+\".\"+n+\", \"+A+\".\"+s+\" AS \"+q:\"DISTINCT \"+kd(a)+\".*, \"+A+\".\"+","s+\" AS \"+q,h.O=A+\" INNER JOIN \"+kd(a)+\" USING (\"+n+\")\",null!=e&&(Pb(A+\".\"+s,x,e,k,b),0<k.length&&(h.p=h.p?h.p+(\" AND \"+k.join(\" AND \")):k.join(\" AND \")))):null!=e&&(Pb(s,x,e,k,b),0<k.length&&(h.p=h.p?h.p+(\" AND \"+k.join(\" AND \")):k.join(\" AND \")));p&&!m.unique&&g&&(h.group=s);a=f?\"DESC\":\"ASC\";h.Q=s+\" \"+a;p&&(h.Q+=\", \"+n+\" \"+a);return h}","function ld(a,b,c,d,e,f,g,h,k){var n,m,p,q;null!=e?(n=e.lower,m=e.upper,p=e.lowerOpen,q=e.upperOpen,f?null!=m?(e=H(h,m),-1==e?(m=h,q=k):0==e&&(q=k||q)):(m=h,q=k):null!=n?(e=H(h,n),1==e?(n=h,p=k):0==e&&(p=k||p)):(n=h,p=k)):f?(m=h,q=k):(n=h,p=k);e=new J(n,m,!!p,!!q);d=d?jd(a,d):null;b=id(a,c,b,d?d.e:a.f,e,f,g);b=\"SELECT \"+b.select+\" FROM \"+b.O+(b.p?\" WHERE \"+b.p:\"\")+(b.group?\" GROUP BY \"+b.group:\"\")+\" ORDER BY \"+b.Q;d&&(b+=\", \"+a.e+(f?\"DESC\":\"ASC\"));return b}","function md(a,b,c,d,e,f,g,h,k,n){var m=jd(a,d),p=m.e;d=m.d;var q=a.e,s=k?\" <\":\" >\",s=g?s+\" \":s+\"= \";g=Qb(f,m.type);h=Qb(h,a.type);m=\"\";e?(a=id(a,c,b,p,e,k,n),a.p+=\" AND \",m=d+s+\"?\",c.push(g)):(e=k?J.upperBound(f,!0):J.lowerBound(f,!0),a=id(a,c,b,p,e,k,n),m=a.p,a.p=\"\");a.p+=\"(\"+m+\" OR (\"+d+\" = ? AND \"+q+s+\"?))\";c.push(g);c.push(h);return\"SELECT \"+a.select+\" FROM \"+a.O+\" WHERE \"+a.p+(a.group?\" GROUP BY \"+a.group:\"\")+\" ORDER BY \"+a.Q}l.clone=function(){return gd(this.toJSON())};","l.index=function(a){return this.a[a]||null};function jd(a,b){return La(a.a,function(a){return a.getName()==b})}function nd(a,b){return b===a.keyPath?!0:Ka(a.a,function(a){return a.getName()==b})}function kd(a){return Ca(a.d)}","function od(a,b){if(!b)return a;var c=a.b,d=u(a.keyPath)?Oa(a.keyPath):a.keyPath,e=a.type,f=Ia(a.a,function(a){return a.clone()});t(b.type)||\"TEXT\"!=e||(e=void 0);u(b.keyPath)&&w(d)&&d==b.keyPath.join(\",\")&&(d=Oa(b.keyPath));for(var g=0,h=b.a.length;g<h;g++)if(b.a[g].g)for(var k=b.a[g].getName(),n=f.length-1;0<=n;n--)if(0<=k.indexOf(f[n].getName())){f[n]=b.a[g].clone();break}for(g=0;g<f.length;g++)(h=jd(b,f[g].getName()))&&(f[g]=f[g].hint(h));return new fd(b.d,d,c,e,f)}l.getName=function(){return this.d};","function pd(a){return!!a.keyPath}function qd(a,b,c){if(b){if(!a.keyPath&&null!=c)return c;if(a.l){c=[];for(var d=0;d<a.keyPath.length;d++)c.push(mb(b,a.keyPath[d]));return c}if(a.keyPath)return Tb(b,a.g)}}function rd(a,b,c){for(var d=0;d<a.g.length;d++){var e=a.g[d];if(d==a.g.length-1){b[e]=c;break}t(b[e])||(b[e]={});b=b[e]}}","function sd(a,b,c){var d=[],e=[];c=t(c)?c:qd(a,b);t(c)&&(e.push(a.e),d.push(Qb(c,a.type)));for(var f=0;f<a.a.length;f++){var g=a.a[f];if(!g.multiEntry&&g.getName()!==a.keyPath&&\"_default_\"!=g.getName()){var h=$c(g,b);null!=h&&(d.push(Qb(h,g.type)),e.push(g.d))}}a.ea?a.ea&&!a.keyPath&&0==a.a.length&&(w(b)&&-1==b.indexOf(\";base64,\")?d.push(b):d.push(S(b)),e.push(\"_default_\")):(d.push(S(b)),e.push(\"_default_\"));a=[];for(f=d.length-1;0<=f;f--)a[f]=\"?\";return{gb:e,nb:a,D:d,key:c}}","function td(a,b){if(!b)return\"missing store: \"+a.d;if(a.d!=b.d)return\"store name, expect: \"+a.d+\", but: \"+b.d;var c=dd(a.keyPath,b.keyPath);if(c)return\"keyPath, \"+c;if(t(a.b)&&t(b.b)&&a.b!=b.b)return\"autoIncrement, expect:  \"+a.b+\", but: \"+b.b;if(a.a.length!=b.a.length)return\"indexes length, expect:  \"+a.a.length+\", but: \"+b.a.length;if(t(a.type)&&t(b.type)&&(v(a.type)?!Qa(a.type,b.type):a.type!=b.type))return\"data type, expect:  \"+a.type+\", but: \"+b.type;for(c=0;c<a.a.length;c++){var d=jd(b,a.a[c].getName()),","e;e=a.a[c];if(d)if(e.b!=d.b)e=\"name, expect: \"+e.b+\", but: \"+d.b;else{var f=dd(e.keyPath,d.keyPath);e=f?\"keyPath, \"+f:null!=e.unique&&null!=d.unique&&e.unique!=d.unique?\"unique, expect: \"+e.unique+\", but: \"+d.unique:null!=e.multiEntry&&null!=d.multiEntry&&e.multiEntry!=d.multiEntry?\"multiEntry, expect: \"+e.multiEntry+\", but: \"+d.multiEntry:t(e.type)&&t(d.type)&&(v(e.type)?!Qa(e.type,d.type):e.type!=d.type)?\"data type, expect: \"+e.type+\", but: \"+d.type:\"\"}else e=\"no index for \"+e.b;if(0<e.length)return'index \"'+","a.a[c].getName()+'\" '+e}return\"\"}function ud(a,b){if(b)for(var c=0;c<a.a.length;c++){var d=a.a[c],e=b;if(d.f){var f=d.f(e),g=typeof f;if(\"string\"==g||\"number\"==g||\"array\"==g||\"undefined\"==g||f instanceof Date){for(g=0;g<d.a.length-1;g++)y(e[d.a[g]])||(e[d.a[g]]={});e[d.a[d.a.length-1]]=f}}}}function vd(a,b){a.i.push(b)}function wd(a,b,c){for(var d=0;d<a.i.length;d++)if(void 0!==d)a.i[d](b,c)}l.toString=function(){return\"Store:\"+this.d+\"[\"+this.a.length+\"index]\"};function xd(a){a=String(a);if(/^\\s*$/.test(a)?0:/^[\\],:{}\\s\\u2028\\u2029]*$/.test(a.replace(/\\\\[\"\\\\\\/bfnrtu]/g,\"@\").replace(/\"[^\"\\\\\\n\\r\\u2028\\u2029\\x00-\\x08\\x0a-\\x1f]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g,\"]\").replace(/(?:^|:|,)(?:[\\s\\u2028\\u2029]*\\[)+/g,\"\")))try{return eval(\"(\"+a+\")\")}catch(b){}throw Error(\"Invalid JSON string: \"+a);};N(\"ydn\");function yd(a){return!w(a)||qa(a)?{}:JSON.parse(a)}function zd(a){var b;try{b=S(a)}catch(c){b=\"\"}return b?b.substr(0,70)+(70<b.length?\"...\":\"\"):\"\"}function S(a){return JSON.stringify(a,void 0,void 0)};function Ad(a,b){if(!a||qa(a))throw new F(\"store_name must be provided for primary full text index\");if(!b||qa(b))throw new F(\"index_name must be provided for primary full text index\");this.J=a}Ad.prototype.h=function(){return this.J};function Bd(a,b,c){this.name=a;this.a=b;this.b=c||\"\";if(-1==[\"\",\"en\",\"fr\"].indexOf(this.b))throw new F('Unsupported lang \"'+c+\" for full text search index \"+a);}Bd.prototype.getName=function(){return this.name};Bd.prototype.count=function(){return this.a.length};Bd.prototype.index=function(a){return this.a[a]};","function Cd(a){var b=[\"name\",\"sources\",\"lang\"],c;for(c in a)if(a.hasOwnProperty(c)&&-1==Ga(b,c))throw new F(\"Unknown field: \"+c+\" in \"+S(a));if(!u(a.sources))throw new F(\"indexes require for full text search index \"+a.name+\", but \"+a.sources+\" of type \"+typeof a.sources+\" found.\");b=a.sources.map(function(a){var b=[\"storeName\",\"keyPath\",\"weight\"],c;for(c in a)if(a.hasOwnProperty(c)&&-1==Ga(b,c))throw new F(\"Unknown field: \"+c+\" in \"+zd(a));return new Ad(a.storeName,a.keyPath)});return new Bd(a.name,","b,a.lang)};function Dd(a,b){var c,d,e=b;if(y(a)){d=a;c=[\"version\",\"stores\",\"fullTextCatalogs\"];for(var f in d)if(d.hasOwnProperty(f)&&-1==Ga(c,f))throw new F(\"Unknown field: \"+f+\" in schema.\");c=d.version;var e=[],g=d.stores||[];if(!u(g))throw new F(\"stores must be array\");for(f=0;f<g.length;f++){var h=gd(g[f]);if(-1!=Ma(e,function(a){return a.name==h.getName()}))throw new F('duplicate store name \"'+h.getName()+'\".');e.push(h)}}else w(a)?c=0==a.length?void 0:parseFloat(a):da(a)&&(c=a);if(t(c)){if(!da(c)||0>","c)throw new F(\"Invalid version: \"+c+\" (\"+a+\")\");isNaN(c)&&(c=void 0)}if(t(b)&&(!u(b)||0<b.length&&!(b[0]instanceof fd)))throw new F(\"stores\");this.version=c;this.ga=!t(this.version);this.stores=e||[];c=[];if(d&&d.fullTextCatalogs)for(f=0;f<d.fullTextCatalogs.length;f++)e=Cd(d.fullTextCatalogs[f]),c[f]=e,T(this,e.getName())||(g=[new Wc(\"k\",Zc),new Wc(\"v\",Zc)],e=new fd(e.getName(),\"id\",!1,void 0,g),this.stores.push(e));this.a=c}l=Dd.prototype;","l.toJSON=function(){var a=Ia(this.stores,function(a){return a.toJSON()}),b={};b.stores=a;t(this.version)&&(b.version=this.version);return b};l.ga=!1;l.M=function(){return!1};function Ed(a){return Ia(a.stores,function(a){return a.getName()})}l.Y=function(a){return this.stores[a]||null};l.count=function(){return this.stores.length};function T(a,b){return La(a.stores,function(a){return a.getName()==b})}function Fd(a,b){return Ka(a.stores,function(a){return a.getName()==b})}","function Gd(a,b,c,d){if(!b||a.stores.length!=b.stores.length)return\"Number of store: \"+a.stores.length+\" vs \"+b.stores.length;for(var e=0;e<a.stores.length;e++){var f=T(b,a.stores[e].getName());if(f){c&&(f=od(f,a.stores[e]));if(d)for(var g=f,h=a.stores[e],k=0;k<h.a.length;k++){var n=h.a[k];nd(g,n.getName())||\"BLOB\"!=n.type||(n=new Wc(n.keyPath,n.type,n.unique,n.multiEntry,n.getName()),g.a.push(n))}f=td(a.stores[e],f);if(0<f.length)return'store: \"'+a.stores[e].getName()+'\" '+f}else return'missing object store \"'+","a.stores[e].getName()+'\"'}return\"\"};function Hd(a,b){Dd.call(this,a,b)}z(Hd,Dd);Hd.prototype.M=function(){return!0};function Id(a,b){a.stores.push(b)};function Jd(a){Error.captureStackTrace?Error.captureStackTrace(this,Jd):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.error.ArgumentException\"}z(Jd,Error);z(Jd,Error);function Kd(a){Error.captureStackTrace?Error.captureStackTrace(this,Kd):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.error.InternalError\"}z(Kd,Error);Kd.prototype.name=\"ydn.InternalError\";","function Ld(a){Error.captureStackTrace?Error.captureStackTrace(this,Ld):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.error.ConstraintError\"}z(Ld,Error);Ld.prototype.name=\"ydn.error.ConstraintError\";function Md(a){Error.captureStackTrace?Error.captureStackTrace(this,Md):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.error.InvalidOperationException\"}z(Jd,Error);","function Nd(a){Error.captureStackTrace?Error.captureStackTrace(this,Nd):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.error.InvalidOperationError\"}z(Nd,Error);function ed(a,b){var c;c=c||{};if(null!=a&&null!=b){if(v(a)&&v(b)){if(a.length!=b.length)return!1;for(var d=0;d<a.length;d++)if(-1==La(b,function(b){return ed(b,a[d])}))return!1;return!0}if(v(a))return 1==a.length&&ed(a[0],b);if(v(b))return 1==b.length&&ed(b[0],a);if(y(a)&&y(a)){for(var e in a)if(a.hasOwnProperty(e)&&!c[e]){var f=ed(a[e],b[e]);if(!f)return!1}for(e in b)if(b.hasOwnProperty(e)&&!c[e]&&(f=ed(a[e],b[e]),!f))return!1;return!0}return a===b}return!1};/*"," Copyright 2012 YDN Authors, Yathit. All Rights Reserved."," Licensed under the Apache License, Version 2.0 (the \"License\");.","*/","function U(a,b,c){c=c||{};var d=\"autoSchema connectionTimeout size mechanisms policy isSerial Encryption\".split(\" \"),e;for(e in c)if(c.hasOwnProperty(e)&&-1==Ga(d,e))throw new F('Unknown attribute \"'+e+'\" in options.');if(c.mechanisms){if(!u(c.mechanisms))throw new F(\"mechanisms attribute must be an array but \"+ba(c.mechanisms)+\" found.\");for(e=0;e<c.mechanisms.length;e++)if(!(0<=Ga(Od,c.mechanisms[e])))throw new F('Invalid mechanism \"'+c.mechanisms[e]+'\"');}this.A=c.mechanisms||Od;this.r=c.size;","this.B=t(c.connectionTimeout)?c.connectionTimeout:3E4;this.a=null;this.e=[];this.Ba=!1;if(b instanceof Dd)d=b;else if(y(b)){var d=c.autoSchema||!t(b.stores)?new Hd(b):new Dd(b),f=b.stores?b.stores.length:0;for(e=0;e<f;e++){var g=T(d,b.stores[e].name);b.stores[e].Sync&&K(this.c,\"Synchronization option for \"+g.getName()+\" ignored.\")}}else d=new Hd;b=this.lb(c.Encryption);this.b=d;for(e=0;e<this.b.count();e++)if(this.b.Y(e).m){if(!b)throw Error(\"encryption option must be defined\");this.cb(this.b.Y(e))}t(a)&&","this.m(a);this.i=new E}U.prototype.c=N(\"ydn.db.con.Storage\");U.prototype.I=function(a){if(t(a)){var b=function(b){a(b.toJSON())};if(this.a)this.a.L(b);else{var c=this;this.pa(function(a){c.a.L(b,a)},null,jb)}}return this.b?this.b.toJSON():null};U.prototype.m=function(a){if(this.a)throw new eb(\"Already connected with \"+this.l);this.l=a;Pd(this)};U.prototype.getName=function(){return this.l};var Od=\"indexeddb websql localstorage sessionstorage userdata memory\".split(\" \");l=U.prototype;l.Ta=function(){return null};","function Pd(a){function b(b,e){b?(M(a.c,a+\": ready.\"),a.ib=NaN,d.ab=function(){},d.Ma=function(){a.a=null},d.Wa=function(){},setTimeout(function(){Qd(a,e);Td(a)},10),c.n(e)):(K(a.c,a+\": database connection fail \"+e.name),setTimeout(function(){Qd(a,new Gb(a,e));if(a.e){a.c.log(Dc,\"Purging \"+a.e.length+\" transactions request.\",void 0);for(var b;b=a.e.shift();)b.G&&b.G(\"error\",e)}},10),c.k(e))}for(var c=new E,d=null,e=a.A,f=0;f<e.length;f++){var g=e[f].toLowerCase();if(d=a.Ta(g)){d=a.Ta(g);break}}null===","d?(e=new Ld(\"No storage mechanism found.\"),b(!1,new Gb(a,e))):Ya(d.ia(a.l,a.b),function(a){this.a=d;b(!0,new Eb(\"ready\",this,parseFloat(d.Ka()),parseFloat(a),null))},function(a){K(this.c,this+\": opening fail\");b(!1,a)},a)}l.Na=function(){if(this.a)return this.a.ja()};l.Ea=function(a,b){this.i.sa(a,b)};function Qd(a,b){setTimeout(function(){b instanceof Fb?a.i.k(b.error):a.i.n()},4)}function Ud(a){return!!a.a&&a.a.La()}l.Ib=function(){this.a&&(this.a.Ja(),this.a=null,M(this.c,this+\" closed\"))};","l.ib=NaN;function Td(a){var b=a.e.shift();b&&(M(a.c,\"pop tx queue[\"+(a.e.length+1)+\"]\"),a.pa(b.xa,b.Bb,b.mode,b.G));a.ib=la()}function Vd(a,b,c,d,e){M(a.c,\"push tx queue[\"+a.e.length+\"]\");a.e.push({xa:b,Bb:c,mode:d,G:e});100<a.e.length&&0==a.e.length%100&&K(a.c,\"Transaction queue stack size is \"+a.e.length+\". It is too large, possibility due to incorrect usage.\")}l.Ba=!1;","l.pa=function(a,b,c,d){var e=b;if(w(b))e=[b];else if(null!=b)if(v(b)){if(0==b.length)throw new F(\"number of store names must more than 0\");for(var f=0;f<b.length;f++)if(!w(b[f]))throw new F(\"store name at \"+f+\" must be string but found \"+typeof b[f]);}else throw new F(\"store names must be an array\");else e=null;if(this.a&&this.a.La()&&!this.Ba){var g=this,h=t(c)?c:jb;h==kb&&(this.Ba=!0);this.a.wa(function(b){a(b);a=null},e,h,function(a,b){ea(d)&&(d(a,b),d=void 0);h==kb&&(g.Ba=!1);Td(g)})}else Vd(this,","a,e,c,d)};l.cb=function(a){K(this.c,\"Encryption option for \"+a.getName()+\" ignored.\")};l.lb=function(){return!1};l.toString=function(){return\"Storage:\"+this.a};U.prototype.close=U.prototype.Ib;U.prototype.getType=U.prototype.Na;U.prototype.getName=U.prototype.getName;U.prototype.getSchema=U.prototype.I;U.prototype.onReady=U.prototype.Ea;U.prototype.setName=U.prototype.m;U.prototype.transaction=U.prototype.pa;na(\"ydn.db.version\",\"0.8.10\");na(\"ydn.db.cmp\",H);na(\"ydn.db.deleteDatabase\",function(a,b){for(var c,d=0;d<zb.length;d++){var e=zb[d](a,b);e&&(c=e)}return c||Vc(\"IDBVersionChangeEvent \",null)});Eb.prototype.name=Eb.prototype.name;","Eb.prototype.getVersion=Eb.prototype.Jb;Eb.prototype.getOldVersion=Eb.prototype.wb;Eb.prototype.getOldSchema=Eb.prototype.vb;Fb.prototype.getError=Fb.prototype.a;O.prototype.abort=O.prototype.abort;O.prototype.canAbort=O.prototype.sb;O.prototype.progress=O.prototype.w;O.prototype.promise=O.prototype.Hb;function Wd(a,b,c,d){Ab.call(this);this.a=c;this.J=c.getName();this.H=void 0;this.e=!1;this.o=null;this.i=a;this.Fa=b;this.ba=this.B=!1;this.r=d||4;this.l=this.d=this.b=void 0;this.w=function(){throw new fb;};this.I=function(){throw new fb;};this.na=function(){}}z(Wd,Ab);l=Wd.prototype;","l.bb=function(a,b,c,d,e){if(t(b)){a=this.a;var f,g=b;if(u(b)){a:{for(f=0;f<a.a.length;f++)if(!dd(a.a[f].keyPath,b)){f=a.a[f];break a}f=null}g=b.join(\", \")}else f=jd(a,b);if(!f)throw new F('require index \"'+g+'\" not found in store \"'+a.getName()+'\"');this.H=f.getName()}this.e=w(this.H);this.o=c||null;this.ba=this.B=!1;this.reverse=\"prev\"==d||\"prevunique\"==d;this.unique=\"nextunique\"==d||\"prevunique\"==d;this.S=d;this.ma=e;this.l=this.d=this.b=void 0};l.S=\"\";l.o=null;l.unique=!1;l.reverse=!1;l.ma=!0;","l.c=N(\"ydn.db.core.req.AbstractCursor\");function Xd(a,b){a.I(b);Yd(a);a.B=!0}l.P=function(a,b,c){null==a&&(L(this.c,this+\" finished.\"),this.B=!0);this.b=a;this.d=b;this.l=c;this.B?(M(this.c,this+\" DONE.\"),this.w(),Yd(this)):(M(this.c,this+\" new cursor position {\"+(this.e?this.b+\", \"+this.d:this.b)+\"}\"),this.w(this.b))};l.toString=function(){return\"Cursor:\"+this.J+(t(this.H)?\":\"+this.H:\"\")+\"[\"+(this.i?\"\":\"~\")+this.Fa+\"]\"};","function Yd(a){null!=a.d?a.d=Ib(a.d):a.d=void 0;null!=a.b?a.b=Ib(a.b):a.b=void 0;a.na(a.ba,a.b,a.d)}function Zd(a){a.ba=!0;M(a.c,a+\": exit\");Yd(a)}l.T=function(){return this.e?this.d:this.b};l.ra=function(){return this.ma?this.T():this.l};l.qa=function(){};l.ka=function(){};function $d(a,b,c){M(a.c,a+\" restarting\");a.B=!1;a.ba=!1;a.openCursor(c,b)};function ae(){};function V(a,b,c,d,e,f,g){if(!w(a))throw new TypeError(\"store name must be a string, but \"+a+\" found.\");this.g=a;this.a=b;this.i=g;this.e=!!this.a;if(t(d)&&!ca(d))throw new F(\"reverse value must be a boolean, but \"+typeof d+\" found\");if(t(e)&&!ca(e))throw new F(\"unique value must be a boolean, but \"+typeof e+\" found\");if(t(f)&&!ca(f))throw new F(\"key_only value must be a boolean, but \"+typeof f+\" found\");this.d=t(f)?f:!!w(this.a);a=\"next\";d&&e?a=\"prevunique\":d?a=\"prev\":e&&(a=\"nextunique\");this.l=","a;if(d=Ob(c))throw new F(\"Invalid key range: \"+d);this.b=Lb(c);this.f=be}z(V,ae);V.prototype.d=!0;function ce(a,b,c){if(3<arguments.length)throw new F(\"too many argument\");V.call(this,a,void 0,b,c,void 0,!1)}z(ce,V);function de(a,b,c,d,e){if(!w(b))throw new F(\"index name must be string\");V.call(this,a,b,c,d,e,!1)}z(de,V);var be=\"init\";l=V.prototype;l.c=N(\"ydn.db.Iterator\");l.h=function(){return this.g};l.Ca=function(){return this.b};","function ee(a){return a.b?a.b instanceof Nb?a.b:Nb.bound(a.b.lower,a.b.upper,a.b.lowerOpen,a.b.upperOpen):null}l.clone=function(){return new V(this.g,this.a,this.b,fe(this),ge(this),this.d,this.i)};l.unique=function(a){return new V(this.g,this.a,this.b,fe(this),a,this.d,this.i)};function he(a){return new V(a.g,a.a,a.b,fe(a),ge(a),a.d,a.i)}l.toJSON=function(){return{store:this.g,index:this.a,keyRange:this.b?Jb(this.b):null,direction:this.l}};","l.toString=function(){var a=t(this.i)?\":\"+this.i.join(\",\"):t(this.a)?\":\"+this.a:\"\",b;if(b=this.b){var c=b.lowerOpen?\"(\":\"[\";null!=b.lower&&(c+=b.lower+\", \");null!=b.upper&&(c+=b.upper);b=c+=b.upperOpen?\")\":\"]\"}else b=\"\";a+=b;this.f!=be&&(a+=this.f+\"{\"+this.m,this.e&&(a+=\", \"+this.r),a+=\"}\");b=this.e?\"Index\":\"\";b+=this.d?\"Key\":\"Value\";return b+\"Iterator:\"+this.g+a};l.reverse=function(){return new V(this.g,this.a,this.b,!fe(this),ge(this),this.d,this.i)};","function fe(a){return\"prev\"===a.l||\"prevunique\"===a.l}function ge(a){return\"nextunique\"===a.l||\"prevunique\"===a.l}l.load=function(a){a=a[0];a.bb(this.g,this.i||this.a,this.b,this.l,this.d);this.f=\"busy\";var b=this;a.na=function(a,d,e){b.m=d;b.r=e;b.f=a?\"rest\":\"done\"};a.openCursor(this.m,this.r);return a};function ie(a,b,c,d){b=b||be;\"busy\"==a.f?K(a.c,a+\": resetting state to \"+b+\" ignore during iteration\"):(a.m=c,a.r=d,a.f=b)}l.stores=function(){return[this.g]};function je(a){if(null!=a&&!(\"push\"in a))throw new Jd('output receiver object must have \"push\" method.');this.d=a||null;this.a=!1}je.prototype.c=N(\"ydn.db.algo.AbstractSolver\");","function ke(a,b){a.a=fe(b[0]);for(var c=0;c<b.length;c++){if(!(b[c]instanceof V))throw new bb(\"item at iterators \"+c+\" is not an iterator.\");if(0<c&&a.a!=fe(b[c]))throw new bb(\"iterator at \"+c+\" must \"+(a.a?\"be reverse\":\"not be reverse\"));}for(var d=\"{\",c=0;c<b.length;c++)0<c&&(d+=\", \"),d+=b.toString();d+=\"}\";a.a&&(d+=\" reverse\");Mc(a.c,a+\" begin \"+d);return!1}je.prototype.b=function(){return[]};function le(a){Error.captureStackTrace?Error.captureStackTrace(this,le):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ConstraintError\"}z(le,Error);le.prototype.name=\"ConstraintError\";function me(a){Error.captureStackTrace?Error.captureStackTrace(this,me):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.db.InvalidKeyException\"}z(me,Error);","function ne(a){Error.captureStackTrace?Error.captureStackTrace(this,ne):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.db.VersionError\"}z(ne,Error);ne.prototype.name=\"ydn.db.VersionError\";function Tc(a){Error.captureStackTrace?Error.captureStackTrace(this,Tc):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"InvalidStateError\"}z(Tc,Error);","function oe(a){Error.captureStackTrace?Error.captureStackTrace(this,oe):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"InvalidAccessError\"}z(oe,Error);function pe(a){Error.captureStackTrace?Error.captureStackTrace(this,pe):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"NotFoundError\"}z(pe,Error);pe.prototype.name=\"NotFoundError\";","function qe(a,b){Error.captureStackTrace?Error.captureStackTrace(this,qe):this.stack=Error().stack||\"\";b&&(this.message=String(b));this.message+=\" :\"+a.message+\" [\"+a.code+\"]\";this.name=\"SQLError\"}z(qe,Error);function re(a,b){Error.captureStackTrace?Error.captureStackTrace(this,re):this.stack=Error().stack||\"\";b&&(this.message=String(b));this.message+=\" :\"+a.message;this.name=\"SecurityError\"}z(re,Error);","function se(a){Error.captureStackTrace?Error.captureStackTrace(this,se):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.db.TimeoutError\"}z(se,Error);function te(a,b){this.a=b}te.prototype.c=N(\"ydn.db.crud.req.RequestExecuto\");te.prototype.toString=function(){return\"RequestExecutor\"};function ue(a,b,c,d,e,f){this.Fa=a;this.yb=b;this.b=this.d=0;this.I=d;this.B=e;this.f=c||ve;this.w=f||0;this.ba=null;this.l=!1;this.m=0}l=ue.prototype;l.c=N(\"ydn.db.tr.Thread\");l.kb=function(a){if(\"complete\"==a||\"abort\"==a)this.l?(M(this.c,\"tx \"+this.d+\" committed\"),this.l=!1):(M(this.c,\"Generator done \"+this.l),P(this.ba,this.d,\"complete\"!=a))};","function we(a,b){a.l?(M(a.c,\"waiting tx to be committed for yielding \"+a.m),setTimeout(function(){a.X(function(){M(a.c,\"sending result to yield \"+a.m);a.r.next(b)},a.I,a.B,ja(a.kb,a))},4)):(M(a.c,\"sending result to yield \"+a.m),a.r.next(b));a.m++}l.request=function(a){a=new O(a);this.r&&Ya(a,function(a){we(this,a)},function(a){var c=a;a instanceof Error||(c=Error(),c.error=a);we(this,c)},this);return a};l.type=function(){return this.Fa.Na()};l.j=function(){return this.Fa};","l.v=function(){return\"B\"+this.yb+\"T\"+this.d};var ve=\"single\";function xe(a){if(a)if(ea(a.abort))a.abort();else if(ea(a.executeSql))a.executeSql(\"ABORT\",[],null,function(){return!0});else throw new cb;else throw new Tc(\"No active transaction\");};function ye(a){this.e=a;this.a=null;this.b=0}ye.prototype.c=N(\"ydn.db.tr.Mutex\");ye.prototype.K=null;ye.prototype.G=null;ye.prototype.toString=function(){return\"Mutex:\"+(\"B\"+this.e+\"T\"+this.b)+(this.a?\"*\":\"\")};function ze(a,b,c,d,e,f){ue.call(this,a,b,c,d,e,f);this.e=[];this.g=[];this.i=null;this.a=new ye(b);this.A=f||0;this.na=!1}z(ze,ue);l=ze.prototype;l.c=N(\"ydn.db.tr.Serial\");","function Ae(a,b,c){if(\"multi\"==a.f)a:if(a=a.a,!a.K||!a.mode||c!=a.mode&&(a.mode!=G||c!=jb)||b.length>a.K.length)b=!1;else{for(c=0;c<b.length;c++)if(-1==a.K.indexOf(b[c])){b=!1;break a}b=!0}else if(\"repeat\"==a.f)a:if(a=a.a,a.K&&a.mode&&c==a.mode&&a.K.length==b.length){for(c=0;c<b.length;c++)if(-1==a.K.indexOf(b[c])){b=!1;break a}b=!0}else b=!1;else b=\"all\"==a.f?!0:!1;return b}function Be(a){var b=0<a.e.length?a.e[0].K:null,c=0<a.e.length?a.e[0].mode:null;return null!=b&&null!=c?Ae(a,b,c):!1}","function Ce(a,b,c,d,e){M(a.c,\"push tx queue[\"+a.e.length+\"]\");a.e.push({xa:b,K:c,mode:d,G:e})}l.abort=function(){L(this.c,this+\": aborting\");xe(this.i)};","l.X=function(a,b,c,d){var e=w(b)?[b]:b;if(v(e)){if(0==e.length)throw new F(\"number of store names must more than 0\");for(var f=0;f<e.length;f++){if(!w(e[f]))throw new F(\"store name at \"+f+\" must be string but found \"+e[f]+\" of type \"+typeof e[f]);if(this.Ab&&!(0<=Ga(this.Ab,e[f])))throw new F('store name \"'+f+e[f]+'\" in scope of '+this);}}else throw new F(\"store names must be an array\");var g=t(c)?c:jb,h=this;if(this.a.a||!Ud(this.j())&&this.na)Ce(this,a,b,g,d);else{var k=this.v();d&&this.g.push(d);","if(this.A&&this.d>=this.A)throw new eb(\"Exceed maximum number of transactions of \"+this.A);this.na=!0;this.j().pa(function(c){var d=h.a;d.a=c;d.d=!1;d.K=b;d.mode=g;d.b++;d.G=null;k=h.v();Mc(h.c,k+\" BEGIN \"+S(b)+\" \"+g);a(h);for(a=null;Be(h);)c=h.e.shift(),c.G&&h.g.push(c.G),M(h.c,\"pop tx queue\"+(h.e.length+1)+\" reusing T\"+h.d),c.xa()},e,g,function(a,b){Mc(h.c,k+\" \"+a);var c=h.a;c.a?(c.a=null,c.K=null,c.mode=null,ea(c.G)&&c.G(a,b),c.G=null):K(c.c,c+\" has no TX to be unlocked for \"+a);for(c=0;c<h.g.length;c++)(0,h.g[c])(a,","b);h.g.length=0;(c=h.e.shift())&&h.X(c.xa,c.K,c.mode,c.G);h.b=0})}};l.v=function(){return\"B\"+this.a.e+\"T\"+this.a.b};l.request=function(a,b,c,d){var e=ze.t.request.call(this,a,b,c,d);a=c||jb;var f=this;this.a.a&&!this.a.d&&Ae(this,b,a)?(b=this.a.a,this.b++,Rc(e,b,this.v()+\"R\"+this.b),d&&this.g.push(d)):f.X(function(){var a=f.a.a;f.b++;Rc(e,a,f.v()+\"R\"+f.b)},b,a,d);return e};","l.Z=function(a,b,c,d,e){d=d||jb;var f=this,g;if(f.a.a&&!f.a.d&&Ae(this,c,d)){var h=f.a.a;f.b++;g=f.v()+\"R\"+f.b;L(f.c,g+\" BEGIN\");b(h,g,function(b,c){f.i=h;c?(L(f.c,g+\" ERROR\"),a.k(b)):(L(f.c,g+\" SUCCESS\"),a.n(b));f.i=null});L(f.c,g+\" END\");b=null}else f.X(function(){var c=f.a.a;f.b++;g=f.v()+\"R\"+f.b;L(f.c,g+\" BEGIN\");b(c,g,function(b,d){f.i=c;d?(L(f.c,g+\" ERROR\"),a.k(b)):(L(f.c,g+\" SUCCESS\"),a.n(b));f.i=null});L(f.c,g+\" END\");b=null},c,d,e)};l.getName=function(){return this.j().getName()};","l.toString=function(){return\"Serial:\"+this.v()+(this.i?\"*\":\"\")};function De(a,b){ze.call(this,a,b)}z(De,ze);De.prototype.c=N(\"ydn.db.tr.AtomicSerial\");De.prototype.request=function(a,b,c){var d,e,f,g=De.t.request.call(this,a,b,c,function(a,b){g.a=null;if(d)\"complete\"!=a&&(f=!0,e=b),d(e,f);else{var c=new se;P(g,c,!0)}});Uc(g,function(a,b,c){f=b;e=a;d=c});return g};","De.prototype.Z=function(a,b,c,d,e){var f,g,h=new E;Ya(h,function(a){g=!1;f=a},function(a){g=!0;f=a});De.t.Z.call(this,h,b,c,d,function(b,c){if(\"complete\"!=b)a.k(c);else if(!0===g)a.k(f);else if(!1===g)a.n(f);else{var d=new se;a.k(d)}e&&(e(b,c),e=void 0)})};De.prototype.toString=function(){return\"Atomic\"+De.t.toString.call(this)};function Ee(a,b,c,d){this.e=a;this.b=b;this.a=c;this.f=d;this.d=null}l=Ee.prototype;l.c=N(\"ydn.db.tr.DbOperator\");l.Kb=function(){return this.a.d};l.abort=function(){this.a.abort()};function W(a){if(!a.d){var b;b=a.e;var c=b.Na();if(\"indexeddb\"==c)b=new Fe(0,b.b);else if(\"websql\"==c)b=new Ge(0,b.b);else if(\"memory\"==c||\"localstorage\"==c||\"sessionstorage\"==c)b=new He(0,b.b);else throw new fb(\"No executor for \"+c);a.d=b}return a.d}l.j=function(){return this.e};","function Ie(a,b){var c=a.j(),d=b instanceof fd?b:gd(b),e=b.name,f=T(c.b,e);if(0==td(d,f).length)$a(!1);else if(f=f?\"update\":\"add\",c.b instanceof Hd)Id(c.b,d),c.a?(c.a.Ja(),c.a=null,Pd(c)):$a(!1);else throw new Ld(\"Cannot \"+f+\" store: \"+e+\". Not auto schema generation mode.\");}l.toString=function(){return\"TxStorage:\"+this.j().getName()};function Je(a,b,c,d){Ee.call(this,a,b,c,d)}z(Je,Ee);l=Je.prototype;l.c=N(\"ydn.db.crud.DbOperator\");","l.count=function(a,b,c,d){var e,f,g,h;if(null!=a)if(u(a)){if(t(c)||t(b))throw new F(\"too many arguments.\");f=a;for(var k=0;k<f.length;k++)if(!Fd(this.b,f[k]))throw new F('store name \"'+f[k]+'\" at '+k+\" not found.\");L(this.c,\"countStores: \"+S(f));e=this.a.request(\"count\",f);Q(e,function(){W(this).ua(e,f)},this)}else if(w(a)){k=T(this.b,a);if(!k)throw new F('store name \"'+a+'\" not found.');if(t(d)&&!ca(d))throw new F('unique value \"'+d+'\" must be boolean, but found '+typeof d+\".\");f=[a];if(w(b))if(g=","b,y(c)){var n=Ob(c);if(n)throw new F(\"invalid key range: \"+zd(c)+\" \"+n);h=Lb(c)}else{if(null!=c)throw new F(\"invalid key range: \"+zd(c)+\" of type \"+typeof c);h=null}else if(y(b)||null==b)if(y(b)){if(n=Ob(b))throw new F(\"invalid key range: \"+zd(b)+\" \"+n);h=Lb(b)}else{if(null!=b)throw new F(\"key range must be  an object but found \"+zd(b)+\" of type \"+typeof b);h=null}else throw new F('invalid second argument for count \"'+zd(c)+'\" of type '+typeof b);L(this.c,\"countKeyRange: \"+a+\" \"+(g?g:\"\")+S(h));e=","this.a.request(\"count\",f);wd(k,e,arguments);Q(e,function(){W(this).Sa(e,f[0],h,g,!!d)},this)}else throw new F(\"Invalid store name or store names.\");else K(this.c,\"count method requires store name(s)\"),k=Ed(this.b),e=this.a.request(\"count\",k),Uc(e,function(a,b,c){if(b)c(a,!0);else{for(var d=b=0;d<a.length;d++)b+=a[d];c(b,!1)}},this),Q(e,function(){W(this).ua(e,f)},this);return e};","l.get=function(a,b){var c=this,d;if(a instanceof Hb){var e=a,f=e.h(),g=T(this.b,f);if(!g){if(this.b.M()){if(Ud(this.j()))return Vc(\"get\",void 0);d=new O(\"get\");this.j().Ea(function(){Ya(c.get(a,b),function(a){d.n(a)},function(a){d.k(a)})});return d}throw new F(\"Store: \"+f+\" not found.\");}var h=e.q;L(this.c,\"getByKey: \"+f+\":\"+h);d=this.a.request(\"get:key\",[f]);wd(g,d,arguments);Q(d,function(){W(this).ya(d,f,h)},this)}else if(w(a)&&t(b)){var k=a,g=T(this.b,k);if(!g){if(this.b.M()){if(Ud(this.j()))return Vc(\"get\",","void 0);d=new O(\"get\");this.j().Ea(function(){Ya(c.get(a,b),function(a){d.n(a)},function(a){d.k(a)})});return d}throw new F('Store name \"'+k+'\" not found.');}var n=b;L(this.c,\"getById: \"+k+\":\"+n);d=this.a.request(\"get\",[k]);wd(g,d,arguments);Q(d,function(){W(this).ya(d,k,n)},this)}else throw new F(\"get require valid input arguments.\");return d};","l.keys=function(a,b,c,d,e,f,g){var h,k,n=null,m=!1,p=!1,q=a,s=T(this.b,q);if(!w(q))throw new F(\"store name must be a string, but \"+q+\" of type \"+typeof q+\" is not.\");if(!this.b.M()){if(!s)throw new F('store name \"'+q+'\" not found.');if(w(b)&&!jd(s,b))throw new F('index \"'+b+'\" not found in store \"'+q+'\".');}if(this.b.M()&&!s)return Vc(\"keys\",[]);var x;if(w(b)){var A=b,C=Ob(c);if(C)throw new F(\"invalid key range: \"+c+\" \"+C);n=Lb(c);if(da(d))h=d;else{if(t(d))throw new F(\"limit must be a number\");h=","100}if(da(e))k=e;else{if(t(e))throw new F(\"offset must be a number\");k=0}if(t(f))if(ca(f))m=f;else throw new F(\"reverse must be a boolean\");if(t(g))if(ca(g))p=g;else throw new F(\"unique must be a boolean\");L(this.c,\"keysByIndexKeyRange: \"+q);x=this.a.request(\"keys:iter:index\",[q]);wd(s,x,arguments);Q(x,function(){W(this).da(x,2,q,A,n,h,k,m,p)},this)}else{if(y(b)){if(C=Ob(b))throw new F(\"invalid key range: \"+zd(b)+\" \"+C);n=Lb(b)}else{if(null!=b)throw new F(\"invalid key range: \"+zd(b)+\" of type \"+typeof b);","n=null}if(da(c))h=c;else{if(t(c))throw new F(\"limit must be a number\");h=100}if(da(d))k=d;else{if(t(d))throw new F(\"offset must be a number\");k=0}if(t(e))if(ca(e))m=e;else throw new F(\"reverse must be a boolean\");L(this.c,\"keysByKeyRange: \"+q);x=this.a.request(\"keys\",[q]);wd(s,x,arguments);Q(x,function(){W(this).da(x,2,q,null,n,h,k,m,!1)},this)}return x};","l.D=function(a,b,c,d,e,f,g){var h=this,k,n,m,p=!1,q=!1;if(w(a)){var s=a,x=T(this.b,s);if(!x){if(this.b.M()){if(Ud(this.j()))return Vc(\"values\",[]);k=new O(\"values\");this.j().Ea(function(){Ya(h.D(a,b,c,d,e,f),function(a){k.n(a)},function(a){k.k(a)})});return k}throw new pe(s);}if(u(b)){if(t(c)||t(d))throw new F(\"too many input arguments\");var A=b;L(this.c,\"listByIds: \"+s+\" \"+A.length+\" ids\");k=this.a.request(\"values:array\",[s]);wd(x,k,arguments);Q(k,function(){W(this).Va(k,s,A)},this)}else if(w(b)){var C=","b;if(!nd(x,C))throw new F('index \"'+C+'\" not found in store \"'+s+'\"');var B=Ob(c);if(B)throw new F(\"invalid key range: \"+c+\" \"+B);var D=Lb(c);if(t(d))if(da(d))n=d;else throw new F(\"limit must be a number.\");else n=100;if(t(e))if(da(e))m=e;else throw new F(\"offset must be a number.\");else m=0;if(ca(f))p=f;else if(t(f))throw new F(\"reverse must be a boolean, but \"+f);if(t(g))if(ca(g))q=g;else throw new F(\"unique must be a boolean\");L(this.c,\"listByIndexKeyRange: \"+s+\":\"+C);k=this.a.request(\"values:iter:index\",","[s]);wd(x,k,arguments);Q(k,function(){W(this).da(k,4,s,C,D,n,m,p,q)},this)}else{D=null;if(y(b)){if(B=Ob(b))throw new F(\"invalid key range: \"+b+\" \"+B);D=Lb(b)}else if(null!=b)throw new F('expect key range object, but found \"'+zd(b)+'\" of type '+typeof b);if(t(c))if(da(c))n=c;else throw new F(\"limit must be a number, but \"+c+\" is \"+typeof c);else n=100;if(t(d))if(da(d))m=d;else throw new F(\"offset must be a number, but \"+d+\" is \"+typeof d);else m=0;if(t(e))if(ca(e))p=e;else throw new F(\"reverse must be a boolean, but \"+","e+\" is \"+typeof e);L(this.c,(D?\"listByKeyRange: \":\"listByStore: \")+s);k=this.a.request(\"values\",[s]);wd(x,k,arguments);Q(k,function(){W(this).da(k,4,s,null,D,n,m,p,!1)},this)}}else if(u(a))if(a[0]instanceof Hb){for(var x=[],I=a,B=0;B<I.length;B++){var aa=I[B].h();if(!Fd(this.b,aa)){if(this.b.M())return x=[],x[I.length-1]=void 0,Vc(\"get\",x);throw new F(\"Store: \"+aa+\" not found.\");}0<=Ga(x,aa)||x.push(aa)}L(this.c,\"listByKeys: \"+S(x)+\" \"+I.length+\" keys\");k=this.a.request(\"values:keys\",x);Q(k,function(){W(this).Da(k,","I)},this)}else throw new F(\"first argumentmust be array of ydn.db.Key, but \"+a[0]+\" of \"+typeof a[0]+\" found.\");else throw new F(\"first argument \"+a+\" is invalid.\");return k};","l.add=function(a,b,c){var d=w(a)?a:y(a)?a.name:void 0;if(!w(d))throw new F(\"store name \"+d+\" must be a string, but \"+typeof d);var e=T(this.b,d);if(!e){if(!this.b.M())throw new F('store name \"'+d+'\" not found.');e=gd(y(a)?a:{name:d});L(this.c,\"Adding object store: \"+d);Ie(this,e)}else if(this.b.M()&&y(a)&&(a=gd(a),a=td(e,a)))throw new cb(a);var f;if(!e)throw new F('store name \"'+d+'\" not found.');if(w(e.keyPath)&&t(c))throw new F(\"key must not be provided while the store uses in-line key.\");if(!e.keyPath&&","!e.b&&!t(c))throw new F(\"out-of-line key must be provided.\");if(u(b)){L(this.c,\"addObjects: \"+d+\" \"+b.length+\" objects\");for(a=0;a<b.length;a++)ud(e,b[a]);f=this.a.request(\"add:array\",[d],G);Q(f,function(){W(this).U(f,!1,!1,d,b,c)},this);e.aa&&f.N(function(){this.j();e.getName();this.j()},this)}else if(y(b))a=\"store: \"+d+\" key: \"+qd(e,b,c),L(this.c,\"addObject: \"+a),ud(e,b),f=this.a.request(\"add\",[d],G),Q(f,function(){W(this).U(f,!1,!0,d,[b],[c])},this),e.aa&&f.N(function(){this.j();e.getName();this.j()},","this);else throw new F(\"record must be an object or array list of objects, but \"+b+\" of type \"+typeof b+\" found.\");return f};function Ke(a,b){var c=w(b)?b:y(b)?b.name:void 0;if(!w(c))throw new F(\"store name must be a string\");var d=T(a.b,c);if(!d){if(!a.b.M())throw new pe(c);d=gd(y(b)?b:{name:c});L(a.c,\"Adding object store: \"+c);Ie(a,d)}else if(a.b.M()&&y(b)){var e=gd(b);if(e=td(d,e))throw new cb(e);}if(!d)throw new pe(c);return d}","l.load=function(a,b,c){var d=c||\",\",e=Ke(this,a).getName();a=this.a.request(\"load\",[e]);var f=this;this.a.Z(a,function(a,c,k){W(f).Ya(a,c,k,e,b,d)},[e],G);return a};","l.put=function(a,b,c){var d,e=this;if(a instanceof Hb){var f=a,g=f.h(),h=T(this.b,g);if(!h)throw new F('store \"'+g+'\" not found.');if(h.keyPath){var k=qd(h,b);if(null!=k){if(0!=H(k,f.q))throw new F(\"Inline key must be \"+f+\" but \"+k+\" found.\");}else rd(h,b,f.q);return this.put(g,b)}return this.put(g,b,f.q)}if(u(a)){if(t(c))throw new F(\"too many arguments\");var n=a;if(!t(b))throw new F(\"record values required\");for(var m=b,f=[],g=0,h=n.length;g<h;g++){k=n[g].h();-1==Ga(f,k)&&f.push(k);var p=T(this.b,","k);if(!p)throw new F('store \"'+k+'\" not found.');p.keyPath&&rd(p,m[g],n[g].q)}L(this.c,\"putByKeys: to \"+S(f)+\" \"+m.length+\" objects\");for(g=0;g<m.length;g++)ud(p,m[g]);d=this.a.request(\"put:keys\",f,G);wd(p,d,arguments);Q(d,function(){W(e).Xa(d,m,n)},this)}else if(w(a)||y(a)){var p=Ke(this,a),q=p.getName();if(p.keyPath&&t(c))throw new F(\"key must not be provided while the store uses in-line key.\");if(!p.keyPath&&!p.b&&!t(c))throw new F(\"out-of-line key must be provided.\");if(u(b)){var s=b,x=c;L(this.c,","\"putObjects: \"+q+\" \"+s.length+\" objects\");for(g=0;g<s.length;g++)ud(p,s[g]);d=this.a.request(\"put:array\",[q],G);wd(p,d,arguments);Q(d,function(){W(this).U(d,!0,!1,q,s,x)},this);p.aa&&d.N(function(){this.j();this.j()},this)}else if(y(b)){var A=b,C=c;L(this.c,\"putObject: \"+q+\" \"+C);if(t(r.Blob)&&A instanceof Blob&&p.ea&&!p.keyPath&&0==p.a.length&&fc)d=new O(\"put\"),f=new FileReader,f.onload=function(a){var b=a.target.result,c=e.a.request(\"put\",[q],G);wd(p,c,[q,A,C]);Q(c,function(){W(e).U(c,!0,!0,q,[b],","[C])},this);Ya(c,function(a){d.n(a)},function(a){d.k(a)})},f.onerror=function(a){d.k(a)},f.onabort=function(a){d.k(a)},f.readAsDataURL(A);else{ud(p,A);d=this.a.request(\"put\",[q],G);var B=[q,A,C];wd(p,d,B);Q(d,function(){var a=t(C)?[B[2]]:void 0;W(e).U(d,!0,!0,q,[B[1]],a)},this)}p.aa&&d.N(function(){this.j();this.j()},this)}else throw new F(\"put record value must be Object or array of Objects\");}else throw new F(\"the first argument of put must be store name, store schema or array of keys.\");return d};","function Le(a,b){var c=[],d=b.length;if(0==d)return Vc(\"keys\",[]);for(var e=0;e<d;e++){var f=b[e].h();-1==Ga(c,f)&&c.push(f);if(!Fd(a.b,f))throw new pe(f);}var g=a.f.request(\"keys\",c);Q(g,function(){W(a).Da(g,b)},a);return g}","l.clear=function(a,b,c){if(t(c))throw new F(\"too many input arguments\");var d;if(w(a)){c=T(this.b,a);if(!c)throw new F('store name \"'+a+'\" not found.');if(y(b)){var e=Lb(b);if(null===e)throw new F(\"clear method requires a valid non-null KeyRange object.\");L(this.c,\"clearByKeyRange: \"+a+\":\"+S(e));d=this.a.request(\"clear\",[a],G);wd(c,d,[a,e]);Q(d,function(){W(this).Qa(d,a,e)},this)}else{if(t(b))throw new F(\"clear method requires a valid KeyRange object as second argument, but found \"+b+\" of type \"+","typeof b);L(this.c,\"clearByStore: \"+a);d=this.a.request(\"clear\",[a],G);Q(d,function(){W(this).ta(d,[a])},this)}}else if(!t(a)||u(a)&&w(a[0])){var f=a||Ed(this.b);L(this.c,\"clearByStores: \"+S(f));d=this.a.request(\"clear\",f,G);Q(d,function(){W(this).ta(d,f)},this)}else throw new F('first argument \"'+a+'\" is invalid.');return d};","l.Oa=function(a,b,c){var d;if(w(a)){var e=T(this.b,a);if(!e)throw new F('store name \"'+a+'\" not found.');if(t(c))if(w(b)){var f=jd(e,b);if(!f)throw new F(\"index: \"+b+\" not found in \"+a);if(y(c)||null===c){var g=Lb(c);L(this.c,\"removeByIndexKeyRange: \"+a+\":\"+f.getName()+\" \"+a);d=this.a.request(\"rm:iter:index\",[a],G);Q(d,function(){W(this).Za(d,a,f.getName(),g)},this)}else throw new F(\"key range \"+c+' is invalid type \"'+typeof c+'\".');}else throw new F('index name \"'+b+'\" must be a string, but '+typeof b+","\" found.\");else if(w(b)||da(b)||v(b)||b instanceof Date){L(this.c,\"removeById: \"+a+\":\"+b);d=this.a.request(\"rm\",[a],G);var h=[a,b];wd(e,d,h);Q(d,function(){W(this).Ga(d,a,h[1])},this);e.aa&&d.N(function(){this.j();this.j()},this)}else if(y(b))g=Lb(b),L(this.c,\"removeByKeyRange: \"+a+\":\"+S(g)),d=this.a.request(\"rm:iter\",[a],G),wd(e,d,[a,g]),Q(d,function(){W(this).Ha(d,a,g)},this),e.aa&&d.N(function(){this.j();this.j()},this);else throw new F('Invalid key or key range \"'+b+'\" of type '+typeof b);}else if(a instanceof","Hb){var k=a.h(),e=T(this.b,k);d=this.a.request(\"rm\",[k],G);var n=[k,a.q];wd(e,d,n);Q(d,function(){W(this).Ga(d,k,n[1])},this)}else if(u(a)){b=[];c=0;for(e=a.length;c<e;c++){if(!(a[c]instanceof Hb))throw new F(\"key list element at \"+c+\" of \"+e+' must be yn.db.Key, but \"'+zd(a[c])+'\" ('+ba(a[c])+\") is not ydn.db.Key.\");var m=a[c].h();-1==Ga(b,m)&&b.push(m)}if(1>b.length)throw new F('at least one valid key required in key list \"'+zd(a)+'\"');d=this.a.request(\"rm:keys\",b,G);Q(d,function(){W(this).$a(d,","a)},this)}else throw new F('first argument requires store name, key (ydn.db.Key) or list of keys (array) , but \"'+zd(a)+'\" ('+ba(a)+\") found.\");return d};l.toString=function(){return\"DbOperator:\"+this.j().getName()};function Me(a,b,c,d){Ee.call(this,a,b,c,d)}z(Me,Je);l=Me.prototype;l.c=N(\"ydn.db.core.DbOperator\");l.get=function(a,b){if(a instanceof V){var c=a.h(),d=T(this.b,c);if(!d)throw new F('store \"'+c+'\" not found.');var e=a.a;if(t(e)&&!nd(d,e))throw new F('index \"'+e+'\" not found in store \"'+c+'\".');L(this.c,\"getByIterator:\"+a);var f=this.a.request(\"get:iter\",[c]);Q(f,function(){Ne(this,5,f,a,1)},this);return f}return Me.t.get.call(this,a,b)};","l.keys=function(a,b,c,d,e,f,g){if(a instanceof V){var h=100;if(da(b)){if(h=b,1>h)throw new F(\"limit must be a positive value, but \"+b);}else if(t(b))throw new F(\"limit must be a number,  but \"+b);if(t(c))throw new F(\"offset must not be specified\");L(this.c,\"keysByIterator:\"+a);var k=this.a.request(\"keys:iter\",a.stores());Q(k,function(){a.e?Ne(this,1,k,a,h):Ne(this,2,k,a,h)},this);return k}return Me.t.keys.call(this,a,b,c,d,e,f,g)};","l.count=function(a,b,c){if(a instanceof V){if(t(b)||t(c))throw new F(\"too many arguments.\");L(this.c,\"countIterator:\"+a);var d=this.a.request(\"count\",a.stores());Q(d,function(){Ne(this,6,d,a)},this);return d}return Me.t.count.call(this,a,b,c)};","l.D=function(a,b,c,d,e,f){if(a instanceof V){var g;if(da(b)){if(g=b,1>g)throw new F(\"limit must be a positive value, but \"+g);}else if(t(b))throw new F(\"limit must be a number, but \"+b);if(t(c))throw new F(\"offset must not be specified\");L(this.c,\"listByIterator:\"+a);var h=this.a.request(\"values:iter\",a.stores());Q(h,function(){a.d?Ne(this,2,h,a,g):Ne(this,4,h,a,g)},this);return h}return Me.t.D.call(this,a,b,c,d,e,f)};","function Oe(a,b,c){if(t(c)){if(!u(c))throw new F(\"Iterator argument must be an array.\");for(var d=0;d<c.length;d++)if(!(c[d]instanceof V))throw new F(\"Iterator at \"+d+\" must be cursor range iterator.\");}var e;e=c?c:null;c=[];for(d=0;d<e.length;d++)for(var f=e[d].stores(),g=0;g<f.length;g++)0<=Ga(c,f[g])||c.push(f[g]);M(a.c,a+\": scan for \"+e.length+\" iterators on \"+c);d=a.a.request(\"scan\",c);a.a.Z(d,function(c,d,f){function g(){for(var b=0,f=0;f<e.length;f++){for(var m=e[f],n=m.stores(),s=[],x=0;x<","n.length;x++)s[x]=W(a).b(c,d,n[x]);m=m.load(s);m.I=p;m.w=ka(q,b);I[f]=m;C[b]=f;b++}A=e.length}function p(b){for(var c=0;c<I.length;c++)Zd(I[c]);Na(I);L(a.c,s+\" error\");f(b,!0)}function q(c,d){if(x)throw new Kd;aa++;var g=aa===A,h=C[c],k=e[h],m=I[h],h=m.T(),m=m.ra();B[c]=d;D[c]=k.e?k.d?h:m:k.d?d:m;if(g){var p;p=b instanceof je?b.b(B,D):b(B,D);g=[];k=[];h=[];m=[];if(u(p))for(var q=0;q<p.length;q++)!0===p[q]?h[q]=1:!1===p[q]?m[q]=!0:k[q]=p[q];else if(null===p)g=[];else if(t(p))if(y(p)){g=[\"advance\",","\"continue\",\"continuePrimary\",\"restart\"];for(q in p)if(!(0<=Ga(g,q)))throw new eb('Unknown attribute \"'+q+'\" in cursor advancement object');g=p.continuePrimary||[];k=p[\"continue\"]||[];h=p.advance||[];m=p.restart||[]}else throw new eb(\"scan callback output\");else for(g=[],q=0;q<e.length;q++)t(C[q])&&(h[q]=1);for(q=aa=p=0;q<e.length;q++)null!=g[q]||t(k[q])||null!=m[q]||null!=h[q]||aa++;for(q=0;q<e.length;q++)if(null!=g[q]||t(k[q])||null!=m[q]||null!=h[q]){var Xc=C[q];if(!t(Xc))throw new Md(q+\" is not an iterator.\");","var Xc=e[Xc],ob=I[q];if(null==B[q]){var Sd=q+\"/\"+e.length;if(null!=h[q])throw new Nd(ob+\" \"+Sd+\" must not advance \"+h[q]+\" steps\");if(t(k[q]))throw new Nd(ob+\" \"+Sd+\" must not continue to key \"+k[q]);if(null!=g[q])throw new Nd(ob+\" \"+Sd+\" must not continue to primary key \"+g[q]);}B[q]=void 0;D[q]=void 0;if(null!=m[q])$d(ob);else if(t(k[q]))ob.ka(k[q]);else if(null!=g[q])ob.qa(g[q]);else if(null!=h[q])ob.advance(1);else throw new Kd(Xc+\": has no action\");p++}if(0==p){for(q=0;q<I.length;q++)Zd(I[q]);","x=!0;Na(I);L(a.c,\"success \"+s);f(void 0)}}}var s=d+\" \"+a+\" scanning\";M(a.c,s);var x=!1,A,C=[],B=[],D=[],I=[],aa=0;b instanceof je?ke(b,e)||g():g()},c,jb);return d}","function Pe(a,b,c,d){if(!(c instanceof V))throw new F(\"Second argument must be cursor range iterator.\");if(!T(a.b,c.h()))throw new F('Store \"'+c.h()+'\" not found.');var e=G||jb,f=a.a.request(\"open\",c.stores(),e);L(a.c,\"open:\"+e+\" \"+c);Q(f,function(e){var h=R(f);L(a.c,h+\" iterating \"+c);for(var k=c.stores(),n=[],m=0;m<k.length;m++)n[m]=W(a).b(e,h,k[m]);var p=c.load(n);p.I=function(a){P(f,a,!0)};p.w=function(a){null!=a?(a=b.call(d,p),!0===a?$d(p):y(a)?!0===a.restart?$d(p,a[\"continue\"],a.continuePrimary):","null!=a[\"continue\"]?p.ka(a[\"continue\"]):null!=a.continuePrimary?p.qa(a.continuePrimary):(Zd(p),P(f,void 0)):p.advance(1)):(Zd(p),P(f,void 0))}},a);return f}","l.map=function(a,b){for(var c=this,d=a.stores(),e,f=0;e=d[f];f++)if(!e)throw new F('Store \"'+e+'\" not found.');e=this.a.request(\"map\",d);M(this.c,\"map:\"+a);this.a.Z(e,function(d,e,f){M(c.c,e+\" iterating \"+a);for(var n=a.stores(),m=[],p=0;p<n.length;p++)m[p]=W(c).b(d,e,n[p]);var q=a.load(m);q.I=function(a){f(a,!1)};q.w=function(c){null!=c?(c=a.e?a.d?c:q.T():a.d?c:q.ra(),b(c),q.advance(1)):(f(void 0),b=null)}},d,jb);return e};","function Qe(a,b,c,d){var e=c.h(),f=c.a||null,g=d||100;L(a.c,\"listIter:\"+b+\" \"+c+(d?\" limit=\"+g:\"\")+\"\");var h=a.a.request(\"values:iter:index\",[e]),k=\"done\"==c.f||c.f==be?[]:[c.m,c.r];Q(h,function(){W(this).da(h,b,e,f,ee(c),g,0,fe(c),ge(c),k)},a);h.N(function(){null!=k[0]?ie(c,\"rest\",k[0],k[1]):ie(c)});return h}","function Ne(a,b,c,d,e){var f=[],g=c.a,h=R(c),k=h+\" \"+b+\"ByIterator \"+d;0<e&&(k+=\" limit \"+e);L(a.c,k);for(var n=W(a),m=[],p=d.stores(),q=0;q<p.length;q++)m[q]=n.b(g,h,p[q]);var s=d.load(m);s.I=function(a){Zd(s);P(c,a,!0)};var x=0,A=!1;s.w=function(d){A||(M(a.c,k+\" starting\"),A=!0);null!=d?(s.T(),x++,1==b?f.push(d):2==b?f.push(s.T()):3==b?f.push([d,s.T()]):6!=b&&f.push(s.ra()),5==b?(Zd(s),P(c,f[0])):6==b||!t(e)||x<e?s.ka():(L(a.c,\"success:\"+k+\" yields \"+f.length+\" records\"),Zd(s),P(c,f))):(L(a.c,\"success:\"+","k+\" yields \"+f.length+\" records\"),Zd(s),P(c,5==b?f[0]:6==b?x:f))}};function Re(a,b,c,d){this.e=a;this.f=b;this.a=Oa(c);this.b=d;this.d=[]}Re.prototype.e=null;function Se(a,b,c){if(a.e)c&&a.d.push(c),b(a.e);else throw new fb(\"tx committed on ParallelTxExecutor\");}Re.prototype.toString=function(){return\"ParallelTxExecutor: txNo:\"+this.f+\" mode:\"+this.b+\" scopes:\"+S(this.a)};function Te(a,b,c,d,e,f){ue.call(this,a,b,c,d,e,f);this.e=this.a=null}z(Te,ue);l=Te.prototype;l.c=N(\"ydn.db.tr.Parallel\");l.abort=function(){L(this.c,this+\": aborting\");xe(this.e)};","l.pb=function(a,b){var c;if(\"multi\"==this.f)a:if(c=this.a,!c.a||!c.b||b!=c.b&&(c.b!=G||b!=jb)||a.length>c.a.length)c=!1;else{for(var d=0;d<a.length;d++)if(-1==c.a.indexOf(a[d])){c=!1;break a}c=!0}else if(\"repeat\"==this.f)a:if(c=this.a,c.a&&c.b&&b==c.b&&c.a.length==a.length){for(d=0;d<a.length;d++)if(-1==c.a.indexOf(a[d])){c=!1;break a}c=!0}else c=!1;else c=\"all\"==this.f?!0:!1;return c};","l.X=function(a,b,c,d){function e(c){k.d++;n=new Re(c,k.d,b,h);g=k.v();Mc(k.c,g+\" BEGIN \"+S(b)+\" \"+h);k.a=n;Se(k.a,a,d)}function f(a,b){Mc(k.c,g+\" \"+a);if(n){for(var c=n,d=0;d<c.d.length;d++)c.d[d](a,b);c.d.length=0;c.e=null;c.a=null;c.d=null}k.b=0}var g;this.I&&(b=this.I);this.B&&(c=this.B);var h=t(c)?c:jb,k=this,n;if(this.a&&this.a.e&&this.pb(b,h))Se(this.a,a,d);else{if(this.w&&this.d>=this.w)throw new eb(\"Exceed maximum number of transactions of \"+this.w);this.j().pa(e,b,h,f)}};","l.request=function(a,b,c,d){var e=Te.t.request.call(this,a,b,c,d),f=this;this.X(function(a){f.b++;Rc(e,a,f.v()+\"R\"+f.b)},b,c||jb,d);return e};l.Z=function(a,b,c,d,e){var f=this,g;this.X(function(c){f.b++;g=f.v()+\"R\"+f.b;L(f.c,g+\" BEGIN\");b(c,g,function(b,d){f.e=c;g=f.v()+\"R\"+f.b;d?(L(f.c,g+\" ERROR\"),a.k(b)):(L(f.c,g+\" SUCCESS\"),a.n(b));f.e=null});b=null;L(f.c,g+\" END\")},c,d,e)};l.toString=function(){return\"Parallel:\"+this.f+\":\"+this.v()+(this.e?\"*\":\"\")};function Ue(a,b){Te.call(this,a,b,ve)}z(Ue,Te);l=Ue.prototype;l.c=N(\"ydn.db.tr.AtomicParallel\");l.pb=function(){return!1};l.request=function(a,b,c){var d,e,f,g=this,h=Ue.t.request.call(this,a,b,c,function(a,b){h.a=null;L(g.c,\"transaction \"+a);if(d)\"complete\"!=a&&(f=!0,e=b),d(e,f);else{var c=new se;P(h,c,!0)}});Uc(h,function(a,b,c){f=b;e=a;d=c});return h};","l.Z=function(a,b,c,d,e){var f,g,h=new E;Ya(h,function(a){g=!1;f=a},function(a){g=!0;f=a});Ue.t.Z.call(this,h,b,c,d,function(b,c){if(\"complete\"!=b)a.k(c);else if(!0===g)a.k(f);else if(!1===g)a.n(f);else{var d=new se;a.k(d)}e&&(e(b,c),e=void 0)})};l.toString=function(){return\"Atomic\"+Ue.t.toString.call(this)};function Ve(a,b,c){U.call(this,a,b,c);this.ca=0;a=!0;b=ve;c&&(t(c.isSerial)&&(a=!!c.isSerial),c.policy&&(b=c.policy));c=We(this,b,a);this.g=We(this,\"atomic\",!1);this.d=this.ha(c,this.g)}z(Ve,U);l=Ve.prototype;l.ca=0;l.qb=function(a,b,c,d,e){var f;\"readonly\"==d?f=jb:\"readwrite\"==d&&(f=G);a=We(this,a,b,c,f,e);return this.ha(a,this.g)};l.ha=function(a,b){return new Ee(this,this.b,a,b)};","function We(a,b,c,d,e,f){if(c){if(\"multi\"==b||\"repeat\"==b||\"all\"==b||b==ve)return new ze(a,a.ca++,b,d,e,f);if(\"atomic\"==b)return new De(a,a.ca++);throw new F('Invalid requestType \"'+b+'\"');}if(\"multi\"==b||\"repeat\"==b||\"all\"==b||b==ve)return new Te(a,a.ca++,b,d,e,f);if(\"atomic\"==b)return new Ue(a,a.ca++);throw new F('Invalid requestType \"'+b+'\"');}","l.zb=function(a,b,c){if(3<arguments.length)throw new F(\"too many input arguments, run accept not more than 3 input arguments, but \"+arguments.length+\" found.\");this.ca++;var d=b||Ed(this.b),e=jb;if(c)if(\"readwrite\"==c)e=G;else if(\"readonly\"!=c)throw new F('Invalid transaction mode \"'+c+'\"');var f=We(this,\"all\",!1,d,e,1),g=this.ha(f,this.g),h=new O(\"run\"),k=this;f.X(function(b){M(k.c,\"executing run in transaction on \"+f);Rc(h,b,f.v()+\"R0\");a(g)},d,e,function(a){h.a=null;P(h,f.d,\"complete\"!==a)});return h};","l.Cb=function(a,b,c,d){if(3<arguments.length)throw new F(\"too many input arguments, run accept not more than 3 input arguments, but \"+arguments.length+\" found.\");this.ca++;var e=b||Ed(this.b),f=jb;if(c)if(\"readwrite\"==c)f=G;else if(\"readonly\"!=c)throw new F('Invalid transaction mode \"'+c+'\"');var g=We(this,\"all\",!1,e,f,d),h=this.ha(g,this.g),k=new O(\"run\"),n,m=this;g.X(function(b){M(m.c,\"executing run in transaction on \"+g);Rc(k,b,g.v()+\"R0\");b=a(h);g.r=b;g.ba=k;n=ja(g.kb,g);b.next()},e,f,function(a,","b){k.a=null;\"complete\"!=a&&\"abort\"!=a||n(a,b)});return k};l.Lb=function(){return this.d?this.d.a.d:NaN};function X(a,b,c){Ve.call(this,a,b,c);a=this.b;for(b=0;b<a.a.length;b++){c=a.a[b];var d=T(a,c.getName());if(d){if(!nd(d,\"k\"))throw new F('full text index store \"'+d.getName()+'\" must have \"keyword\" index');if(!nd(d,\"v\"))throw new F('full text index store \"'+d.getName()+'\" must have \"keyword\" index');if(\"id\"!=d.keyPath)throw new F('full text index store \"'+d.getName()+'\" must use \"id\" as key path.');}else throw new F('full text index store \"'+c.getName()+'\" required.');for(d=0;d<c.count();d++){var e=","c.index(d),f=T(a,e.h());if(f)K(this.c,\"Full text indexer option for \"+f.getName()+\" ignored.\");else throw new F('full text source store \"'+e.h()+'\" does not exist for full text index \"'+c.getName()+'\"');}}}z(X,Ve);l=X.prototype;l.ha=function(a,b){return new Je(this,this.b,a,b)};l.add=function(a,b,c){return this.d.add(a,b,c)};l.count=function(a,b,c,d){return this.d.count(a,b,c,d)};l.get=function(a,b){return this.d.get(a,b)};l.keys=function(a,b,c,d,e,f,g){return this.d.keys(a,b,c,d,e,f,g)};","l.D=function(a,b,c,d,e,f){return this.d.D(a,b,c,d,e,f)};l.load=function(a,b,c){return this.d.load(a,b,c)};l.put=function(a,b,c){return this.d.put(a,b,c)};l.clear=function(a,b,c){return this.d.clear(a,b,c)};l.Oa=function(a,b,c){return this.d.Oa(a,b,c)};l.toString=function(){var a=\"Storage:\"+this.getName();Ud(this)&&(a+=\" [\"+this.Na()+\"]\");return a};function Xe(a,b,c){X.call(this,a,b,c)}z(Xe,X);Xe.prototype.ha=function(a,b){return new Me(this,this.b,a,b)};Xe.prototype.map=function(a,b){return this.d.map(a,b)};function Ye(a,b,c,d){Wd.call(this,a,b,c,d);this.f=null}z(Ye,Wd);l=Ye.prototype;l.c=N(\"ydn.db.core.req.IDBCursor\");l.va=function(a){(a=a.target.result)?this.P(a.key,a.primaryKey,a.value):this.P()};","l.openCursor=function(a,b){function c(a,b,c){p.f=m;p.f.onsuccess=ja(p.va,p);p.P(a,p.e?b:void 0,c);m=null}var d=this+\" opening \";null!=a&&(d+=\"{\"+a,d=null!=b?d+(\";\"+b+\"}\"):d+\"}\");M(this.c,d);var e=this.o,d=this.i.objectStore(this.J),f=w(this.H)?d.index(this.H):null;if(t(a))var g=f?!t(b):!0,h=e?e.lower:void 0,k=e?e.upper:void 0,n=e?!!e.lowerOpen:!1,e=e?!!e.upperOpen:!1,e=Kb(this.reverse?new J(h,a,n,g):new J(a,k,g,e));var m;this.ma?f?m=null!=this.S?f.openKeyCursor(e,this.S):null!=e?f.openKeyCursor(e):","f.openKeyCursor():m=null!=this.S?d.openCursor(e,this.S):null!=e?d.openCursor(e):d.openCursor():f?m=null!=this.S?f.openCursor(e,this.S):null!=e?f.openCursor(e):f.openCursor():m=null!=this.S?d.openCursor(e,this.S):null!=e?d.openCursor(e):d.openCursor();var p=this;m.onerror=function(a){var b=m.error;a.preventDefault();Xd(p,b)};null!=a?m.onsuccess=function(d){if(d=d.target.result){var e=lb.cmp(d.key,a),f=p.reverse?-1:1;if(e==f)c(d.key,d.primaryKey,d.value);else if(e==-f)d[\"continue\"](a);else if(null!=","b)if(lb.cmp(d.primaryKey,b)==f)c(d.key,d.primaryKey,d.value);else d[\"continue\"]();else d[\"continue\"]()}else c()}:(p.f=m,p.f.onsuccess=ja(p.va,p))};l.Aa=function(){return!!this.f};l.update=function(a){var b=this.f.result;if(b){var c=new E;a=b.update(a);a.onsuccess=function(a){c.n(a.target.result)};a.onerror=function(a){a.preventDefault();c.k(a)};return c}throw new oe(\"cursor gone\");};","l.clear=function(){var a=this.f.result;if(a){var b=new E,a=a[\"delete\"]();a.onsuccess=function(){b.n(1)};a.onerror=function(a){a.preventDefault();b.k(a)};return b}throw new oe(\"cursor gone\");};l.advance=function(a){var b=this.f.result;if(1==a)b[\"continue\"]();else b.advance(a)};","l.qa=function(a){var b=this.f.result,c=lb.cmp(a,b.primaryKey);if(c!=(this.reverse?-1:1))throw new fb('continuing primary key \"'+a+'\" must '+(this.reverse?\"lower\":\"higher\")+' than current primary key \"'+b.primaryKey+'\"');var d=this;this.f.onsuccess=function(e){if(b=e.target.result)if(c=lb.cmp(b.primaryKey,a),0==c||1==c&&!d.reverse||-1==c&&d.reverse)d.f.onsuccess=ja(d.va,d),d.P(b.key,d.e?b.primaryKey:void 0,b.value);else b[\"continue\"]();else d.f.onsuccess=ja(d.va,d),d.P()};b[\"continue\"]()};","l.ka=function(a){var b=this.f.result;if(null!=a)b[\"continue\"](a);else b[\"continue\"]()};l.toString=function(){return\"IDB\"+Ye.t.toString.call(this)};function Ze(a,b){this.a=b}z(Ze,te);l=Ze.prototype;l.c=N(\"ydn.db.crud.req.IndexedDb\");l.ua=function(a,b){function c(e){var f=a.a.objectStore(b[e]).count();f.onsuccess=function(f){d[e]=f.target.result;e++;e==b.length?P(a,d):c(e)};f.onerror=function(b){b.preventDefault();P(a,f.error,!0)}}var d=[];0==b.length?P(a,[]):c(0)};","l.U=function(a,b,c,d,e,f){function g(s){if(null==e[s])if(M(m.c,\"empty object at \"+s+\" of \"+e.length),k++,k==e.length)P(a,h,n);else{var A=s+10;A<e.length&&g(A)}var C,A=e[s];C=null!=f?b?q.put(A,f[s]):q.add(A,f[s]):b?q.put(A):q.add(A);C.onsuccess=function(b){k++;h[s]=b.target.result;k==e.length?P(a,c?h[0]:h,n):(b=s+10,b<e.length&&g(b))};C.onerror=function(b){k++;var f=C.error;M(m.c,R(a)+p+' request to \"'+d+'\" cause '+f.name+' for object \"'+zd(e[s])+'\" at index '+s+\" of \"+e.length+\" objects.\");h[s]=f;","n=!0;b.preventDefault();k==e.length?P(a,c?h[0]:h,n):(b=s+10,b<e.length&&g(b))}}var h=[],k=0,n=!1,m=this,p=b?\"put\":\"add\",q=a.a.objectStore(d);M(this.c,R(a)+\" \"+p+\" \"+e.length+' objects to store \"'+d+'\"');if(0<e.length)for(var s=0;10>s&&s<e.length;s++)g(s);else P(a,[])};","l.Xa=function(a,b,c){function d(k){var m=c[k],p=m.h(),q=a.a.objectStore(p),s;s=null===q.keyPath?q.put(b[k],m.q):q.put(b[k]);s.onsuccess=function(c){f++;e[k]=c.target.result;f==b.length?P(a,e,g):(c=k+10,c<b.length&&d(c))};s.onerror=function(c){f++;K(h.c,\"request result \"+c.name+' error when put keys to \"'+p+'\" for object \"'+zd(b[k])+'\" at index '+k+\" of \"+b.length+\" objects.\");e[k]=s.error;g=!0;c.preventDefault();f==b.length?P(a,e,g):(c=k+10,c<b.length&&d(c))}}var e=[],f=0,g=!1,h=this;M(this.c,R(a)+","\" putByKeys: of \"+b.length+\" objects\");if(0<b.length)for(var k=0;10>k&&k<b.length;k++)d(k);else P(a,e,g)};","l.Ya=function(a,b,c,d,e,f){function g(){var a={},b=e.indexOf(\"\\n\",m),d=!1,s;-1==b?(d=!0,s=e.substring(m)):(s=e.substring(m,b),m=b+1);for(var b=s.split(f),D=0;D<p.length;D++){var I=b[D];q[D]&&(q[D]==Zc?I=za(I):\"INTEGER\"==q[D]?I=parseInt(I,10):\"NUMERIC\"==q[D]&&(I=parseFloat(I)));a[p[D]]=I}var aa=k.put(a);aa.onsuccess=function(a){n.push(a.target.result);d?c(n):g()};aa.onerror=function(a){\"DataError\"==a.name&&(a=new me(h+\": \"+s.substring(0,70)));a.preventDefault();c(aa.error,!0)}}var h=T(this.a,d),k=","a.objectStore(d),n=[],m=e.indexOf(\"\\n\"),p=e.substr(0,m).split(f),q=[];for(a=0;a<p.length;a++){var s=jd(h,p[a]);s?q[a]=s.type:p[a]==h.keyPath&&(q[a]=h.type)}m++;M(this.c,b+\" Loading data  of \"+p.length+\"-fields record to \"+d);g()};","l.Ga=function(a,b,c){var d=a.a.objectStore(b);M(this.c,R(a)+\" clearById: \"+b+\" \"+c);var e=d.openCursor(Nb.only(c));e.onsuccess=function(b){if(b=b.target.result){var c=b[\"delete\"]();c.onsuccess=function(){P(a,1)};c.onerror=function(){P(a,c.error,!0)}}else P(a,0)};e.onerror=function(b){b.preventDefault();P(a,e.error,!0)}};","l.$a=function(a,b){function c(h){h++;if(h>=b.length)0<g.length?P(a,g,!0):P(a,d);else{b[h].h()!=e&&(e=b[h].h(),f=a.a.objectStore(e));var k=f[\"delete\"](b[h].q);k.onsuccess=function(){d++;c(h)};k.onerror=function(a){a.preventDefault();g[h]=k.error;c(h)}}}var d=0,e,f;M(this.c,R(a)+\" removeByKeys: \"+b.length+\" keys\");var g=[];c(-1)};","l.Ha=function(a,b,c){var d=a.a.objectStore(b),e=d.count(c);M(this.c,R(a)+\" clearByKeyRange: \"+b+\" \"+c);e.onsuccess=function(b){var e=b.target.result,h=d[\"delete\"](c);h.onsuccess=function(){P(a,e)};h.onerror=function(){P(a,h.error,!0)}};e.onerror=function(b){b.preventDefault();P(a,e.error,!0)}};l.Qa=function(a,b,c){var d=a.a.objectStore(b);M(this.c,R(a)+\" \"+b+\" \"+c);var e=d[\"delete\"](c);e.onsuccess=function(){P(a,void 0)};e.onerror=function(b){b.preventDefault();P(a,e.error,!0)}};","l.Za=function(a,b,c,d){var e=a.a.objectStore(b).index(c);M(this.c,R(a)+\" clearByIndexKeyRange: \"+b+\":\"+c+\" \"+d);var f=[],g=e.openCursor(d),h=0;g.onsuccess=function(b){var c=b.target.result;if(c){var d=c[\"delete\"]();d.onsuccess=function(){h++;c[\"continue\"]()};d.onerror=function(a){f.push(d.error);a.preventDefault();c[\"continue\"]()}}else 0<f.length?P(a,f,!0):P(a,h)};g.onerror=function(b){b.preventDefault();P(a,g.error,!0)}};","l.ta=function(a,b){var c=b.length,d=0;M(this.c,R(a)+\" clearByStores: \"+b);for(var e=0;e<c;e++){var f=a.a.objectStore(b[e]).clear();f.onsuccess=function(){d++;d==c&&P(a,d)};f.onerror=function(b){d++;b.preventDefault();d==c&&P(a,f.error,!0)}}};","l.ya=function(a,b,c){var d=this;M(this.c,R(a)+b+\":\"+c);var e=a.a.objectStore(b),f=e.get(c);f.onsuccess=function(b){M(d.c,R(a)+\" record \"+c+(null!=b.target.result?\" \":\" not \")+\" exists.\");var f=b.target.result;if(!e.keyPath&&0==e.indexNames.length&&fc&&w(f)&&0<=f.indexOf(\";base64,\")){'\"'==f.charAt(0)&&'\"'==f.charAt(f.length-1)&&(f=f.substr(1,f.length-2));f=f.split(\";base64,\");b=f[0].split(\":\")[1];for(var f=window.atob(f[1]),k=f.length,n=new Uint8Array(k),m=0;m<k;++m)n[m]=f.charCodeAt(m);P(a,new Blob([n.buffer],","{type:b}))}else P(a,b.target.result)};f.onerror=function(b){b.preventDefault();P(a,f.error,!0)}};","l.Va=function(a,b,c){function d(b){if(null==c[b])if(f++,e[b]=void 0,f==h)P(a,e);else{var n=b+10;n<h&&d(n)}var m;m=g.get(c[b]);m.onsuccess=function(c){f++;e[b]=c.target.result;f==h?P(a,e):(c=b+10,c<h&&d(c))};m.onerror=function(b){f++;b.preventDefault();P(a,m.error,!0)}}var e=[];e.length=c.length;var f=0,g=a.a.objectStore(b),h=c.length;M(this.c,R(a)+\" \"+b+\":\"+h+\" ids\");if(0<h)for(b=0;10>b&&b<h;b++)d(b);else P(a,[])};","l.Da=function(a,b){function c(f){var h=b[f],k=a.a.objectStore(h.h()).get(h.q);k.onsuccess=function(h){e++;d[f]=h.target.result;e==b.length?P(a,d):(h=f+10,h<b.length&&c(h))};k.onerror=function(b){e++;b.preventDefault();P(a,k.error,!0)}}var d=[];d.length=b.length;var e=0;M(this.c,R(a)+\" \"+b.length+\" ids\");if(0<b.length)for(var f=0;10>f&&f<b.length;f++)c(f);else P(a,[])};","l.Sa=function(a,b,c,d,e){if(d&&e)throw new Md(\"unique count not available in IndexedDB\");e=a.a.objectStore(b);b=R(a)+\" \"+b+(d?\":\"+d:\"\")+(c?\":\"+S(c):\"\");M(this.c,b);var f;null!=d?(d=e.index(d),f=null!=c?d.count(c):d.count()):f=null!=c?e.count(c):e.count();f.onsuccess=function(b){P(a,b.target.result)};f.onerror=function(b){b.preventDefault();P(a,f.error,!0)}};","l.da=function(a,b,c,d,e,f,g,h,k,n){var m=[],p=a.a.objectStore(c),q=h?k?\"prevunique\":\"prev\":k?\"nextunique\":\"next\";c=R(a)+\" \"+b+\" \"+c+(d?\":\"+d:\"\")+(e?S(e):\"\");h&&(c+=\" reverse\");k&&(c+=\" unique\");if(n&&t(n[0])){k=d?!t(n[1]):!0;var s=n[0],x=e?e.lower:void 0,A=e?e.upper:void 0,C=e?!!e.lowerOpen:!1;e=e?!!e.upperOpen:!1;e=Kb(h?new J(x,s,C,k):new J(s,A,k,e));c+=\" starting from \"+S(n[0]);t(n[1])&&(c+=\", \"+S(n[1]))}M(this.c,c);var B;B=1==b||2==b||3==b?d?p.index(d).openKeyCursor(e,q):p.openCursor(e,q):d?p.index(d).openCursor(e,","q):p.openCursor(e,q);var D=!1;B.onsuccess=function(c){if(c=c.target.result){if(!D){if(0<g){D=!0;c.advance(g);return}if(n&&d&&t(n[0]))if(t(n[1])){var e=lb.cmp(c.key,n[0]),k=h?-1:1;if(0==e){e=lb.cmp(c.primaryKey,n[1]);if(0==e){D=!0;c[\"continue\"]();return}if(e==k)D=!0;else{c[\"continue\"]();return}}else D=!0}else D=!0;else D=!0}1==b?m.push(c.key):2==b?m.push(c.primaryKey):3==b?(k={},d&&(k[d]=c.key),p.keyPath?k[p.keyPath]=c.primaryKey:k._ROWID_=c.primaryKey,m.push(k)):4==b?m.push(c.value):m.push([c.key,","c.primaryKey,c.value]);if(m.length<f)c[\"continue\"]();else n&&(n[0]=Ib(c.key),n[1]=Ib(c.primaryKey)),P(a,m)}else n&&(n[0]=void 0,n[1]=void 0),P(a,m)};B.onerror=function(b){b.preventDefault();P(a,B.error,!0)}};function Fe(a,b){this.a=b}z(Fe,Ze);Fe.prototype.c=N(\"ydn.db.core.req.IndexedDb\");Fe.prototype.b=function(a,b,c,d){c=T(this.a,c);return new Ye(a,b,c,d)};function $e(){this.a=!1}$e.prototype.a=!1;function af(a,b,c,d){Wd.call(this,a,b,c,d);this.l=this.d=this.b=void 0;this.g=this.f=null;this.m=new $e;this.Ia=this.$=null}z(af,Wd);l=af.prototype;l.c=N(\"ydn.db.core.req.SimpleCursor\");l.Aa=function(){return!!this.i};l.update=function(a){bf(this.Ia,this.T(),a);return $a()};l.advance=function(a){function b(b){d++;if(!b||d>=a)return cf(c,b)}var c=this,d=this.f?-1:0;this.reverse?df(this.$,b,this.f):ff(this.$,b,this.f)};","l.ka=function(a){if(null!=a){var b=this,c=new Y(a),d=function(c){b.f=c;if(!c)return cf(b,c);var d=H(c.value.key,a);if(b.reverse){if(1!=d)return cf(b,c)}else if(-1!=d)return cf(b,c)};this.reverse?df(this.$,d,c):ff(this.$,d,c)}else this.advance(1)};function gf(a){setTimeout(function(){a.m.a?(a.m.a=!1,a.P(a.b,a.d,a.l),gf(a)):(a.g(),a.g=null)},4)}","function cf(a,b){if(a.f=b){var c=b.value;if(a.o)if(a.reverse||null==a.o.upper)a.reverse&&null!=a.o.lower&&(d=H(c.key,a.o.lower),-1==d||0==d&&a.o.lowerOpen)&&(a.f=null);else{var d=H(c.key,a.o.upper);if(1==d||0==d&&a.o.upperOpen)a.f=null}if(a.f){if(a.unique&&null!=a.b&&null!=c.key&&0==H(a.b,c.key))return;a.b=c.key;a.d=a.e?c.a:a.b;4==a.r&&(a.ma?a.l=a.d:a.l=hf(a.Ia,a.d))}}a.f||(a.b=void 0,a.d=void 0,a.l=void 0);return a.m.a=!0}","l.openCursor=function(a,b){var c=null;if(this.o)if(this.reverse){var d=this.e?\"\\uffff\":void 0;null!=this.o.upper&&(c=new Y(this.o.upper,d))}else null!=this.o.lower&&(c=new Y(this.o.lower));null!=a&&(c=this.e?new Y(a,b):new Y(a));this.g=this.i.j(function(b){function d(b){var e=b.value,f=e.key;if(b&&null!=f)if(null!=a){if(0==jf(c,e))return}else if(this.o&&(!this.reverse&&this.o.lowerOpen&&null!=this.o.lower&&(e=H(f,this.o.lower),0==e)||this.reverse&&this.o.upperOpen&&null!=this.o.upper&&(e=H(f,this.o.upper),","0==e)))return;return cf(this,b)}this.Ia=kf(b,this.J);this.$=lf(this.Ia,this.H);this.reverse?df(this.$,ja(d,this),c):ff(this.$,ja(d,this),c);gf(this)},this)};l.clear=function(){throw new db;};l.qa=function(){throw new db;};l.toString=function(){return\"Simple\"+af.t.toString.call(this)};function mf(a,b,c){a=[\"ydn.db\",a];t(b)&&(a.push(b),t(c)&&(a.push(c),t(void 0)&&a.push(qb(void 0))));return a.join(\"^|\")};function Y(a,b){this.key=a;this.a=b}Y.prototype.toString=function(){return\"ydn.db.con.simple.Node(\"+this.key+(null!=this.a?\", \"+this.a+\")\":\")\")};function jf(a,b){var c=H(a.key,b.key);return 0===c?null!=a.a?null!=b.a?H(a.a,b.a):1:null!=b.a?-1:0:c};function nf(a){this.F=a||of}function of(a,b){return String(a)<String(b)?-1:String(a)>String(b)?1:0}l=nf.prototype;l.C=null;l.F=null;l.W=null;l.V=null;","l.add=function(a){if(null==this.C)return this.V=this.W=this.C=new pf(a),!0;var b=null;qf(this,function(c){var d=null;0<this.F(c.value,a)?(d=c.left,null==c.left&&(b=new pf(a,c),c.left=b,c==this.W&&(this.W=b))):0>this.F(c.value,a)&&(d=c.right,null==c.right&&(b=new pf(a,c),c.right=b,c==this.V&&(this.V=b)));return d});b&&(qf(this,function(a){a.count++;return a.parent},b.parent),rf(this,b.parent));return!!b};","function sf(a,b){qf(a,function(a){var d=null;0<this.F(a.value,b)?d=a.left:0>this.F(a.value,b)?d=a.right:tf(this,a);return d})}l.clear=function(){this.V=this.W=this.C=null};l.contains=function(a){var b=!1;qf(this,function(c){var d=null;0<this.F(c.value,a)?d=c.left:0>this.F(c.value,a)?d=c.right:b=!0;return d});return b};function qf(a,b,c){for(c=c?c:a.C;c&&null!=c;)c=b.call(a,c)}","function rf(a,b){qf(a,function(a){var b=a.left?a.left.height:0,e=a.right?a.right.height:0;1<b-e?(a.left.right&&(!a.left.left||a.left.left.height<a.left.right.height)&&uf(this,a.left),vf(this,a)):1<e-b&&(a.right.left&&(!a.right.right||a.right.right.height<a.right.left.height)&&vf(this,a.right),uf(this,a));b=a.left?a.left.height:0;e=a.right?a.right.height:0;a.height=Math.max(b,e)+1;return a.parent},b)}","function uf(a,b){wf(b)?(b.parent.left=b.right,b.right.parent=b.parent):xf(b)?(b.parent.right=b.right,b.right.parent=b.parent):(a.C=b.right,a.C.parent=null);var c=b.right;b.right=b.right.left;null!=b.right&&(b.right.parent=b);c.left=b;b.parent=c;c.count=b.count;b.count-=(c.right?c.right.count:0)+1}","function vf(a,b){wf(b)?(b.parent.left=b.left,b.left.parent=b.parent):xf(b)?(b.parent.right=b.left,b.left.parent=b.parent):(a.C=b.left,a.C.parent=null);var c=b.left;b.left=b.left.right;null!=b.left&&(b.left.parent=b);c.right=b;b.parent=c;c.count=b.count;b.count-=(c.left?c.left.count:0)+1}","function tf(a,b){if(null!=b.left||null!=b.right){var c=null,d;if(null!=b.left){d=yf(a,b.left);qf(a,function(a){a.count--;return a.parent},d);if(d!=b.left){if(d.parent.right=d.left)d.left.parent=d.parent;d.left=b.left;d.left.parent=d;c=d.parent}d.parent=b.parent;d.right=b.right;d.right&&(d.right.parent=d);b==a.V&&(a.V=d)}else{d=zf(a,b.right);qf(a,function(a){a.count--;return a.parent},d);if(d!=b.right){if(d.parent.left=d.right)d.right.parent=d.parent;d.right=b.right;d.right.parent=d;c=d.parent}d.parent=","b.parent;d.left=b.left;d.left&&(d.left.parent=d);b==a.W&&(a.W=d)}d.count=b.count;wf(b)?b.parent.left=d:xf(b)?b.parent.right=d:a.C=d;rf(a,c?c:d)}else qf(a,function(a){a.count--;return a.parent},b.parent),wf(b)?(b.parent.left=null,b==a.W&&(a.W=b.parent),rf(a,b.parent)):xf(b)?(b.parent.right=null,b==a.V&&(a.V=b.parent),rf(a,b.parent)):a.clear()}function zf(a,b){if(!b)return a.W;var c=b;qf(a,function(a){var b=null;a.left&&(b=c=a.left);return b},b);return c}","function yf(a,b){if(!b)return a.V;var c=b;qf(a,function(a){var b=null;a.right&&(b=c=a.right);return b},b);return c}function pf(a,b){this.value=a;this.parent=b?b:null;this.count=1}pf.prototype.left=null;pf.prototype.right=null;pf.prototype.height=1;function xf(a){return!!a.parent&&a.parent.right==a}function wf(a){return!!a.parent&&a.parent.left==a};function Af(a){this.F=a||of}z(Af,nf);function ff(a,b,c){if(a.C){var d;if(c instanceof pf)d=c;else if(c){if(qf(a,function(a){var b=null;0<this.F(a.value,c)?(b=a.left,d=a):0>this.F(a.value,c)?b=a.right:d=a;return b}),!d)return}else d=zf(a);a=d;for(var e=d.left?d.left:d;null!=a;)if(null!=a.left&&a.left!=e&&a.right!=e)a=a.left;else{if(a.right!=e&&b(a))return;var f=a;a=null!=a.right&&a.right!=e?a.right:a.parent;e=f}b(null)}}","function df(a,b,c){if(a.C){var d;if(c instanceof pf)d=c;else if(c){if(qf(a,ja(function(a){var b=null;0<this.F(a.value,c)?b=a.left:(0>this.F(a.value,c)&&(b=a.right),d=a);return b},a)),!d)return}else d=yf(a);a=d;for(var e=d.right?d.right:d;null!=a;)if(null!=a.right&&a.right!=e&&a.left!=e)a=a.right;else{if(a.left!=e&&b(a))return;var f=a;a=null!=a.left&&a.left!=e?a.left:a.parent;e=f}b(null)}};function Bf(a,b,c){this.f=a;this.storage=b;this.b=c;this.a={};a=this.b.keyPath;this.d=u(a)?a.join(\",\"):a||\"_ROWID_\";this.a[this.d]=null;this.e=mf(this.f,this.b.getName(),this.d)+\"^|\"}","function lf(a,b){var c=b||a.d;if(!a.a[c]){a.a[c]=new Af(jf);for(var d=a.storage.length,e=0;e<d;e++){var f=a.storage.key(e);if(null!==f&&0==f.lastIndexOf(a.e,0)){var g=tb(f.substr(a.e.length));if(c==a.d)a.a[c].add(new Y(g));else{var h=a.storage.getItem(f);if(null!==h)if(f=jd(a.b,c),h=yd(h),h=$c(f,h),f.multiEntry){if(u(h))for(f=0;f<h.length;f++)a.a[c].add(new Y(h[f],g))}else a.a[c].add(new Y(h,g))}}}}return a.a[c]}","function Cf(a,b,c){for(var d in a.a){var e=a.a[d];if(e)if(d==a.d)sf(e,new Y(b));else{var f=jd(a.b,d),f=mb(c,f.keyPath);sf(e,new Y(b,f))}}}function Df(a){for(var b in a.a){var c=a.a[b];c&&c.clear()}a.a={}}","function bf(a,b,c,d){if(null==b&&(a.b.keyPath&&(b=qd(a.b,c)),a.b.b&&null==b)){b=a.e+qb(void 0);var e=yd(a.storage.getItem(b));e.key_count||(e.key_count=0);e.key_count++;a.storage.setItem(b,S(e));b=e.key_count}d&&(d=null!==a.storage.getItem(a.e+qb(b)));if(d)return null;a.storage.setItem(a.e+qb(b),S(c));d=b;for(var f in a.a)if(e=a.a[f])if(f==a.d)e.add(new Y(d));else{var g=jd(a.b,f),g=mb(c,g.keyPath);null!=g&&e.add(new Y(d,g))}return b}","function Ef(a,b){var c=a.e+qb(b),d=a.storage.getItem(c);if(null===d)return 0;a.storage.removeItem(c);c=yd(d);Cf(a,b,c);return 1}Bf.prototype.clear=function(){Df(this);Ff(this)};function hf(a,b){var c=a.storage.getItem(a.e+qb(b)),d=void 0;if(null!==c)for(var d=yd(c),c=0,e=a.b.a.length;c<e;c++){var f=a.b.index(c);if(\"DATE\"==f.type){var g=$c(f,d);g&&ad(f,d,new Date(g))}}return d}Bf.prototype.getName=function(){return this.b.getName()};","function Gf(a,b,c){b=b||a.d;a=lf(a,b);var d=null,e=null,f=0,g=!1,h=!1;null!=c&&(null!=c.lower&&(d=new Y(c.lower)),null!=c.upper&&(e=new Y(c.upper)),g=c.lowerOpen,h=c.upperOpen);ff(a,function(a){if(null!=a&&(a=a.value,!g||null==d||0!=H(a.key,d.key))){if(null!=e&&(a=H(a.key,e.key),1===a||0===a&&h))return!0;f++}},d);return f}","function Ff(a,b){var c=lf(a,a.d),d=null,e=null,f=0,g=[],h=[],k=!1,n=!1;null!=b&&(null!=b.lower&&(d=new Y(b.lower)),null!=b.upper&&(e=new Y(b.upper)),k=b.lowerOpen,n=b.upperOpen);ff(c,function(b){if(null!=b&&(b=b.value,!k||null==d||0!=jf(b,d))){if(null!=e){var c=jf(b,e);if(1===c||0===c&&n)return!0}var c=a.e+qb(b.key),q=a.storage.getItem(c);null!==q&&(a.storage.removeItem(c),f++,10>g.length&&(g.push(b.key),h.push(yd(q))))}},d);if(10>g.length)for(c=0;c<g.length;c++)Cf(a,g[c],h[c]);else Df(a);return f}","function Hf(a,b,c,d,e,f,g,h,k){function n(c){if(c&&(C++,!(C<g))){var d=c.value;if(e){if(D&&null!=A&&(c=q?jf(d,A):H(d.key,A.key),0==c))return;if(null!=x&&(c=q?jf(d,x):H(d.key,x.key),-1==c||0==c&&B))return k&&(k[0]=void 0,k[1]=void 0),!0}else{if(B&&null!=x&&(c=q?jf(d,x):H(d.key,x.key),0==c))return;if(null!=A&&(c=q?jf(d,A):H(d.key,A.key),1==c||0==c&&D))return k&&(k[0]=void 0,k[1]=void 0),!0}c=d.key;if(!h||!s||null==p||0!=H(p,c)){d=s?d.a:c;if(2==b)m.push(d);else if(1==b)m.push(c);else if(3==b)m.push([c,","d]);else if(4==b){var n=hf(a,d);m.push(n)}else m.push([c,d,hf(a,d)]);k&&(k[0]=c,k[1]=d)}p=c;if(t(f)&&m.length>=f)return!0}}var m=[],p,q=!!k&&null!=k[0];c=c||a.d;var s=c!=a.d;c=lf(a,c);var x=null,A=null;t(g)||(g=0);var C=-1,B=!1,D=!1;null!=d&&(null!=d.lower&&(x=s&&e?new Y(d.lower,\"\\uffff\"):new Y(d.lower)),null!=d.upper&&(A=s&&!e?new Y(d.upper,\"\\uffff\"):new Y(d.upper)),B=!!d.lowerOpen,D=!!d.upperOpen);if(q){e?D=!0:B=!0;d=k[0];var I=t(k[1])?k[1]:\"\\uffff\";e?A=s?new Y(d,I):new Y(d):x=s?new Y(d,I):new Y(d)}e?","df(c,n,A):ff(c,n,x);return m}Bf.prototype.ub=function(a,b){return Hf(this,2,a,b,void 0,void 0,void 0)};Bf.prototype.toString=function(){return\"ydn.db.con.simple.Store:\"+this.f+\":\"+this.b.getName()};function If(){this.clear()}l=If.prototype;l.Ra=function(){return this};l.setItem=function(a,b){t(this.a[a])||(this.keys.push(a.toString()),this.length=this.keys.length);this.a[a]=b};l.getItem=function(a){return t(this.a[a])?this.a[a]:null};l.removeItem=function(a){delete this.a[a];var b=this.keys;a=Ga(b,a.toString());0<=a&&Fa.splice.call(b,a,1);this.length=this.keys.length};l.length=0;l.key=function(a){a=this.keys[a];return t(a)?this.a[a]:null};","l.clear=function(){this.a={};this.keys=[];this.length=0};function Jf(a){this.g=a||new If;this.f={}}function kf(a,b){var c=T(a.a,b);if(c)a.f[b]||(a.f[b]=new Bf(a.d,a.e,c));else throw new fb('store name \"'+b+'\" not found.');return a.f[b]}Jf.prototype.L=function(a){var b=this;setTimeout(function(){var c=mf(b.d),c=b.e.getItem(c),c=new Dd(c);a(c)},10)};function Kf(a,b){this.b=a;this.a=b}Kf.prototype.j=function(a,b){var c=this.b;setTimeout(function(){a.call(b,c)},4);var d=this;return function(){d.a(\"complete\",null);d.a=null;d.b=null}};function Lf(a,b){this.a=b}z(Lf,te);l=Lf.prototype;l.c=N(\"ydn.db.crud.req.SimpleStore\");l.Xa=function(a,b,c){this.U(a,!0,!1,null,b,c)};","l.U=function(a,b,c,d,e,f){M(this.c,R(a)+\" \"+(b?\"put\":\"add\")+\"Object\"+(c?\"\":\"s \"+e.length+\" objects\"));var g=a.a.j(function(h){var k;if(c)k=kf(h,d),h=f?f[0]:void 0,h=bf(k,h,e[0],!b),null!=h?P(a,h):(k=zd(h),k=new le(k),P(a,k,!0));else{for(var n=d,m=[],p=!1,q=f||{},s=0;s<e.length;s++){var x;d?x=q[s]:(n=f[s],x=n.q,n=n.h());k&&k.getName()==n||(k=kf(h,n));x=bf(k,x,e[s],!b);null!=x?m.push(x):(p=!0,m.push(new le))}P(a,m,p)}g();g=null},this)};l.Ya=function(){throw new db(\"putData\");};","l.ya=function(a,b,c){var d=a.a.j(function(e){e=hf(kf(e,b),c);P(a,e);d();d=null},this)};function Mf(a,b,c,d){var e=b.a.j(function(a){for(var g=[],h=c,k,n=0;n<d.length;n++){var m=d[n];m instanceof Hb&&(h=m,m=h.q,h=h.h());k&&k.getName()==h||(k=kf(a,h));m=hf(k,m);g[n]=m}P(b,g,!1);e();e=null},a)}l.Va=function(a,b,c){Mf(this,a,b,c)};l.Da=function(a,b){Mf(this,a,null,b)};","l.Ga=function(a,b,c){var d=R(a)+\" removeById \"+b+\" \"+c;M(this.c,d);var e=this,f=a.a.j(function(g){g=Ef(kf(g,b),c);L(e.c,\"success \"+d+(0==g?\" [not found]\":\"\"));P(a,g);f();f=null},this)};l.$a=function(a,b){M(this.c,R(a)+\" removeByKeys \"+b.length+\" keys\");var c,d=0,e=a.a.j(function(f){for(var g=0;g<b.length;g++){var h=b[g].h(),k=b[g].q;c&&c.getName()==h||(c=kf(f,h));d+=Ef(c,k)}P(a,d);e();e=null},this)};l.Qa=function(a,b,c){this.Ha(a,b,c)};","l.Ha=function(a,b,c){var d=R(a)+\" removeByKeyRange \"+(c?S(c):\"\");M(this.c,d);var e=this,f=a.a.j(function(g){g=Ff(kf(g,b),c);L(e.c,d+\" deleted \"+g+\" records.\");P(a,g);f();f=null},this)};l.Za=function(a,b,c,d){var e=R(a)+\" removeByIndexKeyRange \"+(d?S(d):\"\");M(this.c,e);var f=a.a.j(function(e){e=kf(e,b);for(var h=e.ub(c,d),k=h.length,n=0;n<k;n++)Ef(e,h[n]);P(a,k);f();f=null},this)};","l.ta=function(a,b){var c=R(a)+\" clearByStores\";M(this.c,c);var d=a.a.j(function(e){for(var f=0;f<b.length;f++)kf(e,b[f]).clear();L(this.c,\"success \"+c);P(a,b.length);d();d=null},this)};l.ua=function(a,b){var c=a.a.j(function(d){for(var e=[],f=0;f<b.length;f++){var g=kf(d,b[f]);e.push(Gf(g))}P(a,e);c();c=null},this)};","l.Sa=function(a,b,c,d){var e=R(a)+\" count\"+(null!=d?\"Index\":\"\")+(null!=c?\"KeyRange\":\"Store\");M(this.c,e);var f=a.a.j(function(g){g=Gf(kf(g,b),d,c);L(this.c,\"success \"+e);P(a,g);f();f=null},this)};l.da=function(a,b,c,d,e,f,g,h,k,n){var m=R(a)+\" \"+c+\" \"+(e?zd(e):\"\");M(this.c,m);var p=a.a.j(function(q){q=Hf(kf(q,c),b,d,e,h,f,g,k,n);L(this.c,m+\" \"+q.length+\" records found.\");P(a,q);p();p=null},this)};function He(a,b){this.a=b}z(He,Lf);He.prototype.b=function(a,b,c,d){c=T(this.a,c);return new af(a,b,c,d)};function Nf(a,b,c,d){Wd.call(this,a,b,c,d);this.A=null;this.f=this.g=void 0}z(Nf,Wd);l=Nf.prototype;l.c=N(\"ydn.db.core.req.WebsqlCursor\");l.T=function(){return this.f};l.bb=function(a,b,c,d,e){Nf.t.bb.call(this,a,b,c,d,e);this.A=w(b)?jd(this.a,b):null};l.ra=function(){return this.m};","l.fa=function(a){this.m=this.f=this.g=void 0;if(t(a))if(y(a)){var b=bd(a[this.a.f],this.a.type);this.f=b;if(this.e){var c=jd(this.a,this.H);this.g=bd(a[this.H],c.type)}else this.g=b;this.m=this.ma?b:Of(a,this.a)}else this.m=a};","function Pf(a,b,c){jd(a.a,a.H);var d=[],e=a.H,f=a.o,g=a.g;if(null!=f){var h=f.lower,k=f.upper,n=f.lowerOpen,f=f.upperOpen;a.reverse?k=null!=k&&-1==H(k,g)?k:g:h=null!=h&&1==H(h,g)?h:g;f=null!=h&&null!=k?J.bound(h,k,!!n,!!f):null!=h?Nb.lowerBound(h,!!n):Nb.upperBound(k,!!f)}else f=a.reverse?Nb.upperBound(g):Nb.lowerBound(g);e=id(a.a,d,a.r,e,f,a.reverse,a.unique);c=a.reverse?Nb.upperBound(c,!1):Nb.lowerBound(c,!1);c=id(a.a,d,a.r,a.a.f,c,a.reverse,a.unique);e.p=e.p?e.p+(\" AND \"+c.p):c.p;c=\"SELECT \"+e.select+","\" FROM \"+e.O+(e.p?\" WHERE \"+e.p:\"\")+(e.group?\" GROUP BY \"+e.group:\"\")+\" ORDER BY \"+e.Q;c+=\" LIMIT 1\";M(a.c,a+\": continuePrimary:  SQL: \"+c+\" : \"+S(d));a.i.executeSql(c,d,function(c,d){0<d.rows.length?a.fa(d.rows.item(0)):a.fa();b.call(a,a.g,a.f,a.m);b=null},function(c,d){K(a.c,\"get error: \"+d.message);Xd(a,d);a.fa();b.call(a,a.f,a.g,a.m);b=null;return!1})}","function Qf(a,b,c,d,e,f){var g=!d;d=[];a.e&&null!=f&&null!=c?c=md(a.a,a.r,d,a.A.getName(),a.o,c,g,f,a.reverse,a.unique):null!=c?(f=a.A?a.A.getName():null,c=ld(a.a,a.r,d,f,a.o,a.reverse,a.unique,c,g)):(c=hd(a.a,d,a.r,a.e?a.A.e:a.a.f,a.o,a.reverse,a.unique),a.e&&(c+=\", \"+a.a.e+\" ASC\"));c+=\" LIMIT 1\";0<e&&(c+=\" OFFSET \"+e);M(a.c,a+\": continue:  SQL: \"+c+\" : \"+S(d));a.i.executeSql(c,d,function(c,d){0<d.rows.length?a.fa(d.rows.item(0)):a.fa();b.call(a,a.g,a.f,a.m);b=null},function(c,d){K(a.c,\"get error: \"+","d.message);Xd(a,d);a.fa();b.call(a,a.f,a.g,a.m);b=null;return!1})}l.Aa=function(){return!!this.i};l.update=function(a){if(!this.Aa())throw new oe;var b=new E,c=this.T();a=sd(this.a,a,c);var d=\"REPLACE INTO \"+kd(this.a)+\" (\"+a.gb.join(\", \")+\") VALUES (\"+a.nb.join(\", \")+\")\";M(this.c,this+': update \"'+d+'\" : '+S(a.D));this.i.executeSql(d,a.D,function(){b.n(c)},function(a,c){b.k(c);return!1});return b};","l.advance=function(a){var b=this.g,c=this.f,d=!0;null==this.g||this.e&&null==this.f||(a-=1,d=!1);Qf(this,function(a,d,g){var h=null!=b&&null!=a&&0==H(b,a);if(this.e){var k=null!=d&&null!=c&&0==H(d,c);if(h&&k)throw new fb(\"current: \"+b+\";\"+c+\" next: \"+a+\";\"+d);}else if(h)throw new fb(\"current: \"+b+\" next: \"+a);this.P(a,d,g)},this.g,d,a,this.f)};l.ka=function(a){null!=a?Qf(this,this.P,a,!0):this.advance(1)};l.openCursor=function(a,b){Qf(this,this.P,a,!1,0,b)};","l.clear=function(){if(!this.Aa())throw new oe;var a=new E,b=this.a.f,b=\"DELETE FROM \"+kd(this.a)+\" WHERE \"+b+\" = ?\",c=[this.T()];M(this.c,this+': clear \"'+b+'\" : '+S(c));this.i.executeSql(b,c,function(b,c){a.n(c.rowsAffected)},function(b,c){a.k(c);return!1});return a};l.qa=function(a){var b=H(a,this.f);if(0==b||1==b&&this.reverse||-1==b&&!this.reverse)throw new Nd(this+\" to continuePrimaryKey  from \"+this.f+\" to \"+a+\" on \"+this.S+\" direction is wrong\");Pf(this,this.P,a)};","l.toString=function(){return\"WebSql\"+Nf.t.toString.call(this)};function Rf(a,b){this.a=b}z(Rf,te);l=Rf.prototype;l.c=N(\"ydn.db.crud.req.WebSql\");","function Of(a,b){if(b.ea&&!b.keyPath&&0==b.a.length&&a._default_){var c=a._default_;if(-1==c.indexOf(\";base64,\"))return yd(c);'\"'==c.charAt(0)&&'\"'==c.charAt(c.length-1)&&(c=c.substr(1,c.length-2));for(var d=c.split(\";base64,\"),c=d[0].split(\":\")[1],d=window.atob(d[1]),e=d.length,f=new Uint8Array(e),g=0;g<e;++g)f[g]=d.charCodeAt(g);return new Blob([f.buffer],{type:c})}c=a._default_?yd(a._default_):{};null!=b.keyPath&&(d=bd(a[b.keyPath],b.type),null!=d&&rd(b,c,d));for(d=0;d<b.a.length;d++)e=b.index(d),","f=e.e,\"_default_\"==f||e.g||e.multiEntry||\"DATE\"!=e.type&&!b.ea||(f=bd(a[f],e.type),t(f)&&ad(e,c,f));return c}l.Ya=function(){throw new db(\"putData\");};","l.U=function(a,b,c,d,e,f){function g(b,d){if(null==e[b])if(M(n.c,\"empty object at \"+b+\" of \"+e.length),p++,p==e.length)L(n.c,q+\" success \"+q),P(a,m,s);else{var C=b+2;C<e.length&&g(C,d)}var B;B=t(f)?sd(h,e[b],f[b]):sd(h,e[b]);C=k+kd(h)+\" (\"+B.gb.join(\", \")+\") VALUES (\"+B.nb.join(\", \")+\");\";M(n.c,R(a)+\" SQL: \"+C+\" PARAMS: \"+B.D+\" REQ: \"+b+\" of \"+e.length);d.executeSql(C,B.D,function(f,q){function C(b,c){var e=\"ydn.db.me:\"+h.getName()+\":\"+b.getName(),e=k+Ca(e)+\" (\"+h.e+\", \"+b.d+\") VALUES (?, ?)\",f=[Qb(ma,","h.type),Qb(c,b.type)];M(n.c,R(a)+\" multiEntry \"+e+\" \"+f);d.executeSql(e,f,function(){},function(a,b){K(n.c,\"multiEntry index insert error: \"+b.message);return!1})}p++;var ma=t(B.key)?B.key:q.insertId;1>q.rowsAffected&&(s=!0,ma=new le(ma+\" no-op\"));for(var Ua=0,kc=h.a.length;Ua<kc;Ua++){var Ja=h.index(Ua);if(Ja.multiEntry)for(var Ra=mb(e[b],Ja.keyPath),ef=(Ra?Ra.length:0)||0,Rd=0;Rd<ef;Rd++)C(Ja,Ra[Rd])}c?P(a,ma):(m[b]=ma,p==e.length?P(a,m,s):(Ua=b+2,Ua<e.length&&g(Ua,f)))},function(d,f){p++;s=!0;","6==f.code?f.name=\"ConstraintError\":K(n.c,\"error: \"+f.message+\" \"+q);if(c)P(a,f,!0);else if(m[b]=f,p==e.length)M(n.c,\"success \"+q),P(a,m,s);else{var h=b+2;h<e.length&&g(h,d)}return!1})}b=!b;var h=T(this.a,d),k=b?\"INSERT INTO \":\"INSERT OR REPLACE INTO \";d=a.a;var n=this,m=[],p=0,q=R(a)+\" inserting \"+e.length+\" objects.\",s=!1;if(0<e.length)for(b=0;2>b&&b<e.length;b++)g(b,d);else L(this.c,\"success\"),P(a,[])};","l.Xa=function(a,b,c){if(0==c.length)P(a,[]);else{for(var d=[],e=0,f=0,g=this,h=function(h,k){var m=[];M(g.c,\"put \"+k.length+\" objects to \"+h);for(var n=pd(T(g.a,h)),p=n?void 0:[],q=0;q<k.length;q++)m.push(b[k[q]]),n||p.push(c[k[q]].q);n=Sc(a);Ya(n,function(b){for(var c=0;c<k.length;c++)d[k[c]]=b[c];e++;e==f&&P(a,d)},function(){e++;e==f&&P(a,d,!0)});g.U(n,!1,!1,h,m,p)},k=\"\",n=[],m=[],p=0;p<c.length;p++){var q=c[p].h(),s=c[p].q;q!=k?(f++,0<n.length&&h(k,n),n=[p],m=[s],k=q):(n.push(p),m.push(s))}0<n.length&&","h(k,n)}};l.ya=function(a,b,c){var d=a.a,e=T(this.a,b),f=this;b=e.e;c=[Qb(c,e.type)];b=\"SELECT * FROM \"+kd(e)+\" WHERE \"+b+\" = ?\";var g=R(a)+\" SQL: \"+b+\" PARAMS: \"+c;M(this.c,g);d.executeSql(b,c,function(b,c){if(0<c.rows.length){var d=c.rows.item(0);null!=d?(d=Of(d,e),P(a,d)):(L(f.c,\"success no result: \"+g),P(a,void 0))}else L(f.c,\"success no result: \"+g),P(a,void 0)},function(b,c){K(f.c,\"error: \"+g+\" \"+c.message);P(a,c,!0);return!1})};","l.Va=function(a,b,c){function d(b,e){var p=k.e,q=[Qb(c[b],k.type)],s=\"SELECT * FROM \"+kd(k)+\" WHERE \"+p+\" = ?\";M(f.c,\"SQL: \"+s+\" PARAMS: \"+q);e.executeSql(s,q,function(e,f){h++;if(0<f.rows.length){var m=f.rows.item(0);null!=m&&(g[b]=Of(m,k))}else g[b]=void 0;h==c.length?P(a,g):(m=b+10,m<c.length&&d(m,e))},function(e,k){h++;K(f.c,\"error: \"+s+\" \"+k.message);if(h==c.length)P(a,g);else{var m=b+10;m<c.length&&d(m,e)}return!1})}var e=a.a,f=this,g=[],h=0,k=T(this.a,b);if(0<c.length)for(b=0;10>b&&b<c.length;b++)d(b,","e);else L(f.c,\"success\"),P(a,[])};","l.Da=function(a,b){function c(d,h){var m=b[d],p=T(e.a,m.h()),q=u(m.q)?m.q.join(\"^|\"):m.q instanceof Date?+m.q:m.q,m=p.e,q=[Qb(q,p.type)],s=\"SELECT * FROM \"+kd(p)+\" WHERE \"+m+\" = ?\";M(e.c,\"SQL: \"+s+\" PARAMS: \"+q);h.executeSql(s,q,function(h,m){g++;if(0<m.rows.length){var n=m.rows.item(0);null!=n&&(f[d]=Of(n,p))}else f[d]=void 0;g==b.length?(M(e.c,\"success \"+s),P(a,f)):(n=d+10,n<b.length&&c(n,h))},function(b,c){P(a,c,!0);return!1})}var d=a.a,e=this,f=[],g=0;if(0<b.length)for(var h=0;10>h&&h<b.length;h++)c(h,","d);else M(this.c,\"success\"),P(a,[])};","l.ta=function(a,b){function c(d,g){function h(a){a=\"ydn.db.me:\"+k.getName()+\":\"+a.getName();a=\"DELETE FROM  \"+Ca(a);M(e.c,\"SQL: \"+a);g.executeSql(a,[])}var k=T(e.a,b[d]),n=\"DELETE FROM  \"+kd(k);M(e.c,\"SQL: \"+n+\" PARAMS: []\");g.executeSql(n,[],function(g){d==b.length-1?(M(e.c,\"success \"+n),P(a,b.length)):c(d+1,g)},function(b,c){P(a,c,!0);return!1});for(var m=0,p=k.a.length;m<p;m++){var q=k.index(m);q.multiEntry&&h(q)}}var d=a.a,e=this;0<b.length?c(0,d):(M(this.c,\"success\"),P(a,0))};","l.$a=function(a,b){function c(h){if(h>=b.length)P(a,f,g);else{var k=T(e.a,b[h].h()),n=Qb(b[h].q,k.type),m=\" WHERE \"+k.e+\" = ?\",p=\"DELETE FROM \"+kd(k)+m,q=R(a)+\" SQL: \"+p+\" PARAMS: \"+[n];d.executeSql(p,[n],function(){f++;c(h)},function(a,b){K(e.c,\"error: \"+q+b.message);g=!0;c(h);return!1});h++;for(var p=function(b){b=\"ydn.db.me:\"+k.getName()+\":\"+b.getName();b=\"DELETE FROM  \"+Ca(b)+m;M(e.c,R(a)+NaN+b);d.executeSql(b,[n])},s=0,x=k.a.length;s<x;s++){var A=k.index(s);A.multiEntry&&p(A)}}}var d=a.a,e=this,","f=0,g=!1;M(this.c,R(a)+\" removeByKeys: \"+b.length+\" keys\");c(0)};l.Ga=function(a,b,c){function d(b){b=\"ydn.db.me:\"+f.getName()+\":\"+b.getName();b=\"DELETE FROM  \"+Ca(b)+k;M(h.c,R(a)+NaN+b);e.executeSql(b,[g])}var e=a.a,f=T(this.a,b),g=Qb(c,f.type),h=this,k=\" WHERE \"+f.e+\" = ?\";b=\"DELETE FROM \"+kd(f)+k;M(this.c,R(a)+\" SQL: \"+b+\" PARAMS: \"+[g]);e.executeSql(b,[g],function(b,c){P(a,c.rowsAffected)},function(b,c){P(a,c,!0);return!1});b=0;for(c=f.a.length;b<c;b++){var n=f.index(b);n.multiEntry&&d(n)}};","l.Qa=function(a,b,c){Sf(this,a,b,void 0,c)};l.Ha=function(a,b,c){Sf(this,a,b,void 0,c)};l.Za=function(a,b,c,d){Sf(this,a,b,c,d)};","function Sf(a,b,c,d,e){function f(c){c=\"ydn.db.me:\"+h.getName()+\":\"+c.getName();c=\"DELETE FROM  \"+Ca(c)+m;M(a.c,R(b)+NaN+c);g.executeSql(c,n)}var g=b.a,h=T(a.a,c);c=\"DELETE FROM \"+kd(h);var k=[],n=[],m=\"\";null!=e&&(t(d)?(d=jd(h,d),Pb(d.d,d.type,e,n,k)):Pb(h.e,h.type,e,n,k),m=\" WHERE \"+n.join(\" AND \"));c+=m;var p=R(b)+\" SQL: \"+c+\" PARAMS: \"+k;M(a.c,p);g.executeSql(c,k,function(c,d){M(a.c,\"success \"+p);P(b,d.rowsAffected)},function(c,d){K(a.c,\"error: \"+p+d.message);P(b,d,!0);return!1});e=0;for(d=h.a.length;e<","d;e++)c=h.index(e),c.multiEntry&&f(c)}l.ua=function(a,b){function c(g){var h=\"SELECT COUNT(*) FROM \"+Ca(b[g]);M(e.c,\"SQL: \"+h+\" PARAMS: []\");d.executeSql(h,[],function(d,e){var h=e.rows.item(0);f[g]=parseInt(h[\"COUNT(*)\"],10);g++;g==b.length?P(a,f):c(g)},function(b,c){P(a,c,!0);return!1})}var d=a.a,e=this,f=[];0==b.length?(M(this.c,\"success\"),P(a,0)):c(0)};","l.Sa=function(a,b,c,d,e){var f=[];b=hd(T(this.a,b),f,6,d,c,!1,e);M(this.c,R(a)+\" SQL: \"+b+\" PARAMS: \"+f);a.a.executeSql(b,f,function(b,c){var d;a:{if(d=c.rows.item(0))for(var e in d)if(d.hasOwnProperty(e)){d=d[e];break a}d=void 0}P(a,d)},function(b,c){P(a,c,!0);return!1})};","l.da=function(a,b,c,d,e,f,g,h,k,n){var m=this,p=[],q=T(this.a,c),s=q.f,x=q.type,A=x,C=null!=d&&d!==s?jd(q,d):null,B=d||s;C&&(A=C.type);c=[];if(n&&t(n[0])){var D=n[0];C&&t(n[1])?(d=n[1],e=md(q,b,c,C.getName(),e,D,!0,d,h,k)):e=ld(q,b,c,d,e,h,k,D,!0)}else e=hd(q,c,b,B,e,h,k);da(f)&&(e+=\" LIMIT \"+f);da(g)&&(e+=\" OFFSET \"+g);var I=a+\" SQL: \"+e+\" ;params= \"+S(c);M(this.c,I);a.a.executeSql(e,c,function(c,d){for(var e=d.rows.length,f,g=0;g<e;g++)f=d.rows.item(g),2==b?p[g]=bd(f[s],x):1==b?p[g]=bd(f[B],A):","3==b?p[g]=[bd(f[B],A),bd(f[s],x)]:null!=f&&(p[g]=Of(f,q));L(m.c,\"success \"+a);n&&f&&(n[0]=bd(f[B],A),n[1]=bd(f[s],x));P(a,p)},function(b,c){K(m.c,\"error: \"+I+c.message);P(a,c,!0);return!1})};function Ge(a,b){this.a=b}z(Ge,Rf);Ge.prototype.c=N(\"ydn.db.core.req.WebSql\");Ge.prototype.b=function(a,b,c,d){c=T(this.a,c);return new Nf(a,b,c,d)};function Tf(a,b){t(a)&&5242880<a&&K(this.c,\"storage size request ignored, use Quota Management API instead\");this.s=null;this.oa=b||NaN}l=Tf.prototype;","l.ia=function(a,b){function c(a,c,d){L(e.c,(d?\"changing\":\"upgrading\")+\" version to \"+a.version+\" from \"+g);for(d=0;d<b.stores.length;d++)Uf(e,a,c,b.stores[d]);c=a.objectStoreNames;var f=c.length;for(d=0;d<f;d++)Fd(b,c[d])||(a.deleteObjectStore(c[d]),L(e.c,\"store: \"+c[d]+\" deleted.\"))}function d(a,b){f.la?K(e.c,\"database already set.\"):t(b)?(K(e.c,b?b.message:\"Error received.\"),e.s=null,f.k(b)):(e.s=a,e.s.onabort=function(){M(e.c,e+\": abort\")},e.s.onerror=function(){M(e.c,e+\": error\")},e.s.onversionchange=","function(a){M(e.c,e+\" closing connection for onversionchange to: \"+a.version);if(e.s&&(e.s.onabort=null,e.s.onblocked=null,e.s.onerror=null,e.s.onversionchange=null,!a.defaultPrevented)){e.s.close();e.s=null;var b=Error();b.name=a.type;e.Ma(b)}},f.n(parseFloat(g)))}var e=this,f=new E,g=void 0,h=b.version;L(e.c,\"Opening database: \"+a+\" ver: \"+(b.ga?\"auto\":h));var k;k=t(h)?lb.open(a,h):lb.open(a);k.onsuccess=function(f){var h=f.target.result;t(g)||(g=h.version);L(e.c,\"Database: \"+h.name+\", ver: \"+h.version+","\" opened.\");if(b.ga)e.L(function(f){if(b instanceof Hd)for(var g=0;g<f.stores.length;g++)Fd(b,f.stores[g].getName())||Id(b,f.stores[g].clone());f=Gd(b,f,!1,!0);if(0<f.length){L(e.c,\"Schema change require for difference in \"+f);var k=da(h.version)?h.version+1:1;if(\"IDBOpenDBRequest\"in r){h.close();var n=lb.open(a,k);n.onupgradeneeded=function(a){a=a.target.result;L(e.c,\"re-open for version \"+a.version);c(a,n.transaction,!1)};n.onsuccess=function(a){d(a.target.result)};n.onerror=function(){L(e.c,e+","\": fail.\");d(null)}}else{var p=h.setVersion(k+\"\");p.a=function(a){K(e.c,\"migrating from \"+h.version+\" to \"+k+\" failed.\");d(null,a)};p.onsuccess=function(){p.transaction.oncomplete=B;c(h,p.transaction,!0)};var B=function(){var b=lb.open(a);b.onsuccess=function(a){a=a.target.result;L(e.c,e+\": OK.\");d(a)};b.onerror=function(){L(e.c,e+\": fail.\");d(null)}};null!=p.transaction&&(p.transaction.oncomplete=B)}}else d(h)},void 0,h);else if(b.version>h.version){var k=h.setVersion(b.version);k.a=function(a){K(e.c,","\"migrating from \"+h.version+\" to \"+b.version+\" failed.\");d(null,a)};k.onsuccess=function(){c(h,k.transaction,!0)}}else b.version==h.version?L(e.c,\"database version \"+h.version+\" ready to go\"):K(e.c,\"connected database version \"+h.version+\" is higher than requested version.\"),e.L(function(a){a=Gd(b,a,!1,!0);0<a.length?(L(e.c,a),d(null,new Ld(\"different schema: \"+a))):d(h)},void 0,h)};k.onupgradeneeded=function(a){a=a.target.result;g=NaN;L(e.c,\"upgrade needed for version \"+a.version);c(a,k.transaction,","!1)};k.onerror=function(c){Lc(e.c,'open request to database \"'+a+'\" '+(t(b.version)?\" with version \"+b.version:\"\")+\" cause error of \"+k.error.name);d(null,c)};k.onblocked=function(c){Lc(e.c,\"database \"+a+\" \"+b.version+\" block, close other connections.\");d(null,c)};da(this.oa)&&!isNaN(this.oa)&&setTimeout(function(){\"done\"!=k.readyState&&(Lc(e.c,e+\": database state is still \"+k.readyState),d(null,new se(\"connection timeout after \"+e.oa)))},this.oa);return f};l.oa=18E4;l.Ma=function(){};l.ab=function(){};","l.Wa=function(){};l.ja=function(){return\"indexeddb\"};l.La=function(){return!!this.s};l.c=N(\"ydn.db.con.IndexedDb\");l.s=null;l.Ka=function(){return this.s?parseFloat(this.s.version):void 0};","l.L=function(a,b,c){c=c||this.s;if(t(b)){if(null===b){if(0==c.objectStoreNames.length){a(new Dd(c.version));return}throw new Kd;}c=b.db}else{b=[];for(var d=c.objectStoreNames.length-1;0<=d;d--)b[d]=c.objectStoreNames[d];if(0==b.length){a(new Dd(c.version));return}b=c.transaction(b,jb)}for(var e=c.objectStoreNames,f=[],g=e.length,d=0;d<g;d++){for(var h=b.objectStore(e[d]),k=[],n=0,m=h.indexNames.length;n<m;n++){var p=h.index(h.indexNames[n]);k[n]=new Wc(p.keyPath,void 0,p.unique,p.multiEntry,p.name)}f[d]=","new fd(h.name,h.keyPath,h.autoIncrement,void 0,k)}b=new Dd(c.version,f);a(b)};","function Uf(a,b,c,d){function e(){var a={autoIncrement:!!d.b};null!=d.keyPath&&(a.keyPath=d.keyPath);return b.createObjectStore(d.getName(),a)}M(a.c,\"Creating Object Store for \"+d.getName()+\" keyPath: \"+d.keyPath);if(b.objectStoreNames.contains(d.getName()))if(c=c.objectStore(d.getName()),dd(d.keyPath||\"\",c.keyPath||\"\"))b.deleteObjectStore(d.getName()),K(a.c,\"store: \"+d.getName()+\" deleted due to keyPath change.\"),c=e();else if(ca(c.autoIncrement)&&ca(d.b)&&c.autoIncrement!=d.b)b.deleteObjectStore(d.getName()),","K(a.c,\"store: \"+d.getName()+\" deleted due to autoIncrement change.\"),c=e();else{for(var f=c.indexNames,g=0,h=0,k=0,n=0;n<d.a.length;n++){var m=d.index(n),p=!1;if(f.contains(m.getName())){var q=c.index(m.getName()),s=null!=q.unique&&null!=m.unique&&q.unique!=m.unique,x=null!=q.multiEntry&&null!=m.multiEntry&&q.multiEntry!=m.multiEntry,q=null!=q.keyPath&&null!=m.keyPath&&!!dd(q.keyPath,m.keyPath);if(s||x||q)c.deleteIndex(m.getName()),p=!0,g--,k++}else\"BLOB\"!=m.type&&(p=!0);p&&(m.unique||m.multiEntry?","(p={unique:m.unique,multiEntry:m.multiEntry},c.createIndex(m.getName(),m.keyPath,p)):c.createIndex(m.getName(),m.keyPath),g++)}for(n=0;n<f.length;n++)nd(d,f[n])||(c.deleteIndex(f[n]),h++);M(a.c,\"Updated store: \"+c.name+\", \"+g+\" index created, \"+h+\" index deleted, \"+k+\" modified.\")}else{c=e();for(n=0;n<d.a.length;n++)m=d.index(n),\"BLOB\"==m.type?a.c.log(Dc,\"Index \"+m+\" of blob data type ignored.\",void 0):(M(a.c,\"Creating index: \"+m),m.unique||m.multiEntry?(p={unique:m.unique,multiEntry:m.multiEntry},","c.createIndex(m.getName(),m.keyPath,p)):c.createIndex(m.getName(),m.keyPath));M(a.c,\"Created store: \"+c)}}l.wa=function(a,b,c,d){var e=this.s;if(!b){b=[];for(var f=e.objectStoreNames.length-1;0<=f;f--)b[f]=e.objectStoreNames[f]}0==b.length?a(null):(b=e.transaction(b,c),b.oncomplete=function(a){d(\"complete\",a)},b.onabort=function(a){d(\"abort\",a)},a(b),a=null)};l.Ja=function(){M(this.c,this+\" closing connection\");this.s.close()};","l.toString=function(){return\"IndexedDB:\"+(this.s?this.s.name+\":\"+this.s.version:\"\")};zb.push(function(a,b){if(!lb||b&&\"indexeddb\"!=b)return null;var c=lb.deleteDatabase(a),d=new O(\"IDBVersionChangeEvent \");c.onblocked=function(a){for(var b=0;b<d.b.length;b++)d.b[b][0].call(d.b[b][1],a)};c.onerror=function(a){d.k(a)};c.onsuccess=function(a){d.n(a)};return d});function Vf(a){Jf.call(this,a);this.b=NaN}z(Vf,Jf);l=Vf.prototype;l.c=N(\"ydn.db.con.SimpleStorage\");l.Ka=function(){return this.b};","l.ia=function(a,b){function c(a,b){setTimeout(function(){b?(L(d.c,d+\" opening fail\"),e.k(b)):(L(d.c,d+\" version \"+d.Ka()+\" open\"),e.n(a))},10)}var d=this,e=new E;this.e=this.g.Ra(a);this.d=a;this.a=b;var f=mf(this.d);this.b=NaN;var g=yd(this.e.getItem(f));t(g.version)&&!da(g.version)&&(g.version=NaN);if(g)if(g=new Dd(g),Gd(this.a,g,!1,!1))if(!this.a.ga&&!isNaN(g.version)&&this.a.version>g.version)c(NaN,new ne(\"existing version \"+g.version+\" is larger than \"+this.a.version));else{var h=this.a.version;","this.b=t(h)?h:g.version+1;for(h=0;h<this.a.count();h++)var k=this.a.Y(h);if(this.a instanceof Hd)for(h=0;h<g.count();h++)k=g.Y(h),Id(this.a,k);h=this.a.toJSON();h.version=this.b||NaN;this.e.setItem(f,S(h));c(g.version||NaN)}else{for(h=0;h<this.a.count();h++)k=this.a.Y(h);this.b=g.version||NaN;c(this.b)}else g=b.toJSON(),this.b=1,g.version=this.b,this.e.setItem(f,S(g)),c(NaN);return e};l.La=function(){return!!this.d};l.Ma=function(){};l.ab=function(){};l.Wa=function(){};l.ja=function(){return\"memory\"};","l.Ja=function(){};l.wa=function(a,b,c,d){a(new Kf(this,function(a,b){d(a,b)}))};l.toString=function(){return\"SimpleStorage:\"+this.ja()+\":\"+(this.d+\":\"+this.b)};function Wf(){Vf.call(this,this)}z(Wf,Vf);Wf.prototype.Ra=function(){return window.localStorage};Wf.prototype.ja=function(){return\"localstorage\"};zb.push(function(a,b){if(!b||\"localstorage\"==b){var c=new Wf,d=new Hd;c.ia(a,d);c.L(function(a){for(var b=0;b<a.stores.length;b++)kf(c,a.stores[b].getName()).clear()})}});function Xf(){Vf.call(this,this)}z(Xf,Vf);Xf.prototype.Ra=function(){return window.sessionStorage};Xf.prototype.ja=function(){return\"sessionstorage\"};","zb.push(function(a,b){if(!b||\"sessionstorage\"==b){var c=new Xf,d=new Hd;c.ia(a,d);c.L(function(a){for(var b=0;b<a.stores.length;b++)kf(c,a.stores[b].getName()).clear()})}});function Yf(a){this.a=t(a)?a:4194304}l=Yf.prototype;","l.ia=function(a,b){function c(b,c){var f=b.version?parseInt(b.version,10):0,g=c.ga?isNaN(f)?1:f+1:c.version;Mc(e.c,a+\": changing version from \"+b.version+\" to \"+g);var h=!1,k=0;b.changeVersion(b.version,g+\"\",function(a){e.L(function(b){h=!0;for(var d=0;d<c.count();d++){var f=T(b,c.Y(d).getName()),f=f?od(f,c.Y(d)):null;Zf(e,a,c.Y(d),function(a){a&&k++},f)}for(d=0;d<b.count();d++)f=b.Y(d),Fd(c,f.getName())||(c instanceof Hd?Id(c,f):(f=\"DROP TABLE \"+kd(f),L(e.c,f),a.executeSql(f,[],function(){},function(a,","b){throw b;})))},a,b)},function(c){Lc(e.c,\"SQLError \"+c+\" \"+c.code+\"(\"+c.message+\") while changing version from \"+b.version+\" to \"+g+\" on \"+a);throw c;},function(){if(h){var f=\".\";k!=c.stores.length&&(f=\" but unexpected stores exists.\");M(e.c,a+\":\"+b.version+\" ready\"+f);d(b)}else K(e.c,a+\": changing version voided.\")})}function d(a,b){t(b)?(e.u=null,g.k(b)):(e.u=a,g.n(parseFloat(f)))}var e=this,f=NaN,g=new E,h=null;try{h=r.openDatabase(a,\"\",a,this.a)}catch(k){if(\"SECURITY_ERR\"==k.name)K(this.c,\"SECURITY_ERR for opening \"+","a),h=null,this.Ua=new re(k);else throw k;}if(h){var f=h.version,n=\"database \"+a+(0==h.version.length?\"\":\" version \"+h.version);null!=b.version&&b.version==h.version?(Mc(e.c,\"Existing \"+n+\" opened as requested.\"),d(h)):this.L(function(a){(a=Gd(b,a,!0,!1))?(0==h.version.length?Mc(e.c,\"New \"+n+\" created.\"):b.ga?Mc(e.c,\"Existing \"+n+\" opened and schema change for \"+a):Mc(e.c,\"Existing \"+n+\" opened and  schema change to version \"+b.version+\" for \"+a),c(h,b)):(Mc(e.c,\"Existing \"+n+\" with same schema opened.\"),","d(h))},null,h)}else d(null,this.Ua);return g};l.ja=function(){return\"websql\"};l.Ua=null;l.u=null;l.c=N(\"ydn.db.con.WebSql\");l.Ma=function(){};l.ab=function(){};","function $f(a){var b=a.r,c=\"CREATE TABLE IF NOT EXISTS \"+kd(a)+\" (\",d=a.e,c=c+(d+\" \"+b+\" PRIMARY KEY \");a.b&&(c+=\" AUTOINCREMENT \");if(!a.ea||!a.keyPath&&0==a.a.length)c+=\" ,_default_ BLOB\";for(var e=[],f=[d],g=0,h=a.a.length;g<h;g++){var k=a.index(g),n=\"\";if(k.multiEntry){var n=\"ydn.db.me:\"+a.getName()+\":\"+k.getName(),m=k.unique?\" UNIQUE \":\"\",k=\"CREATE TABLE IF NOT EXISTS \"+Ca(n)+\" (\"+d+\" \"+b+\", \"+k.d+\" \"+k.i+m+\")\";e.push(k)}else k.unique&&(n=\" UNIQUE \"),m=k.keyPath,\"BLOB\"!=k.type&&w(m)&&(m=\"CREATE \"+","n+\" INDEX IF NOT EXISTS \"+Ca(a.getName()+\"-\"+k.getName())+\" ON \"+kd(a)+\" (\"+Ca(m)+\")\",e.push(m)),m=k.d,-1==f.indexOf(m)&&(c+=\", \"+m+\" \"+k.i+n,f.push(m))}e.unshift(c+\")\");return e}l.Ka=function(){return this.u?parseFloat(this.u.version):void 0};","l.L=function(a,b,c){function d(a,b){throw b;}function e(b,c){if(c&&c.rows){for(var d=0;d<c.rows.length;d++){var e=c.rows.item(d);if(\"__WebKitDatabaseInfoTable__\"!=e.name&&\"sqlite_sequence\"!=e.name&&\"table\"==e.type){var q=\"sql\"in e?e.sql:void 0;M(f.c,\"Parsing table schema from SQL: \"+q);for(var s=q.substr(q.indexOf(\"(\"),q.lastIndexOf(\")\")).match(/(?:\"[^\"]*\"|[^,])+/g),x=void 0,A,q=[],C=!1,B=!1,D=0;D<s.length;D++){var I=s[D].match(/\\w+|\"[^\"]+\"/g),aa=Ia(I,function(a){return a.toUpperCase()}),ma=za(I[0]),","I=Yc(aa[1]);if(-1!=aa.indexOf(\"PRIMARY\")&&-1!=aa.indexOf(\"KEY\")){A=I;if(w(ma)&&!qa(ma)&&\"_ROWID_\"!=ma){var Ua=ma.split(\",\"),x=ma;1<Ua.length&&(x=Ua,A=void 0)}-1!=aa.indexOf(\"AUTOINCREMENT\")&&(C=!0)}else if(\"_ROWID_\"!=ma)if(\"_default_\"==ma)B=!0;else{var kc=\"UNIQUE\"==aa[2];0==ma.lastIndexOf(e.tbl_name+\"-\",0)&&(ma=ma.substr(e.tbl_name.length+1));aa=new Wc(ma,I,kc);q.push(aa)}}if(0==e.name.lastIndexOf(\"ydn.db.me:\",0)){var Ja=e.name.split(\":\");if(3<=Ja.length){var Ra=Ja[1],x=new Wc(Ja[2],I,kc,!0),s=Ma(q,","function(a){return a.getName()==Ja[2]});0<=s?q[s]=x:q.push(x);s=Ma(h,function(a){return a.getName()===Ra});0<=s?(D=h[s],h[s]=new fd(D.getName(),D.keyPath,C,A,q,void 0,!B)):h.push(new fd(Ra,void 0,!1,void 0,[x]));M(f.c,'multi entry index \"'+x.getName()+'\" found in '+Ra+(-1==s?\"*\":\"\"))}else K(f.c,'Invalid multiEntry store name \"'+e.name+'\"')}else D=Ma(h,function(a){return a.getName()===e.name}),0<=D?(s=h[D].index(0),q.push(s),h[D]=new fd(e.name,x,C,A,q,void 0,!B)):(q=new fd(e.name,x,C,A,q,void 0,!B),","h.push(q))}}d=new Dd(g,h);a(d)}}var f=this,g=(c=c||this.u)&&c.version?parseFloat(c.version):void 0,g=isNaN(g)?void 0:g,h=[];b?b.executeSql(\"SELECT * FROM sqlite_master\",[],e,d):c.readTransaction(function(b){f.L(a,b,c)},function(a){Lc(f.c,\"opening tx: \"+a.message);throw a;},e)};","function Zf(a,b,c,d,e){function f(a){b.executeSql(a,[],function(){g++;g==h.length&&(d(!0),d=null)},function(b,e){g++;g==h.length&&(d(!1),d=null);var f=\"SQLError creating table: \"+c.getName()+\" \"+e.message+' for executing \"'+a;throw new qe(e,f);})}var g=0,h=$f(c),k=\"Create\";if(e){e=td(c,e);if(0==e.length){M(a.c,\"same table \"+c.getName()+\" exists.\");d(!0);d=null;return}k=\"Modify\";K(a.c,\"table: \"+c.getName()+\" has changed by \"+e+\" ALTER TABLE cannot run in WebSql, dropping old table.\");h.unshift(\"DROP TABLE IF EXISTS \"+","Ca(c.getName()))}M(a.c,k+\" table: \"+c.getName()+\": \"+h.join(\";\"));for(a=0;a<h.length;a++)f(h[a])}l.La=function(){return!!this.u};l.Ja=function(){this.u=null};l.wa=function(a,b,c,d){function e(a){M(h.c,h+\": Tx \"+c+\" request cause error.\");d(\"abort\",a)}function f(){d(\"complete\",{type:\"complete\"})}function g(b){a(b)}var h=this;null===this.u&&(a(null),d(\"abort\",this.Ua));c==jb?this.u.readTransaction(g,e,f):c==kb?this.u.changeVersion(this.u.version,this.u.version+1+\"\",g,e,f):this.u.transaction(g,e,f)};","zb.push(function(a,b){if(!b||\"websql\"==b){var c=new Yf,d=new Hd;L(c.c,\"deleting websql database: \"+a);var d=c.ia(a,d),e=function(){c.c.log(Dc,\"all tables in \"+a+\" deleted.\",void 0)};d.N(function(){c.wa(function(b){b.executeSql('SELECT * FROM sqlite_master WHERE type = \"table\"',[],function(d,e){if(e&&e.rows){for(var k=e.rows.length,n=0,m=0;m<k;m++){var p=e.rows.item(m);\"__WebKitDatabaseInfoTable__\"!=p.name&&\"sqlite_sequence\"!=p.name&&(n++,M(c.c,\"deleting table: \"+p.name),b.executeSql(\"DROP TABLE \"+","p.name))}L(c.c,n+' tables deleted from \"'+a+'\"')}},function(a,b){throw b;})},[],G,e)});d.eb(function(){K(c.c,\"Connecting \"+a+\" failed.\")})}});Yf.prototype.Wa=function(){};Yf.prototype.toString=function(){return\"WebSql:\"+(this.u?\":\"+this.u.version:\"\")};/*"," Copyright 2012 YDN Authors, Yathit. All Rights Reserved."," Licensed under the Apache License, Version 2.0 (the \"License\");.","*/","Ve.prototype.Ta=function(a){return\"indexeddb\"==a&&lb?new Tf(this.r,this.B):\"websql\"==a&&ea(r.openDatabase)?new Yf(this.r):\"localstorage\"==a&&window.localStorage?new Wf:\"sessionstorage\"==a&&window.sessionStorage?new Xf:\"memory\"==a?new Vf:null};/*"," Copyright 2012 YDN Authors, Yathit. All Rights Reserved."," Licensed under the Apache License, Version 2.0 (the \"License\");.","*/","Ve.prototype.branch=Ve.prototype.qb;Ve.prototype.getTxNo=Ve.prototype.Lb;Ee.prototype.getTxNo=Ee.prototype.Kb;Ve.prototype.run=Ve.prototype.zb;Ve.prototype.spawn=Ve.prototype.Cb;X.prototype.branch=X.prototype.qb;X.prototype.add=X.prototype.add;X.prototype.get=X.prototype.get;X.prototype.keys=X.prototype.keys;X.prototype.values=X.prototype.D;X.prototype.put=X.prototype.put;X.prototype.clear=X.prototype.clear;X.prototype.remove=X.prototype.Oa;X.prototype.count=X.prototype.count;Je.prototype.add=Je.prototype.add;Je.prototype.get=Je.prototype.get;Je.prototype.keys=Je.prototype.keys;Je.prototype.values=Je.prototype.D;Je.prototype.put=Je.prototype.put;Je.prototype.clear=Je.prototype.clear;","Je.prototype.remove=Je.prototype.Oa;Je.prototype.count=Je.prototype.count;na(\"ydn.db.Key\",Hb);Hb.prototype.id=Hb.prototype.tb;Hb.prototype.parent=Hb.prototype.Db;Hb.prototype.storeName=Hb.prototype.h;na(\"ydn.db.KeyRange\",J);J.upperBound=J.upperBound;J.lowerBound=J.lowerBound;J.bound=J.bound;J.only=J.only;J.starts=Mb;Db.prototype.store_name=Db.prototype.J;Db.prototype.getStoreName=Db.prototype.h;function ag(a,b,c){X.call(this,a,b,c)}z(ag,Xe);na(\"ydn.db.Storage\",ag);function bg(){this.a=la()}var cg=new bg;bg.prototype.get=function(){return this.a};function dg(a){this.e=a||\"\";this.f=cg}dg.prototype.a=!0;dg.prototype.b=!1;function eg(a){a=new Date(a.g);return fg(a.getFullYear()-2E3)+fg(a.getMonth()+1)+fg(a.getDate())+\" \"+fg(a.getHours())+\":\"+fg(a.getMinutes())+\":\"+fg(a.getSeconds())+\".\"+fg(Math.floor(a.getMilliseconds()/10))}function fg(a){return 10>a?\"0\"+a:String(a)}function gg(a,b){var c=(a.g-b)/1E3,d=c.toFixed(3),e=0;if(1>c)e=2;else for(;100>c;)e++,c*=10;for(;0<e--;)d=\" \"+d;return d}function hg(a){dg.call(this,a)}z(hg,dg);hg.prototype.b=!0;","hg.prototype.d=function(a){var b;switch(a.f.value){case Ac.value:b=\"dbg-sh\";break;case Bc.value:b=\"dbg-sev\";break;case Cc.value:b=\"dbg-w\";break;case Dc.value:b=\"dbg-i\";break;default:b=\"dbg-f\"}var c=[];c.push(this.e,\" \");this.a&&c.push(\"[\",eg(a),\"] \");c.push(\"[\",ya(gg(a,this.f.get())),\"s] \");c.push(\"[\",sa(a.d),\"] \");c.push('<span class=\"',b,'\">',ra(ya(sa(a.e))));this.b&&a.b&&c.push(\"<br>\",ra(ya(a.a||\"\")));c.push(\"</span><br>\");return c.join(\"\")};function ig(a){dg.call(this,a)}z(ig,dg);","ig.prototype.d=function(a){var b=[];b.push(this.e,\" \");this.a&&b.push(\"[\",eg(a),\"] \");b.push(\"[\",gg(a,this.f.get()),\"s] \");b.push(\"[\",a.d,\"] \");b.push(a.e,\"\\n\");this.b&&a.b&&b.push(a.a,\"\\n\");return b.join(\"\")};function jg(){this.f=ja(this.g,this);this.a=new ig;this.a.a=!1;this.b=this.a.b=!1;this.d=\"\";this.e={}}jg.prototype.g=function(a){if(!this.e[a.d]){var b=this.a.d(a),c=kg;if(c)switch(a.f){case Ac:lg(c,\"info\",b);break;case Bc:lg(c,\"error\",b);break;case Cc:lg(c,\"warn\",b);break;default:lg(c,\"debug\",b)}else window.opera?window.opera.postError(b):this.d+=b}};var kg=window.console;function lg(a,b,c){if(a[b])a[b](c);else a.log(c)};var mg,ng=!dc||dc&&9<=rc;!ec&&!dc||dc&&dc&&9<=rc||ec&&pc(\"1.9.1\");dc&&pc(\"9\");function og(a,b){var c;c=a.className;c=w(c)&&c.match(/\\S+/g)||[];for(var d=Pa(arguments,1),e=c.length+d.length,f=c,g=0;g<d.length;g++)0<=Ga(f,d[g])||f.push(d[g]);a.className=c.join(\" \");return c.length==e};function pg(a,b){Sb(b,function(b,d){\"style\"==d?a.style.cssText=b:\"class\"==d?a.className=b:\"for\"==d?a.htmlFor=b:d in qg?a.setAttribute(qg[d],b):0==d.lastIndexOf(\"aria-\",0)||0==d.lastIndexOf(\"data-\",0)?a.setAttribute(d,b):a[d]=b})}var qg={cellpadding:\"cellPadding\",cellspacing:\"cellSpacing\",colspan:\"colSpan\",frameborder:\"frameBorder\",height:\"height\",maxlength:\"maxLength\",role:\"role\",rowspan:\"rowSpan\",type:\"type\",usemap:\"useMap\",valign:\"vAlign\",width:\"width\"};","function rg(a,b,c){function d(c){c&&b.appendChild(w(c)?a.createTextNode(c):c)}for(var e=2;e<c.length;e++){var f=c[e];!v(f)||y(f)&&0<f.nodeType?d(f):Ha(sg(f)?Oa(f):f,d)}}function sg(a){if(a&&\"number\"==typeof a.length){if(y(a))return\"function\"==typeof a.item||\"string\"==typeof a.item;if(ea(a))return\"function\"==typeof a.item}return!1}function tg(a){this.a=a||r.document||document}","function ug(a,b){var c;c=a.a;var d=b&&\"*\"!=b?b.toUpperCase():\"\";c.querySelectorAll&&c.querySelector&&d?c=c.querySelectorAll(d+\"\"):c=c.getElementsByTagName(d||\"*\");return c}","tg.prototype.b=function(a,b,c){var d=this.a,e=arguments,f=e[0],g=e[1];if(!ng&&g&&(g.name||g.type)){f=[\"<\",f];g.name&&f.push(' name=\"',sa(g.name),'\"');if(g.type){f.push(' type=\"',sa(g.type),'\"');var h={};Vb(h,g);delete h.type;g=h}f.push(\">\");f=f.join(\"\")}f=d.createElement(f);g&&(w(g)?f.className=g:u(g)?og.apply(null,[f].concat(g)):pg(f,g));2<e.length&&rg(d,f,e);return f};","tg.prototype.contains=function(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if(\"undefined\"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a};function vg(a){this.f=ja(this.g,this);this.b=new hg;this.d=this.b.a=!1;this.a=a;this.e=this.a.ownerDocument||this.a.document;var b=(a=this.a)?new tg(9==a.nodeType?a:a.ownerDocument||a.document):mg||(mg=new tg),c=null;dc?(a=c=b.a.createStyleSheet(),dc?a.cssText=\".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}\":","a.innerHTML=\".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}\"):(a=ug(b,\"head\")[0],a||(c=ug(b,\"body\")[0],a=b.b(\"head\"),c.parentNode.insertBefore(a,c)),b=c=b.b(\"style\"),dc?b.cssText=\".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}\":","b.innerHTML=\".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}\",a.appendChild(c));this.a.className+=\" logdiv\"}","vg.prototype.g=function(a){var b=100>=this.a.scrollHeight-this.a.scrollTop-this.a.clientHeight,c=this.e.createElement(\"div\");c.className=\"logmsg\";c.innerHTML=this.b.d(a);this.a.appendChild(c);b&&(this.a.scrollTop=this.a.scrollHeight)};vg.prototype.clear=function(){this.a.innerHTML=\"\"};dc&&pc(\"9\");!fc||pc(\"528\");ec&&pc(\"1.9b\")||dc&&pc(\"8\")||cc&&pc(\"9.5\")||fc&&pc(\"528\");ec&&!pc(\"8\")||dc&&pc(\"9\");var wg=null,xg=null;N(\"ydn.debug\");na(\"ydn.debug.log\",function(a,b,c){if(da(b))b=new zc(\"log\",b);else if(w(b)){b=b.toUpperCase();if(!Jc){Jc={};for(var d=0,e;e=Ic[d];d++)Jc[e.value]=e,Jc[e.name]=e}b=Jc[b]||null}else b=Fc;N(a||\"ydn\").b=b;t(c)?xg||(a=xg=new vg(c),!0!=a.d&&(c=Qc(),b=a.f,c.a||(c.a=[]),c.a.push(b),a.d=!0),Qc().b=Cc):wg||xg||(a=wg=new jg,!0!=a.b&&(c=Qc(),b=a.f,c.a||(c.a=[]),c.a.push(b),a.b=!0),Qc().b=Cc)});function yg(){};function zg(){this.b=[];this.e=this.d=0;for(var a=[],b=0;64>b;b++)a[b]=0;this.f=a;this.f[0]=128;this.a=[];this.g=0;this.b=[];this.e=this.d=0;this.a=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];this.g=8}z(zg,yg);","function Ag(a,b){for(var c=[],d=0,e=0;e<b.length;)c[d++]=b[e]<<24|b[e+1]<<16|b[e+2]<<8|b[e+3],e=4*d;for(d=16;64>d;d++)c[d]=c[d-16]+((c[d-15]>>>7|c[d-15]<<25)^(c[d-15]>>>18|c[d-15]<<14)^c[d-15]>>>3)+c[d-7]+((c[d-2]>>>17|c[d-2]<<15)^(c[d-2]>>>19|c[d-2]<<13)^c[d-2]>>>10)&4294967295;for(var e=a.a[0],f=a.a[1],g=a.a[2],h=a.a[3],k=a.a[4],n=a.a[5],m=a.a[6],p=a.a[7],d=0;64>d;d++)var q=((e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10))+(e&f^e&g^f&g)&4294967295,s=p+((k>>>6|k<<26)^(k>>>11|k<<21)^(k>>>25|k<<7))+(k&","n^~k&m)+a.i[d]+c[d]&4294967295,p=m,m=n,n=k,k=h+s&4294967295,h=g,g=f,f=e,e=s+q&4294967295;a.a[0]=a.a[0]+e&4294967295;a.a[1]=a.a[1]+f&4294967295;a.a[2]=a.a[2]+g&4294967295;a.a[3]=a.a[3]+h&4294967295;a.a[4]=a.a[4]+k&4294967295;a.a[5]=a.a[5]+n&4294967295;a.a[6]=a.a[6]+m&4294967295;a.a[7]=a.a[7]+p&4294967295}","zg.prototype.update=function(a,b){t(b)||(b=a.length);var c=0,d=this.d;if(w(a))for(;c<b;)this.b[d++]=a.charCodeAt(c++),64==d&&(Ag(this,this.b),d=0);else for(;c<b;)this.b[d++]=a[c++],64==d&&(Ag(this,this.b),d=0);this.d=d;this.e+=b};function Bg(a){var b=[],c=8*a.e;56>a.d?a.update(a.f,56-a.d):a.update(a.f,64-(a.d-56));for(var d=63;56<=d;d--)a.b[d]=c&255,c/=256;Ag(a,a.b);for(d=c=0;d<a.g;d++)for(var e=24;0<=e;e-=8)b[c++]=a.a[d]>>e&255;return b}","zg.prototype.i=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,","3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Cg(){zg.call(this)}z(Cg,zg);function Dg(a){for(var b=[],c=0,d=0;d<a.length;d++){for(var e=a.charCodeAt(d);255<e;)b[c++]=e&255,e>>=8;b[c++]=e}return b};function Eg(){this.d=[];this.b=this.a=0};var Fg=null,Gg=null;function Hg(a,b,c){this.a=a;this.b=Dg(b);this.d=c}Hg.prototype.c=N(\"ydn.db.rich.RichStorage\");","function Ig(a,b){var c=new Cg;c.update(Dg(b));c.update(a.b);c=Bg(c);if(!v(c))throw Error(\"encodeByteArray takes an array as a parameter\");if(!Fg){Fg={};Gg={};for(var d=0;65>d;d++)Fg[d]=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\".charAt(d),Gg[d]=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.\".charAt(d)}for(var d=Gg,e=[],f=0;f<c.length;f+=3){var g=c[f],h=f+1<c.length,k=h?c[f+1]:0,n=f+2<c.length,m=n?c[f+2]:0,p=g>>2,g=(g&3)<<4|k>>4,k=(k&15)<<2|m>>6,m=m&63;n||","(m=64,h||(k=64));e.push(d[p],d[g],d[k],d[m])}return e.join(\"\")}","function Jg(a,b,c,d){if(!(0<b.length))throw Error(\"Non-empty salt must be provided\");var e=new Cg;e.update(Dg(c));e.update(b);e.update(a.b);a=new Eg;var e=Bg(e),f;f||(f=e.length);b=a.d;for(c=0;256>c;++c)b[c]=c;var g=0;for(c=0;256>c;++c){var g=g+b[c]+e[c%f]&255,h=b[c];b[c]=b[g];b[g]=h}a.a=0;a.b=0;f=a.a;e=a.b;b=a.d;for(c=0;1536>c;++c)f=f+1&255,e=e+b[f]&255,g=b[f],b[f]=b[e],b[e]=g;a.a=f;a.b=e;d=Dg(d);var k;k||(k=d.length);f=a.a;e=a.b;b=a.d;for(c=0;c<k;++c)f=f+1&255,e=e+b[f]&255,g=b[f],b[f]=b[e],b[e]=","g,d[c]^=b[b[f]+b[e]&255];a.a=f;a.b=e;return String.fromCharCode.apply(null,d)}function Kg(a,b,c){var d;b=Ig(a,b);for(var e=[],f=0;8>f;++f)e[f]=256*Math.random()|0;c=Jg(a,e,b,S(c));f={};f.salt=e;f.data=c;t(d)||(d=a.d);d&&(f.expiration=d+la());f.creation=la();f[\"key-name\"]=a.a;return[b,f]};X.prototype.cb=function(a){var b=this;vd(a,function(a,d){var e=a.d;if(\"add\"==e||\"put\"==e){var e=b.f[0],f=d[2],g=d[1];w(f)?(e=Kg(e,f,g),d[2]=e[0],d[1]=e[1]):K(b.c,'encrypted store key must be a string but \"'+f+'\" of type '+typeof f+\" found\")}else if(\"get\"==e){var h=d[0],k=d[1];Uc(a,function(a,c,d){if(t(a))d(a,c);else{for(var e=[],f=0;f<b.f.length;f++)e.push(new Hb(h,Ig(b.f[f],k)));Ya(Le(b.d,e),function(a){for(var c=0;c<a.length;++c)if(null!=a[c])try{var f;a:{var g=b.f[c],h=e[c].q,k=a[c];if(!k)K(g.c,","h+\" corrupted: \"+k);else if(k[\"key-name\"]==g.a){var m=k.salt,n=k.data;if(!w(n)||!u(m)||!m.length)throw\"Storage: Invalid value was encountered\";var s=Jg(g,m,h,n);try{k.data=xd(s)}catch(kc){throw\"Storage: The value could not be decrypted\";}var Ja=k.creation,Ra=k.expiration;f=Ra&&Ra<la()||Ja&&Ja>la()?void 0:k.data;break a}f=void 0}if(null!=f){d(f);return}}catch(ef){}d(void 0)},function(){d(a,c)})}})}else\"rm\"==e&&(h=d[0],k=d[1],w(k)&&(d[1]=Ig(b.f[0],k)))})};","X.prototype.lb=function(a){if(!a)return!1;this.f=[];this.w=[];var b=!1,c=a.expiration;a=a.secrets;if(!a)throw new F(\"Encryption secrets required.\");if(!u(a))throw new F(\"Encryption secrets must be arrays.\");for(var d=0;d<a.length;d++){var b=a[d],e;for(e in b)if(-1==Ga([\"name\",\"key\"],e))throw new F('Unknown Encryption secret key \"'+e+'\"');if(!w(b.name))throw new F(\"Encryption secret at \"+d+\" must have name of type string\");if(!w(b.key))throw new F(\"Encryption secret at \"+d+\" must have key of type string\");","this.w.push(b.name);this.f.push(new Hg(b.name,b.key,c));b=!0}return b};function Lg(a){this.db=a}function Mg(a,b,c,d){var e=Pe(a.db,function(a){var b=a.ra();if(w(c))nb(b,c,d);else if(u(c))for(var h=0;h<c.length;h++)nb(b,c[h],d[h]);else if(y(c))for(h in c)c.hasOwnProperty(h)&&(b[h]=c[h]);a=a.update(b);e.N(ja(a.xb,a))},b,a);return e}Lg.prototype.count=function(a){var b;b=ge(a)?this.db.count(a):a.e?this.db.count(a.h(),a.a,ee(a)):this.db.count(a.h(),ee(a));a.f!=be&&b.sa(function(){\"busy\"!=a.f&&ie(a)});return b};","Lg.prototype.clear=function(a){return a.e?this.db.clear(a.h(),a.a,a.Ca()):this.db.clear(a.h(),a.Ca())};function Ng(a){je.call(this,a)}z(Ng,je);","Ng.prototype.b=function(a,b){var c=[],d=b[0];if(null==d)return[];for(var e=!0,f=!1,g=d,h=[],k=1;k<a.length;k++)if(null!=b[k]){var n=H(d,b[k]);h[k]=n;this.a?-1==n?e=!1:1==n&&(e=!1,f=!0,-1==H(b[k],g)&&(g=b[k])):1==n?e=!1:-1==n&&(e=!1,f=!0,1==H(b[k],g)&&(g=b[k]))}else e=!1,f=!0;if(e)for(f=0;f<a.length;f++)null!=b[f]&&(c[f]=!0);else if(f)for(f=0;f<a.length;f++)null!=b[f]&&(this.a?-1==H(g,b[f])&&(c[f]=g):1==H(g,b[f])&&(c[f]=g));else for(k=this.a?-1:1,f=1;f<a.length;f++)h[f]===k&&(c[f]=d);return e?(this.d&&","this.d.push(g),c):{continuePrimary:c}};function Og(a){this.db=a}function Pg(a,b,c){var d=new Ng([]),d=Oe(a.db,d,c),e=c[0].h(),f=Sc(d);Ya(d,function(a){2==b?f.n(a):(a=this.db.D(e,a),Ya(f,a.n,a.k,a))},function(a){f.k(a)},a);return f}Og.prototype.count=function(a){var b;b=ge(a)?this.db.count(a):a.e?this.db.count(a.h(),a.a,ee(a)):this.db.count(a.h(),ee(a));a.f!=be&&b.sa(function(){\"busy\"!=a.f&&ie(a)});return b};Og.prototype.clear=function(a){return a.e?this.db.clear(a.h(),a.a,a.Ca()):this.db.clear(a.h(),a.Ca())};function Z(a,b,c,d){this.db=a;this.b=b;this.type=d||0;this.a=u(c)?c:[c];this.d=null}l=Z.prototype;l.Eb=function(){for(var a=[],b=0;b<this.a.length;b++)a[b]=he(this.a[b]);a=new Z(this.db,this.b,a,this.type);a.d=this.d;a.e=this.e;return a};l.reverse=function(){for(var a=[],b=0;b<this.a.length;b++)a[b]=this.a[b].reverse();return new Z(this.db,this.b,a,this.type)};","l.unique=function(a){if(!ca(a))throw new F(\"unique value must be a boolean, but \"+typeof a+\" found\");if(1<this.a.length)throw new F(\"multi-iterators cannot be set unique property\");var b=this.a[0];if(!b.e)throw new F(\"primary key query is already unique\");return new Z(this.db,this.b,[b.unique(a)],this.type)};","l.Q=function(a){var b=w(a)?[a]:a;if(1!=b.length)throw new F(\"Multi ordering not implemented, wait for next release\");if(1<this.a.length)throw new F(\"order cannot be set\");a=this.a[0];var c=T(this.b,a.h()),d=ee(a);if(a.e){if(a.a!=b[0])if(b=[a.a,b[0]],d)if(d.lower==d.upper)d=Mb([d.lower]),a=new V(a.h(),b.join(\", \"),d,fe(a),ge(a),a.d,b);else throw new F(\"Not supported\");else a=new V(a.h(),b.join(\", \"),null,fe(a),ge(a),a.d,b)}else if(b[0]!=c.keyPath){if(d)throw new F(\"Not possible without using in memory sorting.\");","a=new de(a.h(),b[0],null,fe(a),ge(a))}return new Z(this.db,this.b,a,this.type)};l.p=function(a,b,c,d,e){var f=this.a[0];if(f.b)throw new F(\"joint query not implemented yet\");var f=f.h(),g=T(this.b,f),f=a==g.keyPath?new ce(f,Rb(b,c,d,e)):new de(f,a,Rb(b,c,d,e));return new Z(this.db,this.b,f,this.type)};","l.select=function(a){var b=T(this.b,this.a[0].h()),c=u(a)?a:[a],d=this.type;a=he(this.a[0]);if(1==c.length)if(c=c[0],\"_ROWID_\"==c||c===b.keyPath)d=2;else if(c&&\"*\"!=c)if(nd(b,c)){if(a.e){if(b=a.a,c!=b)throw new F('select field name must be \"'+b+'\", but \"'+c+'\" found.');}else a=new V(a.h(),c,ee(a),fe(a),ge(a),!0);d=1}else throw new F('Invalid select \"'+c+'\", index not found in store \"'+b.getName()+'\"');else d=4;else if(2==c.length){if(!a.e)throw new F(\"Only primary key can be selected for this query.\");","for(d=0;2>d;d++)if(\"_ROWID_\"!=c[d]&&!(t(b.keyPath)&&(1==b.g.length?b.keyPath===c[d]:v(c[d])&&Qa(b.g,c[d])))){var e=a.a;if(c[d]!=e)throw new F('select field name must be \"'+e+'\", but \"'+c[d]+'\" found.');}d=3}else throw new F(\"Selecting more than 2 field names is not supported, but \"+c.length+\" fields selected.\");return new Z(this.db,this.b,a,d)};","l.Fb=function(a){var b=4;if(2==this.type||3==this.type||1==this.type)b=this.type;return 1==this.a.length?Qe((new Lg(this.db)).db,b,this.a[0],a||100):Pg(new Og(this.db),b,this.a)};","l.Gb=function(a,b){if(1>arguments.length)throw new F(\"too few arguments\");if(2==arguments.length){if(!w(a)&&u(a)){if(!u(b))throw new F(\"an array is expected for second argument but, \"+zd(b)+\" of type \"+typeof b+\" found\");if(a.length!=b.length)throw new F(\"length of two input arguments must be equal but, \"+a.length+\" and \"+b.length+\" found\");}}else if(1==arguments.length){if(!y(a))throw new F(\"an object is expected but, \"+zd(a)+\" of type \"+typeof a+\" found\");}else throw new F(\"too many arguments\");","return Mg(new Lg(this.db),this.a[0],a,b)};l.count=function(){return(new Lg(this.db)).count(this.a[0])};l.clear=function(){return(new Lg(this.db)).clear(this.a[0])};Xe.prototype.O=function(a,b,c,d,e){if(!w(a))throw new TypeError('store name \"'+a+'\"');if(!Fd(this.b,a))throw new F('Store \"'+a+'\" not found.');var f;if(t(b)){if(!t(c))throw new F(\"boundary value must be defined.\");f=Rb(b,c,d,e)}else if(t(d))throw new F(\"second boundary must not be defined.\");a=new ce(a,f);return new Z(this.d,this.b,a)};","Me.prototype.O=function(a,b,c,d,e){if(!w(a))throw new TypeError('store name \"'+a+'\"');if(!Fd(this.b,a))throw new F('Store \"'+a+'\" not found.');var f;if(t(b)){if(!t(c))throw new F(\"boundary value must be defined.\");f=Rb(b,c,d,e)}else if(t(d))throw new F(\"second boundary must not be defined.\");a=new ce(a,f);return new Z(this,this.b,a)};N(\"ydn.db.query.RestrictionCursor\");Z.prototype.copy=Z.prototype.Eb;Z.prototype.count=Z.prototype.count;Z.prototype.list=Z.prototype.Fb;Z.prototype.order=Z.prototype.Q;Z.prototype.patch=Z.prototype.Gb;Z.prototype.reverse=Z.prototype.reverse;Z.prototype.where=Z.prototype.p;Xe.prototype.from=Xe.prototype.O;Me.prototype.from=Me.prototype.O; ","","//# sourceMappingURL=ydn.db-isw-core-crypt-qry-dev.js.map","return ydn;}, (this || {}));","            ",""],"id":2},{"start":{"row":0,"column":0},"end":{"row":218,"column":12},"action":"insert","lines":["(function (name, definition, context) {if (typeof context['module'] !== 'undefined' && context['module']['exports']) {context['module']['exports'] = definition.apply(context);}else if (typeof context['define'] !== 'undefined' && context['define'] === 'function' && context['define']['amd']) {define(name, [], definition);}else {context[name] = definition();}})('ydn', function () {var l,q=this;function r(a){return void 0!==a}function aa(){}","function ba(a){var b=typeof a;if(\"object\"==b)if(a){if(a instanceof Array)return\"array\";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(\"[object Window]\"==c)return\"object\";if(\"[object Array]\"==c||\"number\"==typeof a.length&&\"undefined\"!=typeof a.splice&&\"undefined\"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(\"splice\"))return\"array\";if(\"[object Function]\"==c||\"undefined\"!=typeof a.call&&\"undefined\"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(\"call\"))return\"function\"}else return\"null\";","else if(\"function\"==b&&\"undefined\"==typeof a.call)return\"object\";return b}function t(a){return\"array\"==ba(a)}function w(a){var b=ba(a);return\"array\"==b||\"object\"==b&&\"number\"==typeof a.length}function x(a){return\"string\"==typeof a}function ca(a){return\"boolean\"==typeof a}function z(a){return\"number\"==typeof a}function da(a){return\"function\"==ba(a)}function B(a){var b=typeof a;return\"object\"==b&&null!=a||\"function\"==b}var ea=\"closure_uid_\"+(1E9*Math.random()>>>0),fa=0;","function ga(a,b,c){return a.call.apply(a.bind,arguments)}function ha(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function ia(a,b,c){ia=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf(\"native code\")?ga:ha;return ia.apply(null,arguments)}","function ja(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var ka=Date.now||function(){return+new Date};function la(a,b){var c=a.split(\".\"),d=q;c[0]in d||!d.execScript||d.execScript(\"var \"+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&r(b)?d[e]=b:d[e]?d=d[e]:d=d[e]={}}","function C(a,b){function c(){}c.prototype=b.prototype;a.C=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.zb=function(a,c,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[c].apply(a,g)}};function na(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0}function oa(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};function pa(a){if(Error.captureStackTrace)Error.captureStackTrace(this,pa);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}C(pa,Error);pa.prototype.name=\"CustomError\";function qa(a){for(var b=0;1>b;b++)if('\"'==a.charAt(0)&&'\"'==a.charAt(a.length-1))return a.substring(1,a.length-1);return a}var ra={\"\\x00\":\"\\\\0\",\"\\b\":\"\\\\b\",\"\\f\":\"\\\\f\",\"\\n\":\"\\\\n\",\"\\r\":\"\\\\r\",\"\\t\":\"\\\\t\",\"\\x0B\":\"\\\\x0B\",'\"':'\\\\\"',\"\\\\\":\"\\\\\\\\\",\"<\":\"<\"},sa={\"'\":\"\\\\'\"};","function ta(a){a=String(a);for(var b=['\"'],c=0;c<a.length;c++){var d=a.charAt(c),e=d.charCodeAt(0),f=c+1,g;if(!(g=ra[d])){if(!(31<e&&127>e))if(d in sa)d=sa[d];else if(d in ra)d=sa[d]=ra[d];else{e=d;g=d.charCodeAt(0);if(31<g&&127>g)e=d;else{if(256>g){if(e=\"\\\\x\",16>g||256<g)e+=\"0\"}else e=\"\\\\u\",4096>g&&(e+=\"0\");e+=g.toString(16).toUpperCase()}d=sa[d]=e}g=d}b[f]=g}b.push('\"');return b.join(\"\")};function ua(a,b,c){this.f=c;this.c=a;this.g=b;this.b=0;this.a=null}ua.prototype.get=function(){var a;0<this.b?(this.b--,a=this.a,this.a=a.next,a.next=null):a=this.c();return a};ua.prototype.put=function(a){this.g(a);this.b<this.f&&(this.b++,a.next=this.a,this.a=a)};function va(){this.b=this.a=null}var xa=new ua(function(){return new wa},function(a){a.reset()},100);va.prototype.add=function(a,b){var c=xa.get();c.a=a;c.b=b;c.next=null;this.b?this.b.next=c:this.a=c;this.b=c};function ya(){var a=za,b=null;a.a&&(b=a.a,a.a=a.a.next,a.a||(a.b=null),b.next=null);return b}function wa(){this.next=this.b=this.a=null}wa.prototype.reset=function(){this.next=this.b=this.a=null};var Aa=Array.prototype.indexOf?function(a,b,c){return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(x(a))return x(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ba=Array.prototype.map?function(a,b,c){return Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=x(a)?a.split(\"\"):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Ca=Array.prototype.some?function(a,b,c){return Array.prototype.some.call(a,","b,c)}:function(a,b,c){for(var d=a.length,e=x(a)?a.split(\"\"):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1};function Da(a,b){var c=Ea(a,b,void 0);return 0>c?null:x(a)?a.charAt(c):a[c]}function Ea(a,b,c){for(var d=a.length,e=x(a)?a.split(\"\"):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1}function Fa(a){if(!t(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0}function Ga(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}","function Ha(a,b,c){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)}function Ia(a,b){if(!w(a)||!w(b)||a.length!=b.length)return!1;for(var c=a.length,d=Ja,e=0;e<c;e++)if(!d(a[e],b[e]))return!1;return!0}function Ja(a,b){return a===b};var Ka;a:{var La=q.navigator;if(La){var Ma=La.userAgent;if(Ma){Ka=Ma;break a}}Ka=\"\"}function D(a){return-1!=Ka.indexOf(a)};function Na(a,b){for(var c=w(b),d=c?b:arguments,c=c?0:1;c<d.length&&(a=a[d[c]],r(a));c++);return a};function Oa(){return D(\"Opera\")||D(\"OPR\")};function Pa(a){q.setTimeout(function(){throw a;},0)}var Qa;","function Ra(){var a=q.MessageChannel;\"undefined\"===typeof a&&\"undefined\"!==typeof window&&window.postMessage&&window.addEventListener&&!D(\"Presto\")&&(a=function(){var a=document.createElement(\"IFRAME\");a.style.display=\"none\";a.src=\"\";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write(\"\");a.close();var c=\"callImmediate\"+Math.random(),d=\"file:\"==b.location.protocol?\"*\":b.location.protocol+\"//\"+b.location.host,a=ia(function(a){if((\"*\"==d||a.origin==d)&&a.data==","c)this.port1.onmessage()},this);b.addEventListener(\"message\",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if(\"undefined\"!==typeof a&&!D(\"Trident\")&&!D(\"MSIE\")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(r(c.next)){c=c.next;var a=c.La;c.La=null;a()}};return function(a){d.next={La:a};d=d.next;b.port2.postMessage(0)}}return\"undefined\"!==typeof document&&\"onreadystatechange\"in document.createElement(\"SCRIPT\")?function(a){var b=document.createElement(\"SCRIPT\");","b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){q.setTimeout(a,0)}};function Sa(a,b){Ua||Va();Wa||(Ua(),Wa=!0);za.add(a,b)}var Ua;function Va(){if(q.Promise&&q.Promise.resolve){var a=q.Promise.resolve(void 0);Ua=function(){a.then(Xa)}}else Ua=function(){var a=Xa;!da(q.setImmediate)||q.Window&&q.Window.prototype&&!D(\"Edge\")&&q.Window.prototype.setImmediate==q.setImmediate?(Qa||(Qa=Ra()),Qa(a)):q.setImmediate(a)}}var Wa=!1,za=new va;function Xa(){for(var a=null;a=ya();){try{a.a.call(a.b)}catch(b){Pa(b)}xa.put(a)}Wa=!1};function Ya(a,b){this.a=Za;this.i=void 0;this.f=this.b=this.c=null;this.g=this.h=!1;if(a!=aa)try{var c=this;a.call(b,function(a){$a(c,ab,a)},function(a){$a(c,bb,a)})}catch(d){$a(this,bb,d)}}var Za=0,ab=2,bb=3;function cb(){this.next=this.c=this.b=this.f=this.a=null;this.g=!1}cb.prototype.reset=function(){this.c=this.b=this.f=this.a=null;this.g=!1};var db=new ua(function(){return new cb},function(a){a.reset()},100);function eb(a,b,c){var d=db.get();d.f=a;d.b=b;d.c=c;return d}","Ya.prototype.then=function(a,b,c){return fb(this,da(a)?a:null,da(b)?b:null,c)};na(Ya);function gb(a){a.a==Za&&Sa(function(){var a=new hb(void 0);ib(this,a)},a)}function ib(a,b){if(a.a==Za)if(a.c){var c=a.c;if(c.b){for(var d=0,e=null,f=null,g=c.b;g&&(g.g||(d++,g.a==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(c.a==Za&&1==d?ib(c,b):(f?(d=f,d.next==c.f&&(c.f=d),d.next=d.next.next):jb(c),mb(c,e,bb,b)))}a.c=null}else $a(a,bb,b)}function nb(a,b){a.b||a.a!=ab&&a.a!=bb||ob(a);a.f?a.f.next=b:a.b=b;a.f=b}","function fb(a,b,c,d){var e=eb(null,null,null);e.a=new Ya(function(a,g){e.f=b?function(c){try{var e=b.call(d,c);a(e)}catch(n){g(n)}}:a;e.b=c?function(b){try{var e=c.call(d,b);!r(e)&&b instanceof hb?g(b):a(e)}catch(n){g(n)}}:g});e.a.c=a;nb(a,e);return e.a}Ya.prototype.m=function(a){this.a=Za;$a(this,ab,a)};Ya.prototype.s=function(a){this.a=Za;$a(this,bb,a)};","function $a(a,b,c){if(a.a==Za){a==c&&(b=bb,c=new TypeError(\"Promise cannot resolve to itself\"));a.a=1;var d;a:{var e=c,f=a.m,g=a.s;if(e instanceof Ya)nb(e,eb(f||aa,g||null,a)),d=!0;else if(oa(e))e.then(f,g,a),d=!0;else{if(B(e))try{var h=e.then;if(da(h)){pb(e,h,f,g,a);d=!0;break a}}catch(k){g.call(a,k);d=!0;break a}d=!1}}d||(a.i=c,a.a=b,a.c=null,ob(a),b!=bb||c instanceof hb||qb(a,c))}}","function pb(a,b,c,d,e){function f(a){h||(h=!0,d.call(e,a))}function g(a){h||(h=!0,c.call(e,a))}var h=!1;try{b.call(a,g,f)}catch(k){f(k)}}function ob(a){a.h||(a.h=!0,Sa(a.j,a))}function jb(a){var b=null;a.b&&(b=a.b,a.b=b.next,b.next=null);a.b||(a.f=null);return b}Ya.prototype.j=function(){for(var a=null;a=jb(this);)mb(this,a,this.a,this.i);this.h=!1};","function mb(a,b,c,d){if(c==bb&&b.b&&!b.g)for(;a&&a.g;a=a.c)a.g=!1;if(b.a)b.a.c=null,rb(b,c,d);else try{b.g?b.f.call(b.c):rb(b,c,d)}catch(e){sb.call(null,e)}db.put(b)}function rb(a,b,c){b==ab?a.f.call(a.c,c):a.b&&a.b.call(a.c,c)}function qb(a,b){a.g=!0;Sa(function(){a.g&&sb.call(null,b)})}var sb=Pa;function hb(a){pa.call(this,a)}C(hb,pa);hb.prototype.name=\"cancel\";/*"," Portions of this code are from MochiKit, received by"," The Closure Authors under the MIT license. All other code is Copyright"," 2005-2009 The Closure Authors. All Rights Reserved.","*/","function E(a,b){this.j=[];this.R=b||null;this.b=this.c=!1;this.g=void 0;this.$=this.G=this.m=!1;this.i=0;this.f=null;this.A=0}l=E.prototype;l.ga=function(a,b){this.m=!1;tb(this,a,b)};function tb(a,b,c){a.c=!0;a.g=c;a.b=!b;a.xa()}function ub(a){if(a.c){if(!a.$)throw new vb;a.$=!1}}l.callback=function(a){ub(this);tb(this,!0,a)};l.l=function(a){ub(this);tb(this,!1,a)};l.w=function(a,b){return wb(this,a,null,b)};l.Ja=function(a,b){return wb(this,null,a,b)};l.Ia=function(a,b){return wb(this,a,a,b)};","function wb(a,b,c,d){a.j.push([b,c,d]);a.c&&a.xa();return a}l.then=function(a,b,c){var d,e,f=new Ya(function(a,b){d=a;e=b});wb(this,d,function(a){e(a)});return f.then(a,b,c)};na(E);E.prototype.ra=function(a){wb(this,a.callback,a.l,a);return this};function xb(a,b){b instanceof E?a.w(ia(b.U,b)):a.w(function(){return b})}E.prototype.U=function(a){var b=new E;this.ra(b);a&&(b.f=this,this.A++);return b};function yb(a){return Ca(a.j,function(a){return da(a[1])})}","E.prototype.xa=function(){this.i&&this.c&&yb(this)&&(zb(this.i),this.i=0);this.f&&(this.f.A--,delete this.f);for(var a=this.g,b=!1,c=!1;this.j.length&&!this.m;){var d=this.j.shift(),e=d[0],f=d[1],d=d[2];if(e=this.b?f:e)try{var g=e.call(d||this.R,a);r(g)&&(this.b=this.b&&(g==a||g instanceof Error),this.g=a=g);if(oa(a)||\"function\"===typeof q.Promise&&a instanceof q.Promise)this.m=c=!0}catch(h){a=h,this.b=!0,yb(this)||(b=!0)}}this.g=a;c&&(c=ia(this.ga,this,!0),g=ia(this.ga,this,!1),a instanceof E?(wb(a,","c,g),a.G=!0):a.then(c,g));b&&(a=new Ab(a),Bb[a.a]=a,this.i=a.a)};function vb(){pa.call(this)}C(vb,pa);vb.prototype.message=\"Deferred has already fired\";vb.prototype.name=\"AlreadyCalledError\";function Ab(a){this.a=q.setTimeout(ia(this.c,this),0);this.b=a}Ab.prototype.c=function(){delete Bb[this.a];window.console.error(this.b.stack);throw this.b;};var Bb={};function zb(a){var b=Bb[a];b&&(q.clearTimeout(b.a),delete Bb[a])};function Cb(){return D(\"iPhone\")&&!D(\"iPod\")&&!D(\"iPad\")};var Db=Oa(),Eb=D(\"Trident\")||D(\"MSIE\"),Fb=D(\"Edge\"),Gb=D(\"Gecko\")&&!(-1!=Ka.toLowerCase().indexOf(\"webkit\")&&!D(\"Edge\"))&&!(D(\"Trident\")||D(\"MSIE\"))&&!D(\"Edge\"),Hb=-1!=Ka.toLowerCase().indexOf(\"webkit\")&&!D(\"Edge\");function Ib(){var a=Ka;if(Gb)return/rv\\:([^\\);]+)(\\)|;)/.exec(a);if(Fb)return/Edge\\/([\\d\\.]+)/.exec(a);if(Eb)return/\\b(?:MSIE|rv)[: ]([^\\);]+)(\\)|;)/.exec(a);if(Hb)return/WebKit\\/(\\S+)/.exec(a)}","(function(){if(Db&&q.opera){var a;var b=q.opera.version;try{a=b()}catch(c){a=b}return a}a=\"\";(b=Ib())&&(a=b?b[1]:\"\");return Eb&&(b=(b=q.document)?b.documentMode:void 0,b>parseFloat(a))?String(b):a})();function Jb(){}function Kb(){};function F(a){pa.call(this,a);this.name=\"ydn.error.ArgumentException\"}C(F,pa);function Lb(a){pa.call(this,a);this.name=\"ydn.error.NotSupportedException\"}C(Lb,pa);function Mb(a){pa.call(this,a);this.name=\"ydn.error.InvalidOperationException\"}C(Mb,pa);function Nb(a){Error.captureStackTrace?Error.captureStackTrace(this,Nb):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.error.InternalError\"}C(Nb,Error);Nb.prototype.name=\"ydn.error.InternalError\";function Ob(a,b){E.call(this,0,b);this.h=[]}C(Ob,E);l=Ob.prototype;l.Ka=function(a,b){this.h.push([a,b]);return this};function Pb(a,b){for(var c=0;c<a.h.length;c++)a.h[c][0].call(a.h[c][1],b)}l.callback=function(a){this.h.length=0;Ob.C.callback.call(this,a)};l.l=function(a){this.h.length=0;Ob.C.l.call(this,a)};l.ra=function(a){Ob.C.ra.call(this,a);a instanceof Ob&&a.Ka(function(a){Pb(this,a)},this);return this};l.rb=function(){return this};var Qb={READ_ONLY:\"readonly\",READ_WRITE:\"readwrite\",VERSION_CHANGE:\"versionchange\"},G=Qb.READ_ONLY,I=Qb.READ_WRITE,Rb=Qb.VERSION_CHANGE,Sb=q.indexedDB;E.prototype.done=E.prototype.w;E.prototype.fail=E.prototype.Ja;E.prototype.always=E.prototype.Ia;Ob.prototype.then=Ob.prototype.then;function Tb(a,b){var c,d;2==arguments.length&&x(arguments[1])?(c=!0,d=arguments[1].split(\".\")):d=(c=w(b))?b:arguments;for(c=c?0:1;c<d.length&&(a=a[d[c]],r(a));c++);return a}function Ub(a,b,c){if(a)if(-1==b.indexOf(\".\"))a[b]=c;else{b=b.split(\".\");for(var d=b.pop(),e;e=b.shift();)B(a[e])||(a[e]={}),a=a[e];a[d]=c}}var Vb={};","function Wb(a){a=[a];for(var b=new Xb,c=0,d,e;void 0!==(e=a.pop());){0===c%4&&12<c+4&&(b.write(c),c=0);d=typeof e;if(e instanceof Array)if(c+=4,0<e.length){a.push(Vb);for(d=e.length;d--;)a.push(e[d]);continue}else b.write(c);else if(\"number\"===d)c+=1,b.write(c),Yb(b,e);else if(e instanceof Date)c+=2,b.write(c),Yb(b,e.valueOf());else if(\"string\"===d){c+=3;b.write(c);c=b;for(d=0;d<e.length;d++){var f=e.charCodeAt(d);126>=f?c.write(f+1):16510>=f?(f-=127,c.write(128|f>>8,f&255)):c.write(192|f>>10,f>>","2|255,(f|3)<<6)}c.write(0)}else if(e===Vb)b.write(0);else return\"\";c=0}return b.trim().toString()}","function Yb(a,b){var c,d,e;c=b;var f=e=d=0;if(0!==c)if(isFinite(c)){0>c&&(d=1,c=-c);f=0;if(2.2250738585072014E-308<=c){for(e=c;1>e;)f--,e*=2;for(;2<=e;)f++,e/=2;e=f+1023}f=e?Math.floor(4503599627370496*(c/Math.pow(2,f)-1)):Math.floor(c/4.9E-324)}else e=2047,isNaN(c)?f=0x8000000000000:-Infinity===c&&(d=1);c=d;d=e;e=f;c&&(e=0xfffffffffffff-e,d=2047-d);a.write((c?0:128)|d>>4);a.write((d&15)<<4|0|e/281474976710656);e%=281474976710656;c=0|e/4294967296;a.write(c>>8,c&255);e%=4294967296;c=0|e/65536;a.write(c>>","8,c&255);c=e%65536;a.write(c>>8,c&255)}function Zb(a){var b=$b(a)|0,c=b>>7?!1:!0,d=c?-1:1,e=(b&127)<<4,b=$b(a)|0,e=e+(b>>4);c&&(e=2047-e);for(var b=[c?15-(b&15):b&15],f=6;f--;)b.push(c?255-($b(a)|0):$b(a)|0);a=0;for(f=7;f--;)a=a/256+b[f];a/=16;return 0===a&&0===e?0:(a+1)*Math.pow(2,e-1023)*d}","function ac(a){for(var b=[],c=0,d=0,e=0,f,g;;){f=$b(a);if(0===f||null==f)break;0===c?(g=f>>6,2>g&&!isNaN(f)?b.push(String.fromCharCode(f-1)):(c=g,d=f<<10,e++)):2===c?(b.push(String.fromCharCode(d+f+127)),c=d=e=0):2===e?(d+=f<<2,e++):(b.push(String.fromCharCode(d|f>>6)),c=d=e=0)}return b.join(\"\")}function bc(a){this.a=null;this.b=a;this.c=this.b.length-1;this.index=-1}function $b(a){return a.a=a.index<a.c?parseInt(a.b.charAt(++a.index)+a.b.charAt(++a.index),16):null}","function Xb(){this.a=[];this.b=void 0}Xb.prototype.write=function(a){for(var b=0;b<arguments.length;b++)this.b=arguments[b].toString(16),this.a.push(2===this.b.length?this.b:this.b=\"0\"+this.b)};Xb.prototype.trim=function(){for(var a=this.a.length;\"00\"===this.a[--a];);this.a.length=++a;return this};Xb.prototype.toString=function(){return this.a.length?this.a.join(\"\"):\"\"};function cc(a,b){var c=Wb(a),d=Wb(b);return c>d?1:c==d?0:-1};function J(a,b,c){Ob.call(this,b,c);this.v=a;this.h=[];this.s=[];this.aa=[];this.a=null;this.W=\"\";this.I=0}C(J,Ob);l=J.prototype;l.W=\"\";l.logger=null;function ec(a,b,c){a.a=b;a.W=c;if(b){for(c=0;c<a.s.length;c++)a.s[c][0].call(a.s[c][1],b);a.s.length=0}}function fc(a){var b=new J(a.v);a.I++;ec(b,a.a,a.W+\"C\"+a.I);return b}l.ib=function(){return!!this.a};","l.abort=function(){if(this.a)if(da(this.a.abort))this.a.abort();else if(da(this.a.executeSql))this.a.executeSql(\"ABORT\",[],function(){},function(){return!0});else throw new Lb;else throw new gc(\"\");};function K(a,b,c){var d=a.aa.shift();c=!!c;d?d[0].call(d[1],b,c,function(b,c){K(a,b,c)}):c?a.l(b):a.callback(b)}function hc(a,b,c){a.aa.push([b,c])}function L(a,b,c){a.a?b.call(c,a.a):a.s.push([b,c])}l.callback=function(a){J.C.callback.call(this,a)};l.l=function(a){J.C.l.call(this,a)};","function ic(a){var b=\"\";a.W&&(b=a.a?\"*\":\"\",b=\"[\"+a.W+b+\"]\");return a.v+b}function jc(a,b){var c=new J(a);K(c,b);return c}l.toString=function(){return\"Request:\"+ic(this)};","l.xa=function(){this.i&&this.c&&yb(this)&&(zb(this.i),this.i=0);this.f&&(this.f.A--,delete this.f);for(var a=this.g,b=!1;this.j.length&&!this.m;){var c=this.j.shift(),d=c[0],e=c[1],c=c[2];if(d=this.b?e:d)d=d.call(c||this.R,a),r(d)&&(this.b=this.b&&(d==a||d instanceof Error),this.g=a=d),oa(a)&&(this.m=b=!0)}this.g=a;b&&(b=ia(this.ga,this,!0),d=ia(this.ga,this,!1),a instanceof E?(wb(a,b,d),a.G=!0):a.then(b,d))};","l.toJSON=function(){var a=(this.W||\"\").match(/B(\\d+)T(\\d+)(?:Q(\\d+?))?(?:R(\\d+))?/)||[];return{method:this.v?this.v.split(\":\"):[],branchNo:parseFloat(a[1]),transactionNo:parseFloat(a[2]),queueNo:parseFloat(a[3]),requestNo:parseFloat(a[4])}};var O=Sb&&Sb.cmp?ia(Sb.cmp,Sb):cc,kc=[];var lc=D(\"Safari\")&&!((D(\"Chrome\")||D(\"CriOS\"))&&!Oa()&&!D(\"Edge\")||D(\"Coast\")||Oa()||D(\"Edge\")||D(\"Silk\")||D(\"Android\"))&&!(Cb()||D(\"iPad\")||D(\"iPod\"));function mc(){0!=nc&&(this[ea]||(this[ea]=++fa));this.$=this.$;this.gb=this.gb}var nc=0;mc.prototype.$=!1;function oc(a,b){this.type=a;this.target=b}oc.prototype.preventDefault=function(){};function pc(a,b){oc.call(this,a,b)}C(pc,oc);pc.prototype.a=function(){return this.b};function qc(a,b,c,d,e){oc.call(this,a,b);this.version=c;this.cb=d;this.Sa=e}C(qc,pc);l=qc.prototype;l.name=\"ReadyEvent\";l.version=NaN;l.cb=NaN;l.Sa=null;l.xb=function(){return this.version};l.lb=function(){return this.cb};l.kb=function(){return this.Sa};function rc(a,b,c){oc.call(this,c||\"error\",a);this.error=b}C(rc,pc);rc.prototype.toString=function(){return this.name+\":\"+(this.error?this.error:\"\")};","rc.prototype.name=\"ErrorEvent\";rc.prototype.error=null;rc.prototype.c=function(){return this.error};function sc(a,b){rc.call(this,a,b,\"fail\")}C(sc,rc);sc.prototype.name=\"FailEvent\";function tc(a,b,c){var d;if(B(a))d=a.store,b=a.id,null!=a.parent&&(c=new tc(a.parent));else if(r(b))d=a;else if(d=a.lastIndexOf(\"^|\"),b=a,0<d&&(b=a.substr(d),c=new tc(a.substring(0,d))),b=b.split(\"^:\"),d=b[0],b=b[1],!r(b))throw Error(\"Invalid key value: \"+a);this.b=d;this.a=b;this.c=c||null}l=tc.prototype;l.toJSON=function(){var a={store:this.b,id:this.a};this.c&&(a.parent=this.c.toJSON());return a};l.valueOf=function(){return(this.c?this.c.valueOf()+\"^|\":\"\")+this.b+\"^:\"+this.a};","l.toString=function(){return this.valueOf().replace(\"^|\",\"|\").replace(\"^:\",\":\")};l.tb=function(){return this.b};l.jb=function(){return this.a};function uc(a){return t(a.a)?a.a.join(\"^|\"):a.a instanceof Date?+a.a:a.a}l.sb=function(){return this.c};function vc(a){if(w(a)){for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}return a};function P(a,b,c,d){a>b&&(b=a=void 0);null===a&&(a=void 0);null===b&&(b=void 0);this.lower=a;this.upper=b;this.lowerOpen=!!c;this.upperOpen=!!d}l=P.prototype;l.lower=void 0;l.upper=void 0;l.lowerOpen=!1;l.upperOpen=!1;l.toJSON=function(){var a;a=this||{};return{lower:a.lower,upper:a.upper,lowerOpen:a.lowerOpen,upperOpen:a.upperOpen}};function wc(a){return xc(a)}function yc(a){return new P(a,a,!1,!1)}function zc(a,b,c,d){return new P(a,b,c,d)}function Ac(a,b){return new P(void 0,a,void 0,!!b)}","function Bc(a,b){return new P(a,void 0,!!b,void 0)}function Cc(a){var b;if(t(a))b=Ga(a),b.push(\"\\uffff\");else if(x(a))b=a+\"\\uffff\";else if(z(a))b=a+2.220460492503131E-16,a-=2.220460492503131E-16;else return yc(a);return zc(a,b,!1,!0)}function xc(a){return null!=a?null!=a.upper&&null!=a.lower?Dc.bound(a.lower,a.upper,!!a.lowerOpen,!!a.upperOpen):null!=a.upper?Dc.upperBound(a.upper,a.upperOpen):null!=a.lower?Dc.lowerBound(a.lower,a.lowerOpen):null:null}","function Ec(a,b){var c=a.lower,d=a.upper,e=a.lowerOpen,f=a.upperOpen;null!=b.lower&&(null==a.lower||b.lower>=a.lower)&&(c=b.lower,e=b.lowerOpen||a.lowerOpen);null!=b.upper&&(null==a.upper||b.upper<=a.upper)&&(d=b.upper,f=b.upperOpen||a.upperOpen);return zc(c,d,e,f)}","function Fc(a,b,c,d,e){if(c)if(c.lowerOpen||c.upperOpen||null==c.lower||null==c.upper||0!==O(c.lower,c.upper)){if(null!=c.lower){var f=c.lowerOpen?\" > \":\" >= \";d.push(a+f+\"?\");e.push(Gc(c.lower,b))}null!=c.upper&&(f=c.upperOpen?\" < \":\" <= \",d.push(a+f+\"?\"),e.push(Gc(c.upper,b)))}else d.push(a+\" = ?\"),e.push(Gc(c.lower,b))}","function Hc(a,b,c,d){var e,f,g,h;if(\"starts\"==a||\"^\"==a)return Cc(b);if(\"<\"==a||\"<=\"==a)e=b,g=\"<\"==a;else if(\">\"==a||\">=\"==a)f=b,h=\">\"==a;else if(\"=\"==a||\"==\"==a)e=f=b;else throw new F(\"invalid op: \"+a);if(\"<\"==c||\"<=\"==c)e=d,g=\"<\"==c;else if(\">\"==c||\">=\"==c)f=d,h=\">\"==c;else if(r(c))throw new F(\"invalid op2: \"+c);return zc(f,e,h,g)}var Dc=q.IDBKeyRange||q.webkitIDBKeyRange||P;function Ic(a,b,c,d,e,f){r(e)||(e=t(a)?a.join(\", \"):a);if(null!=a&&!x(a)&&!w(a))throw new F(\"index keyPath for \"+e+\" must be a string or array, but \"+a+\" is \"+typeof a);!r(a)&&r(e)&&(a=e.replace(/[,\\s]/g,\"\"));this.keyPath=a;this.h=w(this.keyPath);this.a=e;this.type=Jc(b);if(r(b)){if(!r(this.type))throw new F(\"type invalid in index: \"+this.a);if(t(this.keyPath))throw new F('composite key for store \"'+this.a+'\" must not specified type');}this.unique=!!c;this.multiEntry=!!d;this.i=x(this.type)?this.type:","Kc;this.f=x(e)?e:t(a)?this.keyPath.join(\",\"):a;this.c=ta(this.f);this.b=this.h?null:this.keyPath.split(\".\");this.g=f||null}var Kc=\"TEXT\";function Gc(a,b){if(\"DATE\"==b){if(a instanceof Date)return+a}else return null!=b?a:Wb(a)}","function Lc(a,b){var c;if(\"DATE\"==b)c=new Date(a);else if(r(b))c=a;else{for(var d=c=[],e,f=[],g,h,k=new bc(a);null!=$b(k);)if(0===k.a)d=f.pop();else{if(null===k.a)break;do{g=k.a/4|0;e=k.a%4;for(var n=0;n<g;n++)h=[],d.push(h),f.push(d),d=h;if(0===e&&12<k.a+4)$b(k);else break}while(1);1===e?d.push(Zb(k)):2===e?d.push(new Date(Zb(k))):3===e?d.push(ac(k)):0===e&&(d=f.pop())}c=c[0]}return c}var Mc=[\"BLOB\",\"DATE\",\"INTEGER\",\"NUMERIC\",Kc];function Jc(a){if(x(a))return a=Aa(Mc,a),Mc[a]}","Ic.prototype.getName=function(){return this.a};Ic.prototype.toJSON=function(){return{name:this.a,keyPath:this.keyPath,type:this.type,unique:this.unique,multiEntry:this.multiEntry}};Ic.prototype.clone=function(){var a=t(this.keyPath)?Ga(this.keyPath):this.keyPath;return new Ic(a,this.type,this.unique,this.multiEntry,this.a,this.g)};","function Nc(a,b){return null!=a||null!=b?null!=a?null!=b?w(a)&&w(b)?Ia(a,b)?null:\"expect: \"+a+\", but: \"+b:Oc(a,b)?null:\"expect: \"+a+\", but: \"+b:\"keyPath: \"+a+\" no longer defined\":\"newly define \"+b:null}Ic.prototype.hint=function(a){if(!a)return this;var b=t(this.keyPath)?Ga(this.keyPath):this.keyPath,c=this.type;r(a.type)||\"TEXT\"!=c||(c=void 0);return new Ic(b,c,this.unique,this.multiEntry,a.a)};function Pc(a,b,c,d,e,f,g){if(!x(a))throw new F(\"store name must be a string\");this.f=a;this.keyPath=r(b)?b:null;this.i=w(this.keyPath);if(null!==this.keyPath&&!x(this.keyPath)&&!this.i)throw new F(\"keyPath must be a string or array\");this.b=!!c;var h;if(null!=d){h=Jc(d);if(!r(h))throw new F('type \"'+d+'\" for primary key in store \"'+this.f+'\" is invalid.');if(this.i)throw new F('composite key for store \"'+this.f+'\" must not specified type');}this.type=null!=h?h:this.b?\"INTEGER\":void 0;this.h=x(this.keyPath)?","this.keyPath.split(\".\"):[];this.a=e||[];a=[];for(b=0;b<this.a.length;b++){c=this.a[b].getName();if(0<=a.indexOf(c))throw new F('index \"'+c+'\" already defined in store: '+this.f);a.push(c)}this.J=!!f;this.T=!!g;this.m=x(this.type)?this.type:Kc;this.g=t(this.keyPath)?this.keyPath.join(\",\"):x(this.keyPath)?this.keyPath:\"_ROWID_\";this.c=ta(this.g);this.j=[]}l=Pc.prototype;l.J=!1;l.T=!1;","l.toJSON=function(){for(var a=[],b=0;b<this.a.length;b++)a.push(this.a[b].toJSON());return{name:this.f,keyPath:this.keyPath,autoIncrement:this.b,type:this.type,indexes:a}};","function Qc(a){var b=[],c=a.indexes||[];if(t(c))for(var d=0;d<c.length;d++){var e;e=c[d];e=new Ic(e.keyPath,e.type,e.unique,e.multiEntry,e.name,e.generator);r(e.keyPath)&&e.keyPath===a.keyPath||b.push(e)}return new Pc(a.name,a.keyPath,a.autoIncrement,\"undefined\"===a.type||\"null\"===a.type?void 0:a.type,b,a.dispatchEvents,a.fixed)}","function Rc(a,b,c,d,e,f,g){a=Sc(a,b,c,d,e,f,g);b=\"\";0!=c&&(b+=\"SELECT \"+a.select);b+=\" FROM \"+a.from;a.o&&(b+=\" WHERE \"+a.o);a.group&&(b+=\" GROUP BY \"+a.group);a.H&&(b+=\" ORDER BY \"+a.H);return b}","function Sc(a,b,c,d,e,f,g){var h={select:\"\",from:\"\",o:\"\",group:\"\",H:\"\"},k=a.g,n=a.c,p=null;d!==k&&x(d)&&(p=Tc(a,d));var m=!!p,u=d||k,v=ta(u),y=m?p.type:a.type,A=m&&p.multiEntry;h.from=Uc(a);6===c?h.select=\"COUNT(\"+n+\")\":3===c||1===c||2===c?(h.select=n,null!=d&&d!=k&&(h.select+=\", \"+v)):h.select=\"*\";d=g?\"DISTINCT \":\"\";k=[];A?(A=ta(\"ydn.db.me:\"+a.getName()+\":\"+p.getName()),h.select=6===c?\"COUNT(\"+d+A+\".\"+v+\")\":3===c||1===c||2===c?\"DISTINCT \"+Uc(a)+\".\"+n+\", \"+A+\".\"+v+\" AS \"+u:\"DISTINCT \"+Uc(a)+\".*, \"+","A+\".\"+v+\" AS \"+u,h.from=A+\" INNER JOIN \"+Uc(a)+\" USING (\"+n+\")\",null!=e&&(Fc(A+\".\"+v,y,e,k,b),0<k.length&&(h.o=h.o?h.o+(\" AND \"+k.join(\" AND \")):k.join(\" AND \")))):null!=e&&(Fc(v,y,e,k,b),0<k.length&&(h.o=h.o?h.o+(\" AND \"+k.join(\" AND \")):k.join(\" AND \")));m&&!p.unique&&g&&(h.group=v);a=f?\"DESC\":\"ASC\";h.H=v+\" \"+a;m&&(h.H+=\", \"+n+\" \"+a);return h}","function Vc(a,b,c,d,e,f,g,h,k){var n,p,m,u;null!=e?(n=e.lower,p=e.upper,m=e.lowerOpen,u=e.upperOpen,f?null!=p?(e=O(h,p),-1==e?(p=h,u=k):0==e&&(u=k||u)):(p=h,u=k):null!=n?(e=O(h,n),1==e?(n=h,m=k):0==e&&(m=k||m)):(n=h,m=k)):f?(p=h,u=k):(n=h,m=k);e=new P(n,p,!!m,!!u);d=d?Tc(a,d):null;b=Sc(a,c,b,d?d.f:a.g,e,f,g);b=\"SELECT \"+b.select+\" FROM \"+b.from+(b.o?\" WHERE \"+b.o:\"\")+(b.group?\" GROUP BY \"+b.group:\"\")+\" ORDER BY \"+b.H;d&&(b+=\", \"+a.c+(f?\"DESC\":\"ASC\"));return b}","function Wc(a,b,c,d,e,f,g,h,k,n){var p=Tc(a,d),m=p.f;d=p.c;var u=a.c,v=k?\" <\":\" >\",v=g?v+\" \":v+\"= \";g=Gc(f,p.type);h=Gc(h,a.type);p=\"\";e?(a=Sc(a,c,b,m,e,k,n),a.o+=\" AND \",p=d+v+\"?\",c.push(g)):(e=k?Ac(f,!0):Bc(f,!0),a=Sc(a,c,b,m,e,k,n),p=a.o,a.o=\"\");a.o+=\"(\"+p+\" OR (\"+d+\" = ? AND \"+u+v+\"?))\";c.push(g);c.push(h);return\"SELECT \"+a.select+\" FROM \"+a.from+\" WHERE \"+a.o+(a.group?\" GROUP BY \"+a.group:\"\")+\" ORDER BY \"+a.H}l.clone=function(){return Qc(this.toJSON())};","l.index=function(a){return this.a[a]||null};function Tc(a,b){return Da(a.a,function(a){return a.getName()==b})}function Xc(a,b){for(var c=0;c<a.a.length;c++)if(!Nc(a.a[c].keyPath,b))return a.a[c];return null}function Yc(a,b){return b===a.keyPath?!0:Ca(a.a,function(a){return a.getName()==b})}function Uc(a){return ta(a.f)}","function Zc(a,b){if(!b)return a;var c=a.b,d=t(a.keyPath)?Ga(a.keyPath):a.keyPath,e=a.type,f=Ba(a.a,function(a){return a.clone()});r(b.type)||\"TEXT\"!=e||(e=void 0);t(b.keyPath)&&x(d)&&d==b.keyPath.join(\",\")&&(d=Ga(b.keyPath));for(var g=0,h=b.a.length;g<h;g++)if(b.a[g].h)for(var k=b.a[g].getName(),n=f.length-1;0<=n;n--)if(0<=k.indexOf(f[n].getName())){f[n]=b.a[g].clone();break}for(g=0;g<f.length;g++)(h=Tc(b,f[g].getName()))&&(f[g]=f[g].hint(h));return new Pc(b.f,d,c,e,f)}l.getName=function(){return this.f};","function $c(a){return!!a.keyPath}function ad(a,b,c){if(b){if(!a.keyPath&&null!=c)return c;if(a.i){c=[];for(var d=0;d<a.keyPath.length;d++)c.push(Tb(b,a.keyPath[d]));return c}if(a.keyPath)return Na(b,a.h)}}function bd(a,b,c){for(var d=0;d<a.h.length;d++){var e=a.h[d];if(d==a.h.length-1){b[e]=c;break}r(b[e])||(b[e]={});b=b[e]}}","function cd(a,b,c){var d=[],e=[];c=r(c)?c:ad(a,b);r(c)&&(e.push(a.c),d.push(Gc(c,a.type)));for(var f=0;f<a.a.length;f++){var g=a.a[f];if(!g.multiEntry&&g.getName()!==a.keyPath&&\"_default_\"!=g.getName()){var h;h=g;var k=b;if(null!=k)if(w(h.keyPath)){for(var n=[],p=0,m=h.keyPath.length;p<m;p++){var u=Tb(k,h.keyPath[p]);n[p]=u}h=n}else h=Tb(k,h.keyPath);else h=void 0;null!=h&&(d.push(Gc(h,g.type)),e.push(g.c))}}a.T?a.T&&!a.keyPath&&0==a.a.length&&(x(b)&&-1==b.indexOf(\";base64,\")?d.push(b):d.push(Q(b)),","e.push(\"_default_\")):(d.push(Q(b)),e.push(\"_default_\"));a=[];for(f=d.length-1;0<=f;f--)a[f]=\"?\";return{Na:e,Ya:a,values:d,key:c}}","function dd(a,b){if(!b)return\"missing store: \"+a.f;if(a.f!=b.f)return\"store name, expect: \"+a.f+\", but: \"+b.f;var c=Nc(a.keyPath,b.keyPath);if(c)return\"keyPath, \"+c;if(r(a.b)&&r(b.b)&&a.b!=b.b)return\"autoIncrement, expect:  \"+a.b+\", but: \"+b.b;if(a.a.length!=b.a.length)return\"indexes length, expect:  \"+a.a.length+\", but: \"+b.a.length;if(r(a.type)&&r(b.type)&&(w(a.type)?!Ia(a.type,b.type):a.type!=b.type))return\"data type, expect:  \"+a.type+\", but: \"+b.type;for(c=0;c<a.a.length;c++){var d=Tc(b,a.a[c].getName()),","e;e=a.a[c];if(d)if(e.a!=d.a)e=\"name, expect: \"+e.a+\", but: \"+d.a;else{var f=Nc(e.keyPath,d.keyPath);e=f?\"keyPath, \"+f:null!=e.unique&&null!=d.unique&&e.unique!=d.unique?\"unique, expect: \"+e.unique+\", but: \"+d.unique:null!=e.multiEntry&&null!=d.multiEntry&&e.multiEntry!=d.multiEntry?\"multiEntry, expect: \"+e.multiEntry+\", but: \"+d.multiEntry:r(e.type)&&r(d.type)&&(w(e.type)?!Ia(e.type,d.type):e.type!=d.type)?\"data type, expect: \"+e.type+\", but: \"+d.type:\"\"}else e=\"no index for \"+e.a;if(0<e.length)return'index \"'+","a.a[c].getName()+'\" '+e}return\"\"}function ed(a,b){if(b)for(var c=0;c<a.a.length;c++){var d=a.a[c],e=b;if(d.g){var f=d.g(e),g=typeof f;if(\"string\"==g||\"number\"==g||f instanceof Date||t(f)){for(g=0;g<d.b.length-1;g++)B(e[d.b[g]])||(e[d.b[g]]={});e[d.b[d.b.length-1]]=f}}}}function R(a,b,c,d,e){for(var f=0;f<a.j.length;f++)d!==f&&a.j[f].call(e,b,c)}function fd(a,b){for(var c=0;c<a.a.length;c++)if(a.a[c].getName()==b)return c;return-1};function gd(a){return!x(a)||/^[\\s\\xa0]*$/.test(a)?{}:JSON.parse(a)}function hd(a){var b;try{b=Q(a)}catch(c){b=\"\"}return b?b.substr(0,70)+(70<b.length?\"...\":\"\"):\"\"}function Q(a){return JSON.stringify(a,void 0,void 0)};function id(a){this.a=a};function jd(a,b){this.name=a;this.a=b}jd.prototype.getName=function(){return this.name};jd.prototype.count=function(){return this.a.length};jd.prototype.index=function(a){return this.a[a]};function kd(a){if(!t(a.sources))throw new F(\"indexes require for full text search index \"+a.name+\", but \"+a.sources+\" of type \"+typeof a.sources+\" found.\");var b=a.sources.map(function(a){return new id(a.storeName)});return new jd(a.name,b)};function ld(a,b){var c,d,e=b;if(B(a)){d=a;c=d.version;for(var e=[],f=d.stores||[],g=0;g<f.length;g++){var h=Qc(f[g]);e.push(h)}}else x(a)?c=0==a.length?void 0:parseFloat(a):z(a)&&(c=a);if(r(c)){if(!z(c)||0>c)throw new F(\"Invalid version: \"+c+\" (\"+a+\")\");isNaN(c)&&(c=void 0)}if(r(b)&&(!t(b)||0<b.length&&!(b[0]instanceof Pc)))throw new F(\"stores\");this.version=c;this.b=!r(this.version);this.stores=e||[];c=[];if(d&&d.fullTextCatalogs)for(g=0;g<d.fullTextCatalogs.length;g++)e=kd(d.fullTextCatalogs[g]),","c[g]=e,T(this,e.getName())||(f=[new Ic(\"k\",Kc),new Ic(\"v\",Kc)],e=new Pc(e.getName(),\"id\",!1,void 0,f,!1,!1),this.stores.push(e));this.c=c}ld.prototype.toJSON=function(){var a=Ba(this.stores,function(a){return a.toJSON()}),b={};b.stores=a;r(this.version)&&(b.version=this.version);return b};ld.prototype.b=!1;ld.prototype.a=function(){return!1};function md(a){return Ba(a.stores,function(a){return a.getName()})}ld.prototype.count=function(){return this.stores.length};","function T(a,b){return Da(a.stores,function(a){return a.getName()==b})}function nd(a,b){return Ca(a.stores,function(a){return a.getName()==b})}","function od(a,b,c,d){if(!b||a.stores.length!=b.stores.length)return\"Number of store: \"+a.stores.length+\" vs \"+b.stores.length;for(var e=0;e<a.stores.length;e++){var f=T(b,a.stores[e].getName());if(f){c&&(f=Zc(f,a.stores[e]));if(d)for(var g=f,h=a.stores[e],k=0;k<h.a.length;k++){var n=h.a[k];Yc(g,n.getName())||\"BLOB\"!=n.type||(n=new Ic(n.keyPath,n.type,n.unique,n.multiEntry,n.getName()),g.a.push(n))}f=dd(a.stores[e],f);if(0<f.length)return'store: \"'+a.stores[e].getName()+'\" '+f}else return'missing object store \"'+","a.stores[e].getName()+'\"'}return\"\"};function pd(a,b){ld.call(this,a,b)}C(pd,ld);pd.prototype.a=function(){return!0};function qd(a,b){a.stores.push(b)};function rd(a){Error.captureStackTrace?Error.captureStackTrace(this,rd):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.error.InternalError\"}C(rd,Error);rd.prototype.name=\"ydn.InternalError\";function sd(a){Error.captureStackTrace?Error.captureStackTrace(this,sd):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.error.ConstraintError\"}C(sd,Error);sd.prototype.name=\"ydn.error.ConstraintError\";","function td(a){Error.captureStackTrace?Error.captureStackTrace(this,td):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.error.InvalidOperationException\"}function ud(a){Error.captureStackTrace?Error.captureStackTrace(this,ud):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.error.InvalidOperationError\"}C(ud,Error);function Oc(a,b){var c;c=c||{};if(null!=a&&null!=b){if(w(a)&&w(b)){if(a.length!=b.length)return!1;for(var d=0;d<a.length;d++)if(-1==Ea(b,function(b){return Oc(b,a[d])}))return!1;return!0}if(w(a))return 1==a.length&&Oc(a[0],b);if(w(b))return 1==b.length&&Oc(b[0],a);if(B(a)&&B(a)){for(var e in a)if(a.hasOwnProperty(e)&&!c[e]){var f=Oc(a[e],b[e]);if(!f)return!1}for(e in b)if(b.hasOwnProperty(e)&&!c[e]&&(f=Oc(a[e],b[e]),!f))return!1;return!0}return a===b}return!1};/*"," Copyright 2012 YDN Authors, Yathit. All Rights Reserved."," Licensed under the Apache License, Version 2.0 (the \"License\");.","*/","function U(a,b,c){c=c||{};this.s=c.mechanisms||(lc||Cb()||D(\"iPad\")||D(\"iPod\")?Ha(vd,1):vd);this.m=c.size;this.v=r(c.connectionTimeout)?c.connectionTimeout:6E4;this.a=null;this.g=[];this.ja=!1;var d;if(b instanceof ld)d=b;else if(B(b)){c.autoSchema||!r(b.stores)?d=new pd(b):d=new ld(b);var e=b.stores?b.stores.length:0;for(c=0;c<e;c++)T(d,b.stores[c].name)}else d=new pd;this.c=d;for(c=0;c<this.c.count();c++);r(a)&&this.j(a);this.f=new E}U.prototype.logger=null;","U.prototype.A=function(a){if(r(a)){var b=function(b){a(b.toJSON());a=void 0};if(this.a)this.a.N(b);else{var c=this;this.transaction(function(a){c.a.N(b,a)},null,G)}}return this.c?this.c.toJSON():null};U.prototype.j=function(a){if(this.a)throw new Mb(\"Already connected with \"+this.h);this.h=a;wd(this)};U.prototype.getName=function(){return this.h};var vd=\"indexeddb sqlite websql localstorage sessionstorage userdata memory\".split(\" \");l=U.prototype;l.va=function(){return null};","function wd(a){function b(b,e){b?(a.Pa=NaN,d.bb=function(){},d.Fa=function(){a.a=null},d.Ta=function(){},setTimeout(function(){xd(a,e);yd(a)},10),c.callback(e)):(setTimeout(function(){xd(a,new sc(a,e));if(a.g)for(var b;b=a.g.shift();)b.D&&b.D(\"error\",e)},10),c.l(e))}for(var c=new E,d=null,e=a.s,f=0;f<e.length;f++){var g=e[f].toLowerCase();if(d=a.va(g)){d=a.va(g);break}}null===d?(e=new sd(\"No storage mechanism found.\"),b(!1,new sc(a,e))):wb(d.connect(a.h,a.c),function(a){this.a=d;b(!0,new qc(\"ready\",","this,parseFloat(d.ab()),parseFloat(a),null))},function(a){b(!1,a)},a)}l.Ga=function(){if(this.a)return this.a.$a()};l.ma=function(a,b){this.f.U().Ia(a,b)};function xd(a,b){setTimeout(function(){a.c.b&&a.f.c||(b instanceof rc?a.f.l(b.error):a.f.callback())},4)}function zd(a){return!!a.a&&a.a.Ea()}l.close=function(){this.a&&(this.a.close(),this.a=null)};l.wb=function(){return this.a?this.a.Za():null};l.Pa=NaN;function yd(a){var b=a.g.shift();b&&a.transaction(b.ia,b.pb,b.mode,b.D);a.Pa=ka()}l.ja=!1;","l.transaction=function(a,b,c,d){var e=b;x(b)?e=[b]:null!=b||(e=null);if(this.a&&this.a.Ea()&&!this.ja){var f=this,g=r(c)?c:G;g==Rb&&(this.ja=!0);this.a.wa(function(b){a(b);a=null},e,g,function(a,b){da(d)&&(d(a,b),d=void 0);g==Rb&&(f.ja=!1);yd(f)})}else this.g.push({ia:a,pb:e,mode:c||G,D:d})};U.prototype.close=U.prototype.close;U.prototype.getType=U.prototype.Ga;U.prototype.getName=U.prototype.getName;U.prototype.getSchema=U.prototype.A;U.prototype.onReady=U.prototype.ma;U.prototype.setName=U.prototype.j;U.prototype.transaction=U.prototype.transaction;U.prototype.db=U.prototype.wb;la(\"ydn.db.version\",\"1.4.3\");la(\"ydn.db.cmp\",O);la(\"ydn.db.deleteDatabase\",function(a,b){for(var c,d=0;d<kc.length;d++){var e=kc[d](a,b);e&&(c=e)}return c||jc(\"vc\",null)});qc.prototype.name=qc.prototype.name;","qc.prototype.getVersion=qc.prototype.xb;qc.prototype.getOldVersion=qc.prototype.lb;qc.prototype.getOldSchema=qc.prototype.kb;rc.prototype.getError=rc.prototype.c;J.prototype.abort=J.prototype.abort;J.prototype.canAbort=J.prototype.ib;Ob.prototype.progress=Ob.prototype.Ka;Ob.prototype.promise=Ob.prototype.rb;la(\"ydn.db.KeyRange\",P);P.only=yc;P.bound=zc;P.upperBound=Ac;P.lowerBound=Bc;function Ad(a,b,c,d){mc.call(this);this.a=c;this.hb=c.getName();this.i=void 0;this.g=!1;this.S=null;this.m=a;this.s=this.j=!1;this.G=d||4;this.U=this.h=this.c=void 0;this.I=function(){throw new Nb;};this.R=function(){throw new Nb;};this.aa=function(){}}C(Ad,mc);l=Ad.prototype;","l.Ha=function(a,b,c,d,e){r(b)&&(a=this.a,this.i=(t(b)?Xc(a,b):Tc(a,b)).getName());this.g=x(this.i);this.S=c||null;this.s=this.j=!1;this.reverse=\"prev\"==d||\"prevunique\"==d;this.unique=\"nextunique\"==d||\"prevunique\"==d;this.dir=d;this.ka=e;this.U=this.h=this.c=void 0};l.dir=\"\";l.S=null;l.unique=!1;l.reverse=!1;l.ka=!0;l.logger=null;function Bd(a,b){a.R(b);Cd(a);a.j=!0}l.L=function(a,b,c){null==a&&(this.j=!0);this.c=a;this.h=b;this.U=c;this.j?(this.I(),Cd(this)):this.I(this.c)};","function Cd(a){null!=a.h?a.h=vc(a.h):a.h=void 0;null!=a.c?a.c=vc(a.c):a.c=void 0;a.aa(a.s,a.c,a.h)}l.open=function(a,b,c,d){this.m=a;this.j=this.s=!1;this.c=c;this.h=d;this.openCursor(this.c,this.h)};function Dd(a){a.s=!0;Cd(a)}l.O=function(){return this.g?this.h:this.c};l.pa=function(){return this.ka?this.O():this.U};l.oa=function(){};l.X=function(){};function Ed(){};function Fd(a,b,c,d,e,f,g){this.b=a;this.f=b;this.h=g;this.v=!!this.f;this.c=r(f)?f:!!x(this.f);a=\"next\";d&&e?a=\"prevunique\":d?a=\"prev\":e&&(a=\"nextunique\");this.i=a;this.a=xc(c);this.g=Gd;this.s=NaN}C(Fd,Ed);Fd.prototype.c=!0;var Gd=\"init\";l=Fd.prototype;l.logger=null;l.clone=function(){var a=new Fd(this.b,this.f,this.a,Hd(this),Id(this),this.c,this.h);a.s=this.s;return a};l.unique=function(a){return new Fd(this.b,this.f,this.a,Hd(this),a,this.c,this.h)};","function Jd(a,b,c){a=new Fd(a.b,a.f,a.a,Hd(a),Id(a),a.c,a.h);a.j=b;a.m=c;a.g=\"rest\";return a}l.reverse=function(){return new Fd(this.b,this.f,this.a,!Hd(this),Id(this),this.c,this.h)};function Hd(a){return\"prev\"===a.i||\"prevunique\"===a.i}function Id(a){return\"nextunique\"===a.i||\"prevunique\"===a.i}l.load=function(a){a=a[0];a.Ha(this.b,this.h||this.f,this.a,this.i,this.c);this.g=\"busy\";var b=this;a.aa=function(a,d,e){b.j=d;b.m=e;b.g=a?\"rest\":\"done\"};a.openCursor(this.j,this.m);return a};","l.reset=function(a,b,c){a=a||Gd;\"busy\"!=this.g&&(this.j=b,this.m=c,this.g=a)};l.stores=function(){return[this.b]};function Kd(a,b){this.b=a||null;this.f=b;this.a=!1}Kd.prototype.logger=null;function Ld(a,b){var c;a.a=Hd(b[0]);for(c=0;c<b.length;c++);return!1}Kd.prototype.c=function(){return[]};function Md(a){Error.captureStackTrace?Error.captureStackTrace(this,Md):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ConstraintError\"}C(Md,Error);Md.prototype.name=\"ConstraintError\";function gc(a){Error.captureStackTrace?Error.captureStackTrace(this,gc):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"InvalidStateError\"}C(gc,Error);","function Nd(a){Error.captureStackTrace?Error.captureStackTrace(this,Nd):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"InvalidAccessError\"}C(Nd,Error);function Od(a){Error.captureStackTrace?Error.captureStackTrace(this,Od):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"NotFoundError\"}C(Od,Error);Od.prototype.name=\"NotFoundError\";","function Pd(a,b){Error.captureStackTrace?Error.captureStackTrace(this,Pd):this.stack=Error().stack||\"\";b&&(this.message=String(b));this.message+=\" :\"+a.message+\" [\"+a.code+\"]\";this.name=\"SQLError\"}C(Pd,Error);function Qd(a,b){Error.captureStackTrace?Error.captureStackTrace(this,Qd):this.stack=Error().stack||\"\";b&&(this.message=String(b));this.message+=\" :\"+a.message;this.name=\"SecurityError\"}C(Qd,Error);","function Rd(a){Error.captureStackTrace?Error.captureStackTrace(this,Rd):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.db.TimeoutError\"}C(Rd,Error);function Sd(a,b){this.a=b}Sd.prototype.logger=null;function Td(a){this.f=a;this.a=null;this.b=0}Td.prototype.logger=null;Td.prototype.F=null;function Ud(a){return!!a.a&&!a.c}Td.prototype.D=null;function Vd(a,b,c,d,e,f){this.j=a;this.I=b;this.a=this.f=0;this.G=d;this.A=e;this.h=c||Wd;this.m=f||0}Vd.prototype.logger=null;Vd.prototype.type=function(){return this.j.Ga()};Vd.prototype.M=function(){return\"B\"+this.I+\"T\"+this.f};var Wd=\"single\";function Xd(a){if(a)if(da(a.abort))a.abort();else if(da(a.executeSql))a.executeSql(\"ABORT\",[],null,function(){return!0});else throw new Lb;else throw new gc(\"No active transaction\");};function Yd(a,b,c,d,e,f){Vd.call(this,a,b,c,d,e,f);this.c=[];this.g=[];this.i=null;this.b=new Td(b);this.s=f||0;this.v=!1}C(Yd,Vd);l=Yd.prototype;l.logger=null;","function Zd(a,b,c){if(\"multi\"==a.h)a:if(a=a.b,!a.F||!a.mode||c!=a.mode&&(a.mode!=I||c!=G)||b.length>a.F.length)b=!1;else{for(c=0;c<b.length;c++)if(-1==a.F.indexOf(b[c])){b=!1;break a}b=!0}else if(\"repeat\"==a.h)a:if(a=a.b,a.F&&a.mode&&c==a.mode&&a.F.length==b.length){for(c=0;c<b.length;c++)if(-1==a.F.indexOf(b[c])){b=!1;break a}b=!0}else b=!1;else b=\"all\"==a.h?!0:!1;return b}function $d(a){var b=0<a.c.length?a.c[0].F:null,c=0<a.c.length?a.c[0].mode:null;return null!=b&&null!=c?Zd(a,b,c):!1}","l.abort=function(){Xd(this.i)};","l.P=function(a,b,c,d){var e=x(b)?[b]:b,f=r(c)?c:G,g=this;if(this.b.a||!zd(this.j)&&this.v)this.c.push({ia:a,F:b,mode:f||G,D:d});else{d&&this.g.push(d);if(this.s&&this.f>=this.s)throw new Mb(\"Exceed maximum number of transactions of \"+this.s);this.v=!0;this.j.transaction(function(c){var d=g.b;d.a=c;d.c=!1;d.F=b;d.mode=f;d.b++;d.D=null;Q(b);a(g);for(a=null;$d(g);)c=g.c.shift(),c.D&&g.g.push(c.D),c.ia()},e,f,function(a,b){var c=g.b;c.a&&(c.a=null,c.F=null,c.mode=null,da(c.D)&&c.D(a,b),c.D=null);for(c=","0;c<g.g.length;c++)(0,g.g[c])(a,b);g.g.length=0;(c=g.c.shift())&&g.P(c.ia,c.F,c.mode,c.D);g.a=0})}};l.M=function(){var a=this.b;return\"B\"+a.f+\"T\"+a.b};l.request=function(a,b,c,d){function e(a,b){f.a=null;d&&d(a,b)}var f=new J(a);a=c||G;var g=this;Ud(this.b)&&Zd(this,b,a)?(b=this.b.a,this.a++,ec(f,b,this.M()+\"R\"+this.a),this.g.push(e)):g.P(function(){var a=g.b.a;g.a++;ec(f,a,g.M()+\"R\"+g.a)},b,a,e);return f};","l.Z=function(a,b,c,d,e){d=d||G;var f=this,g;if(Ud(f.b)&&Zd(this,c,d)){var h=f.b.a;f.a++;g=f.M()+\"R\"+f.a;b(h,g,function(b,c){f.i=h;c?a.l(b):a.callback(b);f.i=null});b=null}else f.P(function(){var c=f.b.a;f.a++;g=f.M()+\"R\"+f.a;b(c,g,function(b,d){f.i=c;d?a.l(b):a.callback(b);f.i=null});b=null},c,d,e)};l.getName=function(){return this.j.getName()};function ae(a,b){Yd.call(this,a,b)}C(ae,Yd);ae.prototype.logger=null;ae.prototype.request=function(a,b,c){var d,e,f,g=ae.C.request.call(this,a,b,c,function(a,b){g.a=null;if(d)\"complete\"!=a&&(f=!0,e=b),d(e,f);else{var c=new Rd;K(g,c,!0)}});hc(g,function(a,b,c){f=b;e=a;d=c});return g};","ae.prototype.Z=function(a,b,c,d,e){var f,g,h=new E;wb(h,function(a){g=!1;f=a},function(a){g=!0;f=a});ae.C.Z.call(this,h,b,c,d,function(b,c){if(\"complete\"!=b)a.l(c);else if(!0===g)a.l(f);else if(!1===g)a.callback(f);else{var d=new Rd;a.l(d)}e&&(e(b,c),e=void 0)})};function be(a,b,c){this.c=a;this.b=b;this.a=c;this.f=null}be.prototype.logger=null;be.prototype.g=function(){return this.a.f};be.prototype.abort=function(){this.a.abort()};function V(a){if(!a.f){var b;b=a.c;var c=b.Ga();if(\"indexeddb\"==c)b=new ce(0,b.c);else if(\"websql\"==c||\"sqlite\"==c)b=new de(0,b.c);else throw new Nb(\"No executor for \"+c);a.f=b}return a.f}","function ee(a,b){var c=x(b)?b:B(b)?b.name:void 0;if(!x(c))throw new F(\"store name \"+c+\" must be a string, but \"+typeof c);var d=T(a.b,c);if(!d){if(!a.b.a())throw new F('store name \"'+c+'\" not found.');d=Qc(B(b)?b:{name:c});var e=a.c,f=d,g=f instanceof Pc?f:Qc(f),f=T(e.c,f.name);if(0==dd(g,f).length)(new E).callback(!1);else if(e.c instanceof pd)qd(e.c,g),e.a?(e.a.close(),e.a=null,wd(e)):(new E).callback(!1);else throw new sd(\"\");}else if(a.b.a()&&B(b)&&(e=Qc(b),e=dd(d,e)))throw new Lb(e);if(!d)throw new Od(c);","return d};function W(a,b,c){be.call(this,a,b,c)}C(W,be);l=W.prototype;l.logger=null;","l.count=function(a,b,c,d){var e,f,g,h;if(null!=a)if(t(a)){if(r(c)||r(b))throw new F(\"too many arguments.\");f=a;for(var k=0;k<f.length;k++)if(!nd(this.b,f[k]))throw new F('store name \"'+f[k]+'\" at '+k+\" not found.\");Kb(\"countStores: \"+Q(f));e=this.a.request(\"d\",f);L(e,function(){V(this).ua(e,f)},this)}else if(x(a)){k=T(this.b,a);if(!k)throw new F('store name \"'+a+'\" not found.');f=[a];if(x(b))g=b,B(c)?h=xc(c):h=null;else if(B(b)||null==b)if(B(b))h=xc(b);else{if(null!=b)throw new F(\"key range must be  an object but found \"+","hd(b)+\" of type \"+typeof b);h=null}else throw new F('invalid second argument for count \"'+hd(c)+'\" of type '+typeof b);Kb(\"countKeyRange: \"+a+\" \"+(g?g:\"\")+Q(h));e=this.a.request(\"d\",f);R(k,e,arguments);L(e,function(){V(this).Oa(e,f[0],h,g,!!d)},this)}else throw new F(\"Invalid store name or store names.\");else k=md(this.b),e=this.a.request(\"d\",k),hc(e,function(a,b,c){if(b)c(a,!0);else{for(var d=b=0;d<a.length;d++)b+=a[d];c(b,!1)}},this),L(e,function(){V(this).ua(e,f)},this);return e};","l.get=function(a,b){var c=this,d;if(a instanceof tc){var e=a,f=e.b,g=T(this.b,f);if(!g){if(this.b.a()){if(zd(this.c))return jc(\"e\",void 0);d=new J(\"e\");this.c.ma(function(){wb(c.get(a,b),function(a){d.callback(a)},function(a){d.l(a)})});return d}throw new F(\"Store: \"+f+\" not found.\");}var h=e.a;d=this.a.request(\"ek\",[f]);R(g,d,arguments,void 0,this);L(d,function(){V(this).ya(d,f,h)},this)}else if(x(a)&&r(b)){var k=a,g=T(this.b,k);if(!g){if(this.b.a()){if(zd(this.c))return jc(\"e\",void 0);d=new J(\"e\");","this.c.ma(function(){wb(c.get(a,b),function(a){d.callback(a)},function(a){d.l(a)})});return d}throw new F('Store name \"'+k+'\" not found.');}var n=b;d=this.a.request(\"e\",[k]);R(g,d,arguments,void 0,this);L(d,function(){V(this).ya(d,k,n)},this)}else throw new F(\"get require valid input arguments.\");return d};","l.mb=function(a,b,c,d,e){var f=T(this.b,a),g,h,k,n=null;B(b)&&(n=xc(b));if(r(c))if(z(c))g=c;else throw new F(\"limit must be a number, but \"+c+\" is \"+typeof c);else g=100;if(r(d))if(z(d))h=d;else throw new F(\"offset must be a number, but \"+d+\" is \"+typeof d);else h=0;if(r(e))if(ca(e))k=e;else throw new F(\"reverse must be a boolean, but \"+e+\" is \"+typeof e);var p=this.a.request(\"g\",[a]);R(f,p,arguments);L(p,function(){V(this).Y(p,2,a,null,n,g,h,k,!1)},this);return p};","l.ba=function(a,b,c,d,e,f,g){var h,k,n,p,m,u=T(this.b,a);h=xc(c);if(z(d))k=d;else{if(r(d))throw new F(\"limit must be a number\");k=100}if(z(e))n=e;else{if(r(e))throw new F(\"offset must be a number\");n=0}if(r(f))if(ca(f))p=f;else throw new F(\"reverse must be a boolean\");if(r(g))if(ca(g))m=g;else throw new F(\"unique must be a boolean\");var v=this.a.request(\"i\",[a]);R(u,v,arguments);L(v,function(){V(this).Y(v,2,a,b,h,k,n,p,m)},this);return v};","l.keys=function(a,b,c,d,e,f,g){var h=T(this.b,a);return this.b.a()&&!h?jc(\"g\",[]):x(b)?this.ba(a,b,c,d,e,f,g):this.mb(a,b,c,d,e)};","l.values=function(a,b,c,d,e,f,g){var h=this,k;if(x(a)){var n=a,p=T(this.b,n);if(!p){if(this.b.a()){if(zd(this.c))return jc(\"s\",[]);k=new J(\"s\");this.c.ma(function(){wb(h.values(a,b,c,d,e,f),function(a){k.callback(a)},function(a){k.l(a)})});return k}throw new Od(n);}if(t(b)){var m=b;k=this.a.request(\"v\",[n]);R(p,k,arguments,void 0,this);L(k,function(){V(this).Qa(k,n,m)},this)}else k=x(b)?this.ea(n,b,c,d,e,f,g):this.qb(n,b,c,d,e)}else if(t(a))if(a[0]instanceof tc){for(var p=[],u=a,v=0;v<u.length;v++){var y=","u[v].b;if(!nd(this.b,y)){if(this.b.a())return p=[],p[u.length-1]=void 0,jc(\"e\",p);throw new F(\"Store: \"+y+\" not found.\");}0<=Aa(p,y)||p.push(y)}Kb(\"listByKeys: \"+Q(p)+\" \"+u.length+\" keys\");k=this.a.request(\"w\",p);L(k,function(){V(this).Ra(k,u)},this)}else throw new F(\"first argumentmust be array of ydn.db.Key, but \"+a[0]+\" of \"+typeof a[0]+\" found.\");else throw new F(\"first argument \"+a+\" is invalid.\");return k};","l.qb=function(a,b,c,d,e){var f=T(this.b,a),g,h,k,n=null;B(b)&&(n=xc(b));if(r(c))if(z(c))g=c;else throw new F(\"limit must be a number, but \"+c+\" is \"+typeof c);else g=100;if(r(d))if(z(d))h=d;else throw new F(\"offset must be a number, but \"+d+\" is \"+typeof d);else h=0;if(r(e))if(ca(e))k=e;else throw new F(\"reverse must be a boolean, but \"+e+\" is \"+typeof e);var p=this.a.request(\"s\",[a]);R(f,p,arguments);L(p,function(){V(this).Y(p,4,a,null,n,g,h,k,!1)},this);return p};","l.ea=function(a,b,c,d,e,f,g){var h=T(this.b,a),k,n,p,m,u=xc(c);if(r(d))if(z(d))k=d;else throw new F(\"limit must be a number.\");else k=100;if(r(e))if(z(e))n=e;else throw new F(\"offset must be a number.\");else n=0;if(ca(f))p=f;else if(r(f))throw new F(\"reverse must be a boolean, but \"+f);if(r(g))if(ca(g))m=g;else throw new F(\"unique must be a boolean\");var v=this.a.request(\"u\",[a]);R(h,v,arguments);L(v,function(){V(this).Y(v,4,a,b,u,k,n,p,m)},this);return v};","l.add=function(a,b,c){if(t(b))return this.fa(a,b,c);a=ee(this,a);var d=a.getName(),e;if(x(a.keyPath)&&r(c))throw new F(\"key must not be provided while the store uses in-line key.\");if(!a.keyPath&&!a.b&&!r(c))throw new F(\"out-of-line key must be provided for store: \"+d);if(t(b)){for(var f=0;f<b.length;f++)ed(a,b[f]);e=this.a.request(\"b\",[d],I);L(e,function(){V(this).K(e,!1,!1,d,b,c)},this);a.J&&e.w(function(){},this)}else if(B(b))ad(a,b,c),ed(a,b),e=this.a.request(\"a\",[d],I),L(e,function(){V(this).K(e,","!1,!0,d,[b],[c])},this),a.J&&e.w(function(){},this);else throw new F(\"record must be an object or array list of objects, but \"+b+\" of type \"+typeof b+\" found.\");return e};","l.fa=function(a,b,c){a=ee(this,a);var d=a.getName(),e;if(x(a.keyPath)&&r(c))throw new F(\"key must not be provided while the store uses in-line key.\");if(!a.keyPath&&!a.b&&!r(c))throw new F(\"out-of-line key must be provided for store: \"+d);if(t(b)){for(var f=0;f<b.length;f++)ed(a,b[f]);e=this.a.request(\"b\",[d],I);L(e,function(){V(this).K(e,!1,!1,d,b,c)},this);a.J&&e.w(function(){},this)}else throw new F(\"record must be an array list of objects, but \"+b+\" of type \"+typeof b+\" found.\");return e};","l.put=function(a,b,c){var d,e=this;if(a instanceof tc){var f=a,g=f.b,h=T(this.b,g);if(!h)throw new F('store \"'+g+'\" not found.');if(h.keyPath){var k=ad(h,b);if(null!=k){if(0!=O(k,f.a))throw new F(\"Inline key must be \"+f+\" but \"+k+\" found.\");}else bd(h,b,f.a);return this.put(g,b)}return this.put(g,b,f.a)}if(t(a)){for(var n=a,p=b,f=[],g=0,h=n.length;g<h;g++){k=n[g].b;-1==Aa(f,k)&&f.push(k);var m=T(this.b,k);if(!m)throw new F('store \"'+k+'\" not found.');m.keyPath&&bd(m,p[g],n[g].a)}Kb(\"putByKeys: to \"+","Q(f)+\" \"+p.length+\" objects\");for(g=0;g<p.length;g++)ed(m,p[g]);d=this.a.request(\"l\",f,I);R(m,d,arguments);L(d,function(){V(e).Ua(d,p,n)},this)}else if(x(a)||B(a)){var m=ee(this,a),u=m.getName();if(m.keyPath&&r(c))throw new F(\"key must not be provided while the store uses in-line key.\");if(!m.keyPath&&!m.b&&!r(c))throw new F(\"out-of-line key must be provided for store: \"+u);if(t(b)){for(var v=b,y=c,g=0;g<v.length;g++)ed(m,v[g]);d=this.a.request(\"k\",[u],I);R(m,d,arguments);L(d,function(){V(this).K(d,","!0,!1,u,v,y)},this);m.J&&d.w(function(){},this)}else if(B(b)){var A=b,S=c;if(r(q.Blob)&&A instanceof Blob&&m.T&&!m.keyPath&&0==m.a.length&&Hb)d=new J(\"j\"),f=new FileReader,f.onload=function(a){var b=a.target.result,c=e.a.request(\"j\",[u],I);R(m,c,[u,A,S]);L(c,function(){V(e).K(c,!0,!0,u,[b],[S])},this);wb(c,function(a){d.callback(a)},function(a){d.l(a)})},f.onerror=function(a){d.l(a)},f.onabort=function(a){d.l(a)},f.readAsDataURL(A);else{ed(m,A);d=this.a.request(\"j\",[u],I);var X=[u,A,S];R(m,d,X);L(d,","function(){var a=r(S)?[X[2]]:void 0;V(e).K(d,!0,!0,u,[X[1]],a)},this)}m.J&&d.w(function(){},this)}else throw new F(\"put record value must be Object or array of Objects\");}else throw new F(\"the first argument of put must be store name, store schema or array of keys.\");return d};","l.na=function(a,b,c){var d,e=ee(this,a),f=e.getName();if(e.keyPath&&r(c))throw new F(\"key must not be provided while the store uses in-line key.\");if(!e.keyPath&&!e.b&&!r(c))throw new F(\"out-of-line key must be provided for store: \"+f);for(var g=b,h=c,k=0;k<g.length;k++)ed(e,g[k]);d=this.a.request(\"k\",[f],I);R(e,d,arguments);L(d,function(){V(this).K(d,!0,!1,f,g,h)},this);e.J&&d.w(function(){},this);return d};","l.clear=function(a,b){var c;if(x(a)){var d=T(this.b,a);if(!d)throw new F('store name \"'+a+'\" not found.');if(B(b)){var e=xc(b);if(null===e)throw new F(\"clear method requires a valid non-null KeyRange object.\");Kb(\"clearByKeyRange: \"+a+\":\"+Q(e));c=this.a.request(\"c\",[a],I);R(d,c,[a,e]);L(c,function(){V(this).Ma(c,a,e)},this)}else{if(r(b))throw new F(\"clear method requires a valid KeyRange object as second argument, but found \"+b+\" of type \"+typeof b);c=this.a.request(\"c\",[a],I);L(c,function(){V(this).sa(c,","[a])},this)}}else if(!r(a)||t(a)&&x(a[0])){var f=a||md(this.b);Kb(\"clearByStores: \"+Q(f));c=this.a.request(\"c\",f,I);L(c,function(){V(this).sa(c,f)},this)}else throw new F('first argument \"'+a+'\" is invalid.');return c};","l.qa=function(a,b,c){var d;if(x(a)){var e=T(this.b,a);if(!e)throw new F('store name \"'+a+'\" not found.');if(r(c))if(x(b)){var f=Tc(e,b);if(!f)throw new F(\"index: \"+b+\" not found in \"+a);if(B(c)||null===c){var g=xc(c);d=this.a.request(\"p\",[a],I);L(d,function(){V(this).Va(d,a,f.getName(),g)},this)}else throw new F(\"key range \"+c+' is invalid type \"'+typeof c+'\".');}else throw new F('index name \"'+b+'\" must be a string, but '+typeof b+\" found.\");else if(x(b)||z(b)||w(b)||b instanceof Date){d=this.a.request(\"m\",","[a],I);var h=[a,b];R(e,d,h);L(d,function(){V(this).Ca(d,a,h[1])},this);e.J&&d.w(function(){},this)}else if(B(b))g=xc(b),Kb(\"removeByKeyRange: \"+a+\":\"+Q(g)),d=this.a.request(\"n\",[a],I),R(e,d,[a,g]),L(d,function(){V(this).Wa(d,a,g)},this),e.J&&d.w(function(){},this);else throw new F('Invalid key or key range \"'+b+'\" of type '+typeof b);}else if(a instanceof tc){var k=a.b,e=T(this.b,k);d=this.a.request(\"m\",[k],I);var n=[k,a.a];R(e,d,n);L(d,function(){V(this).Ca(d,k,n[1])},this)}else if(t(a)){b=[];c=","0;for(e=a.length;c<e;c++){var p=a[c].b;-1==Aa(b,p)&&b.push(p)}if(1>b.length)throw new F('at least one valid key required in key list \"'+hd(a)+'\"');d=this.a.request(\"o\",b,I);L(d,function(){V(this).Xa(d,a)},this)}else throw new F('first argument requires store name, key (ydn.db.Key) or list of keys (array) , but \"'+hd(a)+'\" ('+ba(a)+\") found.\");return d};function fe(a,b,c){be.call(this,a,b,c)}C(fe,W);l=fe.prototype;l.logger=null;l.get=function(a,b){if(a instanceof Fd){var c=a.b,d=T(this.b,c);if(!d)throw new F('store \"'+c+'\" not found.');var e=a.f;if(r(e)&&!Yc(d,e))throw new F('index \"'+e+'\" not found in store \"'+c+'\".');var f=this.a.request(\"f\",[c]);L(f,function(){ge(this,5,f,a,1)},this);return f}return fe.C.get.call(this,a,b)};","l.Ba=function(a,b){var c=100;if(z(b)){if(c=b,1>c)throw new F(\"limit must be a positive value, but \"+b);}else if(r(b))throw new F(\"limit must be a number,  but \"+b);var d=this.a.request(\"h\",[a.b]);L(d,function(){a.v?ge(this,1,d,a,c):ge(this,2,d,a,c)},this);return d};l.keys=function(a,b,c,d,e,f,g){return a instanceof Fd?this.Ba(a,b):fe.C.keys.call(this,a,b,c,d,e,f,g)};l.ta=function(a){var b=this.a.request(\"d\",[a.b]);L(b,function(){ge(this,6,b,a)},this);return b};","l.count=function(a,b,c,d){if(a instanceof Fd){if(r(b)||r(c))throw new F(\"too many arguments.\");return this.ta(a)}return fe.C.count.call(this,a,b,c,d)};l.Da=function(a,b){var c;if(z(b)){if(c=b,1>c)throw new F(\"limit must be a positive value, but \"+c);}else if(r(b))throw new F(\"limit must be a number, but \"+b);var d=this.a.request(\"t\",[a.b]);L(d,function(){a.c?ge(this,2,d,a,c):ge(this,4,d,a,c)},this);return d};","l.values=function(a,b,c,d,e,f){return a instanceof Fd?this.Da(a,b):fe.C.values.call(this,a,b,c,d,e,f)};","function he(a,b,c){var d,e=I||G,f=[];for(d=0;d<c.length;d++)for(var g=c[d].stores(),h=0;h<g.length;h++)0<=Aa(f,g[h])||f.push(g[h]);d=a.a.request(\"qa\",f);a.a.Z(d,function(d,e,f){function g(){for(var b=0,f=0;f<c.length;f++){var m=c[f],p=[V(a).b(d,e,m.b)],m=m.load(p);m.R=h;m.I=ja(v,b);H[f]=m;S[b]=f;b++}A=c.length}function h(a){for(var b=0;b<H.length;b++)Dd(H[b]);Fa(H);f(a,!0)}function v(a,d){if(y)throw new rd;N++;var e=N===A,g=S[a],h=c[g],k=H[g],g=k.O(),k=k.pa();X[a]=d;M[a]=h.v?h.c?g:k:h.c?d:k;if(e){var n;","b instanceof Kd?n=b.c(X,M):n=b(X,M);e=[];h=[];g=[];k=[];if(t(n))for(var m=0;m<n.length;m++)!0===n[m]?g[m]=1:!1===n[m]?k[m]=!0:h[m]=n[m];else if(null===n)e=[];else if(r(n))if(B(n))e=n.continuePrimary||[],h=n[\"continue\"]||[],g=n.advance||[],k=n.restart||[];else throw new Mb(\"scan callback output\");else for(e=[],m=0;m<c.length;m++)r(S[m])&&(g[m]=1);for(m=N=n=0;m<c.length;m++)null!=e[m]||r(h[m])||null!=k[m]||null!=g[m]||N++;for(m=0;m<c.length;m++)if(null!=e[m]||r(h[m])||null!=k[m]||null!=g[m]){var u=","S[m];if(!r(u))throw new td(m+\" is not an iterator.\");var u=c[u],v=H[m];X[m]=void 0;M[m]=void 0;if(null!=k[m])u=v,u.j=!1,u.s=!1,u.openCursor(void 0,void 0);else if(r(h[m]))v.X(h[m]);else if(null!=e[m])v.oa(e[m]);else if(null!=g[m])v.advance(1);else throw new rd(u+\": has no action\");n++}if(0==n){for(n=0;n<H.length;n++)Dd(H[n]);y=!0;Fa(H);f(void 0)}}}var y=!1,A,S=[],X=[],M=[],H=[],N=0;b instanceof Kd?Ld(b,c)||g():g()},f,e);return d}","l.open=function(a,b,c,d){c=c||G;var e=this,f=this.a.request(\"i5\",b.stores(),c);L(f,function(c){for(var h=ic(f),k=b.stores(),n=[],p=0;p<k.length;p++)n[p]=V(e).b(c,h,k[p]);var m=b.load(n);m.R=function(a){K(f,a,!0)};m.I=function(b){if(null!=b){var c=a.call(d,m);!0===c?(m.j=!1,m.s=!1,m.openCursor(void 0,void 0)):B(c)?!0===c.restart?(b=c[\"continue\"],c=c.continuePrimary,m.j=!1,m.s=!1,m.openCursor(c,b)):null!=c[\"continue\"]?m.X(c[\"continue\"]):null!=c.continuePrimary?m.oa(c.continuePrimary):(Dd(m),K(f,void 0)):","null===c?(Dd(m),K(f,void 0)):null!=c?m.X(c):m.advance(1)}else Dd(m),K(f,void 0)}},this);return f};function ie(a,b,c,d){var e=c.b,f=c.f||null,g=d||100,h=a.a.request(\"u\",[e]),k=\"done\"==c.g||c.g==Gd?[]:[c.j,c.m];L(h,function(){V(this).Y(h,b,e,f,c.a?c.a instanceof Dc?c.a:Dc.bound(c.a.lower,c.a.upper,c.a.lowerOpen,c.a.upperOpen):null,g,0,Hd(c),Id(c),k)},a);h.w(function(){null!=k[0]?c.reset(\"rest\",k[0],k[1]):c.reset()});return h}","function ge(a,b,c,d,e){var f=[],g=c.a,h=ic(c);a=V(a);for(var k=[],n=d.stores(),p=0;p<n.length;p++)k[p]=a.b(g,h,n[p]);var m=d.load(k);m.R=function(a){Dd(m);K(c,a,!0)};var u=0,v=!1;m.I=function(a){v||(v=!0);null!=a?(m.O(),u++,1==b?f.push(a):2==b?f.push(m.O()):3==b?f.push([a,m.O()]):6!=b&&f.push(m.pa()),5==b?(Dd(m),K(c,f[0])):6==b||!r(e)||u<e?m.X():(Dd(m),K(c,f))):(Dd(m),K(c,5==b?f[0]:6==b?u:f))}};function je(a,b,c,d){this.f=a;this.a=Ga(c);this.b=d;this.c=[]}je.prototype.f=null;function ke(a,b,c){if(a.f)c&&a.c.push(c),b(a.f);else throw new Nb(\"tx committed on ParallelTxExecutor\");};function le(a,b,c,d,e,f){Vd.call(this,a,b,c,d,e,f);this.c=this.b=null}C(le,Vd);l=le.prototype;l.logger=null;l.abort=function(){Xd(this.c)};","l.eb=function(a,b){var c;if(\"multi\"==this.h)a:if(c=this.b,!c.a||!c.b||b!=c.b&&(c.b!=I||b!=G)||a.length>c.a.length)c=!1;else{for(var d=0;d<a.length;d++)if(-1==c.a.indexOf(a[d])){c=!1;break a}c=!0}else if(\"repeat\"==this.h)a:if(c=this.b,c.a&&c.b&&b==c.b&&c.a.length==a.length){for(d=0;d<a.length;d++)if(-1==c.a.indexOf(a[d])){c=!1;break a}c=!0}else c=!1;else c=\"all\"==this.h?!0:!1;return c};","l.P=function(a,b,c,d){function e(c){h.f++;k=new je(c,0,b,g);Q(b);h.b=k;ke(h.b,a,d)}function f(a,b){if(k){for(var c=k,d=0;d<c.c.length;d++)c.c[d](a,b);c.c.length=0;c.f=null;c.a=null;c.c=null}h.a=0}this.G&&(b=this.G);this.A&&(c=this.A);var g=r(c)?c:G,h=this,k;if(this.b&&this.b.f&&this.eb(b,g))ke(this.b,a,d);else{if(this.m&&this.f>=this.m)throw new Mb(\"Exceed maximum number of transactions of \"+this.m);this.j.transaction(e,b,g,f)}};","l.request=function(a,b,c,d){var e=new J(a),f=this;this.P(function(a){f.a++;ec(e,a,f.M()+\"R\"+f.a)},b,c||G,function(a,b){e.a=null;d&&d(a,b)});return e};l.Z=function(a,b,c,d,e){var f=this,g;this.P(function(c){f.a++;g=f.M()+\"R\"+f.a;b(c,g,function(b,d){f.c=c;g=f.M()+\"R\"+f.a;d?a.l(b):a.callback(b);f.c=null});b=null},c,d,e)};function me(a,b){le.call(this,a,b,Wd)}C(me,le);me.prototype.logger=null;me.prototype.eb=function(){return!1};me.prototype.request=function(a,b,c){var d,e,f,g=me.C.request.call(this,a,b,c,function(a,b){g.a=null;if(d)\"complete\"!=a&&(f=!0,e=b),d(e,f);else{var c=new Rd;K(g,c,!0)}});hc(g,function(a,b,c){f=b;e=a;d=c});return g};","me.prototype.Z=function(a,b,c,d,e){var f,g,h=new E;wb(h,function(a){g=!1;f=a},function(a){g=!0;f=a});me.C.Z.call(this,h,b,c,d,function(b,c){if(\"complete\"!=b)a.l(c);else if(!0===g)a.l(f);else if(!1===g)a.callback(f);else{var d=new Rd;a.l(d)}e&&(e(b,c),e=void 0)})};function ne(a,b,c){U.call(this,a,b,c);this.V=0;a=!0;b=Wd;c&&(r(c.isSerial)&&(a=!!c.isSerial),c.policy&&(b=c.policy));c=oe(this,b,a);this.i=oe(this,\"atomic\",!1);this.b=this.ca(c,this.i)}C(ne,U);l=ne.prototype;l.V=0;l.fb=function(a,b,c,d,e,f){a=a||Wd;var g;\"readonly\"==d?g=G:\"readwrite\"==d&&(g=I);a=oe(this,a,b,c,g,e);return this.ca(a,f?null:this.i)};l.ca=function(a){return new be(this,this.c,a)};","function oe(a,b,c,d,e,f){if(c){if(\"multi\"==b||\"repeat\"==b||\"all\"==b||b==Wd)return new Yd(a,a.V++,b,d,e,f);if(\"atomic\"==b)return new ae(a,a.V++);throw new F('Invalid requestType \"'+b+'\"');}if(\"multi\"==b||\"repeat\"==b||\"all\"==b||b==Wd)return new le(a,a.V++,b,d,e,f);if(\"atomic\"==b)return new me(a,a.V++);throw new F('Invalid requestType \"'+b+'\"');}","l.ob=function(a,b,c){this.V++;b=b||md(this.c);var d=G;if(c)if(\"readwrite\"==c)d=I;else if(\"readonly\"!=c)throw new F('Invalid transaction mode \"'+c+'\"');var e=oe(this,\"all\",!1,b,d,1),f=this.ca(e,this.i),g=new J(\"q\");e.P(function(b){ec(g,b,e.M()+\"R0\");a(f)},b,d,function(a){g.a=null;K(g,e.f,\"complete\"!==a)});return g};l.yb=function(){return this.b?this.b.a.f:NaN};function Y(a,b,c){ne.call(this,a,b,c);a=this.c;for(b=0;b<a.c.length;b++){c=a.c[b];var d=T(a,c.getName());if(d){if(!Yc(d,\"k\"))throw new F('full text index store \"'+d.getName()+'\" must have \"keyword\" index');if(!Yc(d,\"v\"))throw new F('full text index store \"'+d.getName()+'\" must have \"keyword\" index');if(\"id\"!=d.keyPath)throw new F('full text index store \"'+d.getName()+'\" must use \"id\" as key path.');}else throw new F('full text index store \"'+c.getName()+'\" required.');for(d=0;d<c.count();d++){var e=","c.index(d);if(!T(a,e.a))throw new F('full text source store \"'+e.a+'\" does not exist for full text index \"'+c.getName()+'\"');}}}C(Y,ne);l=Y.prototype;l.ca=function(a){return new W(this,this.c,a)};l.add=function(a,b,c){return this.b.add(a,b,c)};l.fa=function(a,b,c){return this.b.fa(a,b,c)};l.count=function(a,b,c,d){return this.b.count(a,b,c,d)};l.get=function(a,b){return this.b.get(a,b)};l.keys=function(a,b,c,d,e,f,g){return this.b.keys(a,b,c,d,e,f,g)};","l.ba=function(a,b,c,d,e,f,g){return this.b.ba(a,b,c,d,e,f,g)};l.values=function(a,b,c,d,e,f){return this.b.values(a,b,c,d,e,f)};l.ea=function(a,b,c,d,e,f,g){return this.b.ea(a,b,c,d,e,f,g)};l.put=function(a,b,c){return this.b.put(a,b,c)};l.na=function(a,b,c){return this.b.na(a,b,c)};l.clear=function(a,b,c){return this.b.clear(a,b,c)};l.qa=function(a,b,c){return this.b.qa(a,b,c)};function pe(a,b,c){Y.call(this,a,b,c)}C(pe,Y);l=pe.prototype;l.ca=function(a){return new fe(this,this.c,a)};l.open=function(a,b,c,d){return this.b.open(a,b,c,d)};l.ta=function(a){return this.b.ta(a)};l.Da=function(a,b){return this.b.Da(a,b)};l.Ba=function(a,b){return this.b.Ba(a,b)};function qe(a,b,c,d){Ad.call(this,a,0,c,d);this.b=null}C(qe,Ad);l=qe.prototype;l.logger=null;l.ha=function(a){(a=a.target.result)?this.L(a.key,a.primaryKey,a.value):this.L()};","l.openCursor=function(a,b){function c(a,b,c){m.b=p;m.b.onsuccess=ia(m.ha,m);m.L(a,m.g?b:void 0,c);p=null}var d=this.S,e=this.m.objectStore(this.hb),f=x(this.i)?e.index(this.i):null;if(r(a))var g=f?!r(b):!0,h=d?d.lower:void 0,k=d?d.upper:void 0,n=d?!!d.lowerOpen:!1,d=d?!!d.upperOpen:!1,d=wc(this.reverse?new P(h,a,n,g):new P(a,k,g,d));var p;this.ka?f?p=null!=this.dir?f.openKeyCursor(d,this.dir):null!=d?f.openKeyCursor(d):f.openKeyCursor():p=null!=this.dir?e.openCursor(d,this.dir):null!=d?e.openCursor(d):","e.openCursor():f?p=null!=this.dir?f.openCursor(d,this.dir):null!=d?f.openCursor(d):f.openCursor():p=null!=this.dir?e.openCursor(d,this.dir):null!=d?e.openCursor(d):e.openCursor();var m=this;p.onerror=function(a){var b=p.error;a.preventDefault();Bd(m,b)};null!=a?p.onsuccess=function(d){if(d=d.target.result){var e=Sb.cmp(d.key,a),f=m.reverse?-1:1;if(e==f)c(d.key,d.primaryKey,d.value);else if(e==-f)d[\"continue\"](a);else if(null!=b)if(Sb.cmp(d.primaryKey,b)==f)c(d.key,d.primaryKey,d.value);else d[\"continue\"]();","else d[\"continue\"]()}else c()}:(m.b=p,m.b.onsuccess=ia(m.ha,m))};l.Aa=function(){return!!this.b};l.update=function(a){var b=this.b.result;if(b){var c=new E;a=b.update(a);a.onsuccess=function(a){c.callback(a.target.result)};a.onerror=function(a){a.preventDefault();c.l(a)};return c}throw new Nd(\"cursor gone\");};","l.clear=function(){var a=this.b.result;if(a){var b=new E,a=a[\"delete\"]();a.onsuccess=function(){b.callback(1)};a.onerror=function(a){a.preventDefault();b.l(a)};return b}throw new Nd(\"cursor gone\");};l.advance=function(a){var b=this.b.result;if(1==a)b[\"continue\"]();else b.advance(a)};","l.oa=function(a){var b,c=this.b.result,d=this;this.b.onsuccess=function(e){if(c=e.target.result)if(b=Sb.cmp(c.primaryKey,a),0==b||1==b&&!d.reverse||-1==b&&d.reverse)d.b.onsuccess=ia(d.ha,d),d.L(c.key,d.g?c.primaryKey:void 0,c.value);else c[\"continue\"]();else d.b.onsuccess=ia(d.ha,d),d.L()};c[\"continue\"]()};l.X=function(a){var b=this.b.result;if(null!=a)b[\"continue\"](a);else b[\"continue\"]()};function re(a,b){this.a=b}C(re,Sd);l=re.prototype;l.logger=null;l.ua=function(a,b){function c(e){var f=a.a.objectStore(b[e]).count();f.onsuccess=function(f){d[e]=f.target.result;e++;e==b.length?K(a,d):c(e)};f.onerror=function(b){b.preventDefault();K(a,f.error,!0)}}var d=[];0==b.length?K(a,[]):c(0)};","l.K=function(a,b,c,d,e,f){function g(d){if(null==e[d])if(k++,k==e.length)K(a,h,n);else{var u=d+10;u<e.length&&g(u)}var v,u=e[d];v=f&&null!=f[d]?b?p.put(u,f[d]):p.add(u,f[d]):b?p.put(u):p.add(u);v.onsuccess=function(b){k++;h[d]=b.target.result;k==e.length?K(a,c?h[0]:h,n):(b=d+10,b<e.length&&g(b))};v.onerror=function(b){k++;var f=v.error;hd(e[d]);h[d]=f;n=!0;b.preventDefault();k==e.length?K(a,c?h[0]:h,n):(b=d+10,b<e.length&&g(b))}}var h=[],k=0,n=!1,p=a.a.objectStore(d);if(0<e.length)for(d=0;10>d&&d<","e.length;d++)g(d);else K(a,[])};l.Ua=function(a,b,c){function d(h){var n=c[h],p=a.a.objectStore(n.b),m;m=null===p.keyPath?p.put(b[h],n.a):p.put(b[h]);m.onsuccess=function(c){f++;e[h]=c.target.result;f==b.length?K(a,e,g):(c=h+10,c<b.length&&d(c))};m.onerror=function(c){f++;e[h]=m.error;g=!0;c.preventDefault();f==b.length?K(a,e,g):(c=h+10,c<b.length&&d(c))}}var e=[],f=0,g=!1;if(0<b.length)for(var h=0;10>h&&h<b.length;h++)d(h);else K(a,e,g)};","l.Ca=function(a,b,c){var d=a.a.objectStore(b).openCursor(Dc.only(c));d.onsuccess=function(b){if(b=b.target.result){var c=b[\"delete\"]();c.onsuccess=function(){K(a,1)};c.onerror=function(){K(a,c.error,!0)}}else K(a,0)};d.onerror=function(b){b.preventDefault();K(a,d.error,!0)}};","l.Xa=function(a,b){function c(h){h++;if(h>=b.length)0<g.length?K(a,g,!0):K(a,d);else{b[h].b!=e&&(e=b[h].b,f=a.a.objectStore(e));var k=f[\"delete\"](b[h].a);k.onsuccess=function(){d++;c(h)};k.onerror=function(a){a.preventDefault();g[h]=k.error;c(h)}}}var d=0,e,f,g=[];c(-1)};","l.Wa=function(a,b,c){var d=a.a.objectStore(b),e=d.count(c);e.onsuccess=function(b){var e=b.target.result,h=d[\"delete\"](c);h.onsuccess=function(){K(a,e)};h.onerror=function(){K(a,h.error,!0)}};e.onerror=function(b){b.preventDefault();K(a,e.error,!0)}};l.Ma=function(a,b,c){var d=a.a.objectStore(b)[\"delete\"](c);d.onsuccess=function(){K(a,void 0)};d.onerror=function(b){b.preventDefault();K(a,d.error,!0)}};","l.Va=function(a,b,c,d){var e=[],f=a.a.objectStore(b).index(c).openCursor(d),g=0;f.onsuccess=function(b){var c=b.target.result;if(c){var d=c[\"delete\"]();d.onsuccess=function(){g++;c[\"continue\"]()};d.onerror=function(a){e.push(d.error);a.preventDefault();c[\"continue\"]()}}else 0<e.length?K(a,e,!0):K(a,g)};f.onerror=function(b){b.preventDefault();K(a,f.error,!0)}};","l.sa=function(a,b){for(var c=b.length,d=0,e=0;e<c;e++){var f=a.a.objectStore(b[e]).clear();f.onsuccess=function(){d++;d==c&&K(a,d)};f.onerror=function(b){d++;b.preventDefault();d==c&&K(a,f.error,!0)}}};","l.ya=function(a,b,c){var d=a.a.objectStore(b),e=d.get(c);e.onsuccess=function(b){var c=b.target.result;if(!d.keyPath&&0==d.indexNames.length&&Hb&&x(c)&&0<=c.indexOf(\";base64,\")){'\"'==c.charAt(0)&&'\"'==c.charAt(c.length-1)&&(c=c.substr(1,c.length-2));c=c.split(\";base64,\");b=c[0].split(\":\")[1];for(var c=window.atob(c[1]),e=c.length,k=new Uint8Array(e),n=0;n<e;++n)k[n]=c.charCodeAt(n);K(a,new Blob([k.buffer],{type:b}))}else K(a,b.target.result)};e.onerror=function(b){b.preventDefault();K(a,e.error,!0)}};","l.Qa=function(a,b,c){function d(b){if(null==c[b])if(f++,e[b]=void 0,f==h)K(a,e);else{var n=b+10;n<h&&d(n)}var p;p=g.get(c[b]);p.onsuccess=function(c){f++;e[b]=c.target.result;f==h?K(a,e):(c=b+10,c<h&&d(c))};p.onerror=function(b){f++;b.preventDefault();K(a,p.error,!0)}}var e=[];e.length=c.length;var f=0,g=a.a.objectStore(b),h=c.length;if(0<h)for(b=0;10>b&&b<h;b++)d(b);else K(a,[])};","l.Ra=function(a,b){function c(f){var h=b[f],k=a.a.objectStore(h.b).get(h.a);k.onsuccess=function(h){e++;d[f]=h.target.result;e==b.length?K(a,d):(h=f+10,h<b.length&&c(h))};k.onerror=function(b){e++;b.preventDefault();K(a,k.error,!0)}}var d=[];d.length=b.length;var e=0;if(0<b.length)for(var f=0;10>f&&f<b.length;f++)c(f);else K(a,[])};","l.Oa=function(a,b,c,d){b=a.a.objectStore(b);c&&Q(c);var e;null!=d?(d=b.index(d),e=null!=c?d.count(c):d.count()):e=null!=c?b.count(c):b.count();e.onsuccess=function(b){K(a,b.target.result)};e.onerror=function(b){b.preventDefault();K(a,e.error,!0)}};function se(a,b,c,d){var e=b.getAll(c,d);e.onsuccess=function(b){K(a,b.target.result)};e.onerror=function(b){b.preventDefault();K(a,e.error,!0)}}","function te(a,b,c,d){var e=b.getAllKeys(c,d);e.onsuccess=function(b){K(a,b.target.result)};e.onerror=function(b){b.preventDefault();K(a,e.error,!0)}}","l.Y=function(a,b,c,d,e,f,g,h,k,n){var p=[],m=a.a.objectStore(c),u=h?k?\"prevunique\":\"prev\":k?\"nextunique\":\"next\";c=ic(a)+\" \"+b+\" \"+c+(d?\":\"+d:\"\")+(e?Q(e):\"\");h&&(c+=\" reverse\");k&&(c+=\" unique\");if(n&&r(n[0])){var v=d?!r(n[1]):!0,y=n[0],A=e?e.lower:void 0,S=e?e.upper:void 0,X=e?!!e.lowerOpen:!1;e=e?!!e.upperOpen:!1;e=wc(h?new P(A,y,X,v):new P(y,S,v,e));c+=\" starting from \"+Q(n[0]);r(n[1])&&(c+=\", \"+Q(n[1]))}var M;if(1==b||2==b||3==b)if(d){c=m.index(d);if(2==b&&c.getAllKeys&&!k&&!g&&!h&&!n){te(a,c,","e,f);return}M=c.openKeyCursor(e,u)}else{if(2==b&&m.getAllKeys&&!k&&!g&&!h&&!n){te(a,m,e,f);return}M=m.openCursor(e,u)}else if(d){c=m.index(d);if(c.getAll&&!k&&!g&&!h&&!n){se(a,c,e,f);return}M=c.openCursor(e,u)}else{if(m.getAll&&!k&&!g&&!h&&!n){se(a,m,e,f);return}M=m.openCursor(e,u)}var H=!1;M.onsuccess=function(c){if(c=c.target.result){if(!H){if(0<g){H=!0;c.advance(g);return}if(n&&d&&r(n[0]))if(r(n[1])){var e=Sb.cmp(c.key,n[0]),k=h?-1:1;if(0==e){e=Sb.cmp(c.primaryKey,n[1]);if(0==e){H=!0;c[\"continue\"]();","return}if(e==k)H=!0;else{c[\"continue\"]();return}}else H=!0}else H=!0;else H=!0}1==b?p.push(c.key):2==b?p.push(c.primaryKey):3==b?(k={},d&&(k[d]=c.key),m.keyPath?k[m.keyPath]=c.primaryKey:k._ROWID_=c.primaryKey,p.push(k)):4==b?p.push(c.value):p.push([c.key,c.primaryKey,c.value]);if(p.length<f)c[\"continue\"]();else n&&(n[0]=vc(c.key),n[1]=vc(c.primaryKey)),K(a,p)}else n&&(n[0]=void 0,n[1]=void 0),K(a,p)};M.onerror=function(b){b.preventDefault();K(a,M.error,!0)}};function ce(a,b){this.a=b}C(ce,re);ce.prototype.logger=null;ce.prototype.b=function(a,b,c,d){b=T(this.a,c);return new qe(a,0,b,d)};function ue(a,b,c,d){Ad.call(this,a,0,c,d);this.A=null;this.b=this.f=void 0}C(ue,Ad);l=ue.prototype;l.logger=null;l.O=function(){return this.b};l.Ha=function(a,b,c,d,e){ue.C.Ha.call(this,a,b,c,d,e);this.A=x(b)?Tc(this.a,b):null};l.pa=function(){return this.v};function ve(a,b){a.f=void 0;a.b=void 0;a.v=void 0;if(r(b))if(B(b)){var c=Lc(b[a.a.g],a.a.type);a.b=c;if(a.g){var d=Tc(a.a,a.i);a.f=Lc(b[a.i],d.type)}else a.f=c;a.v=a.ka?c:we(b,a.a)}else a.v=b}","function xe(a,b,c){Tc(a.a,a.i);var d=[],e=a.i,f=a.S,g=a.f;if(null!=f){var h=f.lower,k=f.upper,n=f.lowerOpen,p=f.upperOpen;a.reverse?k=null!=k&&-1==O(k,g)?k:g:h=null!=h&&1==O(h,g)?h:g;null!=h&&null!=k?f=zc(h,k,!!n,!!p):f=null!=h?Dc.lowerBound(h,!!n):Dc.upperBound(k,!!p)}else f=a.reverse?Dc.upperBound(g):Dc.lowerBound(g);e=Sc(a.a,d,a.G,e,f,a.reverse,a.unique);c=a.reverse?Dc.upperBound(c,!1):Dc.lowerBound(c,!1);c=Sc(a.a,d,a.G,a.a.g,c,a.reverse,a.unique);e.o=e.o?e.o+(\" AND \"+c.o):c.o;c=\"SELECT \"+e.select+","\" FROM \"+e.from+(e.o?\" WHERE \"+e.o:\"\")+(e.group?\" GROUP BY \"+e.group:\"\")+\" ORDER BY \"+e.H;c+=\" LIMIT 1\";Jb(a+\": continuePrimary:  SQL: \"+c+\" : \"+Q(d));a.m.executeSql(c,d,function(c,d){0<d.rows.length?ve(a,d.rows.item(0)):ve(a);b.call(a,a.f,a.b,a.v);b=null},function(c,d){Bd(a,d);ve(a);b.call(a,a.b,a.f,a.v);b=null;return!1})}","function ye(a,b,c,d,e,f){var g=!d;d=[];a.g&&null!=f&&null!=c?c=Wc(a.a,a.G,d,a.A.getName(),a.S,c,g,f,a.reverse,a.unique):null!=c?c=Vc(a.a,a.G,d,a.A?a.A.getName():null,a.S,a.reverse,a.unique,c,g):(c=Rc(a.a,d,a.G,a.g?a.A.f:a.a.g,a.S,a.reverse,a.unique),a.g&&(c+=\", \"+a.a.c+\" ASC\"));c+=\" LIMIT 1\";0<e&&(c+=\" OFFSET \"+e);Jb(a+\": continue:  SQL: \"+c+\" : \"+Q(d));a.m.executeSql(c,d,function(c,d){0<d.rows.length?ve(a,d.rows.item(0)):ve(a);b.call(a,a.f,a.b,a.v);b=null},function(c,d){Bd(a,d);ve(a);b.call(a,a.b,","a.f,a.v);b=null;return!1})}l.Aa=function(){return!!this.m};l.update=function(a){if(!this.Aa())throw new Nd;var b=new E,c=this.O();a=cd(this.a,a,c);var d=\"REPLACE INTO \"+Uc(this.a)+\" (\"+a.Na.join(\", \")+\") VALUES (\"+a.Ya.join(\", \")+\")\";Jb(this+': update \"'+d+'\" : '+Q(a.values));this.m.executeSql(d,a.values,function(){b.callback(c)},function(a,c){b.l(c);return!1});return b};","l.advance=function(a){var b=this.f,c=this.b,d=!0;null==this.f||this.g&&null==this.b||(--a,d=!1);ye(this,function(a,d,g){var h=null!=b&&null!=a&&0==O(b,a);if(this.g){var k=null!=d&&null!=c&&0==O(d,c);if(h&&k)throw new Nb(\"current: \"+b+\";\"+c+\" next: \"+a+\";\"+d);}else if(h)throw new Nb(\"current: \"+b+\" next: \"+a);this.L(a,d,g)},this.f,d,a,this.b)};l.X=function(a){null!=a?ye(this,this.L,a,!0):this.advance(1)};l.openCursor=function(a,b){ye(this,this.L,a,!1,0,b)};","l.clear=function(){if(!this.Aa())throw new Nd;var a=new E,b=this.a.g,b=\"DELETE FROM \"+Uc(this.a)+\" WHERE \"+b+\" = ?\",c=[this.O()];Jb(this+': clear \"'+b+'\" : '+Q(c));this.m.executeSql(b,c,function(b,c){a.callback(c.rowsAffected)},function(b,c){a.l(c);return!1});return a};l.oa=function(a){var b=O(a,this.b);if(0==b||1==b&&this.reverse||-1==b&&!this.reverse)throw new ud(this+\" to continuePrimaryKey  from \"+this.b+\" to \"+a+\" on \"+this.dir+\" direction is wrong\");xe(this,this.L,a)};function ze(a,b){this.a=b}C(ze,Sd);l=ze.prototype;l.logger=null;","function we(a,b){if(b.T&&!b.keyPath&&0==b.a.length&&a._default_){var c=a._default_;if(-1==c.indexOf(\";base64,\"))return gd(c);'\"'==c.charAt(0)&&'\"'==c.charAt(c.length-1)&&(c=c.substr(1,c.length-2));for(var d=c.split(\";base64,\"),c=d[0].split(\":\")[1],d=window.atob(d[1]),e=d.length,f=new Uint8Array(e),g=0;g<e;++g)f[g]=d.charCodeAt(g);return new Blob([f.buffer],{type:c})}c=a._default_?gd(a._default_):{};null!=b.keyPath&&(d=Lc(a[b.keyPath],b.type),null!=d&&bd(b,c,d));for(d=0;d<b.a.length;d++)if(e=b.index(d),","f=e.f,\"_default_\"!=f&&!e.h&&!e.multiEntry&&(\"DATE\"==e.type||b.T)&&(g=Lc(a[f],e.type),r(g)))for(var f=c,h=0;h<e.b.length;h++)h==e.b.length-1?f[e.b[h]]=g:B(f[e.b[h]])||(f[e.b[h]]={});return c}","l.K=function(a,b,c,d,e,f){function g(b,d){if(null==e[b])if(p++,p==e.length)K(a,n,m);else{var y=b+2;y<e.length&&g(y,d)}var A;A=r(f)?cd(h,e[b],f[b]):cd(h,e[b]);y=k+Uc(h)+\" (\"+A.Na.join(\", \")+\") VALUES (\"+A.Ya.join(\", \")+\");\";d.executeSql(y,A.values,function(f,y){function M(a,b){var c=k+ta(\"ydn.db.me:\"+h.getName()+\":\"+a.getName())+\" (\"+h.c+\", \"+a.c+\") VALUES (?, ?)\",e=[Gc(H,h.type),Gc(b,a.type)];d.executeSql(c,e,function(){},function(){return!1})}p++;var H=r(A.key)?A.key:y.insertId;1>y.rowsAffected&&","(m=!0,H=new Md(H+\" no-op\"));for(var N=0,ma=h.a.length;N<ma;N++){var kb=h.index(N);if(kb.multiEntry)for(var lb=Tb(e[b],kb.keyPath),dc=(lb?lb.length:0)||0,Ta=0;Ta<dc;Ta++)M(kb,lb[Ta])}c?K(a,H):(n[b]=H,p==e.length?K(a,n,m):(N=b+2,N<e.length&&g(N,f)))},function(d,f){p++;m=!0;6==f.code&&(f.name=\"ConstraintError\");if(c)K(a,f,!0);else if(n[b]=f,p==e.length)K(a,n,m);else{var h=b+2;h<e.length&&g(h,d)}return!1})}b=!b;var h=T(this.a,d),k=b?\"INSERT INTO \":\"INSERT OR REPLACE INTO \";d=a.a;var n=[],p=0,m=!1;if(0<","e.length)for(b=0;2>b&&b<e.length;b++)g(b,d);else K(a,[])};","l.Ua=function(a,b,c){if(0==c.length)K(a,[]);else{for(var d=[],e=0,f=0,g=this,h=function(h,k){for(var n=[],m=$c(T(g.a,h)),p=m?void 0:[],u=0;u<k.length;u++)n.push(b[k[u]]),m||p.push(c[k[u]].a);m=fc(a);wb(m,function(b){for(var c=0;c<k.length;c++)d[k[c]]=b[c];e++;e==f&&K(a,d)},function(){e++;e==f&&K(a,d,!0)});g.K(m,!1,!1,h,n,p)},k=\"\",n=[],p=[],m=0;m<c.length;m++){var u=c[m].b,v=c[m].a;u!=k?(f++,0<n.length&&h(k,n),n=[m],p=[v],k=u):(n.push(m),p.push(v))}0<n.length&&h(k,n)}};","l.ya=function(a,b,c){var d=a.a,e=T(this.a,b);b=e.c;c=[Gc(c,e.type)];b=\"SELECT * FROM \"+Uc(e)+\" WHERE \"+b+\" = ?\";d.executeSql(b,c,function(b,c){if(0<c.rows.length){var d=c.rows.item(0);null!=d?(d=we(d,e),K(a,d)):K(a,void 0)}else K(a,void 0)},function(b,c){K(a,c,!0);return!1})};","l.Qa=function(a,b,c){function d(b,e){var p=h.c,m=[Gc(c[b],h.type)],p=\"SELECT * FROM \"+Uc(h)+\" WHERE \"+p+\" = ?\";e.executeSql(p,m,function(e,n){g++;if(0<n.rows.length){var m=n.rows.item(0);null!=m&&(f[b]=we(m,h))}else f[b]=void 0;g==c.length?K(a,f):(m=b+10,m<c.length&&d(m,e))},function(e){g++;if(g==c.length)K(a,f);else{var h=b+10;h<c.length&&d(h,e)}return!1})}var e=a.a,f=[],g=0,h=T(this.a,b);if(0<c.length)for(b=0;10>b&&b<c.length;b++)d(b,e);else K(a,[])};","l.Ra=function(a,b){function c(d,h){var p=b[d],m=T(e.a,p.b),u=uc(p),p=m.c,u=[Gc(u,m.type)],p=\"SELECT * FROM \"+Uc(m)+\" WHERE \"+p+\" = ?\";h.executeSql(p,u,function(e,h){g++;if(0<h.rows.length){var n=h.rows.item(0);null!=n&&(f[d]=we(n,m))}else f[d]=void 0;g==b.length?K(a,f):(n=d+10,n<b.length&&c(n,e))},function(b,c){K(a,c,!0);return!1})}var d=a.a,e=this,f=[],g=0;if(0<b.length)for(var h=0;10>h&&h<b.length;h++)c(h,d);else K(a,[])};","l.sa=function(a,b){function c(d,g){function h(a){a=\"DELETE FROM  \"+ta(\"ydn.db.me:\"+k.getName()+\":\"+a.getName());g.executeSql(a,[])}var k=T(e.a,b[d]),n=\"DELETE FROM  \"+Uc(k);g.executeSql(n,[],function(e){d==b.length-1?K(a,b.length):c(d+1,e)},function(b,c){K(a,c,!0);return!1});for(var n=0,p=k.a.length;n<p;n++){var m=k.index(n);m.multiEntry&&h(m)}}var d=a.a,e=this;0<b.length?c(0,d):K(a,0)};","l.Xa=function(a,b){function c(h){if(h>=b.length)K(a,f,g);else{var k=T(e.a,b[h].b),n=Gc(b[h].a,k.type),p=\" WHERE \"+k.c+\" = ?\",m=\"DELETE FROM \"+Uc(k)+p;d.executeSql(m,[n],function(){f++;c(h)},function(){g=!0;c(h);return!1});h++;for(var m=function(a){a=\"DELETE FROM  \"+ta(\"ydn.db.me:\"+k.getName()+\":\"+a.getName())+p;d.executeSql(a,[n])},u=0,v=k.a.length;u<v;u++){var y=k.index(u);y.multiEntry&&m(y)}}}var d=a.a,e=this,f=0,g=!1;c(0)};","l.Ca=function(a,b,c){function d(a){a=\"DELETE FROM  \"+ta(\"ydn.db.me:\"+f.getName()+\":\"+a.getName())+h;e.executeSql(a,[g])}var e=a.a,f=T(this.a,b),g=Gc(c,f.type),h=\" WHERE \"+f.c+\" = ?\";b=\"DELETE FROM \"+Uc(f)+h;e.executeSql(b,[g],function(b,c){K(a,c.rowsAffected)},function(b,c){K(a,c,!0);return!1});b=0;for(c=f.a.length;b<c;b++){var k=f.index(b);k.multiEntry&&d(k)}};l.Ma=function(a,b,c){Ae(this,a,b,void 0,c)};l.Wa=function(a,b,c){Ae(this,a,b,void 0,c)};l.Va=function(a,b,c,d){Ae(this,a,b,c,d)};","function Ae(a,b,c,d,e){function f(a){a=\"DELETE FROM  \"+ta(\"ydn.db.me:\"+h.getName()+\":\"+a.getName())+n;g.executeSql(a,k)}var g=b.a,h=T(a.a,c);a=\"DELETE FROM \"+Uc(h);c=[];var k=[],n=\"\";null!=e&&(r(d)?(d=Tc(h,d),Fc(d.c,d.type,e,k,c)):Fc(h.c,h.type,e,k,c),n=\" WHERE \"+k.join(\" AND \"));g.executeSql(a+n,c,function(a,c){K(b,c.rowsAffected)},function(a,c){K(b,c,!0);return!1});e=0;for(d=h.a.length;e<d;e++)a=h.index(e),a.multiEntry&&f(a)}","l.ua=function(a,b){function c(f){var g=\"SELECT COUNT(*) FROM \"+ta(b[f]);d.executeSql(g,[],function(d,g){var n=g.rows.item(0);e[f]=parseInt(n[\"COUNT(*)\"],10);f++;f==b.length?K(a,e):c(f)},function(b,c){K(a,c,!0);return!1})}var d=a.a,e=[];0==b.length?K(a,0):c(0)};l.Oa=function(a,b,c,d,e){var f=[];b=Rc(T(this.a,b),f,6,d,c,!1,e);a.a.executeSql(b,f,function(b,c){var d;a:{if(d=c.rows.item(0))for(var e in d)if(d.hasOwnProperty(e)){d=d[e];break a}d=void 0}K(a,d)},function(b,c){K(a,c,!0);return!1})};","l.Y=function(a,b,c,d,e,f,g,h,k,n){var p=[],m=T(this.a,c),u=m.g,v=m.type,y=v,A=null!=d&&d!==u?Tc(m,d):null,S=d||u;A&&(y=A.type);c=[];if(n&&r(n[0])){var X=n[0];d=A&&r(n[1])?Wc(m,b,c,A.getName(),e,X,!0,n[1],h,k):Vc(m,b,c,d,e,h,k,X,!0)}else d=Rc(m,c,b,S,e,h,k);z(f)&&(d+=\" LIMIT \"+f);z(g)&&(d+=\" OFFSET \"+g);Q(c);a.a.executeSql(d,c,function(c,d){for(var e=d.rows.length,f,g=0;g<e;g++)f=d.rows.item(g),2==b?p[g]=Lc(f[u],v):1==b?p[g]=Lc(f[S],y):3==b?p[g]=[Lc(f[S],y),Lc(f[u],v)]:null!=f&&(p[g]=we(f,m));n&&f&&","(n[0]=Lc(f[S],y),n[1]=Lc(f[u],v));K(a,p)},function(b,c){K(a,c,!0);return!1})};function de(a,b){this.a=b}C(de,ze);de.prototype.logger=null;de.prototype.b=function(a,b,c,d){b=T(this.a,c);return new ue(a,0,b,d)};function Be(a,b){this.u=null;this.da=b||NaN}l=Be.prototype;","l.connect=function(a,b){function c(a,c){for(var d=0;d<b.stores.length;d++)Ce(a,c,b.stores[d]);for(var e=a.objectStoreNames,f=e.length,d=0;d<f;d++)nd(b,e[d])||a.deleteObjectStore(e[d])}function d(a,b){f.c||(r(b)?(e.u=null,f.l(b)):(e.u=a,e.u.onabort=function(){},e.u.onerror=function(){},e.u.onversionchange=function(a){if(e.u&&(e.u.onabort=null,e.u.onblocked=null,e.u.onerror=null,e.u.onversionchange=null,!a.defaultPrevented)){e.u.close();e.u=null;var b=Error();b.name=a.type;e.Fa(b)}},f.callback(parseFloat(g))))}","var e=this,f=new E,g=void 0,h=b.version,k;k=r(h)?Sb.open(a,h):Sb.open(a);k.onsuccess=function(f){var h=f.target.result;r(g)||(g=h.version);if(b.b)e.N(function(e){if(b instanceof pd)for(var f=0;f<e.stores.length;f++)nd(b,e.stores[f].getName())||qd(b,e.stores[f].clone());if(0<od(b,e,!1,!0).length){e=z(h.version)?h.version+1:1;h.close();var g=Sb.open(a,e);g.onupgradeneeded=function(a){c(a.target.result,g.transaction)};g.onsuccess=function(a){d(a.target.result)};g.onerror=function(){d(null)}}else d(h)},","void 0,h);else if(b.version>h.version){var k=h.setVersion(b.version);k.a=function(a){d(null,a)};k.onsuccess=function(){c(h,k.transaction)}}else e.N(function(a){a=od(b,a,!1,!0);0<a.length?d(null,new sd(\"different schema: \"+a)):d(h)},void 0,h)};k.onupgradeneeded=function(a){a=a.target.result;g=NaN;c(a,k.transaction)};k.onerror=function(a){d(null,a)};k.onblocked=function(a){d(null,a)};z(this.da)&&!isNaN(this.da)&&setTimeout(function(){\"done\"!=k.readyState&&d(null,new Rd(\"connection timeout after \"+e.da))},","this.da);return f};l.da=18E4;l.Fa=function(){};l.bb=function(){};l.Ta=function(){};l.$a=function(){return\"indexeddb\"};l.Za=function(){return this.u||null};l.Ea=function(){return!!this.u};l.logger=null;l.u=null;l.ab=function(){return this.u?parseFloat(this.u.version):void 0};","l.N=function(a,b,c){c=c||this.u;if(r(b)){if(null===b){if(0==c.objectStoreNames.length){a(new ld(c.version));return}throw new rd;}c=b.db}else{b=[];for(var d=c.objectStoreNames.length-1;0<=d;d--)b[d]=c.objectStoreNames[d];if(0==b.length){a(new ld(c.version));return}b=c.transaction(b,G)}for(var e=c.objectStoreNames,f=[],g=e.length,d=0;d<g;d++){for(var h=b.objectStore(e[d]),k=[],n=0,p=h.indexNames.length;n<p;n++){var m=h.index(h.indexNames[n]);k[n]=new Ic(m.keyPath,void 0,m.unique,m.multiEntry,m.name)}f[d]=","new Pc(h.name,h.keyPath,h.autoIncrement,void 0,k)}b=new ld(c.version,f);a(b)};","function Ce(a,b,c){function d(){var b={autoIncrement:!!c.b};null!=c.keyPath&&(b.keyPath=c.keyPath);return a.createObjectStore(c.getName(),b)}if(a.objectStoreNames.contains(c.getName())){b=b.objectStore(c.getName());Nc(c.keyPath||\"\",b.keyPath||\"\")?(a.deleteObjectStore(c.getName()),b=d()):ca(b.autoIncrement)&&ca(c.b)&&b.autoIncrement!=c.b&&(a.deleteObjectStore(c.getName()),b=d());for(var e=b.indexNames,f=0;f<c.a.length;f++){var g=c.index(f);!e.contains(g.getName())&&g.g&&b.clear()}for(var h=0,k=0,n=","0,f=0;f<c.a.length;f++){var g=c.index(f),p=!1;if(e.contains(g.getName())){var m=b.index(g.getName()),u=null!=m.unique&&null!=g.unique&&m.unique!=g.unique,v=null!=m.multiEntry&&null!=g.multiEntry&&m.multiEntry!=g.multiEntry,m=null!=m.keyPath&&null!=g.keyPath&&!!Nc(m.keyPath,g.keyPath);if(u||v||m)b.deleteIndex(g.getName()),p=!0,h--,n++}else\"BLOB\"!=g.type&&(p=!0);p&&(g.unique||g.multiEntry?(p={unique:g.unique,multiEntry:g.multiEntry},b.createIndex(g.getName(),g.keyPath,p)):b.createIndex(g.getName(),","g.keyPath),h++)}for(f=0;f<e.length;f++)Yc(c,e[f])||(b.deleteIndex(e[f]),k++)}else for(b=d(),f=0;f<c.a.length;f++)g=c.index(f),\"BLOB\"!=g.type&&(g.unique||g.multiEntry?(p={unique:g.unique,multiEntry:g.multiEntry},b.createIndex(g.getName(),g.keyPath,p)):b.createIndex(g.getName(),g.keyPath))}","l.wa=function(a,b,c,d){var e=this.u;if(!b){b=[];for(var f=e.objectStoreNames.length-1;0<=f;f--)b[f]=e.objectStoreNames[f]}0==b.length?a(null):(b=e.transaction(b,c),b.oncomplete=function(a){d(\"complete\",a)},b.onabort=function(a){d(\"abort\",a)},a(b),a=null)};l.close=function(){this.u.close()};kc.push(function(a,b){if(!Sb||b&&\"indexeddb\"!=b)return null;var c=Sb.deleteDatabase(a),d=new J(\"vc\");c.onblocked=function(a){Pb(d,a)};c.onerror=function(a){d.l(a)};c.onsuccess=function(a){d.callback(a)};return d});function De(a,b){this.a=r(a)?a:4194304;this.b=b||\"websql\"}l=De.prototype;","l.connect=function(a,b){function c(a,b){var c=a.version?parseInt(a.version,10):0,f=!1,g=0;a.changeVersion(a.version,(b.b?isNaN(c)?1:c+1:b.version)+\"\",function(c){e.N(function(a){f=!0;for(var d=0;d<b.count();d++){var e=T(a,(b.stores[d]||null).getName()),e=e?Zc(e,b.stores[d]||null):null;Ee(c,b.stores[d]||null,function(a){a&&g++},e)}for(e=0;e<a.count();e++)if(d=a.stores[e]||null,!nd(b,d.getName()))if(b instanceof pd)qd(b,d);else for(var h=Fe(d),d=0;d<h.length;d++)c.executeSql(h[d],[],function(){},function(a,","b){throw b;})},c,a)},function(a){throw a;},function(){f&&d(a)})}function d(a,b){r(b)?(e.B=null,g.l(b)):(e.B=a,g.callback(parseFloat(f)))}var e=this,f=NaN,g=new E,h=null;try{\"sqlite\"==this.b?q.sqlitePlugin?(h=q.sqlitePlugin.openDatabase(a,\"\",a,this.a),h.readTransaction||(h.readTransaction=h.transaction),h.changeVersion=function(a,b,c,d,e){h.transaction(c,d,e)}):(h=null,this.la=Error(\"sqlitePlugin not found.\")):h=q.openDatabase(a,\"\",a,this.a)}catch(k){if(\"SECURITY_ERR\"==k.name)h=null,this.la=new Qd(k);","else throw k;}h?(f=h.version||\"\",null!=b.version&&b.version==h.version?d(h):this.N(function(a){od(b,a,!0,!1)?c(h,b):d(h)},null,h)):d(null,this.la);return g};l.$a=function(){return this.b};l.la=null;l.B=null;l.Za=function(){return this.B||null};l.logger=null;l.Fa=function(){};l.bb=function(){};","function Fe(a){var b=[];b.push(\"DROP TABLE IF EXISTS \"+ta(a.getName()));for(var c=0,d=a.a.length;c<d;c++){var e=a.index(c);e.multiEntry&&(e=\"DROP TABLE IF EXISTS \"+ta(\"ydn.db.me:\"+a.getName()+\":\"+e.getName()),b.push(e))}return b}","function Ge(a){var b=a.m,c=\"CREATE TABLE IF NOT EXISTS \"+Uc(a)+\" (\",d=a.c,c=c+(d+\" \"+b+\" PRIMARY KEY \");a.b&&(c+=\" AUTOINCREMENT \");if(!a.T||!a.keyPath&&0==a.a.length)c+=\" ,_default_ BLOB\";for(var e=[],f=[d],g=0,h=a.a.length;g<h;g++){var k=a.index(g),n=\"\";if(k.multiEntry)n=k.unique?\" UNIQUE \":\"\",k=\"CREATE TABLE IF NOT EXISTS \"+ta(\"ydn.db.me:\"+a.getName()+\":\"+k.getName())+\" (\"+d+\" \"+b+\", \"+k.c+\" \"+k.i+n+\")\",e.push(k);else{k.unique&&(n=\" UNIQUE \");var p=k.c;-1==f.indexOf(p)&&(c+=\", \"+p+\" \"+k.i+n,f.push(p))}}e.unshift(c+","\")\");return e}l.ab=function(){return this.B?parseFloat(this.B.version):void 0};","l.N=function(a,b,c){function d(a,b){throw b;}function e(b,c){if(c&&c.rows){for(var d=0;d<c.rows.length;d++){var e=c.rows.item(d);if(\"__WebKitDatabaseInfoTable__\"!=e.name&&\"sqlite_sequence\"!=e.name&&\"table\"==e.type){var f=null!==e&&\"sql\"in e?e.sql:void 0,v=f.substr(f.indexOf(\"(\"),f.lastIndexOf(\")\")).match(/(?:\"[^\"]*\"|[^,])+/g),y=void 0,A,f=[],S=!1,X=!1,M=0;for(;M<v.length;M++){var H=v[M].match(/\\w+|\"[^\"]+\"/g),N=Ba(H,function(a){return a.toUpperCase()}),ma=qa(H[0]),H=Jc(N[1]);if(-1!=N.indexOf(\"PRIMARY\")&&","-1!=N.indexOf(\"KEY\")){A=H;if(x(ma)&&!/^[\\s\\xa0]*$/.test(ma)&&\"_ROWID_\"!=ma){var kb=ma.split(\",\"),y=ma;1<kb.length&&(y=kb,A=void 0)}-1!=N.indexOf(\"AUTOINCREMENT\")&&(S=!0)}else if(\"_ROWID_\"!=ma)if(\"_default_\"==ma)X=!0;else{var lb=\"UNIQUE\"==N[2];0==ma.lastIndexOf(e.tbl_name+\"-\",0)&&(ma=ma.substr(e.tbl_name.length+1));N=new Ic(ma,H,lb);f.push(N)}}if(0==e.name.lastIndexOf(\"ydn.db.me:\",0)){if(y=e.name.split(\":\"),3<=y.length){var dc=y[1],Ta=y[2],y=new Ic(Ta,H,lb,!0),v=Ea(h,function(a){return a.getName()===","dc});0<=v?(M=h[v],N=fd(M,Ta),0<=N?f[N]=y:(N=Ea(f,function(a){return a.getName()==Ta}),0<=N?f[N]=y:f.push(y)),h[v]=new Pc(M.getName(),M.keyPath,S,A,f,void 0,!X)):h.push(new Pc(dc,void 0,!1,void 0,[y]))}}else if(v=Ea(h,function(a){return a.getName()===e.name}),0<=v){for(d=0;d<h[v].a.length;d++){var M=h[v].index(d),Ne=M.getName();-1==Ea(f,function(a){return a.getName()==Ne})&&f.push(M)}h[v]=new Pc(e.name,y,S,A,f,void 0,!X)}else f=new Pc(e.name,y,S,A,f,void 0,!X),h.push(f)}}d=new ld(g,h);a(d)}}var f=","this,g=(c=c||this.B)&&c.version?parseFloat(c.version):void 0,g=isNaN(g)?void 0:g,h=[];b?b.executeSql(\"SELECT * FROM sqlite_master\",[],e,d):c.readTransaction(function(b){f.N(a,b,c)},function(a){throw a;},e)};function Ee(a,b,c,d){function e(b){a.executeSql(b,[],function(){f++;f==g.length&&(c(!0),c=null)},function(a,b){f++;f==g.length&&(c(!1),c=null);throw new Pd(b,'\"');})}var f=0,g=Ge(b);if(d){if(0==dd(b,d).length){c(!0);c=null;return}g.unshift.apply(g,Fe(d))}for(b=0;b<g.length;b++)e(g[b])}l.Ea=function(){return!!this.B};","l.close=function(){this.B=null};l.wa=function(a,b,c,d){function e(a){d(\"abort\",a)}function f(){d(\"complete\",{type:\"complete\"})}function g(b){a(b)}null===this.B&&(a(null),d(\"abort\",this.la));c==G?this.B.readTransaction(g,e,f):c==Rb?this.B.changeVersion(this.B.version,this.B.version+1+\"\",g,e,f):this.B.transaction(g,e,f)};","kc.push(function(a,b){if(da(q.openDatabase)&&(!b||\"websql\"==b)){var c=new De,d=new pd,d=c.connect(a,d),e=function(){};d.w(function(){c.wa(function(a){a.executeSql('SELECT * FROM sqlite_master WHERE type = \"table\"',[],function(b,c){if(c&&c.rows)for(var d=c.rows.length,e=0,p=0;p<d;p++){var m=c.rows.item(p);\"__WebKitDatabaseInfoTable__\"!=m.name&&\"sqlite_sequence\"!=m.name&&(e++,a.executeSql(\"DROP TABLE \"+m.name))}},function(a,b){throw b;})},[],I,e)});d.Ja(function(){})}});De.prototype.Ta=function(){};ne.prototype.va=function(a){return\"indexeddb\"==a&&Sb?new Be(0,this.v):\"sqlite\"==a&&q.sqlitePlugin?new De(this.m,\"sqlite\"):\"websql\"==a&&da(q.openDatabase)?new De(this.m):null};ne.prototype.branch=ne.prototype.fb;ne.prototype.getTxNo=ne.prototype.yb;be.prototype.getTxNo=be.prototype.g;ne.prototype.run=ne.prototype.ob;Y.prototype.branch=Y.prototype.fb;Y.prototype.add=Y.prototype.add;Y.prototype.addAll=Y.prototype.fa;Y.prototype.get=Y.prototype.get;Y.prototype.keys=Y.prototype.keys;Y.prototype.keysByIndex=Y.prototype.ba;Y.prototype.values=Y.prototype.values;Y.prototype.valuesByIndex=Y.prototype.ea;Y.prototype.put=Y.prototype.put;Y.prototype.putAll=Y.prototype.na;Y.prototype.clear=Y.prototype.clear;Y.prototype.remove=Y.prototype.qa;Y.prototype.count=Y.prototype.count;W.prototype.add=W.prototype.add;","W.prototype.addAll=W.prototype.fa;W.prototype.get=W.prototype.get;W.prototype.keys=W.prototype.keys;W.prototype.keysByIndex=W.prototype.ba;W.prototype.values=W.prototype.values;W.prototype.valuesByIndex=W.prototype.ea;W.prototype.put=W.prototype.put;W.prototype.putAll=W.prototype.na;W.prototype.clear=W.prototype.clear;W.prototype.remove=W.prototype.qa;W.prototype.count=W.prototype.count;la(\"ydn.db.Key\",tc);tc.prototype.id=tc.prototype.jb;tc.prototype.parent=tc.prototype.sb;","tc.prototype.storeName=tc.prototype.tb;la(\"ydn.db.KeyRange\",P);P.upperBound=Ac;P.lowerBound=Bc;P.bound=zc;P.only=yc;P.starts=Cc;pc.prototype.store_name=pc.prototype.b;pc.prototype.getStoreName=pc.prototype.a;function He(a,b,c){Y.call(this,a,b,c)}C(He,pe);la(\"ydn.db.Storage\",He);function Ie(a,b,c){this.db=a;this.b=b;this.type=c||0;this.c=null};function Je(a,b){Kd.call(this,a,b)}C(Je,Kd);","Je.prototype.c=function(a,b){var c=[],d=b[0];if(null==d)return[];for(var e=!0,f=!1,g=d,h=[],k=1;k<a.length;k++)if(null!=b[k]){var n=O(d,b[k]);h[k]=n;this.a?-1==n?e=!1:1==n&&(e=!1,f=!0,-1==O(b[k],g)&&(g=b[k])):1==n?e=!1:-1==n&&(e=!1,f=!0,1==O(b[k],g)&&(g=b[k]))}else e=!1,f=!0;if(e)for(f=0;f<a.length;f++)null!=b[f]&&(c[f]=!0);else if(f)for(f=0;f<a.length;f++)null!=b[f]&&(this.a?-1==O(g,b[f])&&(c[f]=g):1==O(g,b[f])&&(c[f]=g));else for(k=this.a?-1:1,f=1;f<a.length;f++)h[f]===k&&(c[f]=d);return e?(this.b&&","this.b.push(g),c):{continuePrimary:c}};function Ke(a,b){Kd.call(this,a,b)}C(Ke,Kd);Ke.prototype.logger=null;","Ke.prototype.c=function(a,b){function c(a,b){var c=a.slice(0,a.length-1);c.push(b);return c}function d(a){return a[a.length-1]}var e=[];if(0==a.length||null==a[0]||null==a[0])return[];for(var f=!0,g=0,h=d(a[g]),k=[],n=1;n<a.length;n++)if(null!=a[n]){var p=d(a[n]),m=O(h,p);k[n]=m;this.a?-1==m?f=!1:1==m&&(f=!1,h=p,g=1):1==m?f=!1:-1==m&&(f=!1,h=p,g=1)}else return[];n=this.a?-1:1;if(f){for(f=0;f<a.length;f++)null!=a[f]&&(e[f]=!0);this.b&&this.b.push(b[0]);return null!=this.f&&this.b.length>=this.f?[]:","e}if(0==g)for(f=1;f<a.length;f++)k[f]==n&&(e[f]=c(a[f],h));else for(f=0;f<a.length;f++)f!=g&&null!=a[f]&&O(h,d(a[f]))===n&&(e[f]=c(a[f],h));return{\"continue\":e}};function Le(a,b,c,d){this.c=a;this.a=b||null;this.h=!!c;this.g=!!d;this.b=[];this.f=[]}function Me(a,b){for(var c=b.length-1;0<=c;c--)if(b[c]==a.b[a.b.length-1])b=b.slice(0,c);else break;a.f=b;if(a.a&&a.b[0]){if(a.a.lower!=a.a.upper)throw new Md(\"Ordering no allowed with range query\");a.a=Cc([a.a.lower])}return null}","function Oe(a,b){if((0!=a.b.length||0!=a.f.length)&&Pe(a)&&!Qe(a))throw new Md('Require index \"'+a.b.concat(a.f).join(\", \")+'\" not found in store \"'+a.c.getName()+'\"');var c=new Fd(a.c.getName(),Re(a),a.a,a.h,a.g,!b);c.s=a.b.length;return c}Le.prototype.clone=function(){var a=new Le(this.c,this.a,this.h,this.g);a.f=this.f.slice();a.b=this.b.slice();return a};function Qe(a){var b=a.b.concat(a.f),c=Xc(a.c,b);return c||b[b.length-1]==a.c.keyPath&&(c=Xc(a.c,b.slice(0,b.length-1)))?c:null}","function Re(a){return(a=Qe(a))?a.getName():void 0}Le.prototype.reverse=function(){var a=this.clone();a.h=!this.h;return a};Le.prototype.unique=function(a){var b=this.clone();b.g=!!a;return b};function Pe(a){return 0<a.b.length?!0:1==a.f.length?a.f[0]!=a.c.keyPath:1<a.f.length?!0:!1}","Le.prototype.o=function(a,b,c,d,e){c=Hc(b,c,d,e);if(0<this.b.length)if(this.a)if(null!=this.a.lower&&null!=this.a.upper&&0==O(this.a.lower,this.a.upper))a=t(this.a.lower)?this.a.lower.slice().push(b):[this.a.lower,b],d=null!=d?d:\"\\uffff\",c=t(this.a.upper)?this.a.upper.slice().push(d):[this.a.upper,d],this.a=Hc(b,a,d,c);else if(1==this.b.length&&this.b[0]==a||t(a)&&Ia(this.b,a))this.a=Ec(this.a,c);else return\"cannot use where clause with existing filter\";else return\"cannot use where clause with existing filter\";","else this.b=t(a)?a:[a],this.a=this.a?Ec(this.a,c):c;return null};function Se(a,b,c,d){Ie.call(this,a,b,c);this.a=d}C(Se,Ie);Se.prototype.open=function(){var a={push:function(){}},a=Te(this)?new Ke(a):new Je(a);return he(this.db,a,Ue(this))};function Ue(a){for(var b=[],c=0;c<a.a.length;c++)b[c]=Oe(a.a[c]);return b}function Te(a){for(var b=0;b<a.a.length;b++)if(0<a.a[b].b.length)return!0;return!1}Se.prototype.za=function(){return this.a.slice()};Se.prototype.select=function(){throw Error(\"not impl\");};","Se.prototype.reverse=function(){var a=this.a.map(function(a){return a.reverse()});return new Se(this.db,this.b,this.type,a)};function Z(a,b,c,d){Ie.call(this,a,b,c);this.a=d}C(Z,Ie);l=Z.prototype;l.ub=function(){return new Z(this.db,this.b,this.type,this.a.clone())};l.reverse=function(){var a=this.a.reverse();return new Z(this.db,this.b,this.type,a)};l.unique=function(a){if(!ca(a))throw new F(\"unique value must be a boolean, but \"+typeof a+\" found\");a=this.a.unique(a);return new Z(this.db,this.b,this.type,a)};","l.H=function(a){var b=x(a)?[a]:a;a=this.a.clone();if(b=Me(a,b))throw Error(b);return new Z(this.db,this.b,this.type,a)};","l.o=function(a,b,c,d,e){if(Re(this.a)&&Re(this.a)!=a){var f=Hc(b,c,d,e),f=new Le(T(this.b,this.a.c.getName()),f,this.a.h,this.a.g),f=(new Z(this.db,this.b,this.type,f)).za().concat(this.za());return new Se(this.db,this.b,this.type,f)}if(!Re(this.a)&&!Yc(T(this.b,this.a.c.getName()),a))throw new F('index \"'+a+'\" not exists in '+this.a.c.getName());f=this.a.clone();if(a=f.o(a,b,c,d,e))throw new F(a);return new Z(this.db,this.b,this.type,f)};","l.select=function(a){var b=T(this.b,this.a.c.getName()),c=x(a)?[a]:a,d=this.type;a=this.a.clone();d=Re(this.a);if(1==c.length)if(d=c[0],\"_ROWID_\"==d||d==b.keyPath)d=2;else if(d&&\"*\"!=d)if(Yc(b,d)){if(b=Me(a,c))throw new F(b);d=1}else throw new F('Invalid select \"'+d+'\", index not found in store \"'+b.getName()+'\"');else d=4;else if(2==c.length){if(!d)throw new F(\"Only primary key can be selected for this query.\");for(var e=0;2>e;e++){var f;if(f=\"_ROWID_\"!=c[e]){f=b;var g=c[e];f=!(r(f.keyPath)&&(1==","f.h.length?f.keyPath===g:w(g)&&Ia(f.h,g)))}if(f&&c[e]!=d)throw new F('select field name must be \"'+d+'\", but \"'+c[e]+'\" found.');}d=3}else throw new F(\"Selecting more than 2 field names is not supported, but \"+c.length+\" fields selected.\");return new Z(this.db,this.b,d,a)};l.vb=function(a){a=a||100;var b=4,c=Ve(this);this.c&&this.c[0]&&(c=Jd(c,this.c[0],this.c[1]));if(2==this.type||3==this.type||1==this.type)b=this.type;a=ie(this.db,b,c,a);a.w(function(){\"rest\"==c.g&&(this.c=[c.j,c.m])},this);return a};","l.za=function(){return[this.a.clone()]};function Ve(a,b){var c=!!b;r(b)||(c=2==a.type||3==a.type||1==a.type);return Oe(a.a,!c)}l.nb=function(a,b){var c=Ve(this);c.c&&(c=new Fd(c.b,c.f,c.a,Hd(c),Id(c),!1,c.h));var d=this.db.open(function(c){var f=c.pa();if(x(a))Ub(f,a,b);else if(t(a))for(var g=0;g<a.length;g++)Ub(f,a[g],b[g]);else if(B(a))for(g in a)a.hasOwnProperty(g)&&(f[g]=a[g]);xb(d,c.update(f))},c,I,this);return d};l.open=function(a,b){return this.db.open(a,Ve(this,!1),I,b)};","l.count=function(){return Pe(this.a)?this.a.g?this.db.count(Oe(this.a)):this.db.count(this.a.c.getName(),Re(this.a),this.a.a):this.db.count(this.a.c.getName(),this.a.a)};l.clear=function(){return Pe(this.a)?this.db.clear(this.a.c.getName(),Re(this.a),this.a.a):this.db.clear(this.a.c.getName(),this.a.a)};","pe.prototype.from=function(a,b,c,d,e){if(!nd(this.c,a))throw new F('Store \"'+a+'\" not found.');var f=null;if(r(b)){if(!r(c))throw new F(\"boundary value must be defined.\");f=Hc(b,c,d,e)}else if(r(d))throw new F(\"second boundary must not be defined.\");a=new Le(T(this.c,a),f);return new Z(this.b,this.c,null,a)};","fe.prototype.from=function(a,b,c,d,e){if(!nd(this.b,a))throw new F('Store \"'+a+'\" not found.');var f=null;if(r(b)){if(!r(c))throw new F(\"boundary value must be defined.\");f=Hc(b,c,d,e)}else if(r(d))throw new F(\"second boundary must not be defined.\");a=new Le(T(this.b,a),f);return new Z(this,this.b,null,a)};Z.prototype.copy=Z.prototype.ub;Z.prototype.count=Z.prototype.count;Z.prototype.list=Z.prototype.vb;Z.prototype.order=Z.prototype.H;Z.prototype.patch=Z.prototype.nb;Z.prototype.reverse=Z.prototype.reverse;Z.prototype.unique=Z.prototype.unique;Z.prototype.where=Z.prototype.o;pe.prototype.from=pe.prototype.from;fe.prototype.from=fe.prototype.from; ","","//# sourceMappingURL=ydn.db-is-core-qry.js.map","return ydn;}, (this || {}));","            "]}],[{"start":{"row":0,"column":0},"end":{"row":218,"column":12},"action":"remove","lines":["(function (name, definition, context) {if (typeof context['module'] !== 'undefined' && context['module']['exports']) {context['module']['exports'] = definition.apply(context);}else if (typeof context['define'] !== 'undefined' && context['define'] === 'function' && context['define']['amd']) {define(name, [], definition);}else {context[name] = definition();}})('ydn', function () {var l,q=this;function r(a){return void 0!==a}function aa(){}","function ba(a){var b=typeof a;if(\"object\"==b)if(a){if(a instanceof Array)return\"array\";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(\"[object Window]\"==c)return\"object\";if(\"[object Array]\"==c||\"number\"==typeof a.length&&\"undefined\"!=typeof a.splice&&\"undefined\"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(\"splice\"))return\"array\";if(\"[object Function]\"==c||\"undefined\"!=typeof a.call&&\"undefined\"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(\"call\"))return\"function\"}else return\"null\";","else if(\"function\"==b&&\"undefined\"==typeof a.call)return\"object\";return b}function t(a){return\"array\"==ba(a)}function w(a){var b=ba(a);return\"array\"==b||\"object\"==b&&\"number\"==typeof a.length}function x(a){return\"string\"==typeof a}function ca(a){return\"boolean\"==typeof a}function z(a){return\"number\"==typeof a}function da(a){return\"function\"==ba(a)}function B(a){var b=typeof a;return\"object\"==b&&null!=a||\"function\"==b}var ea=\"closure_uid_\"+(1E9*Math.random()>>>0),fa=0;","function ga(a,b,c){return a.call.apply(a.bind,arguments)}function ha(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function ia(a,b,c){ia=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf(\"native code\")?ga:ha;return ia.apply(null,arguments)}","function ja(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var ka=Date.now||function(){return+new Date};function la(a,b){var c=a.split(\".\"),d=q;c[0]in d||!d.execScript||d.execScript(\"var \"+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&r(b)?d[e]=b:d[e]?d=d[e]:d=d[e]={}}","function C(a,b){function c(){}c.prototype=b.prototype;a.C=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.zb=function(a,c,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[c].apply(a,g)}};function na(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0}function oa(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};function pa(a){if(Error.captureStackTrace)Error.captureStackTrace(this,pa);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}C(pa,Error);pa.prototype.name=\"CustomError\";function qa(a){for(var b=0;1>b;b++)if('\"'==a.charAt(0)&&'\"'==a.charAt(a.length-1))return a.substring(1,a.length-1);return a}var ra={\"\\x00\":\"\\\\0\",\"\\b\":\"\\\\b\",\"\\f\":\"\\\\f\",\"\\n\":\"\\\\n\",\"\\r\":\"\\\\r\",\"\\t\":\"\\\\t\",\"\\x0B\":\"\\\\x0B\",'\"':'\\\\\"',\"\\\\\":\"\\\\\\\\\",\"<\":\"<\"},sa={\"'\":\"\\\\'\"};","function ta(a){a=String(a);for(var b=['\"'],c=0;c<a.length;c++){var d=a.charAt(c),e=d.charCodeAt(0),f=c+1,g;if(!(g=ra[d])){if(!(31<e&&127>e))if(d in sa)d=sa[d];else if(d in ra)d=sa[d]=ra[d];else{e=d;g=d.charCodeAt(0);if(31<g&&127>g)e=d;else{if(256>g){if(e=\"\\\\x\",16>g||256<g)e+=\"0\"}else e=\"\\\\u\",4096>g&&(e+=\"0\");e+=g.toString(16).toUpperCase()}d=sa[d]=e}g=d}b[f]=g}b.push('\"');return b.join(\"\")};function ua(a,b,c){this.f=c;this.c=a;this.g=b;this.b=0;this.a=null}ua.prototype.get=function(){var a;0<this.b?(this.b--,a=this.a,this.a=a.next,a.next=null):a=this.c();return a};ua.prototype.put=function(a){this.g(a);this.b<this.f&&(this.b++,a.next=this.a,this.a=a)};function va(){this.b=this.a=null}var xa=new ua(function(){return new wa},function(a){a.reset()},100);va.prototype.add=function(a,b){var c=xa.get();c.a=a;c.b=b;c.next=null;this.b?this.b.next=c:this.a=c;this.b=c};function ya(){var a=za,b=null;a.a&&(b=a.a,a.a=a.a.next,a.a||(a.b=null),b.next=null);return b}function wa(){this.next=this.b=this.a=null}wa.prototype.reset=function(){this.next=this.b=this.a=null};var Aa=Array.prototype.indexOf?function(a,b,c){return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(x(a))return x(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ba=Array.prototype.map?function(a,b,c){return Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=x(a)?a.split(\"\"):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Ca=Array.prototype.some?function(a,b,c){return Array.prototype.some.call(a,","b,c)}:function(a,b,c){for(var d=a.length,e=x(a)?a.split(\"\"):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1};function Da(a,b){var c=Ea(a,b,void 0);return 0>c?null:x(a)?a.charAt(c):a[c]}function Ea(a,b,c){for(var d=a.length,e=x(a)?a.split(\"\"):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1}function Fa(a){if(!t(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0}function Ga(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}","function Ha(a,b,c){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)}function Ia(a,b){if(!w(a)||!w(b)||a.length!=b.length)return!1;for(var c=a.length,d=Ja,e=0;e<c;e++)if(!d(a[e],b[e]))return!1;return!0}function Ja(a,b){return a===b};var Ka;a:{var La=q.navigator;if(La){var Ma=La.userAgent;if(Ma){Ka=Ma;break a}}Ka=\"\"}function D(a){return-1!=Ka.indexOf(a)};function Na(a,b){for(var c=w(b),d=c?b:arguments,c=c?0:1;c<d.length&&(a=a[d[c]],r(a));c++);return a};function Oa(){return D(\"Opera\")||D(\"OPR\")};function Pa(a){q.setTimeout(function(){throw a;},0)}var Qa;","function Ra(){var a=q.MessageChannel;\"undefined\"===typeof a&&\"undefined\"!==typeof window&&window.postMessage&&window.addEventListener&&!D(\"Presto\")&&(a=function(){var a=document.createElement(\"IFRAME\");a.style.display=\"none\";a.src=\"\";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write(\"\");a.close();var c=\"callImmediate\"+Math.random(),d=\"file:\"==b.location.protocol?\"*\":b.location.protocol+\"//\"+b.location.host,a=ia(function(a){if((\"*\"==d||a.origin==d)&&a.data==","c)this.port1.onmessage()},this);b.addEventListener(\"message\",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if(\"undefined\"!==typeof a&&!D(\"Trident\")&&!D(\"MSIE\")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(r(c.next)){c=c.next;var a=c.La;c.La=null;a()}};return function(a){d.next={La:a};d=d.next;b.port2.postMessage(0)}}return\"undefined\"!==typeof document&&\"onreadystatechange\"in document.createElement(\"SCRIPT\")?function(a){var b=document.createElement(\"SCRIPT\");","b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){q.setTimeout(a,0)}};function Sa(a,b){Ua||Va();Wa||(Ua(),Wa=!0);za.add(a,b)}var Ua;function Va(){if(q.Promise&&q.Promise.resolve){var a=q.Promise.resolve(void 0);Ua=function(){a.then(Xa)}}else Ua=function(){var a=Xa;!da(q.setImmediate)||q.Window&&q.Window.prototype&&!D(\"Edge\")&&q.Window.prototype.setImmediate==q.setImmediate?(Qa||(Qa=Ra()),Qa(a)):q.setImmediate(a)}}var Wa=!1,za=new va;function Xa(){for(var a=null;a=ya();){try{a.a.call(a.b)}catch(b){Pa(b)}xa.put(a)}Wa=!1};function Ya(a,b){this.a=Za;this.i=void 0;this.f=this.b=this.c=null;this.g=this.h=!1;if(a!=aa)try{var c=this;a.call(b,function(a){$a(c,ab,a)},function(a){$a(c,bb,a)})}catch(d){$a(this,bb,d)}}var Za=0,ab=2,bb=3;function cb(){this.next=this.c=this.b=this.f=this.a=null;this.g=!1}cb.prototype.reset=function(){this.c=this.b=this.f=this.a=null;this.g=!1};var db=new ua(function(){return new cb},function(a){a.reset()},100);function eb(a,b,c){var d=db.get();d.f=a;d.b=b;d.c=c;return d}","Ya.prototype.then=function(a,b,c){return fb(this,da(a)?a:null,da(b)?b:null,c)};na(Ya);function gb(a){a.a==Za&&Sa(function(){var a=new hb(void 0);ib(this,a)},a)}function ib(a,b){if(a.a==Za)if(a.c){var c=a.c;if(c.b){for(var d=0,e=null,f=null,g=c.b;g&&(g.g||(d++,g.a==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(c.a==Za&&1==d?ib(c,b):(f?(d=f,d.next==c.f&&(c.f=d),d.next=d.next.next):jb(c),mb(c,e,bb,b)))}a.c=null}else $a(a,bb,b)}function nb(a,b){a.b||a.a!=ab&&a.a!=bb||ob(a);a.f?a.f.next=b:a.b=b;a.f=b}","function fb(a,b,c,d){var e=eb(null,null,null);e.a=new Ya(function(a,g){e.f=b?function(c){try{var e=b.call(d,c);a(e)}catch(n){g(n)}}:a;e.b=c?function(b){try{var e=c.call(d,b);!r(e)&&b instanceof hb?g(b):a(e)}catch(n){g(n)}}:g});e.a.c=a;nb(a,e);return e.a}Ya.prototype.m=function(a){this.a=Za;$a(this,ab,a)};Ya.prototype.s=function(a){this.a=Za;$a(this,bb,a)};","function $a(a,b,c){if(a.a==Za){a==c&&(b=bb,c=new TypeError(\"Promise cannot resolve to itself\"));a.a=1;var d;a:{var e=c,f=a.m,g=a.s;if(e instanceof Ya)nb(e,eb(f||aa,g||null,a)),d=!0;else if(oa(e))e.then(f,g,a),d=!0;else{if(B(e))try{var h=e.then;if(da(h)){pb(e,h,f,g,a);d=!0;break a}}catch(k){g.call(a,k);d=!0;break a}d=!1}}d||(a.i=c,a.a=b,a.c=null,ob(a),b!=bb||c instanceof hb||qb(a,c))}}","function pb(a,b,c,d,e){function f(a){h||(h=!0,d.call(e,a))}function g(a){h||(h=!0,c.call(e,a))}var h=!1;try{b.call(a,g,f)}catch(k){f(k)}}function ob(a){a.h||(a.h=!0,Sa(a.j,a))}function jb(a){var b=null;a.b&&(b=a.b,a.b=b.next,b.next=null);a.b||(a.f=null);return b}Ya.prototype.j=function(){for(var a=null;a=jb(this);)mb(this,a,this.a,this.i);this.h=!1};","function mb(a,b,c,d){if(c==bb&&b.b&&!b.g)for(;a&&a.g;a=a.c)a.g=!1;if(b.a)b.a.c=null,rb(b,c,d);else try{b.g?b.f.call(b.c):rb(b,c,d)}catch(e){sb.call(null,e)}db.put(b)}function rb(a,b,c){b==ab?a.f.call(a.c,c):a.b&&a.b.call(a.c,c)}function qb(a,b){a.g=!0;Sa(function(){a.g&&sb.call(null,b)})}var sb=Pa;function hb(a){pa.call(this,a)}C(hb,pa);hb.prototype.name=\"cancel\";/*"," Portions of this code are from MochiKit, received by"," The Closure Authors under the MIT license. All other code is Copyright"," 2005-2009 The Closure Authors. All Rights Reserved.","*/","function E(a,b){this.j=[];this.R=b||null;this.b=this.c=!1;this.g=void 0;this.$=this.G=this.m=!1;this.i=0;this.f=null;this.A=0}l=E.prototype;l.ga=function(a,b){this.m=!1;tb(this,a,b)};function tb(a,b,c){a.c=!0;a.g=c;a.b=!b;a.xa()}function ub(a){if(a.c){if(!a.$)throw new vb;a.$=!1}}l.callback=function(a){ub(this);tb(this,!0,a)};l.l=function(a){ub(this);tb(this,!1,a)};l.w=function(a,b){return wb(this,a,null,b)};l.Ja=function(a,b){return wb(this,null,a,b)};l.Ia=function(a,b){return wb(this,a,a,b)};","function wb(a,b,c,d){a.j.push([b,c,d]);a.c&&a.xa();return a}l.then=function(a,b,c){var d,e,f=new Ya(function(a,b){d=a;e=b});wb(this,d,function(a){e(a)});return f.then(a,b,c)};na(E);E.prototype.ra=function(a){wb(this,a.callback,a.l,a);return this};function xb(a,b){b instanceof E?a.w(ia(b.U,b)):a.w(function(){return b})}E.prototype.U=function(a){var b=new E;this.ra(b);a&&(b.f=this,this.A++);return b};function yb(a){return Ca(a.j,function(a){return da(a[1])})}","E.prototype.xa=function(){this.i&&this.c&&yb(this)&&(zb(this.i),this.i=0);this.f&&(this.f.A--,delete this.f);for(var a=this.g,b=!1,c=!1;this.j.length&&!this.m;){var d=this.j.shift(),e=d[0],f=d[1],d=d[2];if(e=this.b?f:e)try{var g=e.call(d||this.R,a);r(g)&&(this.b=this.b&&(g==a||g instanceof Error),this.g=a=g);if(oa(a)||\"function\"===typeof q.Promise&&a instanceof q.Promise)this.m=c=!0}catch(h){a=h,this.b=!0,yb(this)||(b=!0)}}this.g=a;c&&(c=ia(this.ga,this,!0),g=ia(this.ga,this,!1),a instanceof E?(wb(a,","c,g),a.G=!0):a.then(c,g));b&&(a=new Ab(a),Bb[a.a]=a,this.i=a.a)};function vb(){pa.call(this)}C(vb,pa);vb.prototype.message=\"Deferred has already fired\";vb.prototype.name=\"AlreadyCalledError\";function Ab(a){this.a=q.setTimeout(ia(this.c,this),0);this.b=a}Ab.prototype.c=function(){delete Bb[this.a];window.console.error(this.b.stack);throw this.b;};var Bb={};function zb(a){var b=Bb[a];b&&(q.clearTimeout(b.a),delete Bb[a])};function Cb(){return D(\"iPhone\")&&!D(\"iPod\")&&!D(\"iPad\")};var Db=Oa(),Eb=D(\"Trident\")||D(\"MSIE\"),Fb=D(\"Edge\"),Gb=D(\"Gecko\")&&!(-1!=Ka.toLowerCase().indexOf(\"webkit\")&&!D(\"Edge\"))&&!(D(\"Trident\")||D(\"MSIE\"))&&!D(\"Edge\"),Hb=-1!=Ka.toLowerCase().indexOf(\"webkit\")&&!D(\"Edge\");function Ib(){var a=Ka;if(Gb)return/rv\\:([^\\);]+)(\\)|;)/.exec(a);if(Fb)return/Edge\\/([\\d\\.]+)/.exec(a);if(Eb)return/\\b(?:MSIE|rv)[: ]([^\\);]+)(\\)|;)/.exec(a);if(Hb)return/WebKit\\/(\\S+)/.exec(a)}","(function(){if(Db&&q.opera){var a;var b=q.opera.version;try{a=b()}catch(c){a=b}return a}a=\"\";(b=Ib())&&(a=b?b[1]:\"\");return Eb&&(b=(b=q.document)?b.documentMode:void 0,b>parseFloat(a))?String(b):a})();function Jb(){}function Kb(){};function F(a){pa.call(this,a);this.name=\"ydn.error.ArgumentException\"}C(F,pa);function Lb(a){pa.call(this,a);this.name=\"ydn.error.NotSupportedException\"}C(Lb,pa);function Mb(a){pa.call(this,a);this.name=\"ydn.error.InvalidOperationException\"}C(Mb,pa);function Nb(a){Error.captureStackTrace?Error.captureStackTrace(this,Nb):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.error.InternalError\"}C(Nb,Error);Nb.prototype.name=\"ydn.error.InternalError\";function Ob(a,b){E.call(this,0,b);this.h=[]}C(Ob,E);l=Ob.prototype;l.Ka=function(a,b){this.h.push([a,b]);return this};function Pb(a,b){for(var c=0;c<a.h.length;c++)a.h[c][0].call(a.h[c][1],b)}l.callback=function(a){this.h.length=0;Ob.C.callback.call(this,a)};l.l=function(a){this.h.length=0;Ob.C.l.call(this,a)};l.ra=function(a){Ob.C.ra.call(this,a);a instanceof Ob&&a.Ka(function(a){Pb(this,a)},this);return this};l.rb=function(){return this};var Qb={READ_ONLY:\"readonly\",READ_WRITE:\"readwrite\",VERSION_CHANGE:\"versionchange\"},G=Qb.READ_ONLY,I=Qb.READ_WRITE,Rb=Qb.VERSION_CHANGE,Sb=q.indexedDB;E.prototype.done=E.prototype.w;E.prototype.fail=E.prototype.Ja;E.prototype.always=E.prototype.Ia;Ob.prototype.then=Ob.prototype.then;function Tb(a,b){var c,d;2==arguments.length&&x(arguments[1])?(c=!0,d=arguments[1].split(\".\")):d=(c=w(b))?b:arguments;for(c=c?0:1;c<d.length&&(a=a[d[c]],r(a));c++);return a}function Ub(a,b,c){if(a)if(-1==b.indexOf(\".\"))a[b]=c;else{b=b.split(\".\");for(var d=b.pop(),e;e=b.shift();)B(a[e])||(a[e]={}),a=a[e];a[d]=c}}var Vb={};","function Wb(a){a=[a];for(var b=new Xb,c=0,d,e;void 0!==(e=a.pop());){0===c%4&&12<c+4&&(b.write(c),c=0);d=typeof e;if(e instanceof Array)if(c+=4,0<e.length){a.push(Vb);for(d=e.length;d--;)a.push(e[d]);continue}else b.write(c);else if(\"number\"===d)c+=1,b.write(c),Yb(b,e);else if(e instanceof Date)c+=2,b.write(c),Yb(b,e.valueOf());else if(\"string\"===d){c+=3;b.write(c);c=b;for(d=0;d<e.length;d++){var f=e.charCodeAt(d);126>=f?c.write(f+1):16510>=f?(f-=127,c.write(128|f>>8,f&255)):c.write(192|f>>10,f>>","2|255,(f|3)<<6)}c.write(0)}else if(e===Vb)b.write(0);else return\"\";c=0}return b.trim().toString()}","function Yb(a,b){var c,d,e;c=b;var f=e=d=0;if(0!==c)if(isFinite(c)){0>c&&(d=1,c=-c);f=0;if(2.2250738585072014E-308<=c){for(e=c;1>e;)f--,e*=2;for(;2<=e;)f++,e/=2;e=f+1023}f=e?Math.floor(4503599627370496*(c/Math.pow(2,f)-1)):Math.floor(c/4.9E-324)}else e=2047,isNaN(c)?f=0x8000000000000:-Infinity===c&&(d=1);c=d;d=e;e=f;c&&(e=0xfffffffffffff-e,d=2047-d);a.write((c?0:128)|d>>4);a.write((d&15)<<4|0|e/281474976710656);e%=281474976710656;c=0|e/4294967296;a.write(c>>8,c&255);e%=4294967296;c=0|e/65536;a.write(c>>","8,c&255);c=e%65536;a.write(c>>8,c&255)}function Zb(a){var b=$b(a)|0,c=b>>7?!1:!0,d=c?-1:1,e=(b&127)<<4,b=$b(a)|0,e=e+(b>>4);c&&(e=2047-e);for(var b=[c?15-(b&15):b&15],f=6;f--;)b.push(c?255-($b(a)|0):$b(a)|0);a=0;for(f=7;f--;)a=a/256+b[f];a/=16;return 0===a&&0===e?0:(a+1)*Math.pow(2,e-1023)*d}","function ac(a){for(var b=[],c=0,d=0,e=0,f,g;;){f=$b(a);if(0===f||null==f)break;0===c?(g=f>>6,2>g&&!isNaN(f)?b.push(String.fromCharCode(f-1)):(c=g,d=f<<10,e++)):2===c?(b.push(String.fromCharCode(d+f+127)),c=d=e=0):2===e?(d+=f<<2,e++):(b.push(String.fromCharCode(d|f>>6)),c=d=e=0)}return b.join(\"\")}function bc(a){this.a=null;this.b=a;this.c=this.b.length-1;this.index=-1}function $b(a){return a.a=a.index<a.c?parseInt(a.b.charAt(++a.index)+a.b.charAt(++a.index),16):null}","function Xb(){this.a=[];this.b=void 0}Xb.prototype.write=function(a){for(var b=0;b<arguments.length;b++)this.b=arguments[b].toString(16),this.a.push(2===this.b.length?this.b:this.b=\"0\"+this.b)};Xb.prototype.trim=function(){for(var a=this.a.length;\"00\"===this.a[--a];);this.a.length=++a;return this};Xb.prototype.toString=function(){return this.a.length?this.a.join(\"\"):\"\"};function cc(a,b){var c=Wb(a),d=Wb(b);return c>d?1:c==d?0:-1};function J(a,b,c){Ob.call(this,b,c);this.v=a;this.h=[];this.s=[];this.aa=[];this.a=null;this.W=\"\";this.I=0}C(J,Ob);l=J.prototype;l.W=\"\";l.logger=null;function ec(a,b,c){a.a=b;a.W=c;if(b){for(c=0;c<a.s.length;c++)a.s[c][0].call(a.s[c][1],b);a.s.length=0}}function fc(a){var b=new J(a.v);a.I++;ec(b,a.a,a.W+\"C\"+a.I);return b}l.ib=function(){return!!this.a};","l.abort=function(){if(this.a)if(da(this.a.abort))this.a.abort();else if(da(this.a.executeSql))this.a.executeSql(\"ABORT\",[],function(){},function(){return!0});else throw new Lb;else throw new gc(\"\");};function K(a,b,c){var d=a.aa.shift();c=!!c;d?d[0].call(d[1],b,c,function(b,c){K(a,b,c)}):c?a.l(b):a.callback(b)}function hc(a,b,c){a.aa.push([b,c])}function L(a,b,c){a.a?b.call(c,a.a):a.s.push([b,c])}l.callback=function(a){J.C.callback.call(this,a)};l.l=function(a){J.C.l.call(this,a)};","function ic(a){var b=\"\";a.W&&(b=a.a?\"*\":\"\",b=\"[\"+a.W+b+\"]\");return a.v+b}function jc(a,b){var c=new J(a);K(c,b);return c}l.toString=function(){return\"Request:\"+ic(this)};","l.xa=function(){this.i&&this.c&&yb(this)&&(zb(this.i),this.i=0);this.f&&(this.f.A--,delete this.f);for(var a=this.g,b=!1;this.j.length&&!this.m;){var c=this.j.shift(),d=c[0],e=c[1],c=c[2];if(d=this.b?e:d)d=d.call(c||this.R,a),r(d)&&(this.b=this.b&&(d==a||d instanceof Error),this.g=a=d),oa(a)&&(this.m=b=!0)}this.g=a;b&&(b=ia(this.ga,this,!0),d=ia(this.ga,this,!1),a instanceof E?(wb(a,b,d),a.G=!0):a.then(b,d))};","l.toJSON=function(){var a=(this.W||\"\").match(/B(\\d+)T(\\d+)(?:Q(\\d+?))?(?:R(\\d+))?/)||[];return{method:this.v?this.v.split(\":\"):[],branchNo:parseFloat(a[1]),transactionNo:parseFloat(a[2]),queueNo:parseFloat(a[3]),requestNo:parseFloat(a[4])}};var O=Sb&&Sb.cmp?ia(Sb.cmp,Sb):cc,kc=[];var lc=D(\"Safari\")&&!((D(\"Chrome\")||D(\"CriOS\"))&&!Oa()&&!D(\"Edge\")||D(\"Coast\")||Oa()||D(\"Edge\")||D(\"Silk\")||D(\"Android\"))&&!(Cb()||D(\"iPad\")||D(\"iPod\"));function mc(){0!=nc&&(this[ea]||(this[ea]=++fa));this.$=this.$;this.gb=this.gb}var nc=0;mc.prototype.$=!1;function oc(a,b){this.type=a;this.target=b}oc.prototype.preventDefault=function(){};function pc(a,b){oc.call(this,a,b)}C(pc,oc);pc.prototype.a=function(){return this.b};function qc(a,b,c,d,e){oc.call(this,a,b);this.version=c;this.cb=d;this.Sa=e}C(qc,pc);l=qc.prototype;l.name=\"ReadyEvent\";l.version=NaN;l.cb=NaN;l.Sa=null;l.xb=function(){return this.version};l.lb=function(){return this.cb};l.kb=function(){return this.Sa};function rc(a,b,c){oc.call(this,c||\"error\",a);this.error=b}C(rc,pc);rc.prototype.toString=function(){return this.name+\":\"+(this.error?this.error:\"\")};","rc.prototype.name=\"ErrorEvent\";rc.prototype.error=null;rc.prototype.c=function(){return this.error};function sc(a,b){rc.call(this,a,b,\"fail\")}C(sc,rc);sc.prototype.name=\"FailEvent\";function tc(a,b,c){var d;if(B(a))d=a.store,b=a.id,null!=a.parent&&(c=new tc(a.parent));else if(r(b))d=a;else if(d=a.lastIndexOf(\"^|\"),b=a,0<d&&(b=a.substr(d),c=new tc(a.substring(0,d))),b=b.split(\"^:\"),d=b[0],b=b[1],!r(b))throw Error(\"Invalid key value: \"+a);this.b=d;this.a=b;this.c=c||null}l=tc.prototype;l.toJSON=function(){var a={store:this.b,id:this.a};this.c&&(a.parent=this.c.toJSON());return a};l.valueOf=function(){return(this.c?this.c.valueOf()+\"^|\":\"\")+this.b+\"^:\"+this.a};","l.toString=function(){return this.valueOf().replace(\"^|\",\"|\").replace(\"^:\",\":\")};l.tb=function(){return this.b};l.jb=function(){return this.a};function uc(a){return t(a.a)?a.a.join(\"^|\"):a.a instanceof Date?+a.a:a.a}l.sb=function(){return this.c};function vc(a){if(w(a)){for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}return a};function P(a,b,c,d){a>b&&(b=a=void 0);null===a&&(a=void 0);null===b&&(b=void 0);this.lower=a;this.upper=b;this.lowerOpen=!!c;this.upperOpen=!!d}l=P.prototype;l.lower=void 0;l.upper=void 0;l.lowerOpen=!1;l.upperOpen=!1;l.toJSON=function(){var a;a=this||{};return{lower:a.lower,upper:a.upper,lowerOpen:a.lowerOpen,upperOpen:a.upperOpen}};function wc(a){return xc(a)}function yc(a){return new P(a,a,!1,!1)}function zc(a,b,c,d){return new P(a,b,c,d)}function Ac(a,b){return new P(void 0,a,void 0,!!b)}","function Bc(a,b){return new P(a,void 0,!!b,void 0)}function Cc(a){var b;if(t(a))b=Ga(a),b.push(\"\\uffff\");else if(x(a))b=a+\"\\uffff\";else if(z(a))b=a+2.220460492503131E-16,a-=2.220460492503131E-16;else return yc(a);return zc(a,b,!1,!0)}function xc(a){return null!=a?null!=a.upper&&null!=a.lower?Dc.bound(a.lower,a.upper,!!a.lowerOpen,!!a.upperOpen):null!=a.upper?Dc.upperBound(a.upper,a.upperOpen):null!=a.lower?Dc.lowerBound(a.lower,a.lowerOpen):null:null}","function Ec(a,b){var c=a.lower,d=a.upper,e=a.lowerOpen,f=a.upperOpen;null!=b.lower&&(null==a.lower||b.lower>=a.lower)&&(c=b.lower,e=b.lowerOpen||a.lowerOpen);null!=b.upper&&(null==a.upper||b.upper<=a.upper)&&(d=b.upper,f=b.upperOpen||a.upperOpen);return zc(c,d,e,f)}","function Fc(a,b,c,d,e){if(c)if(c.lowerOpen||c.upperOpen||null==c.lower||null==c.upper||0!==O(c.lower,c.upper)){if(null!=c.lower){var f=c.lowerOpen?\" > \":\" >= \";d.push(a+f+\"?\");e.push(Gc(c.lower,b))}null!=c.upper&&(f=c.upperOpen?\" < \":\" <= \",d.push(a+f+\"?\"),e.push(Gc(c.upper,b)))}else d.push(a+\" = ?\"),e.push(Gc(c.lower,b))}","function Hc(a,b,c,d){var e,f,g,h;if(\"starts\"==a||\"^\"==a)return Cc(b);if(\"<\"==a||\"<=\"==a)e=b,g=\"<\"==a;else if(\">\"==a||\">=\"==a)f=b,h=\">\"==a;else if(\"=\"==a||\"==\"==a)e=f=b;else throw new F(\"invalid op: \"+a);if(\"<\"==c||\"<=\"==c)e=d,g=\"<\"==c;else if(\">\"==c||\">=\"==c)f=d,h=\">\"==c;else if(r(c))throw new F(\"invalid op2: \"+c);return zc(f,e,h,g)}var Dc=q.IDBKeyRange||q.webkitIDBKeyRange||P;function Ic(a,b,c,d,e,f){r(e)||(e=t(a)?a.join(\", \"):a);if(null!=a&&!x(a)&&!w(a))throw new F(\"index keyPath for \"+e+\" must be a string or array, but \"+a+\" is \"+typeof a);!r(a)&&r(e)&&(a=e.replace(/[,\\s]/g,\"\"));this.keyPath=a;this.h=w(this.keyPath);this.a=e;this.type=Jc(b);if(r(b)){if(!r(this.type))throw new F(\"type invalid in index: \"+this.a);if(t(this.keyPath))throw new F('composite key for store \"'+this.a+'\" must not specified type');}this.unique=!!c;this.multiEntry=!!d;this.i=x(this.type)?this.type:","Kc;this.f=x(e)?e:t(a)?this.keyPath.join(\",\"):a;this.c=ta(this.f);this.b=this.h?null:this.keyPath.split(\".\");this.g=f||null}var Kc=\"TEXT\";function Gc(a,b){if(\"DATE\"==b){if(a instanceof Date)return+a}else return null!=b?a:Wb(a)}","function Lc(a,b){var c;if(\"DATE\"==b)c=new Date(a);else if(r(b))c=a;else{for(var d=c=[],e,f=[],g,h,k=new bc(a);null!=$b(k);)if(0===k.a)d=f.pop();else{if(null===k.a)break;do{g=k.a/4|0;e=k.a%4;for(var n=0;n<g;n++)h=[],d.push(h),f.push(d),d=h;if(0===e&&12<k.a+4)$b(k);else break}while(1);1===e?d.push(Zb(k)):2===e?d.push(new Date(Zb(k))):3===e?d.push(ac(k)):0===e&&(d=f.pop())}c=c[0]}return c}var Mc=[\"BLOB\",\"DATE\",\"INTEGER\",\"NUMERIC\",Kc];function Jc(a){if(x(a))return a=Aa(Mc,a),Mc[a]}","Ic.prototype.getName=function(){return this.a};Ic.prototype.toJSON=function(){return{name:this.a,keyPath:this.keyPath,type:this.type,unique:this.unique,multiEntry:this.multiEntry}};Ic.prototype.clone=function(){var a=t(this.keyPath)?Ga(this.keyPath):this.keyPath;return new Ic(a,this.type,this.unique,this.multiEntry,this.a,this.g)};","function Nc(a,b){return null!=a||null!=b?null!=a?null!=b?w(a)&&w(b)?Ia(a,b)?null:\"expect: \"+a+\", but: \"+b:Oc(a,b)?null:\"expect: \"+a+\", but: \"+b:\"keyPath: \"+a+\" no longer defined\":\"newly define \"+b:null}Ic.prototype.hint=function(a){if(!a)return this;var b=t(this.keyPath)?Ga(this.keyPath):this.keyPath,c=this.type;r(a.type)||\"TEXT\"!=c||(c=void 0);return new Ic(b,c,this.unique,this.multiEntry,a.a)};function Pc(a,b,c,d,e,f,g){if(!x(a))throw new F(\"store name must be a string\");this.f=a;this.keyPath=r(b)?b:null;this.i=w(this.keyPath);if(null!==this.keyPath&&!x(this.keyPath)&&!this.i)throw new F(\"keyPath must be a string or array\");this.b=!!c;var h;if(null!=d){h=Jc(d);if(!r(h))throw new F('type \"'+d+'\" for primary key in store \"'+this.f+'\" is invalid.');if(this.i)throw new F('composite key for store \"'+this.f+'\" must not specified type');}this.type=null!=h?h:this.b?\"INTEGER\":void 0;this.h=x(this.keyPath)?","this.keyPath.split(\".\"):[];this.a=e||[];a=[];for(b=0;b<this.a.length;b++){c=this.a[b].getName();if(0<=a.indexOf(c))throw new F('index \"'+c+'\" already defined in store: '+this.f);a.push(c)}this.J=!!f;this.T=!!g;this.m=x(this.type)?this.type:Kc;this.g=t(this.keyPath)?this.keyPath.join(\",\"):x(this.keyPath)?this.keyPath:\"_ROWID_\";this.c=ta(this.g);this.j=[]}l=Pc.prototype;l.J=!1;l.T=!1;","l.toJSON=function(){for(var a=[],b=0;b<this.a.length;b++)a.push(this.a[b].toJSON());return{name:this.f,keyPath:this.keyPath,autoIncrement:this.b,type:this.type,indexes:a}};","function Qc(a){var b=[],c=a.indexes||[];if(t(c))for(var d=0;d<c.length;d++){var e;e=c[d];e=new Ic(e.keyPath,e.type,e.unique,e.multiEntry,e.name,e.generator);r(e.keyPath)&&e.keyPath===a.keyPath||b.push(e)}return new Pc(a.name,a.keyPath,a.autoIncrement,\"undefined\"===a.type||\"null\"===a.type?void 0:a.type,b,a.dispatchEvents,a.fixed)}","function Rc(a,b,c,d,e,f,g){a=Sc(a,b,c,d,e,f,g);b=\"\";0!=c&&(b+=\"SELECT \"+a.select);b+=\" FROM \"+a.from;a.o&&(b+=\" WHERE \"+a.o);a.group&&(b+=\" GROUP BY \"+a.group);a.H&&(b+=\" ORDER BY \"+a.H);return b}","function Sc(a,b,c,d,e,f,g){var h={select:\"\",from:\"\",o:\"\",group:\"\",H:\"\"},k=a.g,n=a.c,p=null;d!==k&&x(d)&&(p=Tc(a,d));var m=!!p,u=d||k,v=ta(u),y=m?p.type:a.type,A=m&&p.multiEntry;h.from=Uc(a);6===c?h.select=\"COUNT(\"+n+\")\":3===c||1===c||2===c?(h.select=n,null!=d&&d!=k&&(h.select+=\", \"+v)):h.select=\"*\";d=g?\"DISTINCT \":\"\";k=[];A?(A=ta(\"ydn.db.me:\"+a.getName()+\":\"+p.getName()),h.select=6===c?\"COUNT(\"+d+A+\".\"+v+\")\":3===c||1===c||2===c?\"DISTINCT \"+Uc(a)+\".\"+n+\", \"+A+\".\"+v+\" AS \"+u:\"DISTINCT \"+Uc(a)+\".*, \"+","A+\".\"+v+\" AS \"+u,h.from=A+\" INNER JOIN \"+Uc(a)+\" USING (\"+n+\")\",null!=e&&(Fc(A+\".\"+v,y,e,k,b),0<k.length&&(h.o=h.o?h.o+(\" AND \"+k.join(\" AND \")):k.join(\" AND \")))):null!=e&&(Fc(v,y,e,k,b),0<k.length&&(h.o=h.o?h.o+(\" AND \"+k.join(\" AND \")):k.join(\" AND \")));m&&!p.unique&&g&&(h.group=v);a=f?\"DESC\":\"ASC\";h.H=v+\" \"+a;m&&(h.H+=\", \"+n+\" \"+a);return h}","function Vc(a,b,c,d,e,f,g,h,k){var n,p,m,u;null!=e?(n=e.lower,p=e.upper,m=e.lowerOpen,u=e.upperOpen,f?null!=p?(e=O(h,p),-1==e?(p=h,u=k):0==e&&(u=k||u)):(p=h,u=k):null!=n?(e=O(h,n),1==e?(n=h,m=k):0==e&&(m=k||m)):(n=h,m=k)):f?(p=h,u=k):(n=h,m=k);e=new P(n,p,!!m,!!u);d=d?Tc(a,d):null;b=Sc(a,c,b,d?d.f:a.g,e,f,g);b=\"SELECT \"+b.select+\" FROM \"+b.from+(b.o?\" WHERE \"+b.o:\"\")+(b.group?\" GROUP BY \"+b.group:\"\")+\" ORDER BY \"+b.H;d&&(b+=\", \"+a.c+(f?\"DESC\":\"ASC\"));return b}","function Wc(a,b,c,d,e,f,g,h,k,n){var p=Tc(a,d),m=p.f;d=p.c;var u=a.c,v=k?\" <\":\" >\",v=g?v+\" \":v+\"= \";g=Gc(f,p.type);h=Gc(h,a.type);p=\"\";e?(a=Sc(a,c,b,m,e,k,n),a.o+=\" AND \",p=d+v+\"?\",c.push(g)):(e=k?Ac(f,!0):Bc(f,!0),a=Sc(a,c,b,m,e,k,n),p=a.o,a.o=\"\");a.o+=\"(\"+p+\" OR (\"+d+\" = ? AND \"+u+v+\"?))\";c.push(g);c.push(h);return\"SELECT \"+a.select+\" FROM \"+a.from+\" WHERE \"+a.o+(a.group?\" GROUP BY \"+a.group:\"\")+\" ORDER BY \"+a.H}l.clone=function(){return Qc(this.toJSON())};","l.index=function(a){return this.a[a]||null};function Tc(a,b){return Da(a.a,function(a){return a.getName()==b})}function Xc(a,b){for(var c=0;c<a.a.length;c++)if(!Nc(a.a[c].keyPath,b))return a.a[c];return null}function Yc(a,b){return b===a.keyPath?!0:Ca(a.a,function(a){return a.getName()==b})}function Uc(a){return ta(a.f)}","function Zc(a,b){if(!b)return a;var c=a.b,d=t(a.keyPath)?Ga(a.keyPath):a.keyPath,e=a.type,f=Ba(a.a,function(a){return a.clone()});r(b.type)||\"TEXT\"!=e||(e=void 0);t(b.keyPath)&&x(d)&&d==b.keyPath.join(\",\")&&(d=Ga(b.keyPath));for(var g=0,h=b.a.length;g<h;g++)if(b.a[g].h)for(var k=b.a[g].getName(),n=f.length-1;0<=n;n--)if(0<=k.indexOf(f[n].getName())){f[n]=b.a[g].clone();break}for(g=0;g<f.length;g++)(h=Tc(b,f[g].getName()))&&(f[g]=f[g].hint(h));return new Pc(b.f,d,c,e,f)}l.getName=function(){return this.f};","function $c(a){return!!a.keyPath}function ad(a,b,c){if(b){if(!a.keyPath&&null!=c)return c;if(a.i){c=[];for(var d=0;d<a.keyPath.length;d++)c.push(Tb(b,a.keyPath[d]));return c}if(a.keyPath)return Na(b,a.h)}}function bd(a,b,c){for(var d=0;d<a.h.length;d++){var e=a.h[d];if(d==a.h.length-1){b[e]=c;break}r(b[e])||(b[e]={});b=b[e]}}","function cd(a,b,c){var d=[],e=[];c=r(c)?c:ad(a,b);r(c)&&(e.push(a.c),d.push(Gc(c,a.type)));for(var f=0;f<a.a.length;f++){var g=a.a[f];if(!g.multiEntry&&g.getName()!==a.keyPath&&\"_default_\"!=g.getName()){var h;h=g;var k=b;if(null!=k)if(w(h.keyPath)){for(var n=[],p=0,m=h.keyPath.length;p<m;p++){var u=Tb(k,h.keyPath[p]);n[p]=u}h=n}else h=Tb(k,h.keyPath);else h=void 0;null!=h&&(d.push(Gc(h,g.type)),e.push(g.c))}}a.T?a.T&&!a.keyPath&&0==a.a.length&&(x(b)&&-1==b.indexOf(\";base64,\")?d.push(b):d.push(Q(b)),","e.push(\"_default_\")):(d.push(Q(b)),e.push(\"_default_\"));a=[];for(f=d.length-1;0<=f;f--)a[f]=\"?\";return{Na:e,Ya:a,values:d,key:c}}","function dd(a,b){if(!b)return\"missing store: \"+a.f;if(a.f!=b.f)return\"store name, expect: \"+a.f+\", but: \"+b.f;var c=Nc(a.keyPath,b.keyPath);if(c)return\"keyPath, \"+c;if(r(a.b)&&r(b.b)&&a.b!=b.b)return\"autoIncrement, expect:  \"+a.b+\", but: \"+b.b;if(a.a.length!=b.a.length)return\"indexes length, expect:  \"+a.a.length+\", but: \"+b.a.length;if(r(a.type)&&r(b.type)&&(w(a.type)?!Ia(a.type,b.type):a.type!=b.type))return\"data type, expect:  \"+a.type+\", but: \"+b.type;for(c=0;c<a.a.length;c++){var d=Tc(b,a.a[c].getName()),","e;e=a.a[c];if(d)if(e.a!=d.a)e=\"name, expect: \"+e.a+\", but: \"+d.a;else{var f=Nc(e.keyPath,d.keyPath);e=f?\"keyPath, \"+f:null!=e.unique&&null!=d.unique&&e.unique!=d.unique?\"unique, expect: \"+e.unique+\", but: \"+d.unique:null!=e.multiEntry&&null!=d.multiEntry&&e.multiEntry!=d.multiEntry?\"multiEntry, expect: \"+e.multiEntry+\", but: \"+d.multiEntry:r(e.type)&&r(d.type)&&(w(e.type)?!Ia(e.type,d.type):e.type!=d.type)?\"data type, expect: \"+e.type+\", but: \"+d.type:\"\"}else e=\"no index for \"+e.a;if(0<e.length)return'index \"'+","a.a[c].getName()+'\" '+e}return\"\"}function ed(a,b){if(b)for(var c=0;c<a.a.length;c++){var d=a.a[c],e=b;if(d.g){var f=d.g(e),g=typeof f;if(\"string\"==g||\"number\"==g||f instanceof Date||t(f)){for(g=0;g<d.b.length-1;g++)B(e[d.b[g]])||(e[d.b[g]]={});e[d.b[d.b.length-1]]=f}}}}function R(a,b,c,d,e){for(var f=0;f<a.j.length;f++)d!==f&&a.j[f].call(e,b,c)}function fd(a,b){for(var c=0;c<a.a.length;c++)if(a.a[c].getName()==b)return c;return-1};function gd(a){return!x(a)||/^[\\s\\xa0]*$/.test(a)?{}:JSON.parse(a)}function hd(a){var b;try{b=Q(a)}catch(c){b=\"\"}return b?b.substr(0,70)+(70<b.length?\"...\":\"\"):\"\"}function Q(a){return JSON.stringify(a,void 0,void 0)};function id(a){this.a=a};function jd(a,b){this.name=a;this.a=b}jd.prototype.getName=function(){return this.name};jd.prototype.count=function(){return this.a.length};jd.prototype.index=function(a){return this.a[a]};function kd(a){if(!t(a.sources))throw new F(\"indexes require for full text search index \"+a.name+\", but \"+a.sources+\" of type \"+typeof a.sources+\" found.\");var b=a.sources.map(function(a){return new id(a.storeName)});return new jd(a.name,b)};function ld(a,b){var c,d,e=b;if(B(a)){d=a;c=d.version;for(var e=[],f=d.stores||[],g=0;g<f.length;g++){var h=Qc(f[g]);e.push(h)}}else x(a)?c=0==a.length?void 0:parseFloat(a):z(a)&&(c=a);if(r(c)){if(!z(c)||0>c)throw new F(\"Invalid version: \"+c+\" (\"+a+\")\");isNaN(c)&&(c=void 0)}if(r(b)&&(!t(b)||0<b.length&&!(b[0]instanceof Pc)))throw new F(\"stores\");this.version=c;this.b=!r(this.version);this.stores=e||[];c=[];if(d&&d.fullTextCatalogs)for(g=0;g<d.fullTextCatalogs.length;g++)e=kd(d.fullTextCatalogs[g]),","c[g]=e,T(this,e.getName())||(f=[new Ic(\"k\",Kc),new Ic(\"v\",Kc)],e=new Pc(e.getName(),\"id\",!1,void 0,f,!1,!1),this.stores.push(e));this.c=c}ld.prototype.toJSON=function(){var a=Ba(this.stores,function(a){return a.toJSON()}),b={};b.stores=a;r(this.version)&&(b.version=this.version);return b};ld.prototype.b=!1;ld.prototype.a=function(){return!1};function md(a){return Ba(a.stores,function(a){return a.getName()})}ld.prototype.count=function(){return this.stores.length};","function T(a,b){return Da(a.stores,function(a){return a.getName()==b})}function nd(a,b){return Ca(a.stores,function(a){return a.getName()==b})}","function od(a,b,c,d){if(!b||a.stores.length!=b.stores.length)return\"Number of store: \"+a.stores.length+\" vs \"+b.stores.length;for(var e=0;e<a.stores.length;e++){var f=T(b,a.stores[e].getName());if(f){c&&(f=Zc(f,a.stores[e]));if(d)for(var g=f,h=a.stores[e],k=0;k<h.a.length;k++){var n=h.a[k];Yc(g,n.getName())||\"BLOB\"!=n.type||(n=new Ic(n.keyPath,n.type,n.unique,n.multiEntry,n.getName()),g.a.push(n))}f=dd(a.stores[e],f);if(0<f.length)return'store: \"'+a.stores[e].getName()+'\" '+f}else return'missing object store \"'+","a.stores[e].getName()+'\"'}return\"\"};function pd(a,b){ld.call(this,a,b)}C(pd,ld);pd.prototype.a=function(){return!0};function qd(a,b){a.stores.push(b)};function rd(a){Error.captureStackTrace?Error.captureStackTrace(this,rd):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.error.InternalError\"}C(rd,Error);rd.prototype.name=\"ydn.InternalError\";function sd(a){Error.captureStackTrace?Error.captureStackTrace(this,sd):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.error.ConstraintError\"}C(sd,Error);sd.prototype.name=\"ydn.error.ConstraintError\";","function td(a){Error.captureStackTrace?Error.captureStackTrace(this,td):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.error.InvalidOperationException\"}function ud(a){Error.captureStackTrace?Error.captureStackTrace(this,ud):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.error.InvalidOperationError\"}C(ud,Error);function Oc(a,b){var c;c=c||{};if(null!=a&&null!=b){if(w(a)&&w(b)){if(a.length!=b.length)return!1;for(var d=0;d<a.length;d++)if(-1==Ea(b,function(b){return Oc(b,a[d])}))return!1;return!0}if(w(a))return 1==a.length&&Oc(a[0],b);if(w(b))return 1==b.length&&Oc(b[0],a);if(B(a)&&B(a)){for(var e in a)if(a.hasOwnProperty(e)&&!c[e]){var f=Oc(a[e],b[e]);if(!f)return!1}for(e in b)if(b.hasOwnProperty(e)&&!c[e]&&(f=Oc(a[e],b[e]),!f))return!1;return!0}return a===b}return!1};/*"," Copyright 2012 YDN Authors, Yathit. All Rights Reserved."," Licensed under the Apache License, Version 2.0 (the \"License\");.","*/","function U(a,b,c){c=c||{};this.s=c.mechanisms||(lc||Cb()||D(\"iPad\")||D(\"iPod\")?Ha(vd,1):vd);this.m=c.size;this.v=r(c.connectionTimeout)?c.connectionTimeout:6E4;this.a=null;this.g=[];this.ja=!1;var d;if(b instanceof ld)d=b;else if(B(b)){c.autoSchema||!r(b.stores)?d=new pd(b):d=new ld(b);var e=b.stores?b.stores.length:0;for(c=0;c<e;c++)T(d,b.stores[c].name)}else d=new pd;this.c=d;for(c=0;c<this.c.count();c++);r(a)&&this.j(a);this.f=new E}U.prototype.logger=null;","U.prototype.A=function(a){if(r(a)){var b=function(b){a(b.toJSON());a=void 0};if(this.a)this.a.N(b);else{var c=this;this.transaction(function(a){c.a.N(b,a)},null,G)}}return this.c?this.c.toJSON():null};U.prototype.j=function(a){if(this.a)throw new Mb(\"Already connected with \"+this.h);this.h=a;wd(this)};U.prototype.getName=function(){return this.h};var vd=\"indexeddb sqlite websql localstorage sessionstorage userdata memory\".split(\" \");l=U.prototype;l.va=function(){return null};","function wd(a){function b(b,e){b?(a.Pa=NaN,d.bb=function(){},d.Fa=function(){a.a=null},d.Ta=function(){},setTimeout(function(){xd(a,e);yd(a)},10),c.callback(e)):(setTimeout(function(){xd(a,new sc(a,e));if(a.g)for(var b;b=a.g.shift();)b.D&&b.D(\"error\",e)},10),c.l(e))}for(var c=new E,d=null,e=a.s,f=0;f<e.length;f++){var g=e[f].toLowerCase();if(d=a.va(g)){d=a.va(g);break}}null===d?(e=new sd(\"No storage mechanism found.\"),b(!1,new sc(a,e))):wb(d.connect(a.h,a.c),function(a){this.a=d;b(!0,new qc(\"ready\",","this,parseFloat(d.ab()),parseFloat(a),null))},function(a){b(!1,a)},a)}l.Ga=function(){if(this.a)return this.a.$a()};l.ma=function(a,b){this.f.U().Ia(a,b)};function xd(a,b){setTimeout(function(){a.c.b&&a.f.c||(b instanceof rc?a.f.l(b.error):a.f.callback())},4)}function zd(a){return!!a.a&&a.a.Ea()}l.close=function(){this.a&&(this.a.close(),this.a=null)};l.wb=function(){return this.a?this.a.Za():null};l.Pa=NaN;function yd(a){var b=a.g.shift();b&&a.transaction(b.ia,b.pb,b.mode,b.D);a.Pa=ka()}l.ja=!1;","l.transaction=function(a,b,c,d){var e=b;x(b)?e=[b]:null!=b||(e=null);if(this.a&&this.a.Ea()&&!this.ja){var f=this,g=r(c)?c:G;g==Rb&&(this.ja=!0);this.a.wa(function(b){a(b);a=null},e,g,function(a,b){da(d)&&(d(a,b),d=void 0);g==Rb&&(f.ja=!1);yd(f)})}else this.g.push({ia:a,pb:e,mode:c||G,D:d})};U.prototype.close=U.prototype.close;U.prototype.getType=U.prototype.Ga;U.prototype.getName=U.prototype.getName;U.prototype.getSchema=U.prototype.A;U.prototype.onReady=U.prototype.ma;U.prototype.setName=U.prototype.j;U.prototype.transaction=U.prototype.transaction;U.prototype.db=U.prototype.wb;la(\"ydn.db.version\",\"1.4.3\");la(\"ydn.db.cmp\",O);la(\"ydn.db.deleteDatabase\",function(a,b){for(var c,d=0;d<kc.length;d++){var e=kc[d](a,b);e&&(c=e)}return c||jc(\"vc\",null)});qc.prototype.name=qc.prototype.name;","qc.prototype.getVersion=qc.prototype.xb;qc.prototype.getOldVersion=qc.prototype.lb;qc.prototype.getOldSchema=qc.prototype.kb;rc.prototype.getError=rc.prototype.c;J.prototype.abort=J.prototype.abort;J.prototype.canAbort=J.prototype.ib;Ob.prototype.progress=Ob.prototype.Ka;Ob.prototype.promise=Ob.prototype.rb;la(\"ydn.db.KeyRange\",P);P.only=yc;P.bound=zc;P.upperBound=Ac;P.lowerBound=Bc;function Ad(a,b,c,d){mc.call(this);this.a=c;this.hb=c.getName();this.i=void 0;this.g=!1;this.S=null;this.m=a;this.s=this.j=!1;this.G=d||4;this.U=this.h=this.c=void 0;this.I=function(){throw new Nb;};this.R=function(){throw new Nb;};this.aa=function(){}}C(Ad,mc);l=Ad.prototype;","l.Ha=function(a,b,c,d,e){r(b)&&(a=this.a,this.i=(t(b)?Xc(a,b):Tc(a,b)).getName());this.g=x(this.i);this.S=c||null;this.s=this.j=!1;this.reverse=\"prev\"==d||\"prevunique\"==d;this.unique=\"nextunique\"==d||\"prevunique\"==d;this.dir=d;this.ka=e;this.U=this.h=this.c=void 0};l.dir=\"\";l.S=null;l.unique=!1;l.reverse=!1;l.ka=!0;l.logger=null;function Bd(a,b){a.R(b);Cd(a);a.j=!0}l.L=function(a,b,c){null==a&&(this.j=!0);this.c=a;this.h=b;this.U=c;this.j?(this.I(),Cd(this)):this.I(this.c)};","function Cd(a){null!=a.h?a.h=vc(a.h):a.h=void 0;null!=a.c?a.c=vc(a.c):a.c=void 0;a.aa(a.s,a.c,a.h)}l.open=function(a,b,c,d){this.m=a;this.j=this.s=!1;this.c=c;this.h=d;this.openCursor(this.c,this.h)};function Dd(a){a.s=!0;Cd(a)}l.O=function(){return this.g?this.h:this.c};l.pa=function(){return this.ka?this.O():this.U};l.oa=function(){};l.X=function(){};function Ed(){};function Fd(a,b,c,d,e,f,g){this.b=a;this.f=b;this.h=g;this.v=!!this.f;this.c=r(f)?f:!!x(this.f);a=\"next\";d&&e?a=\"prevunique\":d?a=\"prev\":e&&(a=\"nextunique\");this.i=a;this.a=xc(c);this.g=Gd;this.s=NaN}C(Fd,Ed);Fd.prototype.c=!0;var Gd=\"init\";l=Fd.prototype;l.logger=null;l.clone=function(){var a=new Fd(this.b,this.f,this.a,Hd(this),Id(this),this.c,this.h);a.s=this.s;return a};l.unique=function(a){return new Fd(this.b,this.f,this.a,Hd(this),a,this.c,this.h)};","function Jd(a,b,c){a=new Fd(a.b,a.f,a.a,Hd(a),Id(a),a.c,a.h);a.j=b;a.m=c;a.g=\"rest\";return a}l.reverse=function(){return new Fd(this.b,this.f,this.a,!Hd(this),Id(this),this.c,this.h)};function Hd(a){return\"prev\"===a.i||\"prevunique\"===a.i}function Id(a){return\"nextunique\"===a.i||\"prevunique\"===a.i}l.load=function(a){a=a[0];a.Ha(this.b,this.h||this.f,this.a,this.i,this.c);this.g=\"busy\";var b=this;a.aa=function(a,d,e){b.j=d;b.m=e;b.g=a?\"rest\":\"done\"};a.openCursor(this.j,this.m);return a};","l.reset=function(a,b,c){a=a||Gd;\"busy\"!=this.g&&(this.j=b,this.m=c,this.g=a)};l.stores=function(){return[this.b]};function Kd(a,b){this.b=a||null;this.f=b;this.a=!1}Kd.prototype.logger=null;function Ld(a,b){var c;a.a=Hd(b[0]);for(c=0;c<b.length;c++);return!1}Kd.prototype.c=function(){return[]};function Md(a){Error.captureStackTrace?Error.captureStackTrace(this,Md):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ConstraintError\"}C(Md,Error);Md.prototype.name=\"ConstraintError\";function gc(a){Error.captureStackTrace?Error.captureStackTrace(this,gc):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"InvalidStateError\"}C(gc,Error);","function Nd(a){Error.captureStackTrace?Error.captureStackTrace(this,Nd):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"InvalidAccessError\"}C(Nd,Error);function Od(a){Error.captureStackTrace?Error.captureStackTrace(this,Od):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"NotFoundError\"}C(Od,Error);Od.prototype.name=\"NotFoundError\";","function Pd(a,b){Error.captureStackTrace?Error.captureStackTrace(this,Pd):this.stack=Error().stack||\"\";b&&(this.message=String(b));this.message+=\" :\"+a.message+\" [\"+a.code+\"]\";this.name=\"SQLError\"}C(Pd,Error);function Qd(a,b){Error.captureStackTrace?Error.captureStackTrace(this,Qd):this.stack=Error().stack||\"\";b&&(this.message=String(b));this.message+=\" :\"+a.message;this.name=\"SecurityError\"}C(Qd,Error);","function Rd(a){Error.captureStackTrace?Error.captureStackTrace(this,Rd):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.db.TimeoutError\"}C(Rd,Error);function Sd(a,b){this.a=b}Sd.prototype.logger=null;function Td(a){this.f=a;this.a=null;this.b=0}Td.prototype.logger=null;Td.prototype.F=null;function Ud(a){return!!a.a&&!a.c}Td.prototype.D=null;function Vd(a,b,c,d,e,f){this.j=a;this.I=b;this.a=this.f=0;this.G=d;this.A=e;this.h=c||Wd;this.m=f||0}Vd.prototype.logger=null;Vd.prototype.type=function(){return this.j.Ga()};Vd.prototype.M=function(){return\"B\"+this.I+\"T\"+this.f};var Wd=\"single\";function Xd(a){if(a)if(da(a.abort))a.abort();else if(da(a.executeSql))a.executeSql(\"ABORT\",[],null,function(){return!0});else throw new Lb;else throw new gc(\"No active transaction\");};function Yd(a,b,c,d,e,f){Vd.call(this,a,b,c,d,e,f);this.c=[];this.g=[];this.i=null;this.b=new Td(b);this.s=f||0;this.v=!1}C(Yd,Vd);l=Yd.prototype;l.logger=null;","function Zd(a,b,c){if(\"multi\"==a.h)a:if(a=a.b,!a.F||!a.mode||c!=a.mode&&(a.mode!=I||c!=G)||b.length>a.F.length)b=!1;else{for(c=0;c<b.length;c++)if(-1==a.F.indexOf(b[c])){b=!1;break a}b=!0}else if(\"repeat\"==a.h)a:if(a=a.b,a.F&&a.mode&&c==a.mode&&a.F.length==b.length){for(c=0;c<b.length;c++)if(-1==a.F.indexOf(b[c])){b=!1;break a}b=!0}else b=!1;else b=\"all\"==a.h?!0:!1;return b}function $d(a){var b=0<a.c.length?a.c[0].F:null,c=0<a.c.length?a.c[0].mode:null;return null!=b&&null!=c?Zd(a,b,c):!1}","l.abort=function(){Xd(this.i)};","l.P=function(a,b,c,d){var e=x(b)?[b]:b,f=r(c)?c:G,g=this;if(this.b.a||!zd(this.j)&&this.v)this.c.push({ia:a,F:b,mode:f||G,D:d});else{d&&this.g.push(d);if(this.s&&this.f>=this.s)throw new Mb(\"Exceed maximum number of transactions of \"+this.s);this.v=!0;this.j.transaction(function(c){var d=g.b;d.a=c;d.c=!1;d.F=b;d.mode=f;d.b++;d.D=null;Q(b);a(g);for(a=null;$d(g);)c=g.c.shift(),c.D&&g.g.push(c.D),c.ia()},e,f,function(a,b){var c=g.b;c.a&&(c.a=null,c.F=null,c.mode=null,da(c.D)&&c.D(a,b),c.D=null);for(c=","0;c<g.g.length;c++)(0,g.g[c])(a,b);g.g.length=0;(c=g.c.shift())&&g.P(c.ia,c.F,c.mode,c.D);g.a=0})}};l.M=function(){var a=this.b;return\"B\"+a.f+\"T\"+a.b};l.request=function(a,b,c,d){function e(a,b){f.a=null;d&&d(a,b)}var f=new J(a);a=c||G;var g=this;Ud(this.b)&&Zd(this,b,a)?(b=this.b.a,this.a++,ec(f,b,this.M()+\"R\"+this.a),this.g.push(e)):g.P(function(){var a=g.b.a;g.a++;ec(f,a,g.M()+\"R\"+g.a)},b,a,e);return f};","l.Z=function(a,b,c,d,e){d=d||G;var f=this,g;if(Ud(f.b)&&Zd(this,c,d)){var h=f.b.a;f.a++;g=f.M()+\"R\"+f.a;b(h,g,function(b,c){f.i=h;c?a.l(b):a.callback(b);f.i=null});b=null}else f.P(function(){var c=f.b.a;f.a++;g=f.M()+\"R\"+f.a;b(c,g,function(b,d){f.i=c;d?a.l(b):a.callback(b);f.i=null});b=null},c,d,e)};l.getName=function(){return this.j.getName()};function ae(a,b){Yd.call(this,a,b)}C(ae,Yd);ae.prototype.logger=null;ae.prototype.request=function(a,b,c){var d,e,f,g=ae.C.request.call(this,a,b,c,function(a,b){g.a=null;if(d)\"complete\"!=a&&(f=!0,e=b),d(e,f);else{var c=new Rd;K(g,c,!0)}});hc(g,function(a,b,c){f=b;e=a;d=c});return g};","ae.prototype.Z=function(a,b,c,d,e){var f,g,h=new E;wb(h,function(a){g=!1;f=a},function(a){g=!0;f=a});ae.C.Z.call(this,h,b,c,d,function(b,c){if(\"complete\"!=b)a.l(c);else if(!0===g)a.l(f);else if(!1===g)a.callback(f);else{var d=new Rd;a.l(d)}e&&(e(b,c),e=void 0)})};function be(a,b,c){this.c=a;this.b=b;this.a=c;this.f=null}be.prototype.logger=null;be.prototype.g=function(){return this.a.f};be.prototype.abort=function(){this.a.abort()};function V(a){if(!a.f){var b;b=a.c;var c=b.Ga();if(\"indexeddb\"==c)b=new ce(0,b.c);else if(\"websql\"==c||\"sqlite\"==c)b=new de(0,b.c);else throw new Nb(\"No executor for \"+c);a.f=b}return a.f}","function ee(a,b){var c=x(b)?b:B(b)?b.name:void 0;if(!x(c))throw new F(\"store name \"+c+\" must be a string, but \"+typeof c);var d=T(a.b,c);if(!d){if(!a.b.a())throw new F('store name \"'+c+'\" not found.');d=Qc(B(b)?b:{name:c});var e=a.c,f=d,g=f instanceof Pc?f:Qc(f),f=T(e.c,f.name);if(0==dd(g,f).length)(new E).callback(!1);else if(e.c instanceof pd)qd(e.c,g),e.a?(e.a.close(),e.a=null,wd(e)):(new E).callback(!1);else throw new sd(\"\");}else if(a.b.a()&&B(b)&&(e=Qc(b),e=dd(d,e)))throw new Lb(e);if(!d)throw new Od(c);","return d};function W(a,b,c){be.call(this,a,b,c)}C(W,be);l=W.prototype;l.logger=null;","l.count=function(a,b,c,d){var e,f,g,h;if(null!=a)if(t(a)){if(r(c)||r(b))throw new F(\"too many arguments.\");f=a;for(var k=0;k<f.length;k++)if(!nd(this.b,f[k]))throw new F('store name \"'+f[k]+'\" at '+k+\" not found.\");Kb(\"countStores: \"+Q(f));e=this.a.request(\"d\",f);L(e,function(){V(this).ua(e,f)},this)}else if(x(a)){k=T(this.b,a);if(!k)throw new F('store name \"'+a+'\" not found.');f=[a];if(x(b))g=b,B(c)?h=xc(c):h=null;else if(B(b)||null==b)if(B(b))h=xc(b);else{if(null!=b)throw new F(\"key range must be  an object but found \"+","hd(b)+\" of type \"+typeof b);h=null}else throw new F('invalid second argument for count \"'+hd(c)+'\" of type '+typeof b);Kb(\"countKeyRange: \"+a+\" \"+(g?g:\"\")+Q(h));e=this.a.request(\"d\",f);R(k,e,arguments);L(e,function(){V(this).Oa(e,f[0],h,g,!!d)},this)}else throw new F(\"Invalid store name or store names.\");else k=md(this.b),e=this.a.request(\"d\",k),hc(e,function(a,b,c){if(b)c(a,!0);else{for(var d=b=0;d<a.length;d++)b+=a[d];c(b,!1)}},this),L(e,function(){V(this).ua(e,f)},this);return e};","l.get=function(a,b){var c=this,d;if(a instanceof tc){var e=a,f=e.b,g=T(this.b,f);if(!g){if(this.b.a()){if(zd(this.c))return jc(\"e\",void 0);d=new J(\"e\");this.c.ma(function(){wb(c.get(a,b),function(a){d.callback(a)},function(a){d.l(a)})});return d}throw new F(\"Store: \"+f+\" not found.\");}var h=e.a;d=this.a.request(\"ek\",[f]);R(g,d,arguments,void 0,this);L(d,function(){V(this).ya(d,f,h)},this)}else if(x(a)&&r(b)){var k=a,g=T(this.b,k);if(!g){if(this.b.a()){if(zd(this.c))return jc(\"e\",void 0);d=new J(\"e\");","this.c.ma(function(){wb(c.get(a,b),function(a){d.callback(a)},function(a){d.l(a)})});return d}throw new F('Store name \"'+k+'\" not found.');}var n=b;d=this.a.request(\"e\",[k]);R(g,d,arguments,void 0,this);L(d,function(){V(this).ya(d,k,n)},this)}else throw new F(\"get require valid input arguments.\");return d};","l.mb=function(a,b,c,d,e){var f=T(this.b,a),g,h,k,n=null;B(b)&&(n=xc(b));if(r(c))if(z(c))g=c;else throw new F(\"limit must be a number, but \"+c+\" is \"+typeof c);else g=100;if(r(d))if(z(d))h=d;else throw new F(\"offset must be a number, but \"+d+\" is \"+typeof d);else h=0;if(r(e))if(ca(e))k=e;else throw new F(\"reverse must be a boolean, but \"+e+\" is \"+typeof e);var p=this.a.request(\"g\",[a]);R(f,p,arguments);L(p,function(){V(this).Y(p,2,a,null,n,g,h,k,!1)},this);return p};","l.ba=function(a,b,c,d,e,f,g){var h,k,n,p,m,u=T(this.b,a);h=xc(c);if(z(d))k=d;else{if(r(d))throw new F(\"limit must be a number\");k=100}if(z(e))n=e;else{if(r(e))throw new F(\"offset must be a number\");n=0}if(r(f))if(ca(f))p=f;else throw new F(\"reverse must be a boolean\");if(r(g))if(ca(g))m=g;else throw new F(\"unique must be a boolean\");var v=this.a.request(\"i\",[a]);R(u,v,arguments);L(v,function(){V(this).Y(v,2,a,b,h,k,n,p,m)},this);return v};","l.keys=function(a,b,c,d,e,f,g){var h=T(this.b,a);return this.b.a()&&!h?jc(\"g\",[]):x(b)?this.ba(a,b,c,d,e,f,g):this.mb(a,b,c,d,e)};","l.values=function(a,b,c,d,e,f,g){var h=this,k;if(x(a)){var n=a,p=T(this.b,n);if(!p){if(this.b.a()){if(zd(this.c))return jc(\"s\",[]);k=new J(\"s\");this.c.ma(function(){wb(h.values(a,b,c,d,e,f),function(a){k.callback(a)},function(a){k.l(a)})});return k}throw new Od(n);}if(t(b)){var m=b;k=this.a.request(\"v\",[n]);R(p,k,arguments,void 0,this);L(k,function(){V(this).Qa(k,n,m)},this)}else k=x(b)?this.ea(n,b,c,d,e,f,g):this.qb(n,b,c,d,e)}else if(t(a))if(a[0]instanceof tc){for(var p=[],u=a,v=0;v<u.length;v++){var y=","u[v].b;if(!nd(this.b,y)){if(this.b.a())return p=[],p[u.length-1]=void 0,jc(\"e\",p);throw new F(\"Store: \"+y+\" not found.\");}0<=Aa(p,y)||p.push(y)}Kb(\"listByKeys: \"+Q(p)+\" \"+u.length+\" keys\");k=this.a.request(\"w\",p);L(k,function(){V(this).Ra(k,u)},this)}else throw new F(\"first argumentmust be array of ydn.db.Key, but \"+a[0]+\" of \"+typeof a[0]+\" found.\");else throw new F(\"first argument \"+a+\" is invalid.\");return k};","l.qb=function(a,b,c,d,e){var f=T(this.b,a),g,h,k,n=null;B(b)&&(n=xc(b));if(r(c))if(z(c))g=c;else throw new F(\"limit must be a number, but \"+c+\" is \"+typeof c);else g=100;if(r(d))if(z(d))h=d;else throw new F(\"offset must be a number, but \"+d+\" is \"+typeof d);else h=0;if(r(e))if(ca(e))k=e;else throw new F(\"reverse must be a boolean, but \"+e+\" is \"+typeof e);var p=this.a.request(\"s\",[a]);R(f,p,arguments);L(p,function(){V(this).Y(p,4,a,null,n,g,h,k,!1)},this);return p};","l.ea=function(a,b,c,d,e,f,g){var h=T(this.b,a),k,n,p,m,u=xc(c);if(r(d))if(z(d))k=d;else throw new F(\"limit must be a number.\");else k=100;if(r(e))if(z(e))n=e;else throw new F(\"offset must be a number.\");else n=0;if(ca(f))p=f;else if(r(f))throw new F(\"reverse must be a boolean, but \"+f);if(r(g))if(ca(g))m=g;else throw new F(\"unique must be a boolean\");var v=this.a.request(\"u\",[a]);R(h,v,arguments);L(v,function(){V(this).Y(v,4,a,b,u,k,n,p,m)},this);return v};","l.add=function(a,b,c){if(t(b))return this.fa(a,b,c);a=ee(this,a);var d=a.getName(),e;if(x(a.keyPath)&&r(c))throw new F(\"key must not be provided while the store uses in-line key.\");if(!a.keyPath&&!a.b&&!r(c))throw new F(\"out-of-line key must be provided for store: \"+d);if(t(b)){for(var f=0;f<b.length;f++)ed(a,b[f]);e=this.a.request(\"b\",[d],I);L(e,function(){V(this).K(e,!1,!1,d,b,c)},this);a.J&&e.w(function(){},this)}else if(B(b))ad(a,b,c),ed(a,b),e=this.a.request(\"a\",[d],I),L(e,function(){V(this).K(e,","!1,!0,d,[b],[c])},this),a.J&&e.w(function(){},this);else throw new F(\"record must be an object or array list of objects, but \"+b+\" of type \"+typeof b+\" found.\");return e};","l.fa=function(a,b,c){a=ee(this,a);var d=a.getName(),e;if(x(a.keyPath)&&r(c))throw new F(\"key must not be provided while the store uses in-line key.\");if(!a.keyPath&&!a.b&&!r(c))throw new F(\"out-of-line key must be provided for store: \"+d);if(t(b)){for(var f=0;f<b.length;f++)ed(a,b[f]);e=this.a.request(\"b\",[d],I);L(e,function(){V(this).K(e,!1,!1,d,b,c)},this);a.J&&e.w(function(){},this)}else throw new F(\"record must be an array list of objects, but \"+b+\" of type \"+typeof b+\" found.\");return e};","l.put=function(a,b,c){var d,e=this;if(a instanceof tc){var f=a,g=f.b,h=T(this.b,g);if(!h)throw new F('store \"'+g+'\" not found.');if(h.keyPath){var k=ad(h,b);if(null!=k){if(0!=O(k,f.a))throw new F(\"Inline key must be \"+f+\" but \"+k+\" found.\");}else bd(h,b,f.a);return this.put(g,b)}return this.put(g,b,f.a)}if(t(a)){for(var n=a,p=b,f=[],g=0,h=n.length;g<h;g++){k=n[g].b;-1==Aa(f,k)&&f.push(k);var m=T(this.b,k);if(!m)throw new F('store \"'+k+'\" not found.');m.keyPath&&bd(m,p[g],n[g].a)}Kb(\"putByKeys: to \"+","Q(f)+\" \"+p.length+\" objects\");for(g=0;g<p.length;g++)ed(m,p[g]);d=this.a.request(\"l\",f,I);R(m,d,arguments);L(d,function(){V(e).Ua(d,p,n)},this)}else if(x(a)||B(a)){var m=ee(this,a),u=m.getName();if(m.keyPath&&r(c))throw new F(\"key must not be provided while the store uses in-line key.\");if(!m.keyPath&&!m.b&&!r(c))throw new F(\"out-of-line key must be provided for store: \"+u);if(t(b)){for(var v=b,y=c,g=0;g<v.length;g++)ed(m,v[g]);d=this.a.request(\"k\",[u],I);R(m,d,arguments);L(d,function(){V(this).K(d,","!0,!1,u,v,y)},this);m.J&&d.w(function(){},this)}else if(B(b)){var A=b,S=c;if(r(q.Blob)&&A instanceof Blob&&m.T&&!m.keyPath&&0==m.a.length&&Hb)d=new J(\"j\"),f=new FileReader,f.onload=function(a){var b=a.target.result,c=e.a.request(\"j\",[u],I);R(m,c,[u,A,S]);L(c,function(){V(e).K(c,!0,!0,u,[b],[S])},this);wb(c,function(a){d.callback(a)},function(a){d.l(a)})},f.onerror=function(a){d.l(a)},f.onabort=function(a){d.l(a)},f.readAsDataURL(A);else{ed(m,A);d=this.a.request(\"j\",[u],I);var X=[u,A,S];R(m,d,X);L(d,","function(){var a=r(S)?[X[2]]:void 0;V(e).K(d,!0,!0,u,[X[1]],a)},this)}m.J&&d.w(function(){},this)}else throw new F(\"put record value must be Object or array of Objects\");}else throw new F(\"the first argument of put must be store name, store schema or array of keys.\");return d};","l.na=function(a,b,c){var d,e=ee(this,a),f=e.getName();if(e.keyPath&&r(c))throw new F(\"key must not be provided while the store uses in-line key.\");if(!e.keyPath&&!e.b&&!r(c))throw new F(\"out-of-line key must be provided for store: \"+f);for(var g=b,h=c,k=0;k<g.length;k++)ed(e,g[k]);d=this.a.request(\"k\",[f],I);R(e,d,arguments);L(d,function(){V(this).K(d,!0,!1,f,g,h)},this);e.J&&d.w(function(){},this);return d};","l.clear=function(a,b){var c;if(x(a)){var d=T(this.b,a);if(!d)throw new F('store name \"'+a+'\" not found.');if(B(b)){var e=xc(b);if(null===e)throw new F(\"clear method requires a valid non-null KeyRange object.\");Kb(\"clearByKeyRange: \"+a+\":\"+Q(e));c=this.a.request(\"c\",[a],I);R(d,c,[a,e]);L(c,function(){V(this).Ma(c,a,e)},this)}else{if(r(b))throw new F(\"clear method requires a valid KeyRange object as second argument, but found \"+b+\" of type \"+typeof b);c=this.a.request(\"c\",[a],I);L(c,function(){V(this).sa(c,","[a])},this)}}else if(!r(a)||t(a)&&x(a[0])){var f=a||md(this.b);Kb(\"clearByStores: \"+Q(f));c=this.a.request(\"c\",f,I);L(c,function(){V(this).sa(c,f)},this)}else throw new F('first argument \"'+a+'\" is invalid.');return c};","l.qa=function(a,b,c){var d;if(x(a)){var e=T(this.b,a);if(!e)throw new F('store name \"'+a+'\" not found.');if(r(c))if(x(b)){var f=Tc(e,b);if(!f)throw new F(\"index: \"+b+\" not found in \"+a);if(B(c)||null===c){var g=xc(c);d=this.a.request(\"p\",[a],I);L(d,function(){V(this).Va(d,a,f.getName(),g)},this)}else throw new F(\"key range \"+c+' is invalid type \"'+typeof c+'\".');}else throw new F('index name \"'+b+'\" must be a string, but '+typeof b+\" found.\");else if(x(b)||z(b)||w(b)||b instanceof Date){d=this.a.request(\"m\",","[a],I);var h=[a,b];R(e,d,h);L(d,function(){V(this).Ca(d,a,h[1])},this);e.J&&d.w(function(){},this)}else if(B(b))g=xc(b),Kb(\"removeByKeyRange: \"+a+\":\"+Q(g)),d=this.a.request(\"n\",[a],I),R(e,d,[a,g]),L(d,function(){V(this).Wa(d,a,g)},this),e.J&&d.w(function(){},this);else throw new F('Invalid key or key range \"'+b+'\" of type '+typeof b);}else if(a instanceof tc){var k=a.b,e=T(this.b,k);d=this.a.request(\"m\",[k],I);var n=[k,a.a];R(e,d,n);L(d,function(){V(this).Ca(d,k,n[1])},this)}else if(t(a)){b=[];c=","0;for(e=a.length;c<e;c++){var p=a[c].b;-1==Aa(b,p)&&b.push(p)}if(1>b.length)throw new F('at least one valid key required in key list \"'+hd(a)+'\"');d=this.a.request(\"o\",b,I);L(d,function(){V(this).Xa(d,a)},this)}else throw new F('first argument requires store name, key (ydn.db.Key) or list of keys (array) , but \"'+hd(a)+'\" ('+ba(a)+\") found.\");return d};function fe(a,b,c){be.call(this,a,b,c)}C(fe,W);l=fe.prototype;l.logger=null;l.get=function(a,b){if(a instanceof Fd){var c=a.b,d=T(this.b,c);if(!d)throw new F('store \"'+c+'\" not found.');var e=a.f;if(r(e)&&!Yc(d,e))throw new F('index \"'+e+'\" not found in store \"'+c+'\".');var f=this.a.request(\"f\",[c]);L(f,function(){ge(this,5,f,a,1)},this);return f}return fe.C.get.call(this,a,b)};","l.Ba=function(a,b){var c=100;if(z(b)){if(c=b,1>c)throw new F(\"limit must be a positive value, but \"+b);}else if(r(b))throw new F(\"limit must be a number,  but \"+b);var d=this.a.request(\"h\",[a.b]);L(d,function(){a.v?ge(this,1,d,a,c):ge(this,2,d,a,c)},this);return d};l.keys=function(a,b,c,d,e,f,g){return a instanceof Fd?this.Ba(a,b):fe.C.keys.call(this,a,b,c,d,e,f,g)};l.ta=function(a){var b=this.a.request(\"d\",[a.b]);L(b,function(){ge(this,6,b,a)},this);return b};","l.count=function(a,b,c,d){if(a instanceof Fd){if(r(b)||r(c))throw new F(\"too many arguments.\");return this.ta(a)}return fe.C.count.call(this,a,b,c,d)};l.Da=function(a,b){var c;if(z(b)){if(c=b,1>c)throw new F(\"limit must be a positive value, but \"+c);}else if(r(b))throw new F(\"limit must be a number, but \"+b);var d=this.a.request(\"t\",[a.b]);L(d,function(){a.c?ge(this,2,d,a,c):ge(this,4,d,a,c)},this);return d};","l.values=function(a,b,c,d,e,f){return a instanceof Fd?this.Da(a,b):fe.C.values.call(this,a,b,c,d,e,f)};","function he(a,b,c){var d,e=I||G,f=[];for(d=0;d<c.length;d++)for(var g=c[d].stores(),h=0;h<g.length;h++)0<=Aa(f,g[h])||f.push(g[h]);d=a.a.request(\"qa\",f);a.a.Z(d,function(d,e,f){function g(){for(var b=0,f=0;f<c.length;f++){var m=c[f],p=[V(a).b(d,e,m.b)],m=m.load(p);m.R=h;m.I=ja(v,b);H[f]=m;S[b]=f;b++}A=c.length}function h(a){for(var b=0;b<H.length;b++)Dd(H[b]);Fa(H);f(a,!0)}function v(a,d){if(y)throw new rd;N++;var e=N===A,g=S[a],h=c[g],k=H[g],g=k.O(),k=k.pa();X[a]=d;M[a]=h.v?h.c?g:k:h.c?d:k;if(e){var n;","b instanceof Kd?n=b.c(X,M):n=b(X,M);e=[];h=[];g=[];k=[];if(t(n))for(var m=0;m<n.length;m++)!0===n[m]?g[m]=1:!1===n[m]?k[m]=!0:h[m]=n[m];else if(null===n)e=[];else if(r(n))if(B(n))e=n.continuePrimary||[],h=n[\"continue\"]||[],g=n.advance||[],k=n.restart||[];else throw new Mb(\"scan callback output\");else for(e=[],m=0;m<c.length;m++)r(S[m])&&(g[m]=1);for(m=N=n=0;m<c.length;m++)null!=e[m]||r(h[m])||null!=k[m]||null!=g[m]||N++;for(m=0;m<c.length;m++)if(null!=e[m]||r(h[m])||null!=k[m]||null!=g[m]){var u=","S[m];if(!r(u))throw new td(m+\" is not an iterator.\");var u=c[u],v=H[m];X[m]=void 0;M[m]=void 0;if(null!=k[m])u=v,u.j=!1,u.s=!1,u.openCursor(void 0,void 0);else if(r(h[m]))v.X(h[m]);else if(null!=e[m])v.oa(e[m]);else if(null!=g[m])v.advance(1);else throw new rd(u+\": has no action\");n++}if(0==n){for(n=0;n<H.length;n++)Dd(H[n]);y=!0;Fa(H);f(void 0)}}}var y=!1,A,S=[],X=[],M=[],H=[],N=0;b instanceof Kd?Ld(b,c)||g():g()},f,e);return d}","l.open=function(a,b,c,d){c=c||G;var e=this,f=this.a.request(\"i5\",b.stores(),c);L(f,function(c){for(var h=ic(f),k=b.stores(),n=[],p=0;p<k.length;p++)n[p]=V(e).b(c,h,k[p]);var m=b.load(n);m.R=function(a){K(f,a,!0)};m.I=function(b){if(null!=b){var c=a.call(d,m);!0===c?(m.j=!1,m.s=!1,m.openCursor(void 0,void 0)):B(c)?!0===c.restart?(b=c[\"continue\"],c=c.continuePrimary,m.j=!1,m.s=!1,m.openCursor(c,b)):null!=c[\"continue\"]?m.X(c[\"continue\"]):null!=c.continuePrimary?m.oa(c.continuePrimary):(Dd(m),K(f,void 0)):","null===c?(Dd(m),K(f,void 0)):null!=c?m.X(c):m.advance(1)}else Dd(m),K(f,void 0)}},this);return f};function ie(a,b,c,d){var e=c.b,f=c.f||null,g=d||100,h=a.a.request(\"u\",[e]),k=\"done\"==c.g||c.g==Gd?[]:[c.j,c.m];L(h,function(){V(this).Y(h,b,e,f,c.a?c.a instanceof Dc?c.a:Dc.bound(c.a.lower,c.a.upper,c.a.lowerOpen,c.a.upperOpen):null,g,0,Hd(c),Id(c),k)},a);h.w(function(){null!=k[0]?c.reset(\"rest\",k[0],k[1]):c.reset()});return h}","function ge(a,b,c,d,e){var f=[],g=c.a,h=ic(c);a=V(a);for(var k=[],n=d.stores(),p=0;p<n.length;p++)k[p]=a.b(g,h,n[p]);var m=d.load(k);m.R=function(a){Dd(m);K(c,a,!0)};var u=0,v=!1;m.I=function(a){v||(v=!0);null!=a?(m.O(),u++,1==b?f.push(a):2==b?f.push(m.O()):3==b?f.push([a,m.O()]):6!=b&&f.push(m.pa()),5==b?(Dd(m),K(c,f[0])):6==b||!r(e)||u<e?m.X():(Dd(m),K(c,f))):(Dd(m),K(c,5==b?f[0]:6==b?u:f))}};function je(a,b,c,d){this.f=a;this.a=Ga(c);this.b=d;this.c=[]}je.prototype.f=null;function ke(a,b,c){if(a.f)c&&a.c.push(c),b(a.f);else throw new Nb(\"tx committed on ParallelTxExecutor\");};function le(a,b,c,d,e,f){Vd.call(this,a,b,c,d,e,f);this.c=this.b=null}C(le,Vd);l=le.prototype;l.logger=null;l.abort=function(){Xd(this.c)};","l.eb=function(a,b){var c;if(\"multi\"==this.h)a:if(c=this.b,!c.a||!c.b||b!=c.b&&(c.b!=I||b!=G)||a.length>c.a.length)c=!1;else{for(var d=0;d<a.length;d++)if(-1==c.a.indexOf(a[d])){c=!1;break a}c=!0}else if(\"repeat\"==this.h)a:if(c=this.b,c.a&&c.b&&b==c.b&&c.a.length==a.length){for(d=0;d<a.length;d++)if(-1==c.a.indexOf(a[d])){c=!1;break a}c=!0}else c=!1;else c=\"all\"==this.h?!0:!1;return c};","l.P=function(a,b,c,d){function e(c){h.f++;k=new je(c,0,b,g);Q(b);h.b=k;ke(h.b,a,d)}function f(a,b){if(k){for(var c=k,d=0;d<c.c.length;d++)c.c[d](a,b);c.c.length=0;c.f=null;c.a=null;c.c=null}h.a=0}this.G&&(b=this.G);this.A&&(c=this.A);var g=r(c)?c:G,h=this,k;if(this.b&&this.b.f&&this.eb(b,g))ke(this.b,a,d);else{if(this.m&&this.f>=this.m)throw new Mb(\"Exceed maximum number of transactions of \"+this.m);this.j.transaction(e,b,g,f)}};","l.request=function(a,b,c,d){var e=new J(a),f=this;this.P(function(a){f.a++;ec(e,a,f.M()+\"R\"+f.a)},b,c||G,function(a,b){e.a=null;d&&d(a,b)});return e};l.Z=function(a,b,c,d,e){var f=this,g;this.P(function(c){f.a++;g=f.M()+\"R\"+f.a;b(c,g,function(b,d){f.c=c;g=f.M()+\"R\"+f.a;d?a.l(b):a.callback(b);f.c=null});b=null},c,d,e)};function me(a,b){le.call(this,a,b,Wd)}C(me,le);me.prototype.logger=null;me.prototype.eb=function(){return!1};me.prototype.request=function(a,b,c){var d,e,f,g=me.C.request.call(this,a,b,c,function(a,b){g.a=null;if(d)\"complete\"!=a&&(f=!0,e=b),d(e,f);else{var c=new Rd;K(g,c,!0)}});hc(g,function(a,b,c){f=b;e=a;d=c});return g};","me.prototype.Z=function(a,b,c,d,e){var f,g,h=new E;wb(h,function(a){g=!1;f=a},function(a){g=!0;f=a});me.C.Z.call(this,h,b,c,d,function(b,c){if(\"complete\"!=b)a.l(c);else if(!0===g)a.l(f);else if(!1===g)a.callback(f);else{var d=new Rd;a.l(d)}e&&(e(b,c),e=void 0)})};function ne(a,b,c){U.call(this,a,b,c);this.V=0;a=!0;b=Wd;c&&(r(c.isSerial)&&(a=!!c.isSerial),c.policy&&(b=c.policy));c=oe(this,b,a);this.i=oe(this,\"atomic\",!1);this.b=this.ca(c,this.i)}C(ne,U);l=ne.prototype;l.V=0;l.fb=function(a,b,c,d,e,f){a=a||Wd;var g;\"readonly\"==d?g=G:\"readwrite\"==d&&(g=I);a=oe(this,a,b,c,g,e);return this.ca(a,f?null:this.i)};l.ca=function(a){return new be(this,this.c,a)};","function oe(a,b,c,d,e,f){if(c){if(\"multi\"==b||\"repeat\"==b||\"all\"==b||b==Wd)return new Yd(a,a.V++,b,d,e,f);if(\"atomic\"==b)return new ae(a,a.V++);throw new F('Invalid requestType \"'+b+'\"');}if(\"multi\"==b||\"repeat\"==b||\"all\"==b||b==Wd)return new le(a,a.V++,b,d,e,f);if(\"atomic\"==b)return new me(a,a.V++);throw new F('Invalid requestType \"'+b+'\"');}","l.ob=function(a,b,c){this.V++;b=b||md(this.c);var d=G;if(c)if(\"readwrite\"==c)d=I;else if(\"readonly\"!=c)throw new F('Invalid transaction mode \"'+c+'\"');var e=oe(this,\"all\",!1,b,d,1),f=this.ca(e,this.i),g=new J(\"q\");e.P(function(b){ec(g,b,e.M()+\"R0\");a(f)},b,d,function(a){g.a=null;K(g,e.f,\"complete\"!==a)});return g};l.yb=function(){return this.b?this.b.a.f:NaN};function Y(a,b,c){ne.call(this,a,b,c);a=this.c;for(b=0;b<a.c.length;b++){c=a.c[b];var d=T(a,c.getName());if(d){if(!Yc(d,\"k\"))throw new F('full text index store \"'+d.getName()+'\" must have \"keyword\" index');if(!Yc(d,\"v\"))throw new F('full text index store \"'+d.getName()+'\" must have \"keyword\" index');if(\"id\"!=d.keyPath)throw new F('full text index store \"'+d.getName()+'\" must use \"id\" as key path.');}else throw new F('full text index store \"'+c.getName()+'\" required.');for(d=0;d<c.count();d++){var e=","c.index(d);if(!T(a,e.a))throw new F('full text source store \"'+e.a+'\" does not exist for full text index \"'+c.getName()+'\"');}}}C(Y,ne);l=Y.prototype;l.ca=function(a){return new W(this,this.c,a)};l.add=function(a,b,c){return this.b.add(a,b,c)};l.fa=function(a,b,c){return this.b.fa(a,b,c)};l.count=function(a,b,c,d){return this.b.count(a,b,c,d)};l.get=function(a,b){return this.b.get(a,b)};l.keys=function(a,b,c,d,e,f,g){return this.b.keys(a,b,c,d,e,f,g)};","l.ba=function(a,b,c,d,e,f,g){return this.b.ba(a,b,c,d,e,f,g)};l.values=function(a,b,c,d,e,f){return this.b.values(a,b,c,d,e,f)};l.ea=function(a,b,c,d,e,f,g){return this.b.ea(a,b,c,d,e,f,g)};l.put=function(a,b,c){return this.b.put(a,b,c)};l.na=function(a,b,c){return this.b.na(a,b,c)};l.clear=function(a,b,c){return this.b.clear(a,b,c)};l.qa=function(a,b,c){return this.b.qa(a,b,c)};function pe(a,b,c){Y.call(this,a,b,c)}C(pe,Y);l=pe.prototype;l.ca=function(a){return new fe(this,this.c,a)};l.open=function(a,b,c,d){return this.b.open(a,b,c,d)};l.ta=function(a){return this.b.ta(a)};l.Da=function(a,b){return this.b.Da(a,b)};l.Ba=function(a,b){return this.b.Ba(a,b)};function qe(a,b,c,d){Ad.call(this,a,0,c,d);this.b=null}C(qe,Ad);l=qe.prototype;l.logger=null;l.ha=function(a){(a=a.target.result)?this.L(a.key,a.primaryKey,a.value):this.L()};","l.openCursor=function(a,b){function c(a,b,c){m.b=p;m.b.onsuccess=ia(m.ha,m);m.L(a,m.g?b:void 0,c);p=null}var d=this.S,e=this.m.objectStore(this.hb),f=x(this.i)?e.index(this.i):null;if(r(a))var g=f?!r(b):!0,h=d?d.lower:void 0,k=d?d.upper:void 0,n=d?!!d.lowerOpen:!1,d=d?!!d.upperOpen:!1,d=wc(this.reverse?new P(h,a,n,g):new P(a,k,g,d));var p;this.ka?f?p=null!=this.dir?f.openKeyCursor(d,this.dir):null!=d?f.openKeyCursor(d):f.openKeyCursor():p=null!=this.dir?e.openCursor(d,this.dir):null!=d?e.openCursor(d):","e.openCursor():f?p=null!=this.dir?f.openCursor(d,this.dir):null!=d?f.openCursor(d):f.openCursor():p=null!=this.dir?e.openCursor(d,this.dir):null!=d?e.openCursor(d):e.openCursor();var m=this;p.onerror=function(a){var b=p.error;a.preventDefault();Bd(m,b)};null!=a?p.onsuccess=function(d){if(d=d.target.result){var e=Sb.cmp(d.key,a),f=m.reverse?-1:1;if(e==f)c(d.key,d.primaryKey,d.value);else if(e==-f)d[\"continue\"](a);else if(null!=b)if(Sb.cmp(d.primaryKey,b)==f)c(d.key,d.primaryKey,d.value);else d[\"continue\"]();","else d[\"continue\"]()}else c()}:(m.b=p,m.b.onsuccess=ia(m.ha,m))};l.Aa=function(){return!!this.b};l.update=function(a){var b=this.b.result;if(b){var c=new E;a=b.update(a);a.onsuccess=function(a){c.callback(a.target.result)};a.onerror=function(a){a.preventDefault();c.l(a)};return c}throw new Nd(\"cursor gone\");};","l.clear=function(){var a=this.b.result;if(a){var b=new E,a=a[\"delete\"]();a.onsuccess=function(){b.callback(1)};a.onerror=function(a){a.preventDefault();b.l(a)};return b}throw new Nd(\"cursor gone\");};l.advance=function(a){var b=this.b.result;if(1==a)b[\"continue\"]();else b.advance(a)};","l.oa=function(a){var b,c=this.b.result,d=this;this.b.onsuccess=function(e){if(c=e.target.result)if(b=Sb.cmp(c.primaryKey,a),0==b||1==b&&!d.reverse||-1==b&&d.reverse)d.b.onsuccess=ia(d.ha,d),d.L(c.key,d.g?c.primaryKey:void 0,c.value);else c[\"continue\"]();else d.b.onsuccess=ia(d.ha,d),d.L()};c[\"continue\"]()};l.X=function(a){var b=this.b.result;if(null!=a)b[\"continue\"](a);else b[\"continue\"]()};function re(a,b){this.a=b}C(re,Sd);l=re.prototype;l.logger=null;l.ua=function(a,b){function c(e){var f=a.a.objectStore(b[e]).count();f.onsuccess=function(f){d[e]=f.target.result;e++;e==b.length?K(a,d):c(e)};f.onerror=function(b){b.preventDefault();K(a,f.error,!0)}}var d=[];0==b.length?K(a,[]):c(0)};","l.K=function(a,b,c,d,e,f){function g(d){if(null==e[d])if(k++,k==e.length)K(a,h,n);else{var u=d+10;u<e.length&&g(u)}var v,u=e[d];v=f&&null!=f[d]?b?p.put(u,f[d]):p.add(u,f[d]):b?p.put(u):p.add(u);v.onsuccess=function(b){k++;h[d]=b.target.result;k==e.length?K(a,c?h[0]:h,n):(b=d+10,b<e.length&&g(b))};v.onerror=function(b){k++;var f=v.error;hd(e[d]);h[d]=f;n=!0;b.preventDefault();k==e.length?K(a,c?h[0]:h,n):(b=d+10,b<e.length&&g(b))}}var h=[],k=0,n=!1,p=a.a.objectStore(d);if(0<e.length)for(d=0;10>d&&d<","e.length;d++)g(d);else K(a,[])};l.Ua=function(a,b,c){function d(h){var n=c[h],p=a.a.objectStore(n.b),m;m=null===p.keyPath?p.put(b[h],n.a):p.put(b[h]);m.onsuccess=function(c){f++;e[h]=c.target.result;f==b.length?K(a,e,g):(c=h+10,c<b.length&&d(c))};m.onerror=function(c){f++;e[h]=m.error;g=!0;c.preventDefault();f==b.length?K(a,e,g):(c=h+10,c<b.length&&d(c))}}var e=[],f=0,g=!1;if(0<b.length)for(var h=0;10>h&&h<b.length;h++)d(h);else K(a,e,g)};","l.Ca=function(a,b,c){var d=a.a.objectStore(b).openCursor(Dc.only(c));d.onsuccess=function(b){if(b=b.target.result){var c=b[\"delete\"]();c.onsuccess=function(){K(a,1)};c.onerror=function(){K(a,c.error,!0)}}else K(a,0)};d.onerror=function(b){b.preventDefault();K(a,d.error,!0)}};","l.Xa=function(a,b){function c(h){h++;if(h>=b.length)0<g.length?K(a,g,!0):K(a,d);else{b[h].b!=e&&(e=b[h].b,f=a.a.objectStore(e));var k=f[\"delete\"](b[h].a);k.onsuccess=function(){d++;c(h)};k.onerror=function(a){a.preventDefault();g[h]=k.error;c(h)}}}var d=0,e,f,g=[];c(-1)};","l.Wa=function(a,b,c){var d=a.a.objectStore(b),e=d.count(c);e.onsuccess=function(b){var e=b.target.result,h=d[\"delete\"](c);h.onsuccess=function(){K(a,e)};h.onerror=function(){K(a,h.error,!0)}};e.onerror=function(b){b.preventDefault();K(a,e.error,!0)}};l.Ma=function(a,b,c){var d=a.a.objectStore(b)[\"delete\"](c);d.onsuccess=function(){K(a,void 0)};d.onerror=function(b){b.preventDefault();K(a,d.error,!0)}};","l.Va=function(a,b,c,d){var e=[],f=a.a.objectStore(b).index(c).openCursor(d),g=0;f.onsuccess=function(b){var c=b.target.result;if(c){var d=c[\"delete\"]();d.onsuccess=function(){g++;c[\"continue\"]()};d.onerror=function(a){e.push(d.error);a.preventDefault();c[\"continue\"]()}}else 0<e.length?K(a,e,!0):K(a,g)};f.onerror=function(b){b.preventDefault();K(a,f.error,!0)}};","l.sa=function(a,b){for(var c=b.length,d=0,e=0;e<c;e++){var f=a.a.objectStore(b[e]).clear();f.onsuccess=function(){d++;d==c&&K(a,d)};f.onerror=function(b){d++;b.preventDefault();d==c&&K(a,f.error,!0)}}};","l.ya=function(a,b,c){var d=a.a.objectStore(b),e=d.get(c);e.onsuccess=function(b){var c=b.target.result;if(!d.keyPath&&0==d.indexNames.length&&Hb&&x(c)&&0<=c.indexOf(\";base64,\")){'\"'==c.charAt(0)&&'\"'==c.charAt(c.length-1)&&(c=c.substr(1,c.length-2));c=c.split(\";base64,\");b=c[0].split(\":\")[1];for(var c=window.atob(c[1]),e=c.length,k=new Uint8Array(e),n=0;n<e;++n)k[n]=c.charCodeAt(n);K(a,new Blob([k.buffer],{type:b}))}else K(a,b.target.result)};e.onerror=function(b){b.preventDefault();K(a,e.error,!0)}};","l.Qa=function(a,b,c){function d(b){if(null==c[b])if(f++,e[b]=void 0,f==h)K(a,e);else{var n=b+10;n<h&&d(n)}var p;p=g.get(c[b]);p.onsuccess=function(c){f++;e[b]=c.target.result;f==h?K(a,e):(c=b+10,c<h&&d(c))};p.onerror=function(b){f++;b.preventDefault();K(a,p.error,!0)}}var e=[];e.length=c.length;var f=0,g=a.a.objectStore(b),h=c.length;if(0<h)for(b=0;10>b&&b<h;b++)d(b);else K(a,[])};","l.Ra=function(a,b){function c(f){var h=b[f],k=a.a.objectStore(h.b).get(h.a);k.onsuccess=function(h){e++;d[f]=h.target.result;e==b.length?K(a,d):(h=f+10,h<b.length&&c(h))};k.onerror=function(b){e++;b.preventDefault();K(a,k.error,!0)}}var d=[];d.length=b.length;var e=0;if(0<b.length)for(var f=0;10>f&&f<b.length;f++)c(f);else K(a,[])};","l.Oa=function(a,b,c,d){b=a.a.objectStore(b);c&&Q(c);var e;null!=d?(d=b.index(d),e=null!=c?d.count(c):d.count()):e=null!=c?b.count(c):b.count();e.onsuccess=function(b){K(a,b.target.result)};e.onerror=function(b){b.preventDefault();K(a,e.error,!0)}};function se(a,b,c,d){var e=b.getAll(c,d);e.onsuccess=function(b){K(a,b.target.result)};e.onerror=function(b){b.preventDefault();K(a,e.error,!0)}}","function te(a,b,c,d){var e=b.getAllKeys(c,d);e.onsuccess=function(b){K(a,b.target.result)};e.onerror=function(b){b.preventDefault();K(a,e.error,!0)}}","l.Y=function(a,b,c,d,e,f,g,h,k,n){var p=[],m=a.a.objectStore(c),u=h?k?\"prevunique\":\"prev\":k?\"nextunique\":\"next\";c=ic(a)+\" \"+b+\" \"+c+(d?\":\"+d:\"\")+(e?Q(e):\"\");h&&(c+=\" reverse\");k&&(c+=\" unique\");if(n&&r(n[0])){var v=d?!r(n[1]):!0,y=n[0],A=e?e.lower:void 0,S=e?e.upper:void 0,X=e?!!e.lowerOpen:!1;e=e?!!e.upperOpen:!1;e=wc(h?new P(A,y,X,v):new P(y,S,v,e));c+=\" starting from \"+Q(n[0]);r(n[1])&&(c+=\", \"+Q(n[1]))}var M;if(1==b||2==b||3==b)if(d){c=m.index(d);if(2==b&&c.getAllKeys&&!k&&!g&&!h&&!n){te(a,c,","e,f);return}M=c.openKeyCursor(e,u)}else{if(2==b&&m.getAllKeys&&!k&&!g&&!h&&!n){te(a,m,e,f);return}M=m.openCursor(e,u)}else if(d){c=m.index(d);if(c.getAll&&!k&&!g&&!h&&!n){se(a,c,e,f);return}M=c.openCursor(e,u)}else{if(m.getAll&&!k&&!g&&!h&&!n){se(a,m,e,f);return}M=m.openCursor(e,u)}var H=!1;M.onsuccess=function(c){if(c=c.target.result){if(!H){if(0<g){H=!0;c.advance(g);return}if(n&&d&&r(n[0]))if(r(n[1])){var e=Sb.cmp(c.key,n[0]),k=h?-1:1;if(0==e){e=Sb.cmp(c.primaryKey,n[1]);if(0==e){H=!0;c[\"continue\"]();","return}if(e==k)H=!0;else{c[\"continue\"]();return}}else H=!0}else H=!0;else H=!0}1==b?p.push(c.key):2==b?p.push(c.primaryKey):3==b?(k={},d&&(k[d]=c.key),m.keyPath?k[m.keyPath]=c.primaryKey:k._ROWID_=c.primaryKey,p.push(k)):4==b?p.push(c.value):p.push([c.key,c.primaryKey,c.value]);if(p.length<f)c[\"continue\"]();else n&&(n[0]=vc(c.key),n[1]=vc(c.primaryKey)),K(a,p)}else n&&(n[0]=void 0,n[1]=void 0),K(a,p)};M.onerror=function(b){b.preventDefault();K(a,M.error,!0)}};function ce(a,b){this.a=b}C(ce,re);ce.prototype.logger=null;ce.prototype.b=function(a,b,c,d){b=T(this.a,c);return new qe(a,0,b,d)};function ue(a,b,c,d){Ad.call(this,a,0,c,d);this.A=null;this.b=this.f=void 0}C(ue,Ad);l=ue.prototype;l.logger=null;l.O=function(){return this.b};l.Ha=function(a,b,c,d,e){ue.C.Ha.call(this,a,b,c,d,e);this.A=x(b)?Tc(this.a,b):null};l.pa=function(){return this.v};function ve(a,b){a.f=void 0;a.b=void 0;a.v=void 0;if(r(b))if(B(b)){var c=Lc(b[a.a.g],a.a.type);a.b=c;if(a.g){var d=Tc(a.a,a.i);a.f=Lc(b[a.i],d.type)}else a.f=c;a.v=a.ka?c:we(b,a.a)}else a.v=b}","function xe(a,b,c){Tc(a.a,a.i);var d=[],e=a.i,f=a.S,g=a.f;if(null!=f){var h=f.lower,k=f.upper,n=f.lowerOpen,p=f.upperOpen;a.reverse?k=null!=k&&-1==O(k,g)?k:g:h=null!=h&&1==O(h,g)?h:g;null!=h&&null!=k?f=zc(h,k,!!n,!!p):f=null!=h?Dc.lowerBound(h,!!n):Dc.upperBound(k,!!p)}else f=a.reverse?Dc.upperBound(g):Dc.lowerBound(g);e=Sc(a.a,d,a.G,e,f,a.reverse,a.unique);c=a.reverse?Dc.upperBound(c,!1):Dc.lowerBound(c,!1);c=Sc(a.a,d,a.G,a.a.g,c,a.reverse,a.unique);e.o=e.o?e.o+(\" AND \"+c.o):c.o;c=\"SELECT \"+e.select+","\" FROM \"+e.from+(e.o?\" WHERE \"+e.o:\"\")+(e.group?\" GROUP BY \"+e.group:\"\")+\" ORDER BY \"+e.H;c+=\" LIMIT 1\";Jb(a+\": continuePrimary:  SQL: \"+c+\" : \"+Q(d));a.m.executeSql(c,d,function(c,d){0<d.rows.length?ve(a,d.rows.item(0)):ve(a);b.call(a,a.f,a.b,a.v);b=null},function(c,d){Bd(a,d);ve(a);b.call(a,a.b,a.f,a.v);b=null;return!1})}","function ye(a,b,c,d,e,f){var g=!d;d=[];a.g&&null!=f&&null!=c?c=Wc(a.a,a.G,d,a.A.getName(),a.S,c,g,f,a.reverse,a.unique):null!=c?c=Vc(a.a,a.G,d,a.A?a.A.getName():null,a.S,a.reverse,a.unique,c,g):(c=Rc(a.a,d,a.G,a.g?a.A.f:a.a.g,a.S,a.reverse,a.unique),a.g&&(c+=\", \"+a.a.c+\" ASC\"));c+=\" LIMIT 1\";0<e&&(c+=\" OFFSET \"+e);Jb(a+\": continue:  SQL: \"+c+\" : \"+Q(d));a.m.executeSql(c,d,function(c,d){0<d.rows.length?ve(a,d.rows.item(0)):ve(a);b.call(a,a.f,a.b,a.v);b=null},function(c,d){Bd(a,d);ve(a);b.call(a,a.b,","a.f,a.v);b=null;return!1})}l.Aa=function(){return!!this.m};l.update=function(a){if(!this.Aa())throw new Nd;var b=new E,c=this.O();a=cd(this.a,a,c);var d=\"REPLACE INTO \"+Uc(this.a)+\" (\"+a.Na.join(\", \")+\") VALUES (\"+a.Ya.join(\", \")+\")\";Jb(this+': update \"'+d+'\" : '+Q(a.values));this.m.executeSql(d,a.values,function(){b.callback(c)},function(a,c){b.l(c);return!1});return b};","l.advance=function(a){var b=this.f,c=this.b,d=!0;null==this.f||this.g&&null==this.b||(--a,d=!1);ye(this,function(a,d,g){var h=null!=b&&null!=a&&0==O(b,a);if(this.g){var k=null!=d&&null!=c&&0==O(d,c);if(h&&k)throw new Nb(\"current: \"+b+\";\"+c+\" next: \"+a+\";\"+d);}else if(h)throw new Nb(\"current: \"+b+\" next: \"+a);this.L(a,d,g)},this.f,d,a,this.b)};l.X=function(a){null!=a?ye(this,this.L,a,!0):this.advance(1)};l.openCursor=function(a,b){ye(this,this.L,a,!1,0,b)};","l.clear=function(){if(!this.Aa())throw new Nd;var a=new E,b=this.a.g,b=\"DELETE FROM \"+Uc(this.a)+\" WHERE \"+b+\" = ?\",c=[this.O()];Jb(this+': clear \"'+b+'\" : '+Q(c));this.m.executeSql(b,c,function(b,c){a.callback(c.rowsAffected)},function(b,c){a.l(c);return!1});return a};l.oa=function(a){var b=O(a,this.b);if(0==b||1==b&&this.reverse||-1==b&&!this.reverse)throw new ud(this+\" to continuePrimaryKey  from \"+this.b+\" to \"+a+\" on \"+this.dir+\" direction is wrong\");xe(this,this.L,a)};function ze(a,b){this.a=b}C(ze,Sd);l=ze.prototype;l.logger=null;","function we(a,b){if(b.T&&!b.keyPath&&0==b.a.length&&a._default_){var c=a._default_;if(-1==c.indexOf(\";base64,\"))return gd(c);'\"'==c.charAt(0)&&'\"'==c.charAt(c.length-1)&&(c=c.substr(1,c.length-2));for(var d=c.split(\";base64,\"),c=d[0].split(\":\")[1],d=window.atob(d[1]),e=d.length,f=new Uint8Array(e),g=0;g<e;++g)f[g]=d.charCodeAt(g);return new Blob([f.buffer],{type:c})}c=a._default_?gd(a._default_):{};null!=b.keyPath&&(d=Lc(a[b.keyPath],b.type),null!=d&&bd(b,c,d));for(d=0;d<b.a.length;d++)if(e=b.index(d),","f=e.f,\"_default_\"!=f&&!e.h&&!e.multiEntry&&(\"DATE\"==e.type||b.T)&&(g=Lc(a[f],e.type),r(g)))for(var f=c,h=0;h<e.b.length;h++)h==e.b.length-1?f[e.b[h]]=g:B(f[e.b[h]])||(f[e.b[h]]={});return c}","l.K=function(a,b,c,d,e,f){function g(b,d){if(null==e[b])if(p++,p==e.length)K(a,n,m);else{var y=b+2;y<e.length&&g(y,d)}var A;A=r(f)?cd(h,e[b],f[b]):cd(h,e[b]);y=k+Uc(h)+\" (\"+A.Na.join(\", \")+\") VALUES (\"+A.Ya.join(\", \")+\");\";d.executeSql(y,A.values,function(f,y){function M(a,b){var c=k+ta(\"ydn.db.me:\"+h.getName()+\":\"+a.getName())+\" (\"+h.c+\", \"+a.c+\") VALUES (?, ?)\",e=[Gc(H,h.type),Gc(b,a.type)];d.executeSql(c,e,function(){},function(){return!1})}p++;var H=r(A.key)?A.key:y.insertId;1>y.rowsAffected&&","(m=!0,H=new Md(H+\" no-op\"));for(var N=0,ma=h.a.length;N<ma;N++){var kb=h.index(N);if(kb.multiEntry)for(var lb=Tb(e[b],kb.keyPath),dc=(lb?lb.length:0)||0,Ta=0;Ta<dc;Ta++)M(kb,lb[Ta])}c?K(a,H):(n[b]=H,p==e.length?K(a,n,m):(N=b+2,N<e.length&&g(N,f)))},function(d,f){p++;m=!0;6==f.code&&(f.name=\"ConstraintError\");if(c)K(a,f,!0);else if(n[b]=f,p==e.length)K(a,n,m);else{var h=b+2;h<e.length&&g(h,d)}return!1})}b=!b;var h=T(this.a,d),k=b?\"INSERT INTO \":\"INSERT OR REPLACE INTO \";d=a.a;var n=[],p=0,m=!1;if(0<","e.length)for(b=0;2>b&&b<e.length;b++)g(b,d);else K(a,[])};","l.Ua=function(a,b,c){if(0==c.length)K(a,[]);else{for(var d=[],e=0,f=0,g=this,h=function(h,k){for(var n=[],m=$c(T(g.a,h)),p=m?void 0:[],u=0;u<k.length;u++)n.push(b[k[u]]),m||p.push(c[k[u]].a);m=fc(a);wb(m,function(b){for(var c=0;c<k.length;c++)d[k[c]]=b[c];e++;e==f&&K(a,d)},function(){e++;e==f&&K(a,d,!0)});g.K(m,!1,!1,h,n,p)},k=\"\",n=[],p=[],m=0;m<c.length;m++){var u=c[m].b,v=c[m].a;u!=k?(f++,0<n.length&&h(k,n),n=[m],p=[v],k=u):(n.push(m),p.push(v))}0<n.length&&h(k,n)}};","l.ya=function(a,b,c){var d=a.a,e=T(this.a,b);b=e.c;c=[Gc(c,e.type)];b=\"SELECT * FROM \"+Uc(e)+\" WHERE \"+b+\" = ?\";d.executeSql(b,c,function(b,c){if(0<c.rows.length){var d=c.rows.item(0);null!=d?(d=we(d,e),K(a,d)):K(a,void 0)}else K(a,void 0)},function(b,c){K(a,c,!0);return!1})};","l.Qa=function(a,b,c){function d(b,e){var p=h.c,m=[Gc(c[b],h.type)],p=\"SELECT * FROM \"+Uc(h)+\" WHERE \"+p+\" = ?\";e.executeSql(p,m,function(e,n){g++;if(0<n.rows.length){var m=n.rows.item(0);null!=m&&(f[b]=we(m,h))}else f[b]=void 0;g==c.length?K(a,f):(m=b+10,m<c.length&&d(m,e))},function(e){g++;if(g==c.length)K(a,f);else{var h=b+10;h<c.length&&d(h,e)}return!1})}var e=a.a,f=[],g=0,h=T(this.a,b);if(0<c.length)for(b=0;10>b&&b<c.length;b++)d(b,e);else K(a,[])};","l.Ra=function(a,b){function c(d,h){var p=b[d],m=T(e.a,p.b),u=uc(p),p=m.c,u=[Gc(u,m.type)],p=\"SELECT * FROM \"+Uc(m)+\" WHERE \"+p+\" = ?\";h.executeSql(p,u,function(e,h){g++;if(0<h.rows.length){var n=h.rows.item(0);null!=n&&(f[d]=we(n,m))}else f[d]=void 0;g==b.length?K(a,f):(n=d+10,n<b.length&&c(n,e))},function(b,c){K(a,c,!0);return!1})}var d=a.a,e=this,f=[],g=0;if(0<b.length)for(var h=0;10>h&&h<b.length;h++)c(h,d);else K(a,[])};","l.sa=function(a,b){function c(d,g){function h(a){a=\"DELETE FROM  \"+ta(\"ydn.db.me:\"+k.getName()+\":\"+a.getName());g.executeSql(a,[])}var k=T(e.a,b[d]),n=\"DELETE FROM  \"+Uc(k);g.executeSql(n,[],function(e){d==b.length-1?K(a,b.length):c(d+1,e)},function(b,c){K(a,c,!0);return!1});for(var n=0,p=k.a.length;n<p;n++){var m=k.index(n);m.multiEntry&&h(m)}}var d=a.a,e=this;0<b.length?c(0,d):K(a,0)};","l.Xa=function(a,b){function c(h){if(h>=b.length)K(a,f,g);else{var k=T(e.a,b[h].b),n=Gc(b[h].a,k.type),p=\" WHERE \"+k.c+\" = ?\",m=\"DELETE FROM \"+Uc(k)+p;d.executeSql(m,[n],function(){f++;c(h)},function(){g=!0;c(h);return!1});h++;for(var m=function(a){a=\"DELETE FROM  \"+ta(\"ydn.db.me:\"+k.getName()+\":\"+a.getName())+p;d.executeSql(a,[n])},u=0,v=k.a.length;u<v;u++){var y=k.index(u);y.multiEntry&&m(y)}}}var d=a.a,e=this,f=0,g=!1;c(0)};","l.Ca=function(a,b,c){function d(a){a=\"DELETE FROM  \"+ta(\"ydn.db.me:\"+f.getName()+\":\"+a.getName())+h;e.executeSql(a,[g])}var e=a.a,f=T(this.a,b),g=Gc(c,f.type),h=\" WHERE \"+f.c+\" = ?\";b=\"DELETE FROM \"+Uc(f)+h;e.executeSql(b,[g],function(b,c){K(a,c.rowsAffected)},function(b,c){K(a,c,!0);return!1});b=0;for(c=f.a.length;b<c;b++){var k=f.index(b);k.multiEntry&&d(k)}};l.Ma=function(a,b,c){Ae(this,a,b,void 0,c)};l.Wa=function(a,b,c){Ae(this,a,b,void 0,c)};l.Va=function(a,b,c,d){Ae(this,a,b,c,d)};","function Ae(a,b,c,d,e){function f(a){a=\"DELETE FROM  \"+ta(\"ydn.db.me:\"+h.getName()+\":\"+a.getName())+n;g.executeSql(a,k)}var g=b.a,h=T(a.a,c);a=\"DELETE FROM \"+Uc(h);c=[];var k=[],n=\"\";null!=e&&(r(d)?(d=Tc(h,d),Fc(d.c,d.type,e,k,c)):Fc(h.c,h.type,e,k,c),n=\" WHERE \"+k.join(\" AND \"));g.executeSql(a+n,c,function(a,c){K(b,c.rowsAffected)},function(a,c){K(b,c,!0);return!1});e=0;for(d=h.a.length;e<d;e++)a=h.index(e),a.multiEntry&&f(a)}","l.ua=function(a,b){function c(f){var g=\"SELECT COUNT(*) FROM \"+ta(b[f]);d.executeSql(g,[],function(d,g){var n=g.rows.item(0);e[f]=parseInt(n[\"COUNT(*)\"],10);f++;f==b.length?K(a,e):c(f)},function(b,c){K(a,c,!0);return!1})}var d=a.a,e=[];0==b.length?K(a,0):c(0)};l.Oa=function(a,b,c,d,e){var f=[];b=Rc(T(this.a,b),f,6,d,c,!1,e);a.a.executeSql(b,f,function(b,c){var d;a:{if(d=c.rows.item(0))for(var e in d)if(d.hasOwnProperty(e)){d=d[e];break a}d=void 0}K(a,d)},function(b,c){K(a,c,!0);return!1})};","l.Y=function(a,b,c,d,e,f,g,h,k,n){var p=[],m=T(this.a,c),u=m.g,v=m.type,y=v,A=null!=d&&d!==u?Tc(m,d):null,S=d||u;A&&(y=A.type);c=[];if(n&&r(n[0])){var X=n[0];d=A&&r(n[1])?Wc(m,b,c,A.getName(),e,X,!0,n[1],h,k):Vc(m,b,c,d,e,h,k,X,!0)}else d=Rc(m,c,b,S,e,h,k);z(f)&&(d+=\" LIMIT \"+f);z(g)&&(d+=\" OFFSET \"+g);Q(c);a.a.executeSql(d,c,function(c,d){for(var e=d.rows.length,f,g=0;g<e;g++)f=d.rows.item(g),2==b?p[g]=Lc(f[u],v):1==b?p[g]=Lc(f[S],y):3==b?p[g]=[Lc(f[S],y),Lc(f[u],v)]:null!=f&&(p[g]=we(f,m));n&&f&&","(n[0]=Lc(f[S],y),n[1]=Lc(f[u],v));K(a,p)},function(b,c){K(a,c,!0);return!1})};function de(a,b){this.a=b}C(de,ze);de.prototype.logger=null;de.prototype.b=function(a,b,c,d){b=T(this.a,c);return new ue(a,0,b,d)};function Be(a,b){this.u=null;this.da=b||NaN}l=Be.prototype;","l.connect=function(a,b){function c(a,c){for(var d=0;d<b.stores.length;d++)Ce(a,c,b.stores[d]);for(var e=a.objectStoreNames,f=e.length,d=0;d<f;d++)nd(b,e[d])||a.deleteObjectStore(e[d])}function d(a,b){f.c||(r(b)?(e.u=null,f.l(b)):(e.u=a,e.u.onabort=function(){},e.u.onerror=function(){},e.u.onversionchange=function(a){if(e.u&&(e.u.onabort=null,e.u.onblocked=null,e.u.onerror=null,e.u.onversionchange=null,!a.defaultPrevented)){e.u.close();e.u=null;var b=Error();b.name=a.type;e.Fa(b)}},f.callback(parseFloat(g))))}","var e=this,f=new E,g=void 0,h=b.version,k;k=r(h)?Sb.open(a,h):Sb.open(a);k.onsuccess=function(f){var h=f.target.result;r(g)||(g=h.version);if(b.b)e.N(function(e){if(b instanceof pd)for(var f=0;f<e.stores.length;f++)nd(b,e.stores[f].getName())||qd(b,e.stores[f].clone());if(0<od(b,e,!1,!0).length){e=z(h.version)?h.version+1:1;h.close();var g=Sb.open(a,e);g.onupgradeneeded=function(a){c(a.target.result,g.transaction)};g.onsuccess=function(a){d(a.target.result)};g.onerror=function(){d(null)}}else d(h)},","void 0,h);else if(b.version>h.version){var k=h.setVersion(b.version);k.a=function(a){d(null,a)};k.onsuccess=function(){c(h,k.transaction)}}else e.N(function(a){a=od(b,a,!1,!0);0<a.length?d(null,new sd(\"different schema: \"+a)):d(h)},void 0,h)};k.onupgradeneeded=function(a){a=a.target.result;g=NaN;c(a,k.transaction)};k.onerror=function(a){d(null,a)};k.onblocked=function(a){d(null,a)};z(this.da)&&!isNaN(this.da)&&setTimeout(function(){\"done\"!=k.readyState&&d(null,new Rd(\"connection timeout after \"+e.da))},","this.da);return f};l.da=18E4;l.Fa=function(){};l.bb=function(){};l.Ta=function(){};l.$a=function(){return\"indexeddb\"};l.Za=function(){return this.u||null};l.Ea=function(){return!!this.u};l.logger=null;l.u=null;l.ab=function(){return this.u?parseFloat(this.u.version):void 0};","l.N=function(a,b,c){c=c||this.u;if(r(b)){if(null===b){if(0==c.objectStoreNames.length){a(new ld(c.version));return}throw new rd;}c=b.db}else{b=[];for(var d=c.objectStoreNames.length-1;0<=d;d--)b[d]=c.objectStoreNames[d];if(0==b.length){a(new ld(c.version));return}b=c.transaction(b,G)}for(var e=c.objectStoreNames,f=[],g=e.length,d=0;d<g;d++){for(var h=b.objectStore(e[d]),k=[],n=0,p=h.indexNames.length;n<p;n++){var m=h.index(h.indexNames[n]);k[n]=new Ic(m.keyPath,void 0,m.unique,m.multiEntry,m.name)}f[d]=","new Pc(h.name,h.keyPath,h.autoIncrement,void 0,k)}b=new ld(c.version,f);a(b)};","function Ce(a,b,c){function d(){var b={autoIncrement:!!c.b};null!=c.keyPath&&(b.keyPath=c.keyPath);return a.createObjectStore(c.getName(),b)}if(a.objectStoreNames.contains(c.getName())){b=b.objectStore(c.getName());Nc(c.keyPath||\"\",b.keyPath||\"\")?(a.deleteObjectStore(c.getName()),b=d()):ca(b.autoIncrement)&&ca(c.b)&&b.autoIncrement!=c.b&&(a.deleteObjectStore(c.getName()),b=d());for(var e=b.indexNames,f=0;f<c.a.length;f++){var g=c.index(f);!e.contains(g.getName())&&g.g&&b.clear()}for(var h=0,k=0,n=","0,f=0;f<c.a.length;f++){var g=c.index(f),p=!1;if(e.contains(g.getName())){var m=b.index(g.getName()),u=null!=m.unique&&null!=g.unique&&m.unique!=g.unique,v=null!=m.multiEntry&&null!=g.multiEntry&&m.multiEntry!=g.multiEntry,m=null!=m.keyPath&&null!=g.keyPath&&!!Nc(m.keyPath,g.keyPath);if(u||v||m)b.deleteIndex(g.getName()),p=!0,h--,n++}else\"BLOB\"!=g.type&&(p=!0);p&&(g.unique||g.multiEntry?(p={unique:g.unique,multiEntry:g.multiEntry},b.createIndex(g.getName(),g.keyPath,p)):b.createIndex(g.getName(),","g.keyPath),h++)}for(f=0;f<e.length;f++)Yc(c,e[f])||(b.deleteIndex(e[f]),k++)}else for(b=d(),f=0;f<c.a.length;f++)g=c.index(f),\"BLOB\"!=g.type&&(g.unique||g.multiEntry?(p={unique:g.unique,multiEntry:g.multiEntry},b.createIndex(g.getName(),g.keyPath,p)):b.createIndex(g.getName(),g.keyPath))}","l.wa=function(a,b,c,d){var e=this.u;if(!b){b=[];for(var f=e.objectStoreNames.length-1;0<=f;f--)b[f]=e.objectStoreNames[f]}0==b.length?a(null):(b=e.transaction(b,c),b.oncomplete=function(a){d(\"complete\",a)},b.onabort=function(a){d(\"abort\",a)},a(b),a=null)};l.close=function(){this.u.close()};kc.push(function(a,b){if(!Sb||b&&\"indexeddb\"!=b)return null;var c=Sb.deleteDatabase(a),d=new J(\"vc\");c.onblocked=function(a){Pb(d,a)};c.onerror=function(a){d.l(a)};c.onsuccess=function(a){d.callback(a)};return d});function De(a,b){this.a=r(a)?a:4194304;this.b=b||\"websql\"}l=De.prototype;","l.connect=function(a,b){function c(a,b){var c=a.version?parseInt(a.version,10):0,f=!1,g=0;a.changeVersion(a.version,(b.b?isNaN(c)?1:c+1:b.version)+\"\",function(c){e.N(function(a){f=!0;for(var d=0;d<b.count();d++){var e=T(a,(b.stores[d]||null).getName()),e=e?Zc(e,b.stores[d]||null):null;Ee(c,b.stores[d]||null,function(a){a&&g++},e)}for(e=0;e<a.count();e++)if(d=a.stores[e]||null,!nd(b,d.getName()))if(b instanceof pd)qd(b,d);else for(var h=Fe(d),d=0;d<h.length;d++)c.executeSql(h[d],[],function(){},function(a,","b){throw b;})},c,a)},function(a){throw a;},function(){f&&d(a)})}function d(a,b){r(b)?(e.B=null,g.l(b)):(e.B=a,g.callback(parseFloat(f)))}var e=this,f=NaN,g=new E,h=null;try{\"sqlite\"==this.b?q.sqlitePlugin?(h=q.sqlitePlugin.openDatabase(a,\"\",a,this.a),h.readTransaction||(h.readTransaction=h.transaction),h.changeVersion=function(a,b,c,d,e){h.transaction(c,d,e)}):(h=null,this.la=Error(\"sqlitePlugin not found.\")):h=q.openDatabase(a,\"\",a,this.a)}catch(k){if(\"SECURITY_ERR\"==k.name)h=null,this.la=new Qd(k);","else throw k;}h?(f=h.version||\"\",null!=b.version&&b.version==h.version?d(h):this.N(function(a){od(b,a,!0,!1)?c(h,b):d(h)},null,h)):d(null,this.la);return g};l.$a=function(){return this.b};l.la=null;l.B=null;l.Za=function(){return this.B||null};l.logger=null;l.Fa=function(){};l.bb=function(){};","function Fe(a){var b=[];b.push(\"DROP TABLE IF EXISTS \"+ta(a.getName()));for(var c=0,d=a.a.length;c<d;c++){var e=a.index(c);e.multiEntry&&(e=\"DROP TABLE IF EXISTS \"+ta(\"ydn.db.me:\"+a.getName()+\":\"+e.getName()),b.push(e))}return b}","function Ge(a){var b=a.m,c=\"CREATE TABLE IF NOT EXISTS \"+Uc(a)+\" (\",d=a.c,c=c+(d+\" \"+b+\" PRIMARY KEY \");a.b&&(c+=\" AUTOINCREMENT \");if(!a.T||!a.keyPath&&0==a.a.length)c+=\" ,_default_ BLOB\";for(var e=[],f=[d],g=0,h=a.a.length;g<h;g++){var k=a.index(g),n=\"\";if(k.multiEntry)n=k.unique?\" UNIQUE \":\"\",k=\"CREATE TABLE IF NOT EXISTS \"+ta(\"ydn.db.me:\"+a.getName()+\":\"+k.getName())+\" (\"+d+\" \"+b+\", \"+k.c+\" \"+k.i+n+\")\",e.push(k);else{k.unique&&(n=\" UNIQUE \");var p=k.c;-1==f.indexOf(p)&&(c+=\", \"+p+\" \"+k.i+n,f.push(p))}}e.unshift(c+","\")\");return e}l.ab=function(){return this.B?parseFloat(this.B.version):void 0};","l.N=function(a,b,c){function d(a,b){throw b;}function e(b,c){if(c&&c.rows){for(var d=0;d<c.rows.length;d++){var e=c.rows.item(d);if(\"__WebKitDatabaseInfoTable__\"!=e.name&&\"sqlite_sequence\"!=e.name&&\"table\"==e.type){var f=null!==e&&\"sql\"in e?e.sql:void 0,v=f.substr(f.indexOf(\"(\"),f.lastIndexOf(\")\")).match(/(?:\"[^\"]*\"|[^,])+/g),y=void 0,A,f=[],S=!1,X=!1,M=0;for(;M<v.length;M++){var H=v[M].match(/\\w+|\"[^\"]+\"/g),N=Ba(H,function(a){return a.toUpperCase()}),ma=qa(H[0]),H=Jc(N[1]);if(-1!=N.indexOf(\"PRIMARY\")&&","-1!=N.indexOf(\"KEY\")){A=H;if(x(ma)&&!/^[\\s\\xa0]*$/.test(ma)&&\"_ROWID_\"!=ma){var kb=ma.split(\",\"),y=ma;1<kb.length&&(y=kb,A=void 0)}-1!=N.indexOf(\"AUTOINCREMENT\")&&(S=!0)}else if(\"_ROWID_\"!=ma)if(\"_default_\"==ma)X=!0;else{var lb=\"UNIQUE\"==N[2];0==ma.lastIndexOf(e.tbl_name+\"-\",0)&&(ma=ma.substr(e.tbl_name.length+1));N=new Ic(ma,H,lb);f.push(N)}}if(0==e.name.lastIndexOf(\"ydn.db.me:\",0)){if(y=e.name.split(\":\"),3<=y.length){var dc=y[1],Ta=y[2],y=new Ic(Ta,H,lb,!0),v=Ea(h,function(a){return a.getName()===","dc});0<=v?(M=h[v],N=fd(M,Ta),0<=N?f[N]=y:(N=Ea(f,function(a){return a.getName()==Ta}),0<=N?f[N]=y:f.push(y)),h[v]=new Pc(M.getName(),M.keyPath,S,A,f,void 0,!X)):h.push(new Pc(dc,void 0,!1,void 0,[y]))}}else if(v=Ea(h,function(a){return a.getName()===e.name}),0<=v){for(d=0;d<h[v].a.length;d++){var M=h[v].index(d),Ne=M.getName();-1==Ea(f,function(a){return a.getName()==Ne})&&f.push(M)}h[v]=new Pc(e.name,y,S,A,f,void 0,!X)}else f=new Pc(e.name,y,S,A,f,void 0,!X),h.push(f)}}d=new ld(g,h);a(d)}}var f=","this,g=(c=c||this.B)&&c.version?parseFloat(c.version):void 0,g=isNaN(g)?void 0:g,h=[];b?b.executeSql(\"SELECT * FROM sqlite_master\",[],e,d):c.readTransaction(function(b){f.N(a,b,c)},function(a){throw a;},e)};function Ee(a,b,c,d){function e(b){a.executeSql(b,[],function(){f++;f==g.length&&(c(!0),c=null)},function(a,b){f++;f==g.length&&(c(!1),c=null);throw new Pd(b,'\"');})}var f=0,g=Ge(b);if(d){if(0==dd(b,d).length){c(!0);c=null;return}g.unshift.apply(g,Fe(d))}for(b=0;b<g.length;b++)e(g[b])}l.Ea=function(){return!!this.B};","l.close=function(){this.B=null};l.wa=function(a,b,c,d){function e(a){d(\"abort\",a)}function f(){d(\"complete\",{type:\"complete\"})}function g(b){a(b)}null===this.B&&(a(null),d(\"abort\",this.la));c==G?this.B.readTransaction(g,e,f):c==Rb?this.B.changeVersion(this.B.version,this.B.version+1+\"\",g,e,f):this.B.transaction(g,e,f)};","kc.push(function(a,b){if(da(q.openDatabase)&&(!b||\"websql\"==b)){var c=new De,d=new pd,d=c.connect(a,d),e=function(){};d.w(function(){c.wa(function(a){a.executeSql('SELECT * FROM sqlite_master WHERE type = \"table\"',[],function(b,c){if(c&&c.rows)for(var d=c.rows.length,e=0,p=0;p<d;p++){var m=c.rows.item(p);\"__WebKitDatabaseInfoTable__\"!=m.name&&\"sqlite_sequence\"!=m.name&&(e++,a.executeSql(\"DROP TABLE \"+m.name))}},function(a,b){throw b;})},[],I,e)});d.Ja(function(){})}});De.prototype.Ta=function(){};ne.prototype.va=function(a){return\"indexeddb\"==a&&Sb?new Be(0,this.v):\"sqlite\"==a&&q.sqlitePlugin?new De(this.m,\"sqlite\"):\"websql\"==a&&da(q.openDatabase)?new De(this.m):null};ne.prototype.branch=ne.prototype.fb;ne.prototype.getTxNo=ne.prototype.yb;be.prototype.getTxNo=be.prototype.g;ne.prototype.run=ne.prototype.ob;Y.prototype.branch=Y.prototype.fb;Y.prototype.add=Y.prototype.add;Y.prototype.addAll=Y.prototype.fa;Y.prototype.get=Y.prototype.get;Y.prototype.keys=Y.prototype.keys;Y.prototype.keysByIndex=Y.prototype.ba;Y.prototype.values=Y.prototype.values;Y.prototype.valuesByIndex=Y.prototype.ea;Y.prototype.put=Y.prototype.put;Y.prototype.putAll=Y.prototype.na;Y.prototype.clear=Y.prototype.clear;Y.prototype.remove=Y.prototype.qa;Y.prototype.count=Y.prototype.count;W.prototype.add=W.prototype.add;","W.prototype.addAll=W.prototype.fa;W.prototype.get=W.prototype.get;W.prototype.keys=W.prototype.keys;W.prototype.keysByIndex=W.prototype.ba;W.prototype.values=W.prototype.values;W.prototype.valuesByIndex=W.prototype.ea;W.prototype.put=W.prototype.put;W.prototype.putAll=W.prototype.na;W.prototype.clear=W.prototype.clear;W.prototype.remove=W.prototype.qa;W.prototype.count=W.prototype.count;la(\"ydn.db.Key\",tc);tc.prototype.id=tc.prototype.jb;tc.prototype.parent=tc.prototype.sb;","tc.prototype.storeName=tc.prototype.tb;la(\"ydn.db.KeyRange\",P);P.upperBound=Ac;P.lowerBound=Bc;P.bound=zc;P.only=yc;P.starts=Cc;pc.prototype.store_name=pc.prototype.b;pc.prototype.getStoreName=pc.prototype.a;function He(a,b,c){Y.call(this,a,b,c)}C(He,pe);la(\"ydn.db.Storage\",He);function Ie(a,b,c){this.db=a;this.b=b;this.type=c||0;this.c=null};function Je(a,b){Kd.call(this,a,b)}C(Je,Kd);","Je.prototype.c=function(a,b){var c=[],d=b[0];if(null==d)return[];for(var e=!0,f=!1,g=d,h=[],k=1;k<a.length;k++)if(null!=b[k]){var n=O(d,b[k]);h[k]=n;this.a?-1==n?e=!1:1==n&&(e=!1,f=!0,-1==O(b[k],g)&&(g=b[k])):1==n?e=!1:-1==n&&(e=!1,f=!0,1==O(b[k],g)&&(g=b[k]))}else e=!1,f=!0;if(e)for(f=0;f<a.length;f++)null!=b[f]&&(c[f]=!0);else if(f)for(f=0;f<a.length;f++)null!=b[f]&&(this.a?-1==O(g,b[f])&&(c[f]=g):1==O(g,b[f])&&(c[f]=g));else for(k=this.a?-1:1,f=1;f<a.length;f++)h[f]===k&&(c[f]=d);return e?(this.b&&","this.b.push(g),c):{continuePrimary:c}};function Ke(a,b){Kd.call(this,a,b)}C(Ke,Kd);Ke.prototype.logger=null;","Ke.prototype.c=function(a,b){function c(a,b){var c=a.slice(0,a.length-1);c.push(b);return c}function d(a){return a[a.length-1]}var e=[];if(0==a.length||null==a[0]||null==a[0])return[];for(var f=!0,g=0,h=d(a[g]),k=[],n=1;n<a.length;n++)if(null!=a[n]){var p=d(a[n]),m=O(h,p);k[n]=m;this.a?-1==m?f=!1:1==m&&(f=!1,h=p,g=1):1==m?f=!1:-1==m&&(f=!1,h=p,g=1)}else return[];n=this.a?-1:1;if(f){for(f=0;f<a.length;f++)null!=a[f]&&(e[f]=!0);this.b&&this.b.push(b[0]);return null!=this.f&&this.b.length>=this.f?[]:","e}if(0==g)for(f=1;f<a.length;f++)k[f]==n&&(e[f]=c(a[f],h));else for(f=0;f<a.length;f++)f!=g&&null!=a[f]&&O(h,d(a[f]))===n&&(e[f]=c(a[f],h));return{\"continue\":e}};function Le(a,b,c,d){this.c=a;this.a=b||null;this.h=!!c;this.g=!!d;this.b=[];this.f=[]}function Me(a,b){for(var c=b.length-1;0<=c;c--)if(b[c]==a.b[a.b.length-1])b=b.slice(0,c);else break;a.f=b;if(a.a&&a.b[0]){if(a.a.lower!=a.a.upper)throw new Md(\"Ordering no allowed with range query\");a.a=Cc([a.a.lower])}return null}","function Oe(a,b){if((0!=a.b.length||0!=a.f.length)&&Pe(a)&&!Qe(a))throw new Md('Require index \"'+a.b.concat(a.f).join(\", \")+'\" not found in store \"'+a.c.getName()+'\"');var c=new Fd(a.c.getName(),Re(a),a.a,a.h,a.g,!b);c.s=a.b.length;return c}Le.prototype.clone=function(){var a=new Le(this.c,this.a,this.h,this.g);a.f=this.f.slice();a.b=this.b.slice();return a};function Qe(a){var b=a.b.concat(a.f),c=Xc(a.c,b);return c||b[b.length-1]==a.c.keyPath&&(c=Xc(a.c,b.slice(0,b.length-1)))?c:null}","function Re(a){return(a=Qe(a))?a.getName():void 0}Le.prototype.reverse=function(){var a=this.clone();a.h=!this.h;return a};Le.prototype.unique=function(a){var b=this.clone();b.g=!!a;return b};function Pe(a){return 0<a.b.length?!0:1==a.f.length?a.f[0]!=a.c.keyPath:1<a.f.length?!0:!1}","Le.prototype.o=function(a,b,c,d,e){c=Hc(b,c,d,e);if(0<this.b.length)if(this.a)if(null!=this.a.lower&&null!=this.a.upper&&0==O(this.a.lower,this.a.upper))a=t(this.a.lower)?this.a.lower.slice().push(b):[this.a.lower,b],d=null!=d?d:\"\\uffff\",c=t(this.a.upper)?this.a.upper.slice().push(d):[this.a.upper,d],this.a=Hc(b,a,d,c);else if(1==this.b.length&&this.b[0]==a||t(a)&&Ia(this.b,a))this.a=Ec(this.a,c);else return\"cannot use where clause with existing filter\";else return\"cannot use where clause with existing filter\";","else this.b=t(a)?a:[a],this.a=this.a?Ec(this.a,c):c;return null};function Se(a,b,c,d){Ie.call(this,a,b,c);this.a=d}C(Se,Ie);Se.prototype.open=function(){var a={push:function(){}},a=Te(this)?new Ke(a):new Je(a);return he(this.db,a,Ue(this))};function Ue(a){for(var b=[],c=0;c<a.a.length;c++)b[c]=Oe(a.a[c]);return b}function Te(a){for(var b=0;b<a.a.length;b++)if(0<a.a[b].b.length)return!0;return!1}Se.prototype.za=function(){return this.a.slice()};Se.prototype.select=function(){throw Error(\"not impl\");};","Se.prototype.reverse=function(){var a=this.a.map(function(a){return a.reverse()});return new Se(this.db,this.b,this.type,a)};function Z(a,b,c,d){Ie.call(this,a,b,c);this.a=d}C(Z,Ie);l=Z.prototype;l.ub=function(){return new Z(this.db,this.b,this.type,this.a.clone())};l.reverse=function(){var a=this.a.reverse();return new Z(this.db,this.b,this.type,a)};l.unique=function(a){if(!ca(a))throw new F(\"unique value must be a boolean, but \"+typeof a+\" found\");a=this.a.unique(a);return new Z(this.db,this.b,this.type,a)};","l.H=function(a){var b=x(a)?[a]:a;a=this.a.clone();if(b=Me(a,b))throw Error(b);return new Z(this.db,this.b,this.type,a)};","l.o=function(a,b,c,d,e){if(Re(this.a)&&Re(this.a)!=a){var f=Hc(b,c,d,e),f=new Le(T(this.b,this.a.c.getName()),f,this.a.h,this.a.g),f=(new Z(this.db,this.b,this.type,f)).za().concat(this.za());return new Se(this.db,this.b,this.type,f)}if(!Re(this.a)&&!Yc(T(this.b,this.a.c.getName()),a))throw new F('index \"'+a+'\" not exists in '+this.a.c.getName());f=this.a.clone();if(a=f.o(a,b,c,d,e))throw new F(a);return new Z(this.db,this.b,this.type,f)};","l.select=function(a){var b=T(this.b,this.a.c.getName()),c=x(a)?[a]:a,d=this.type;a=this.a.clone();d=Re(this.a);if(1==c.length)if(d=c[0],\"_ROWID_\"==d||d==b.keyPath)d=2;else if(d&&\"*\"!=d)if(Yc(b,d)){if(b=Me(a,c))throw new F(b);d=1}else throw new F('Invalid select \"'+d+'\", index not found in store \"'+b.getName()+'\"');else d=4;else if(2==c.length){if(!d)throw new F(\"Only primary key can be selected for this query.\");for(var e=0;2>e;e++){var f;if(f=\"_ROWID_\"!=c[e]){f=b;var g=c[e];f=!(r(f.keyPath)&&(1==","f.h.length?f.keyPath===g:w(g)&&Ia(f.h,g)))}if(f&&c[e]!=d)throw new F('select field name must be \"'+d+'\", but \"'+c[e]+'\" found.');}d=3}else throw new F(\"Selecting more than 2 field names is not supported, but \"+c.length+\" fields selected.\");return new Z(this.db,this.b,d,a)};l.vb=function(a){a=a||100;var b=4,c=Ve(this);this.c&&this.c[0]&&(c=Jd(c,this.c[0],this.c[1]));if(2==this.type||3==this.type||1==this.type)b=this.type;a=ie(this.db,b,c,a);a.w(function(){\"rest\"==c.g&&(this.c=[c.j,c.m])},this);return a};","l.za=function(){return[this.a.clone()]};function Ve(a,b){var c=!!b;r(b)||(c=2==a.type||3==a.type||1==a.type);return Oe(a.a,!c)}l.nb=function(a,b){var c=Ve(this);c.c&&(c=new Fd(c.b,c.f,c.a,Hd(c),Id(c),!1,c.h));var d=this.db.open(function(c){var f=c.pa();if(x(a))Ub(f,a,b);else if(t(a))for(var g=0;g<a.length;g++)Ub(f,a[g],b[g]);else if(B(a))for(g in a)a.hasOwnProperty(g)&&(f[g]=a[g]);xb(d,c.update(f))},c,I,this);return d};l.open=function(a,b){return this.db.open(a,Ve(this,!1),I,b)};","l.count=function(){return Pe(this.a)?this.a.g?this.db.count(Oe(this.a)):this.db.count(this.a.c.getName(),Re(this.a),this.a.a):this.db.count(this.a.c.getName(),this.a.a)};l.clear=function(){return Pe(this.a)?this.db.clear(this.a.c.getName(),Re(this.a),this.a.a):this.db.clear(this.a.c.getName(),this.a.a)};","pe.prototype.from=function(a,b,c,d,e){if(!nd(this.c,a))throw new F('Store \"'+a+'\" not found.');var f=null;if(r(b)){if(!r(c))throw new F(\"boundary value must be defined.\");f=Hc(b,c,d,e)}else if(r(d))throw new F(\"second boundary must not be defined.\");a=new Le(T(this.c,a),f);return new Z(this.b,this.c,null,a)};","fe.prototype.from=function(a,b,c,d,e){if(!nd(this.b,a))throw new F('Store \"'+a+'\" not found.');var f=null;if(r(b)){if(!r(c))throw new F(\"boundary value must be defined.\");f=Hc(b,c,d,e)}else if(r(d))throw new F(\"second boundary must not be defined.\");a=new Le(T(this.b,a),f);return new Z(this,this.b,null,a)};Z.prototype.copy=Z.prototype.ub;Z.prototype.count=Z.prototype.count;Z.prototype.list=Z.prototype.vb;Z.prototype.order=Z.prototype.H;Z.prototype.patch=Z.prototype.nb;Z.prototype.reverse=Z.prototype.reverse;Z.prototype.unique=Z.prototype.unique;Z.prototype.where=Z.prototype.o;pe.prototype.from=pe.prototype.from;fe.prototype.from=fe.prototype.from; ","","//# sourceMappingURL=ydn.db-is-core-qry.js.map","return ydn;}, (this || {}));","            "],"id":3},{"start":{"row":0,"column":0},"end":{"row":333,"column":12},"action":"insert","lines":["(function (name, definition, context) {if (typeof context['module'] !== 'undefined' && context['module']['exports']) {context['module']['exports'] = definition.apply(context);}else if (typeof context['define'] !== 'undefined' && context['define'] === 'function' && context['define']['amd']) {define(name, [], definition);}else {context[name] = definition();}})('ydn', function () {var l,r=this;function u(a){return void 0!==a}","function ba(a){var b=typeof a;if(\"object\"==b)if(a){if(a instanceof Array)return\"array\";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(\"[object Window]\"==c)return\"object\";if(\"[object Array]\"==c||\"number\"==typeof a.length&&\"undefined\"!=typeof a.splice&&\"undefined\"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(\"splice\"))return\"array\";if(\"[object Function]\"==c||\"undefined\"!=typeof a.call&&\"undefined\"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(\"call\"))return\"function\"}else return\"null\";","else if(\"function\"==b&&\"undefined\"==typeof a.call)return\"object\";return b}function v(a){return\"array\"==ba(a)}function w(a){var b=ba(a);return\"array\"==b||\"object\"==b&&\"number\"==typeof a.length}function x(a){return\"string\"==typeof a}function ca(a){return\"boolean\"==typeof a}function y(a){return\"number\"==typeof a}function da(a){return\"function\"==ba(a)}function z(a){var b=typeof a;return\"object\"==b&&null!=a||\"function\"==b}var ea=\"closure_uid_\"+(1E9*Math.random()>>>0),fa=0;","function ga(a,b,c){return a.call.apply(a.bind,arguments)}function ha(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function ia(a,b,c){ia=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf(\"native code\")?ga:ha;return ia.apply(null,arguments)}","function ja(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var ka=Date.now||function(){return+new Date};function la(a,b){var c=a.split(\".\"),d=r;c[0]in d||!d.execScript||d.execScript(\"var \"+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&u(b)?d[e]=b:d[e]?d=d[e]:d=d[e]={}}","function A(a,b){function c(){}c.prototype=b.prototype;a.A=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.lc=function(a,c,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[c].apply(a,g)}};function ma(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0}function na(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};function oa(a){if(Error.captureStackTrace)Error.captureStackTrace(this,oa);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}A(oa,Error);oa.prototype.name=\"CustomError\";var pa;function ra(a,b){for(var c=a.split(\"%s\"),d=\"\",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join(\"%s\")}function sa(a){return/^[\\s\\xa0]*$/.test(a)}var ta=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g,\"\")};","function ua(a){if(!va.test(a))return a;-1!=a.indexOf(\"&\")&&(a=a.replace(wa,\"&amp;\"));-1!=a.indexOf(\"<\")&&(a=a.replace(xa,\"&lt;\"));-1!=a.indexOf(\">\")&&(a=a.replace(ya,\"&gt;\"));-1!=a.indexOf('\"')&&(a=a.replace(za,\"&quot;\"));-1!=a.indexOf(\"'\")&&(a=a.replace(Aa,\"&#39;\"));-1!=a.indexOf(\"\\x00\")&&(a=a.replace(Ba,\"&#0;\"));return a}var wa=/&/g,xa=/</g,ya=/>/g,za=/\"/g,Aa=/'/g,Ba=/\\x00/g,va=/[\\x00&<>\"']/;","function Ca(a){for(var b=0;1>b;b++)if('\"'==a.charAt(0)&&'\"'==a.charAt(a.length-1))return a.substring(1,a.length-1);return a}var Da={\"\\x00\":\"\\\\0\",\"\\b\":\"\\\\b\",\"\\f\":\"\\\\f\",\"\\n\":\"\\\\n\",\"\\r\":\"\\\\r\",\"\\t\":\"\\\\t\",\"\\x0B\":\"\\\\x0B\",'\"':'\\\\\"',\"\\\\\":\"\\\\\\\\\"},Ea={\"'\":\"\\\\'\"};","function Fa(a){a=String(a);if(a.quote)return a.quote();for(var b=['\"'],c=0;c<a.length;c++){var d=a.charAt(c),e=d.charCodeAt(0),f=c+1,g;if(!(g=Da[d])){if(!(31<e&&127>e))if(d in Ea)d=Ea[d];else if(d in Da)d=Ea[d]=Da[d];else{e=d;g=d.charCodeAt(0);if(31<g&&127>g)e=d;else{if(256>g){if(e=\"\\\\x\",16>g||256<g)e+=\"0\"}else e=\"\\\\u\",4096>g&&(e+=\"0\");e+=g.toString(16).toUpperCase()}d=Ea[d]=e}g=d}b[f]=g}b.push('\"');return b.join(\"\")}function Ga(a,b){return a<b?-1:a>b?1:0};function Ha(a,b){b.unshift(a);oa.call(this,ra.apply(null,b));b.shift()}A(Ha,oa);Ha.prototype.name=\"AssertionError\";function Ia(a,b){throw new Ha(\"Failure\"+(a?\": \"+a:\"\"),Array.prototype.slice.call(arguments,1));};var Ja=Array.prototype,B=Ja.indexOf?function(a,b,c){return Ja.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(x(a))return x(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ka=Ja.forEach?function(a,b,c){Ja.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=x(a)?a.split(\"\"):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},La=Ja.map?function(a,b,c){return Ja.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=","x(a)?a.split(\"\"):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Ma=Ja.some?function(a,b,c){return Ja.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=x(a)?a.split(\"\"):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1};function Na(a,b){var c=Oa(a,b,void 0);return 0>c?null:x(a)?a.charAt(c):a[c]}function Oa(a,b,c){for(var d=a.length,e=x(a)?a.split(\"\"):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1}","function Pa(a){if(!v(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0}function Qa(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function Ra(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(w(d)){var e=a.length||0,f=d.length||0;a.length=e+f;for(var g=0;g<f;g++)a[e+g]=d[g]}else a.push(d)}}function Sa(a,b,c){return 2>=arguments.length?Ja.slice.call(a,b):Ja.slice.call(a,b,c)}","function Ta(a,b){if(!w(a)||!w(b)||a.length!=b.length)return!1;for(var c=a.length,d=Ua,e=0;e<c;e++)if(!d(a[e],b[e]))return!1;return!0}function Ua(a,b){return a===b};var Va;a:{var Wa=r.navigator;if(Wa){var Xa=Wa.userAgent;if(Xa){Va=Xa;break a}}Va=\"\"};function Ya(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function $a(a,b){for(var c=w(b),d=c?b:arguments,c=c?0:1;c<d.length&&(a=a[d[c]],u(a));c++);return a}var ab=\"constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf\".split(\" \");function bb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<ab.length;f++)c=ab[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}","function cb(a){var b=arguments.length;if(1==b&&v(arguments[0]))return cb.apply(null,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=!0;return c};function db(a){r.setTimeout(function(){throw a;},0)}var eb;","function gb(){var a=r.MessageChannel;\"undefined\"===typeof a&&\"undefined\"!==typeof window&&window.postMessage&&window.addEventListener&&(a=function(){var a=document.createElement(\"iframe\");a.style.display=\"none\";a.src=\"\";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write(\"\");a.close();var c=\"callImmediate\"+Math.random(),d=\"file:\"==b.location.protocol?\"*\":b.location.protocol+\"//\"+b.location.host,a=ia(function(a){if((\"*\"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},","this);b.addEventListener(\"message\",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if(\"undefined\"!==typeof a&&-1==Va.indexOf(\"Trident\")&&-1==Va.indexOf(\"MSIE\")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(u(c.next)){c=c.next;var a=c.lb;c.lb=null;a()}};return function(a){d.next={lb:a};d=d.next;b.port2.postMessage(0)}}return\"undefined\"!==typeof document&&\"onreadystatechange\"in document.createElement(\"script\")?function(a){var b=document.createElement(\"script\");","b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){r.setTimeout(a,0)}};function hb(a,b){ib||jb();kb||(ib(),kb=!0);lb.push(new mb(a,b))}var ib;function jb(){if(r.Promise&&r.Promise.resolve){var a=r.Promise.resolve();ib=function(){a.then(nb)}}else ib=function(){var a=nb;!da(r.setImmediate)||r.Window&&r.Window.prototype.setImmediate==r.setImmediate?(eb||(eb=gb()),eb(a)):r.setImmediate(a)}}var kb=!1,lb=[];[].push(function(){kb=!1;lb=[]});function nb(){for(;lb.length;){var a=lb;lb=[];for(var b=0;b<a.length;b++){var c=a[b];try{c.a.call(c.b)}catch(d){db(d)}}}kb=!1}","function mb(a,b){this.a=a;this.b=b};function ob(a,b){this.b=pb;this.h=void 0;this.a=this.c=null;this.f=this.g=!1;try{var c=this;a.call(b,function(a){qb(c,rb,a)},function(a){if(!(a instanceof sb))try{if(a instanceof Error)throw a;throw Error(\"Promise rejected.\");}catch(b){}qb(c,tb,a)})}catch(d){qb(this,tb,d)}}var pb=0,rb=2,tb=3;ob.prototype.then=function(a,b,c){return wb(this,da(a)?a:null,da(b)?b:null,c)};ma(ob);function xb(a){a.b==pb&&hb(function(){var a=new sb(void 0);yb(this,a)},a)}","function yb(a,b){if(a.b==pb)if(a.c){var c=a.c;if(c.a){for(var d=0,e=-1,f=0,g;g=c.a[f];f++)if(g=g.na)if(d++,g==a&&(e=f),0<=e&&1<d)break;0<=e&&(c.b==pb&&1==d?yb(c,b):(d=c.a.splice(e,1)[0],zb(c,d,tb,b)))}}else qb(a,tb,b)}function Ab(a,b){a.a&&a.a.length||a.b!=rb&&a.b!=tb||Bb(a);a.a||(a.a=[]);a.a.push(b)}","function wb(a,b,c,d){var e={na:null,sb:null,tb:null};e.na=new ob(function(a,g){e.sb=b?function(c){try{var e=b.call(d,c);a(e)}catch(m){g(m)}}:a;e.tb=c?function(b){try{var e=c.call(d,b);!u(e)&&b instanceof sb?g(b):a(e)}catch(m){g(m)}}:g});e.na.c=a;Ab(a,e);return e.na}ob.prototype.i=function(a){this.b=pb;qb(this,rb,a)};ob.prototype.j=function(a){this.b=pb;qb(this,tb,a)};","function qb(a,b,c){if(a.b==pb){if(a==c)b=tb,c=new TypeError(\"Promise cannot resolve to itself\");else{if(na(c)){a.b=1;c.then(a.i,a.j,a);return}if(z(c))try{var d=c.then;if(da(d)){Cb(a,c,d);return}}catch(e){b=tb,c=e}}a.h=c;a.b=b;Bb(a);b!=tb||c instanceof sb||Db(a,c)}}function Cb(a,b,c){function d(b){f||(f=!0,a.j(b))}function e(b){f||(f=!0,a.i(b))}a.b=1;var f=!1;try{c.call(b,e,d)}catch(g){d(g)}}function Bb(a){a.g||(a.g=!0,hb(a.l,a))}","ob.prototype.l=function(){for(;this.a&&this.a.length;){var a=this.a;this.a=[];for(var b=0;b<a.length;b++)zb(this,a[b],this.b,this.h)}this.g=!1};function zb(a,b,c,d){if(c==rb)b.sb(d);else{if(b.na)for(;a&&a.f;a=a.c)a.f=!1;b.tb(d)}}function Db(a,b){a.f=!0;hb(function(){a.f&&Eb.call(null,b)})}var Eb=db;function sb(a){oa.call(this,a)}A(sb,oa);sb.prototype.name=\"cancel\";/*"," Portions of this code are from MochiKit, received by"," The Closure Authors under the MIT license. All other code is Copyright"," 2005-2009 The Closure Authors. All Rights Reserved.","*/","function E(a,b){this.j=[];this.P=b||null;this.b=this.c=!1;this.f=void 0;this.ca=this.F=this.l=!1;this.h=0;this.i=null;this.G=0}l=E.prototype;l.Ca=function(a,b){this.l=!1;Fb(this,a,b)};function Fb(a,b,c){a.c=!0;a.f=c;a.b=!b;a.Ta()}function Gb(a){if(a.c){if(!a.ca)throw new Hb;a.ca=!1}}l.callback=function(a){Gb(this);Fb(this,!0,a)};l.m=function(a){Gb(this);Fb(this,!1,a)};l.J=function(a,b){return Ib(this,a,null,b)};l.jb=function(a,b){return Ib(this,null,a,b)};l.hb=function(a,b){return Ib(this,a,a,b)};","function Ib(a,b,c,d){a.j.push([b,c,d]);a.c&&a.Ta();return a}l.then=function(a,b,c){var d,e,f=new ob(function(a,b){d=a;e=b});Ib(this,d,function(a){e(a)});return f.then(a,b,c)};ma(E);E.prototype.Oa=function(a){Ib(this,a.callback,a.m,a);return this};function Jb(a){return Ma(a.j,function(a){return da(a[1])})}","E.prototype.Ta=function(){this.h&&this.c&&Jb(this)&&(Kb(this.h),this.h=0);this.i&&(this.i.G--,delete this.i);for(var a=this.f,b=!1,c=!1;this.j.length&&!this.l;){var d=this.j.shift(),e=d[0],f=d[1],d=d[2];if(e=this.b?f:e)try{var g=e.call(d||this.P,a);u(g)&&(this.b=this.b&&(g==a||g instanceof Error),this.f=a=g);na(a)&&(this.l=c=!0)}catch(h){a=h,this.b=!0,Jb(this)||(b=!0)}}this.f=a;c&&(c=ia(this.Ca,this,!0),g=ia(this.Ca,this,!1),a instanceof E?(Ib(a,c,g),a.F=!0):a.then(c,g));b&&(a=new Lb(a),Mb[a.Fa]=","a,this.h=a.Fa)};function Hb(){oa.call(this)}A(Hb,oa);Hb.prototype.message=\"Deferred has already fired\";Hb.prototype.name=\"AlreadyCalledError\";function Lb(a){this.Fa=r.setTimeout(ia(this.b,this),0);this.a=a}Lb.prototype.b=function(){delete Mb[this.Fa];window.console.error(this.a.stack);throw this.a;};var Mb={};function Kb(a){var b=Mb[a];b&&(r.clearTimeout(b.Fa),delete Mb[a])};var Nb=cb(\"area base br col command embed hr img input keygen link meta param source track wbr\".split(\" \"));function Ob(){this.a=\"\";this.b=Pb}Ob.prototype.X=!0;Ob.prototype.U=function(){return this.a};Ob.prototype.toString=function(){return\"Const{\"+this.a+\"}\"};function Qb(a){if(a instanceof Ob&&a.constructor===Ob&&a.b===Pb)return a.a;Ia(\"expected object of type Const, got '\"+a+\"'\");return\"type_error:Const\"}var Pb={};function Rb(a){var b=new Ob;b.a=a;return b};function Sb(){this.a=\"\";this.b=Tb}Sb.prototype.X=!0;var Tb={};Sb.prototype.U=function(){return this.a};Sb.prototype.toString=function(){return\"SafeStyle{\"+this.a+\"}\"};function Ub(a){var b=new Sb;b.a=a;return b}var Vb=Ub(\"\"),Wb=/^[-.%_!# a-zA-Z0-9]+$/;function Xb(){this.a=\"\";this.b=Yb}l=Xb.prototype;l.X=!0;l.U=function(){return this.a};l.Wa=!0;l.fa=function(){return 1};l.toString=function(){return\"SafeUrl{\"+this.a+\"}\"};function Zb(a){if(a instanceof Xb&&a.constructor===Xb&&a.b===Yb)return a.a;Ia(\"expected object of type SafeUrl, got '\"+a+\"'\");return\"type_error:SafeUrl\"}var $b=/^(?:(?:https?|mailto):|[^&:/?#]*(?:[/?#]|$))/i;","function ac(a){try{var b=encodeURI(a)}catch(c){return\"about:invalid#zClosurez\"}return b.replace(bc,function(a){return cc[a]})}var bc=/[()']|%5B|%5D|%25/g,cc={\"'\":\"%27\",\"(\":\"%28\",\")\":\"%29\",\"%5B\":\"[\",\"%5D\":\"]\",\"%25\":\"%\"},Yb={};function dc(a){var b=new Xb;b.a=a;return b};function ec(){this.a=fc}l=ec.prototype;l.X=!0;l.U=function(){return\"\"};l.Wa=!0;l.fa=function(){return 1};l.toString=function(){return\"TrustedResourceUrl{}\"};var fc={};function gc(){this.a=\"\";this.c=hc;this.b=null}l=gc.prototype;l.Wa=!0;l.fa=function(){return this.b};l.X=!0;l.U=function(){return this.a};l.toString=function(){return\"SafeHtml{\"+this.a+\"}\"};function ic(a){if(a instanceof gc&&a.constructor===gc&&a.c===hc)return a.a;Ia(\"expected object of type SafeHtml, got '\"+a+\"'\");return\"type_error:SafeHtml\"}function jc(a){if(a instanceof gc)return a;var b=null;a.Wa&&(b=a.fa());return kc(ua(a.X?a.U():String(a)),b)}","function lc(a){if(a instanceof gc)return a;a=jc(a);var b;b=ic(a).replace(/  /g,\" &#160;\").replace(/(\\r\\n|\\r|\\n)/g,\"<br>\");return kc(b,a.fa())}var mc=/^[a-zA-Z0-9-]+$/,nc={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},oc={embed:!0,iframe:!0,link:!0,object:!0,script:!0,style:!0,template:!0};","function pc(a,b,c){if(!mc.test(a))throw Error(\"Invalid tag name <\"+a+\">.\");if(a.toLowerCase()in oc)throw Error(\"Tag name <\"+a+\"> is not allowed for SafeHtml.\");var d=null,e=\"<\"+a;if(b)for(var f in b){if(!mc.test(f))throw Error('Invalid attribute name \"'+f+'\".');var g=b[f];if(null!=g){var h,k=a;h=f;if(g instanceof Ob)g=Qb(g);else if(\"style\"==h.toLowerCase()){if(!z(g))throw Error('The \"style\" attribute requires goog.html.SafeStyle or map of style properties, '+typeof g+\" given: \"+g);if(!(g instanceof","Sb)){var k=\"\",m=void 0;for(m in g){if(!/^[-_a-zA-Z0-9]+$/.test(m))throw Error(\"Name allows only [-_a-zA-Z0-9], got: \"+m);var n=g[m];null!=n&&(n instanceof Ob?n=Qb(n):Wb.test(n)||(Ia(\"String value allows only [-.%_!# a-zA-Z0-9], got: \"+n),n=\"zClosurez\"),k+=m+\":\"+n+\";\")}g=k?Ub(k):Vb}k=void 0;g instanceof Sb&&g.constructor===Sb&&g.b===Tb?k=g.a:(Ia(\"expected object of type SafeStyle, got '\"+g+\"'\"),k=\"type_error:SafeStyle\");g=k}else{if(/^on/i.test(h))throw Error('Attribute \"'+h+'\" requires goog.string.Const value, \"'+","g+'\" given.');if(h.toLowerCase()in nc)if(g instanceof ec)g instanceof ec&&g.constructor===ec&&g.a===fc?g=\"\":(Ia(\"expected object of type TrustedResourceUrl, got '\"+g+\"'\"),g=\"type_error:TrustedResourceUrl\");else if(g instanceof Xb)g=Zb(g);else throw Error('Attribute \"'+h+'\" on tag \"'+k+'\" requires goog.html.SafeUrl or goog.string.Const value, \"'+g+'\" given.');}g.X&&(g=g.U());h=h+'=\"'+ua(String(g))+'\"';e=e+(\" \"+h)}}u(c)?v(c)||(c=[c]):c=[];!0===Nb[a.toLowerCase()]?e+=\">\":(d=qc(c),e+=\">\"+ic(d)+\"</\"+a+","\">\",d=d.fa());(a=b&&b.dir)&&(/^(ltr|rtl|auto)$/i.test(a)?d=0:d=null);return kc(e,d)}function qc(a){function b(a){v(a)?Ka(a,b):(a=jc(a),d+=ic(a),a=a.fa(),0==c?c=a:0!=a&&c!=a&&(c=null))}var c=0,d=\"\";Ka(arguments,b);return kc(d,c)}var hc={};function kc(a,b){var c=new gc;c.a=a;c.b=b;return c}var rc=kc(\"\",0);var sc=-1!=Va.indexOf(\"Opera\")||-1!=Va.indexOf(\"OPR\"),tc=-1!=Va.indexOf(\"Trident\")||-1!=Va.indexOf(\"MSIE\"),uc=-1!=Va.indexOf(\"Gecko\")&&-1==Va.toLowerCase().indexOf(\"webkit\")&&!(-1!=Va.indexOf(\"Trident\")||-1!=Va.indexOf(\"MSIE\")),vc=-1!=Va.toLowerCase().indexOf(\"webkit\");function wc(){var a=r.document;return a?a.documentMode:void 0}","var xc=function(){var a=\"\",b;if(sc&&r.opera)return a=r.opera.version,da(a)?a():a;uc?b=/rv\\:([^\\);]+)(\\)|;)/:tc?b=/\\b(?:MSIE|rv)[: ]([^\\);]+)(\\)|;)/:vc&&(b=/WebKit\\/(\\S+)/);b&&(a=(a=b.exec(Va))?a[1]:\"\");return tc&&(b=wc(),b>parseFloat(a))?String(b):a}(),yc={};","function zc(a){var b;if(!(b=yc[a])){b=0;for(var c=ta(String(xc)).split(\".\"),d=ta(String(a)).split(\".\"),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||\"\",h=d[f]||\"\",k=RegExp(\"(\\\\d*)(\\\\D*)\",\"g\"),m=RegExp(\"(\\\\d*)(\\\\D*)\",\"g\");do{var n=k.exec(g)||[\"\",\"\",\"\"],p=m.exec(h)||[\"\",\"\",\"\"];if(0==n[0].length&&0==p[0].length)break;b=Ga(0==n[1].length?0:parseInt(n[1],10),0==p[1].length?0:parseInt(p[1],10))||Ga(0==n[2].length,0==p[2].length)||Ga(n[2],p[2])}while(0==b)}b=yc[a]=0<=b}return b}","var Ac=r.document,Bc=Ac&&tc?wc()||(\"CSS1Compat\"==Ac.compatMode?parseInt(xc,10):5):void 0;function Cc(a){var b;b||(b=Dc(a||arguments.callee.caller,[]));return b}","function Dc(a,b){var c=[];if(0<=B(b,a))c.push(\"[...circular reference...]\");else if(a&&50>b.length){c.push(Ec(a)+\"(\");for(var d=a.arguments,e=0;d&&e<d.length;e++){0<e&&c.push(\", \");var f;f=d[e];switch(typeof f){case \"object\":f=f?\"object\":\"null\";break;case \"string\":break;case \"number\":f=String(f);break;case \"boolean\":f=f?\"true\":\"false\";break;case \"function\":f=(f=Ec(f))?f:\"[fn]\";break;default:f=typeof f}40<f.length&&(f=f.substr(0,40)+\"...\");c.push(f)}b.push(a);c.push(\")\\n\");try{c.push(Dc(a.caller,b))}catch(g){c.push(\"[exception trying to get caller]\\n\")}}else a?","c.push(\"[...long stack...]\"):c.push(\"[end]\");return c.join(\"\")}function Ec(a){if(Fc[a])return Fc[a];a=String(a);if(!Fc[a]){var b=/function ([^\\(]+)/.exec(a);Fc[a]=b?b[1]:\"[Anonymous]\"}return Fc[a]}var Fc={};function Gc(a,b,c,d,e){\"number\"==typeof e||Hc++;this.g=d||ka();this.f=a;this.c=b;this.b=c;delete this.a}Gc.prototype.a=null;var Hc=0;function Ic(a){this.g=a;this.a=this.f=this.b=this.c=null}function Jc(a,b){this.name=a;this.value=b}Jc.prototype.toString=function(){return this.name};var Kc=new Jc(\"SHOUT\",1200),Lc=new Jc(\"SEVERE\",1E3),Mc=new Jc(\"WARNING\",900),Nc=new Jc(\"INFO\",800),Oc=new Jc(\"CONFIG\",700),Pc=new Jc(\"FINE\",500),Qc=new Jc(\"FINER\",400),Rc=new Jc(\"FINEST\",300),Sc=[new Jc(\"OFF\",Infinity),Kc,Lc,Mc,Nc,Oc,Pc,Qc,Rc,new Jc(\"ALL\",0)],Tc=null;Ic.prototype.getName=function(){return this.g};","function Uc(a){if(a.b)return a.b;if(a.c)return Uc(a.c);Ia(\"Root logger has no level set.\");return null}Ic.prototype.log=function(a,b,c){if(a.value>=Uc(this).value)for(da(b)&&(b=b()),a=new Gc(a,String(b),this.g),c&&(a.a=c),c=\"log:\"+a.c,r.console&&(r.console.timeStamp?r.console.timeStamp(c):r.console.markTimeline&&r.console.markTimeline(c)),r.msWriteProfilerMark&&r.msWriteProfilerMark(c),c=this;c;){b=c;var d=a;if(b.a)for(var e=0,f=void 0;f=b.a[e];e++)f(d);c=c.c}};var Vc={},Wc=null;","function Xc(){Wc||(Wc=new Ic(\"\"),Vc[\"\"]=Wc,Wc.b=Oc)}function Yc(){Xc();return Wc}function H(a){Xc();var b;if(!(b=Vc[a])){b=new Ic(a);var c=a.lastIndexOf(\".\"),d=a.substr(c+1),c=H(a.substr(0,c));c.f||(c.f={});c.f[d]=b;b.c=c;Vc[a]=b}return b};function Zc(a,b,c){a&&a.log(b,c,void 0)}function $c(a,b){a&&a.log(Lc,b,void 0)}function I(a,b){a&&a.log(Mc,b,void 0)}function bd(a,b){a&&a.log(Pc,b,void 0)};function J(a,b){a&&a.log(Rc,b,void 0)}function K(a,b){a&&a.log(Qc,b,void 0)};function L(a){oa.call(this,a);this.name=\"ydn.error.ArgumentException\"}A(L,oa);function cd(a){oa.call(this,a);this.name=\"ydn.error.TypeError\"}A(cd,oa);function dd(a){oa.call(this,a);this.name=\"ydn.error.NotSupportedException\"}A(dd,oa);function ed(a){oa.call(this,a);this.name=\"ydn.error.InvalidOperationException\"}A(ed,oa);function fd(a){Error.captureStackTrace?Error.captureStackTrace(this,fd):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.error.InternalError\"}A(fd,Error);","fd.prototype.name=\"ydn.error.InternalError\";function gd(a,b){E.call(this,0,b);this.g=[]}A(gd,E);l=gd.prototype;l.kb=function(a,b){this.g.push([a,b]);return this};function hd(a,b){for(var c=0;c<a.g.length;c++)a.g[c][0].call(a.g[c][1],b)}l.callback=function(a){this.g.length=0;gd.A.callback.call(this,a)};l.m=function(a){this.g.length=0;gd.A.m.call(this,a)};l.Oa=function(a){gd.A.Oa.call(this,a);a instanceof gd&&a.kb(function(a){hd(this,a)},this);return this};l.Ub=function(){return this};var id={READ_ONLY:\"readonly\",READ_WRITE:\"readwrite\",VERSION_CHANGE:\"versionchange\"},jd=id.READ_ONLY,M=id.READ_WRITE,kd=id.VERSION_CHANGE,ld=r.indexedDB||r.mozIndexedDB||r.webkitIndexedDB||r.moz_indexedDB||r.msIndexedDB;E.prototype.done=E.prototype.J;E.prototype.fail=E.prototype.jb;E.prototype.always=E.prototype.hb;gd.prototype.then=gd.prototype.then;function md(a,b){var c,d;2==arguments.length&&x(arguments[1])?(c=!0,d=arguments[1].split(\".\")):d=(c=w(b))?b:arguments;for(c=c?0:1;c<d.length&&(a=a[d[c]],u(a));c++);return a}var nd={};","function od(a){var b=[a];a=new pd;for(var c=0,d,e;void 0!==(e=b.pop());){0===c%4&&12<c+4&&(a.write(c),c=0);d=typeof e;if(e instanceof Array)if(c+=4,0<e.length){b.push(nd);for(d=e.length;d--;)b.push(e[d]);continue}else a.write(c);else if(\"number\"===d)c+=1,a.write(c),qd(a,e);else if(e instanceof Date)c+=2,a.write(c),qd(a,e.valueOf());else if(\"string\"===d){c+=3;a.write(c);c=a;for(d=0;d<e.length;d++){var f=e.charCodeAt(d);126>=f?c.write(f+1):16510>=f?(f-=127,c.write(128|f>>8,f&255)):c.write(192|f>>10,","f>>2|255,(f|3)<<6)}c.write(0)}else if(e===nd)a.write(0);else return\"\";c=0}for(b=a.a.length;\"00\"===a.a[--b];);a.a.length=++b;return a.toString()}","function qd(a,b){var c,d,e;c=b;var f=e=d=0;if(0!==c)if(isFinite(c)){0>c&&(d=1,c=-c);f=0;if(2.2250738585072014E-308<=c){for(e=c;1>e;)f--,e*=2;for(;2<=e;)f++,e/=2;e=f+1023}f=e?Math.floor(4503599627370496*(c/Math.pow(2,f)-1)):Math.floor(c/4.9E-324)}else e=2047,isNaN(c)?f=0x8000000000000:-Infinity===c&&(d=1);c=d;d=e;e=f;c&&(e=0xfffffffffffff-e,d=2047-d);a.write((c?0:128)|d>>4);a.write((d&15)<<4|0|e/281474976710656);e%=281474976710656;c=0|e/4294967296;a.write(c>>8,c&255);e%=4294967296;c=0|e/65536;a.write(c>>","8,c&255);c=e%65536;a.write(c>>8,c&255)}function rd(a){var b=sd(a)|0,c=b>>7?!1:!0,d=c?-1:1,e=(b&127)<<4,b=sd(a)|0,e=e+(b>>4);c&&(e=2047-e);for(var b=[c?15-(b&15):b&15],f=6;f--;)b.push(c?255-(sd(a)|0):sd(a)|0);a=0;for(f=7;f--;)a=a/256+b[f];a/=16;return 0===a&&0===e?0:(a+1)*Math.pow(2,e-1023)*d}","function td(a){for(var b=[],c=0,d=0,e=0,f,g;;){f=sd(a);if(0===f||null==f)break;0===c?(g=f>>6,2>g&&!isNaN(f)?b.push(String.fromCharCode(f-1)):(c=g,d=f<<10,e++)):2===c?(b.push(String.fromCharCode(d+f+127)),c=d=e=0):2===e?(d+=f<<2,e++):(b.push(String.fromCharCode(d|f>>6)),c=d=e=0)}return b.join(\"\")}function ud(a){this.a=null;this.b=a;this.c=this.b.length-1;this.index=-1}function sd(a){return a.a=a.index<a.c?parseInt(a.b.charAt(++a.index)+a.b.charAt(++a.index),16):null}","function pd(){this.a=[];this.b=void 0}pd.prototype.write=function(a){for(var b=0;b<arguments.length;b++)this.b=arguments[b].toString(16),this.a.push(2===this.b.length?this.b:this.b=\"0\"+this.b)};pd.prototype.toString=function(){return this.a.length?this.a.join(\"\"):\"\"};function vd(a,b){var c=od(a),d=od(b);return c>d?1:c==d?0:-1};function wd(a,b,c){gd.call(this,0,c);this.w=a;this.g=[];this.o=[];this.ma=[];this.a=null;this.ja=\"\";this.K=0}A(wd,gd);l=wd.prototype;l.ja=\"\";l.logger=H(\"ydn.db.Request\");function xd(a,b,c){a.a=b;a.ja=c;K(a.logger,a+\" BEGIN\");if(b){for(c=0;c<a.o.length;c++)a.o[c][0].call(a.o[c][1],b);a.o.length=0}}function yd(a){var b=new wd(a.w);a.K++;xd(b,a.a,a.ja+\"C\"+a.K);return b}function zd(a){K(a.logger,a+\" END\");a.a=null}l.Jb=function(){return!!this.a};","l.abort=function(){K(this.logger,this+\" aborting \"+this.a);if(this.a)if(da(this.a.abort))this.a.abort();else if(da(this.a.executeSql))this.a.executeSql(\"ABORT\",[],function(){},function(){return!0});else throw new dd;else throw new Ad(this+\" No active transaction\");};function O(a,b,c){var d=a.ma.shift();c=!!c;d?d[0].call(d[1],b,c,function(b,c){O(a,b,c)}):c?a.m(b):a.callback(b)}function Bd(a,b,c){a.ma.push([b,c])}function P(a,b,c){a.a?b.call(c,a.a):a.o.push([b,c])}","l.callback=function(a){K(this.logger,this+\" SUCCESS\");wd.A.callback.call(this,a)};l.m=function(a){K(this.logger,this+\" ERROR\");wd.A.m.call(this,a)};l.state=function(){return this.c?this.b?\"rejected\":\"resolved\":\"pending\"};function Q(a){var b=\"\";a.ja&&(b=a.a?\"*\":\"\",b=\"[\"+a.ja+b+\"]\");return a.w+b}function Cd(a,b){var c=new wd(a);O(c,b);return c}l.toString=function(){return\"Request:\"+Q(this)};","l.Ta=function(){this.h&&this.c&&Jb(this)&&(Kb(this.h),this.h=0);this.i&&(this.i.G--,delete this.i);for(var a=this.f,b=!1;this.j.length&&!this.l;){var c=this.j.shift(),d=c[0],e=c[1],c=c[2];if(d=this.b?e:d)d=d.call(c||this.P,a),u(d)&&(this.b=this.b&&(d==a||d instanceof Error),this.f=a=d),na(a)&&(this.l=b=!0)}this.f=a;b&&(b=ia(this.Ca,this,!0),d=ia(this.Ca,this,!1),a instanceof E?(Ib(a,b,d),a.F=!0):a.then(b,d))};","l.toJSON=function(){var a=(this.ja||\"\").match(/B(\\d+)T(\\d+)(?:Q(\\d+?))?(?:R(\\d+))?/)||[];return{method:this.w?this.w.split(\":\"):[],branchNo:parseFloat(a[1]),transactionNo:parseFloat(a[2]),queueNo:parseFloat(a[3]),requestNo:parseFloat(a[4])}};var Dd=ld&&ld.cmp?ia(ld.cmp,ld):vd,Ed=[];var Fd;Fd=!1;var Gd=Va;Gd&&(-1!=Gd.indexOf(\"Firefox\")||-1!=Gd.indexOf(\"Camino\")||-1!=Gd.indexOf(\"iPad\")||-1!=Gd.indexOf(\"iPhone\")||-1!=Gd.indexOf(\"iPod\")||-1!=Gd.indexOf(\"Chrome\")||-1!=Gd.indexOf(\"Android\")||-1!=Gd.indexOf(\"Safari\")&&(Fd=!0));var Hd=Fd;function Id(){0!=Jd&&(this[ea]||(this[ea]=++fa));this.ma=this.ma;this.Ib=this.Ib}var Jd=0;Id.prototype.ma=!1;function Kd(a,b){this.type=a;this.target=b}Kd.prototype.preventDefault=function(){};function Ld(a,b){Kd.call(this,a,b)}A(Ld,Kd);Ld.prototype.a=function(){return this.b};function Md(a,b,c,d,e){Kd.call(this,a,b);this.version=c;this.Fb=d;this.rb=e}A(Md,Ld);l=Md.prototype;l.name=\"ReadyEvent\";l.version=NaN;l.Fb=NaN;l.rb=null;l.jc=function(){return this.version};l.Mb=function(){return this.Fb};l.Lb=function(){return this.rb};function Nd(a,b,c){Kd.call(this,c||\"error\",a);this.error=b}A(Nd,Ld);Nd.prototype.toString=function(){return this.name+\":\"+(this.error?this.error:\"\")};","Nd.prototype.name=\"ErrorEvent\";Nd.prototype.error=null;Nd.prototype.c=function(){return this.error};function Od(a,b){Nd.call(this,a,b,\"fail\")}A(Od,Nd);Od.prototype.name=\"FailEvent\";function Pd(a,b,c){var d;if(z(a))d=a.store,b=a.id,null!=a.parent&&(c=new Pd(a.parent));else if(u(b))d=a;else if(d=a.lastIndexOf(\"^|\"),b=a,0<d&&(b=a.substr(d),c=new Pd(a.substring(0,d))),b=b.split(\"^:\"),d=b[0],b=b[1],!u(b))throw Error(\"Invalid key value: \"+a);this.a=d;this.v=b;this.b=c||null}l=Pd.prototype;l.toJSON=function(){var a={store:this.a,id:this.v};this.b&&(a.parent=this.b.toJSON());return a};l.valueOf=function(){return(this.b?this.b.valueOf()+\"^|\":\"\")+this.a+\"^:\"+this.v};","l.toString=function(){return this.valueOf().replace(\"^|\",\"|\").replace(\"^:\",\":\")};l.ec=function(){return this.a};l.Kb=function(){return this.v};function Qd(a){return v(a.v)?a.v.join(\"^|\"):a.v instanceof Date?+a.v:a.v}l.dc=function(){return this.b};function Rd(a){if(w(a)){for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}return a};function R(a,b,c,d){a>b&&(b=a=void 0);null===a&&(a=void 0);null===b&&(b=void 0);this.lower=a;this.upper=b;this.lowerOpen=!!c;this.upperOpen=!!d}R.prototype.lower=void 0;R.prototype.upper=void 0;R.prototype.toJSON=function(){return Sd(this)};function Td(a){return Ud(a)}function Vd(a){return new R(a,a,!1,!1)}function Wd(a,b,c,d){return new R(a,b,c,d)}function Xd(a,b){return new R(void 0,a,void 0,!!b)}function Yd(a,b){return new R(a,void 0,!!b,void 0)}","function Zd(a){var b;if(v(a))b=Qa(a),b.push(\"\\uffff\");else if(x(a))b=a+\"\\uffff\";else if(y(a))b=a+2.220460492503131E-16,a-=2.220460492503131E-16;else return Vd(a);return Wd(a,b,!1,!0)}function Sd(a){a=a||{};return{lower:a.lower,upper:a.upper,lowerOpen:a.lowerOpen,upperOpen:a.upperOpen}}","function Ud(a){return null!=a?null!=a.upper&&null!=a.lower?$d.bound(a.lower,a.upper,!!a.lowerOpen,!!a.upperOpen):null!=a.upper?$d.upperBound(a.upper,a.upperOpen):null!=a.lower?$d.lowerBound(a.lower,a.lowerOpen):null:null}function ae(a){if(a instanceof R)return\"\";if(null!=a){if(z(a)){for(var b in a){var c;if(c=a.hasOwnProperty(b))c=!(0<=B([\"lower\",\"upper\",\"lowerOpen\",\"upperOpen\"],b));if(c)return'invalid attribute \"'+b+'\" in key range object'}return\"\"}return\"key range must be an object\"}return\"\"}","function be(a,b,c,d,e){if(c)if(c.lowerOpen||c.upperOpen||null==c.lower||null==c.upper||0!==Dd(c.lower,c.upper)){if(null!=c.lower){var f=c.lowerOpen?\" > \":\" >= \";d.push(a+f+\"?\");e.push(ce(c.lower,b))}null!=c.upper&&(f=c.upperOpen?\" < \":\" <= \",d.push(a+f+\"?\"),e.push(ce(c.upper,b)))}else d.push(a+\" = ?\"),e.push(ce(c.lower,b))}","function de(a,b,c,d){var e,f,g,h;if(\"starts\"==a||\"^\"==a)return Zd(b);if(\"<\"==a||\"<=\"==a)e=b,g=\"<\"==a;else if(\">\"==a||\">=\"==a)f=b,h=\">\"==a;else if(\"=\"==a||\"==\"==a)e=f=b;else throw new L(\"invalid op: \"+a);if(\"<\"==c||\"<=\"==c)e=d,g=\"<\"==c;else if(\">\"==c||\">=\"==c)f=d,h=\">\"==c;else if(u(c))throw new L(\"invalid op2: \"+c);return Wd(f,e,h,g)}var $d=r.IDBKeyRange||r.webkitIDBKeyRange||R;function ee(a,b,c,d,e,f){u(e)||(e=v(a)?a.join(\", \"):a);if(null!=a&&!x(a)&&!w(a))throw new L(\"index keyPath for \"+e+\" must be a string or array, but \"+a+\" is \"+typeof a);v(a)&&Object.freeze&&Object.freeze(a);!u(a)&&u(e)&&(a=e);this.keyPath=a;this.h=w(this.keyPath);this.b=e;this.type=fe(b);if(u(b)){if(!u(this.type))throw new L(\"type invalid in index: \"+this.b);if(v(this.keyPath))throw new L('composite key for store \"'+this.b+'\" must not specified type');}this.unique=!!c;this.multiEntry=!!d;this.i=x(this.type)?","this.type:ge;this.f=x(e)?e:v(a)?this.keyPath.join(\",\"):a;this.c=Fa(this.f);this.a=this.h?null:this.keyPath.split(\".\");this.g=f||null}var ge=\"TEXT\";function ce(a,b){if(\"DATE\"==b){if(a instanceof Date)return+a}else return null!=b?a:od(a)}","function he(a,b){var c;if(\"DATE\"==b)c=new Date(a);else if(u(b))c=a;else{for(var d=c=[],e,f=[],g,h,k=new ud(a);null!=sd(k);)if(0===k.a)d=f.pop();else{if(null===k.a)break;do{g=k.a/4|0;e=k.a%4;for(var m=0;m<g;m++)h=[],d.push(h),f.push(d),d=h;if(0===e&&12<k.a+4)sd(k);else break}while(1);1===e?d.push(rd(k)):2===e?d.push(new Date(rd(k))):3===e?d.push(td(k)):0===e&&(d=f.pop())}c=c[0]}return c}var ie=[\"BLOB\",\"DATE\",\"INTEGER\",\"NUMERIC\",ge];function fe(a){if(x(a))return a=B(ie,a),ie[a]}l=ee.prototype;","l.getName=function(){return this.b};l.toJSON=function(){return{name:this.b,keyPath:this.keyPath,type:this.type,unique:this.unique,multiEntry:this.multiEntry}};l.clone=function(){var a=v(this.keyPath)?Qa(this.keyPath):this.keyPath;return new ee(a,this.type,this.unique,this.multiEntry,this.b,this.g)};","function je(a,b){return null!=a||null!=b?null!=a?null!=b?w(a)&&w(b)?Ta(a,b)?null:\"expect: \"+a+\", but: \"+b:ke(a,b)?null:\"expect: \"+a+\", but: \"+b:\"keyPath: \"+a+\" no longer defined\":\"newly define \"+b:null}l.hint=function(a){if(!a)return this;var b=v(this.keyPath)?Qa(this.keyPath):this.keyPath,c=this.type;u(a.type)||\"TEXT\"!=c||(c=void 0);return new ee(b,c,this.unique,this.multiEntry,a.b)};","l.toString=function(){var a=this.multiEntry?\"MultiEntry\":\"\";this.a&&1<this.a.length&&(a+=\"Compound\");return a+\"Index:\"+this.b};function ne(a,b,c,d,e,f,g,h){if(!x(a))throw new L(\"store name must be a string\");this.c=a;this.keyPath=u(b)?b:null;this.j=w(this.keyPath);if(null!==this.keyPath&&!x(this.keyPath)&&!this.j)throw new L(\"keyPath must be a string or array\");if(null!=c&&!ca(c))throw new L('invalid autoIncrement value in store \"'+a+'\"');this.b=!!c;var k;if(null!=d){k=fe(d);if(!u(k))throw new L('type \"'+d+'\" for primary key in store \"'+this.c+'\" is invalid.');if(this.j)throw new L('composite key for store \"'+this.c+'\" must not specified type');","}this.type=null!=k?k:this.b?\"INTEGER\":void 0;this.h=x(this.keyPath)?this.keyPath.split(\".\"):[];this.a=e||[];a=[];for(b=0;b<this.a.length;b++){c=this.a[b].getName();if(0<=a.indexOf(c))throw new L('index \"'+c+'\" already defined in store: '+this.c);a.push(c)}this.M=!!f;this.ba=!!g;this.o=x(this.type)?this.type:ge;this.g=v(this.keyPath)?this.keyPath.join(\",\"):x(this.keyPath)?this.keyPath:\"_ROWID_\";this.f=Fa(this.g);if(this.l=!!h){if(this.keyPath)throw new L('encrypted store \"'+this.c+'\" must not use inline key');","if(this.b)throw new L('encrypted store \"'+this.c+'\" must not use key generator');}this.i=[]}l=ne.prototype;l.M=!1;l.ba=!1;l.toJSON=function(){for(var a=[],b=0;b<this.a.length;b++)a.push(this.a[b].toJSON());return{name:this.c,keyPath:this.keyPath,autoIncrement:this.b,type:this.type,indexes:a}};","function oe(a){var b=\"name keyPath autoIncrement type indexes dispatchEvents fixed Sync encrypted\".split(\" \"),c;for(c in a)if(a.hasOwnProperty(c)&&-1==B(b,c))throw new L('Unknown attribute \"'+c+'\"');b=[];c=a.indexes||[];if(v(c))for(var d=0;d<c.length;d++){var e;e=c[d];var f=\"name unique type keyPath multiEntry generator\".split(\" \"),g=void 0;for(g in e)if(e.hasOwnProperty(g)&&-1==B(f,g))throw new L(\"Unknown field: \"+g+\" in \"+S(e));e=new ee(e.keyPath,e.type,e.unique,e.multiEntry,e.name,e.generator);","u(e.keyPath)&&e.keyPath===a.keyPath||b.push(e)}return new ne(a.name,a.keyPath,a.autoIncrement,\"undefined\"===a.type||\"null\"===a.type?void 0:a.type,b,a.dispatchEvents,a.fixed,a.encrypted)}function pe(a,b,c,d,e,f,g){a=qe(a,b,c,d,e,f,g);b=\"\";0!=c&&(b+=\"SELECT \"+a.select);b+=\" FROM \"+a.ea;a.s&&(b+=\" WHERE \"+a.s);a.group&&(b+=\" GROUP BY \"+a.group);a.V&&(b+=\" ORDER BY \"+a.V);return b}","function qe(a,b,c,d,e,f,g){var h={select:\"\",ea:\"\",s:\"\",group:\"\",V:\"\"},k=a.g,m=a.f,n=null;d!==k&&x(d)&&(n=re(a,d));var p=!!n,q=d||k,t=Fa(q),C=p?n.type:a.type,D=p&&n.multiEntry;h.ea=se(a);6===c?h.select=\"COUNT(\"+m+\")\":3===c||1===c||2===c?(h.select=m,null!=d&&d!=k&&(h.select+=\", \"+t)):h.select=\"*\";d=g?\"DISTINCT \":\"\";k=[];D?(D=Fa(\"ydn.db.me:\"+a.getName()+\":\"+n.getName()),h.select=6===c?\"COUNT(\"+d+D+\".\"+t+\")\":3===c||1===c||2===c?\"DISTINCT \"+se(a)+\".\"+m+\", \"+D+\".\"+t+\" AS \"+q:\"DISTINCT \"+se(a)+\".*, \"+D+","\".\"+t+\" AS \"+q,h.ea=D+\" INNER JOIN \"+se(a)+\" USING (\"+m+\")\",null!=e&&(be(D+\".\"+t,C,e,k,b),0<k.length&&(h.s=h.s?h.s+(\" AND \"+k.join(\" AND \")):k.join(\" AND \")))):null!=e&&(be(t,C,e,k,b),0<k.length&&(h.s=h.s?h.s+(\" AND \"+k.join(\" AND \")):k.join(\" AND \")));p&&!n.unique&&g&&(h.group=t);a=f?\"DESC\":\"ASC\";h.V=t+\" \"+a;p&&(h.V+=\", \"+m+\" \"+a);return h}","function te(a,b,c,d,e,f,g,h,k){var m,n,p,q;null!=e?(m=e.lower,n=e.upper,p=e.lowerOpen,q=e.upperOpen,f?null!=n?(e=Dd(h,n),-1==e?(n=h,q=k):0==e&&(q=k||q)):(n=h,q=k):null!=m?(e=Dd(h,m),1==e?(m=h,p=k):0==e&&(p=k||p)):(m=h,p=k)):f?(n=h,q=k):(m=h,p=k);e=new R(m,n,!!p,!!q);d=d?re(a,d):null;b=qe(a,c,b,d?d.f:a.g,e,f,g);b=\"SELECT \"+b.select+\" FROM \"+b.ea+(b.s?\" WHERE \"+b.s:\"\")+(b.group?\" GROUP BY \"+b.group:\"\")+\" ORDER BY \"+b.V;d&&(b+=\", \"+a.f+(f?\"DESC\":\"ASC\"));return b}","function ue(a,b,c,d,e,f,g,h,k,m){var n=re(a,d),p=n.f;d=n.c;var q=a.f,t=k?\" <\":\" >\",t=g?t+\" \":t+\"= \";g=ce(f,n.type);h=ce(h,a.type);n=\"\";e?(a=qe(a,c,b,p,e,k,m),a.s+=\" AND \",n=d+t+\"?\",c.push(g)):(e=k?Xd(f,!0):Yd(f,!0),a=qe(a,c,b,p,e,k,m),n=a.s,a.s=\"\");a.s+=\"(\"+n+\" OR (\"+d+\" = ? AND \"+q+t+\"?))\";c.push(g);c.push(h);return\"SELECT \"+a.select+\" FROM \"+a.ea+\" WHERE \"+a.s+(a.group?\" GROUP BY \"+a.group:\"\")+\" ORDER BY \"+a.V}l.clone=function(){return oe(this.toJSON())};l.index=function(a){return this.a[a]||null};","function re(a,b){return Na(a.a,function(a){return a.getName()==b})}function ve(a,b){return b===a.keyPath?!0:Ma(a.a,function(a){return a.getName()==b})}function se(a){return Fa(a.c)}","function we(a,b){if(!b)return a;var c=a.b,d=v(a.keyPath)?Qa(a.keyPath):a.keyPath,e=a.type,f=La(a.a,function(a){return a.clone()});u(b.type)||\"TEXT\"!=e||(e=void 0);v(b.keyPath)&&x(d)&&d==b.keyPath.join(\",\")&&(d=Qa(b.keyPath));for(var g=0,h=b.a.length;g<h;g++)if(b.a[g].h)for(var k=b.a[g].getName(),m=f.length-1;0<=m;m--)if(0<=k.indexOf(f[m].getName())){f[m]=b.a[g].clone();break}for(g=0;g<f.length;g++)(h=re(b,f[g].getName()))&&(f[g]=f[g].hint(h));return new ne(b.c,d,c,e,f)}l.getName=function(){return this.c};","function xe(a){return!!a.keyPath}function ye(a,b,c){if(b){if(!a.keyPath&&null!=c)return c;if(a.j){c=[];for(var d=0;d<a.keyPath.length;d++)c.push(md(b,a.keyPath[d]));return c}if(a.keyPath)return $a(b,a.h)}}function ze(a,b,c){for(var d=0;d<a.h.length;d++){var e=a.h[d];if(d==a.h.length-1){b[e]=c;break}u(b[e])||(b[e]={});b=b[e]}}","function Ae(a,b,c){var d=[],e=[];c=u(c)?c:ye(a,b);u(c)&&(e.push(a.f),d.push(ce(c,a.type)));for(var f=0;f<a.a.length;f++){var g=a.a[f];if(!g.multiEntry&&g.getName()!==a.keyPath&&\"_default_\"!=g.getName()){var h;h=g;var k=b;if(null!=k)if(w(h.keyPath)){for(var m=[],n=0,p=h.keyPath.length;n<p;n++){var q=md(k,h.keyPath[n]);m[n]=q}h=m}else h=md(k,h.keyPath);else h=void 0;null!=h&&(d.push(ce(h,g.type)),e.push(g.c))}}a.ba?a.ba&&!a.keyPath&&0==a.a.length&&(x(b)&&-1==b.indexOf(\";base64,\")?d.push(b):d.push(S(b)),","e.push(\"_default_\")):(d.push(S(b)),e.push(\"_default_\"));a=[];for(f=d.length-1;0<=f;f--)a[f]=\"?\";return{nb:e,zb:a,values:d,key:c}}","function Be(a,b){if(!b)return\"missing store: \"+a.c;if(a.c!=b.c)return\"store name, expect: \"+a.c+\", but: \"+b.c;var c=je(a.keyPath,b.keyPath);if(c)return\"keyPath, \"+c;if(u(a.b)&&u(b.b)&&a.b!=b.b)return\"autoIncrement, expect:  \"+a.b+\", but: \"+b.b;if(a.a.length!=b.a.length)return\"indexes length, expect:  \"+a.a.length+\", but: \"+b.a.length;if(u(a.type)&&u(b.type)&&(w(a.type)?!Ta(a.type,b.type):a.type!=b.type))return\"data type, expect:  \"+a.type+\", but: \"+b.type;for(c=0;c<a.a.length;c++){var d=re(b,a.a[c].getName()),","e;e=a.a[c];if(d)if(e.b!=d.b)e=\"name, expect: \"+e.b+\", but: \"+d.b;else{var f=je(e.keyPath,d.keyPath);e=f?\"keyPath, \"+f:null!=e.unique&&null!=d.unique&&e.unique!=d.unique?\"unique, expect: \"+e.unique+\", but: \"+d.unique:null!=e.multiEntry&&null!=d.multiEntry&&e.multiEntry!=d.multiEntry?\"multiEntry, expect: \"+e.multiEntry+\", but: \"+d.multiEntry:u(e.type)&&u(d.type)&&(w(e.type)?!Ta(e.type,d.type):e.type!=d.type)?\"data type, expect: \"+e.type+\", but: \"+d.type:\"\"}else e=\"no index for \"+e.b;if(0<e.length)return'index \"'+","a.a[c].getName()+'\" '+e}return\"\"}function Ce(a,b){if(b)for(var c=0;c<a.a.length;c++){var d=a.a[c],e=b;if(d.g){var f=d.g(e),g=typeof f;if(\"string\"==g||\"number\"==g||f instanceof Date||v(f)){for(g=0;g<d.a.length-1;g++)z(e[d.a[g]])||(e[d.a[g]]={});e[d.a[d.a.length-1]]=f}}}}function De(a,b){a.i.push(b)}function Ee(a,b,c,d,e){for(var f=0;f<a.i.length;f++)d!==f&&a.i[f].call(e,b,c)}l.toString=function(){return\"Store:\"+this.c+\"[\"+this.a.length+\"index]\"};function Fe(){}","function Ge(a,b,c){switch(typeof b){case \"string\":He(b,c);break;case \"number\":c.push(isFinite(b)&&!isNaN(b)?b:\"null\");break;case \"boolean\":c.push(b);break;case \"undefined\":c.push(\"null\");break;case \"object\":if(null==b){c.push(\"null\");break}if(v(b)){var d=b.length;c.push(\"[\");for(var e=\"\",f=0;f<d;f++)c.push(e),Ge(a,b[f],c),e=\",\";c.push(\"]\");break}c.push(\"{\");d=\"\";for(e in b)Object.prototype.hasOwnProperty.call(b,e)&&(f=b[e],\"function\"!=typeof f&&(c.push(d),He(e,c),c.push(\":\"),Ge(a,f,c),d=\",\"));c.push(\"}\");","break;case \"function\":break;default:throw Error(\"Unknown type: \"+typeof b);}}var Ie={'\"':'\\\\\"',\"\\\\\":\"\\\\\\\\\",\"/\":\"\\\\/\",\"\\b\":\"\\\\b\",\"\\f\":\"\\\\f\",\"\\n\":\"\\\\n\",\"\\r\":\"\\\\r\",\"\\t\":\"\\\\t\",\"\\x0B\":\"\\\\u000b\"},Je=/\\uffff/.test(\"\\uffff\")?/[\\\\\\\"\\x00-\\x1f\\x7f-\\uffff]/g:/[\\\\\\\"\\x00-\\x1f\\x7f-\\xff]/g;function He(a,b){b.push('\"',a.replace(Je,function(a){if(a in Ie)return Ie[a];var b=a.charCodeAt(0),e=\"\\\\u\";16>b?e+=\"000\":256>b?e+=\"00\":4096>b&&(e+=\"0\");return Ie[a]=e+b.toString(16)}),'\"')};function Ke(a){return!x(a)||sa(a)?{}:JSON.parse(a)}function Le(a){var b;try{b=S(a)}catch(c){b=\"\"}return b?b.substr(0,70)+(70<b.length?\"...\":\"\"):\"\"}function S(a){return JSON.stringify(a,void 0,void 0)};function Me(a,b){if(!a||sa(a))throw new L(\"store_name must be provided for primary full text index\");if(!b||sa(b))throw new L(\"index_name must be provided for primary full text index\");this.a=a};function Ne(a,b,c){this.name=a;this.a=b;this.b=c||\"\";if(-1==[\"\",\"en\",\"fr\"].indexOf(this.b))throw new L('Unsupported lang \"'+c+\" for full text search index \"+a);}Ne.prototype.getName=function(){return this.name};Ne.prototype.count=function(){return this.a.length};Ne.prototype.index=function(a){return this.a[a]};","function Oe(a){var b=[\"name\",\"sources\",\"lang\"],c;for(c in a)if(a.hasOwnProperty(c)&&-1==B(b,c))throw new L(\"Unknown field: \"+c+\" in \"+S(a));if(!v(a.sources))throw new L(\"indexes require for full text search index \"+a.name+\", but \"+a.sources+\" of type \"+typeof a.sources+\" found.\");b=a.sources.map(function(a){var b=[\"storeName\",\"keyPath\",\"weight\"],c;for(c in a)if(a.hasOwnProperty(c)&&-1==B(b,c))throw new L(\"Unknown field: \"+c+\" in \"+Le(a));return new Me(a.storeName,a.keyPath)});return new Ne(a.name,","b,a.lang)};function Pe(a,b){var c,d,e=b;if(z(a)){d=a;c=[\"version\",\"stores\",\"fullTextCatalogs\"];for(var f in d)if(d.hasOwnProperty(f)&&-1==B(c,f))throw new L(\"Unknown field: \"+f+\" in schema.\");c=d.version;var e=[],g=d.stores||[];if(!v(g))throw new L(\"stores must be array\");for(f=0;f<g.length;f++){var h=oe(g[f]);if(-1!=Oa(e,function(a){return a.name==h.getName()}))throw new L('duplicate store name \"'+h.getName()+'\".');e.push(h)}}else x(a)?c=0==a.length?void 0:parseFloat(a):y(a)&&(c=a);if(u(c)){if(!y(c)||0>c)throw new L(\"Invalid version: \"+","c+\" (\"+a+\")\");isNaN(c)&&(c=void 0)}if(u(b)&&(!v(b)||0<b.length&&!(b[0]instanceof ne)))throw new L(\"stores\");this.version=c;this.ga=!u(this.version);this.stores=e||[];c=[];if(d&&d.fullTextCatalogs)for(f=0;f<d.fullTextCatalogs.length;f++)e=Oe(d.fullTextCatalogs[f]),c[f]=e,T(this,e.getName())||(g=[new ee(\"k\",ge),new ee(\"v\",ge)],e=new ne(e.getName(),\"id\",!1,void 0,g,!1,!1,!1),this.stores.push(e));this.a=c}l=Pe.prototype;","l.toJSON=function(){var a=La(this.stores,function(a){return a.toJSON()}),b={};b.stores=a;u(this.version)&&(b.version=this.version);return b};l.ga=!1;l.S=function(){return!1};function Qe(a){return La(a.stores,function(a){return a.getName()})}l.ia=function(a){return this.stores[a]||null};l.count=function(){return this.stores.length};function T(a,b){return Na(a.stores,function(a){return a.getName()==b})}function Re(a,b){return Ma(a.stores,function(a){return a.getName()==b})}","function Se(a,b,c,d){if(!b||a.stores.length!=b.stores.length)return\"Number of store: \"+a.stores.length+\" vs \"+b.stores.length;for(var e=0;e<a.stores.length;e++){var f=T(b,a.stores[e].getName());if(f){c&&(f=we(f,a.stores[e]));if(d)for(var g=f,h=a.stores[e],k=0;k<h.a.length;k++){var m=h.a[k];ve(g,m.getName())||\"BLOB\"!=m.type||(m=new ee(m.keyPath,m.type,m.unique,m.multiEntry,m.getName()),g.a.push(m))}f=Be(a.stores[e],f);if(0<f.length)return'store: \"'+a.stores[e].getName()+'\" '+f}else return'missing object store \"'+","a.stores[e].getName()+'\"'}return\"\"};function Te(a,b){Pe.call(this,a,b)}A(Te,Pe);Te.prototype.S=function(){return!0};function Ue(a,b){a.stores.push(b)};function Ve(a){Error.captureStackTrace?Error.captureStackTrace(this,Ve):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.error.ArgumentException\"}A(Ve,Error);A(Ve,Error);function We(a){Error.captureStackTrace?Error.captureStackTrace(this,We):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.error.NotImplementedException\"}A(We,Error);","function Xe(a){Error.captureStackTrace?Error.captureStackTrace(this,Xe):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.error.InternalError\"}A(Xe,Error);Xe.prototype.name=\"ydn.InternalError\";function Ye(a){Error.captureStackTrace?Error.captureStackTrace(this,Ye):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.error.ConstraintError\"}A(Ye,Error);Ye.prototype.name=\"ydn.error.ConstraintError\";","function Ze(a){Error.captureStackTrace?Error.captureStackTrace(this,Ze):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.error.InvalidOperationException\"}A(Ve,Error);function $e(a){Error.captureStackTrace?Error.captureStackTrace(this,$e):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.error.InvalidOperationError\"}A($e,Error);function ke(a,b){var c;c=c||{};if(null!=a&&null!=b){if(w(a)&&w(b)){if(a.length!=b.length)return!1;for(var d=0;d<a.length;d++)if(-1==Oa(b,function(b){return ke(b,a[d])}))return!1;return!0}if(w(a))return 1==a.length&&ke(a[0],b);if(w(b))return 1==b.length&&ke(b[0],a);if(z(a)&&z(a)){for(var e in a)if(a.hasOwnProperty(e)&&!c[e]){var f=ke(a[e],b[e]);if(!f)return!1}for(e in b)if(b.hasOwnProperty(e)&&!c[e]&&(f=ke(a[e],b[e]),!f))return!1;return!0}return a===b}return!1};/*"," Copyright 2012 YDN Authors, Yathit. All Rights Reserved."," Licensed under the Apache License, Version 2.0 (the \"License\");.","*/","function U(a,b,c){c=c||{};var d=\"autoSchema connectionTimeout size mechanisms policy isSerial Encryption\".split(\" \"),e;for(e in c)if(c.hasOwnProperty(e)&&-1==B(d,e))throw new L('Unknown attribute \"'+e+'\" in options.');if(c.mechanisms){if(!v(c.mechanisms))throw new L(\"mechanisms attribute must be an array but \"+ba(c.mechanisms)+\" found.\");for(e=0;e<c.mechanisms.length;e++)if(!(0<=B(af,c.mechanisms[e])))throw new L('Invalid mechanism \"'+c.mechanisms[e]+'\"');}this.w=c.mechanisms||(Hd?Sa(af,1):af);this.j=","c.size;this.F=u(c.connectionTimeout)?c.connectionTimeout:3E3;this.a=null;this.g=[];this.Ga=!1;var f;if(b instanceof Pe)f=b;else if(z(b))for(c.autoSchema||!u(b.stores)?f=new Te(b):f=new Pe(b),d=b.stores?b.stores.length:0,e=0;e<d;e++){var g=T(f,b.stores[e].name);b.stores[e].Sync&&I(this.logger,\"Synchronization option for \"+g.getName()+\" ignored.\")}else f=new Te;b=this.yb(c.Encryption);this.c=f;for(e=0;e<this.c.count();e++)if(this.c.ia(e).l){if(!b)throw Error(\"encryption option must be defined\");this.ib(this.c.ia(e))}u(a)&&","this.o(a);this.h=new E}U.prototype.logger=H(\"ydn.db.con.Storage\");U.prototype.G=function(a){if(u(a)){var b=function(b){a(b.toJSON());a=void 0};if(this.a)this.a.W(b);else{var c=this;this.transaction(function(a){c.a.W(b,a)},null,jd)}}return this.c?this.c.toJSON():null};U.prototype.o=function(a){if(this.a)throw new ed(\"Already connected with \"+this.i);this.i=a;bf(this)};U.prototype.getName=function(){return this.i};var af=\"indexeddb sqlite websql localstorage sessionstorage userdata memory\".split(\" \");","l=U.prototype;l.Ra=function(){return null};","function bf(a){function b(b,e){b?(J(a.logger,a+\": ready.\"),a.pb=NaN,d.Db=function(){},d.bb=function(){a.a=null},d.ub=function(){},setTimeout(function(){cf(a,e);df(a)},10),c.callback(e)):(I(a.logger,a+\": database connection fail \"+e.name),setTimeout(function(){cf(a,new Od(a,e));if(a.g){var b=a.logger;for(b&&b.log(Nc,\"Purging \"+a.g.length+\" transactions request.\",void 0);b=a.g.shift();)b.H&&b.H(\"error\",e)}},10),c.m(e))}for(var c=new E,d=null,e=a.w,f=0;f<e.length;f++){var g=e[f].toLowerCase();if(d=a.Ra(g)){d=","a.Ra(g);break}}null===d?(e=new Ye(\"No storage mechanism found.\"),b(!1,new Od(a,e))):Ib(d.connect(a.i,a.c),function(a){this.a=d;b(!0,new Md(\"ready\",this,parseFloat(d.Cb()),parseFloat(a),null))},function(a){I(this.logger,this+\": opening fail\");b(!1,a)},a)}l.ya=function(){if(this.a)return this.a.Bb()};l.Ja=function(a,b){var c=this.h,d=new E;c.Oa(d);d.hb(a,b)};function cf(a,b){setTimeout(function(){a.c.ga&&a.h.c||(b instanceof Nd?a.h.m(b.error):a.h.callback())},4)}","function ef(a){return!!a.a&&a.a.ab()}l.close=function(){this.a&&(this.a.close(),this.a=null,J(this.logger,this+\" closed\"))};l.gc=function(){return this.a?this.a.Ab():null};l.pb=NaN;function df(a){var b=a.g.shift();b&&(J(a.logger,\"pop tx queue[\"+(a.g.length+1)+\"]\"),a.transaction(b.Ea,b.Rb,b.mode,b.H));a.pb=ka()}","function ff(a,b,c,d,e){J(a.logger,\"push tx queue[\"+a.g.length+\"]\");a.g.push({Ea:b,Rb:c,mode:d,H:e});100<a.g.length&&0==a.g.length%100&&I(a.logger,\"Transaction queue stack size is \"+a.g.length+\". It is too large, possibility due to incorrect usage.\")}l.Ga=!1;","l.transaction=function(a,b,c,d){var e=b;if(x(b))e=[b];else if(null!=b)if(w(b)){if(0==b.length)throw new L(\"number of store names must more than 0\");for(var f=0;f<b.length;f++)if(!x(b[f]))throw new L(\"store name at \"+f+\" must be string but found \"+typeof b[f]);}else throw new L(\"store names must be an array\");else e=null;if(this.a&&this.a.ab()&&!this.Ga){var g=this,h=u(c)?c:jd;h==kd&&(this.Ga=!0);this.a.Sa(function(b){a(b);a=null},e,h,function(a,b){da(d)&&(d(a,b),d=void 0);h==kd&&(g.Ga=!1);df(g)})}else ff(this,","a,e,c,d)};l.ib=function(a){I(this.logger,\"Encryption option for \"+a.getName()+\" ignored.\")};l.yb=function(){return!1};l.toString=function(){return\"Storage:\"+this.a};U.prototype.close=U.prototype.close;U.prototype.getType=U.prototype.ya;U.prototype.getName=U.prototype.getName;U.prototype.getSchema=U.prototype.G;U.prototype.onReady=U.prototype.Ja;U.prototype.setName=U.prototype.o;U.prototype.transaction=U.prototype.transaction;U.prototype.db=U.prototype.gc;la(\"ydn.db.version\",\"1.3.1\");la(\"ydn.db.cmp\",Dd);la(\"ydn.db.deleteDatabase\",function(a,b){for(var c,d=0;d<Ed.length;d++){var e=Ed[d](a,b);e&&(c=e)}return c||Cd(\"IDBVersionChangeEvent \",null)});","Md.prototype.name=Md.prototype.name;Md.prototype.getVersion=Md.prototype.jc;Md.prototype.getOldVersion=Md.prototype.Mb;Md.prototype.getOldSchema=Md.prototype.Lb;Nd.prototype.getError=Nd.prototype.c;wd.prototype.abort=wd.prototype.abort;wd.prototype.canAbort=wd.prototype.Jb;gd.prototype.progress=gd.prototype.kb;gd.prototype.promise=gd.prototype.Ub;la(\"ydn.db.KeyRange\",R);R.only=Vd;R.bound=Wd;R.upperBound=Xd;R.lowerBound=Yd;function gf(a,b,c,d){Id.call(this);this.a=c;this.gb=c.getName();this.j=void 0;this.g=!1;this.Z=null;this.f=a;this.fb=b;this.w=this.o=!1;this.K=d||4;this.ca=this.h=this.b=void 0;this.G=function(){throw new fd;};this.P=function(){throw new fd;};this.eb=function(){}}A(gf,Id);l=gf.prototype;","l.cb=function(a,b,c,d,e){if(u(b)){a=this.a;var f,g=b;if(v(b)){a:{for(f=0;f<a.a.length;f++)if(!je(a.a[f].keyPath,b)){f=a.a[f];break a}f=null}g=b.join(\", \")}else f=re(a,b);if(!f)throw new L('require index \"'+g+'\" not found in store \"'+a.getName()+'\"');this.j=f.getName()}this.g=x(this.j);this.Z=c||null;this.w=this.o=!1;this.B=\"prev\"==d||\"prevunique\"==d;this.unique=\"nextunique\"==d||\"prevunique\"==d;this.L=d;this.Ha=e;this.ca=this.h=this.b=void 0};l.L=\"\";l.Z=null;l.unique=!1;l.B=!1;l.Ha=!0;l.logger=H(\"ydn.db.core.req.AbstractCursor\");","function hf(a,b){a.P(b);jf(a);a.o=!0}l.O=function(a,b,c){null==a&&(K(this.logger,this+\" finished.\"),this.o=!0);this.b=a;this.h=b;this.ca=c;this.o?(J(this.logger,this+\" DONE.\"),this.G(),jf(this)):(J(this.logger,this+\" new cursor position {\"+(this.g?this.b+\", \"+this.h:this.b)+\"}\"),this.G(this.b))};l.toString=function(){return\"Cursor:\"+this.gb+(u(this.j)?\":\"+this.j:\"\")+\"[\"+(this.f?\"\":\"~\")+this.fb+\"]\"};","function jf(a){null!=a.h?a.h=Rd(a.h):a.h=void 0;null!=a.b?a.b=Rd(a.b):a.b=void 0;a.eb(a.w,a.b,a.h)}l.open=function(a,b,c,d){this.f=a;this.fb=b;this.o=this.w=!1;this.b=c;this.h=d;this.openCursor(this.b,this.h)};function kf(a){a.w=!0;J(a.logger,a+\": exit\");jf(a)}l.ic=function(){return this.b};l.R=function(){return this.g?this.h:this.b};l.Ma=function(){return this.Ha?this.R():this.ca};l.Ba=function(){};l.da=function(){};function lf(a,b,c){J(a.logger,a+\" restarting\");a.o=!1;a.w=!1;a.openCursor(c,b)};function mf(){};function W(a,b,c,d,e,f,g){if(!x(a))throw new TypeError(\"store name must be a string, but \"+a+\" found.\");this.b=a;this.c=b;this.g=g;this.o=!!this.c;if(u(d)&&!ca(d))throw new L(\"reverse value must be a boolean, but \"+typeof d+\" found\");if(u(e)&&!ca(e))throw new L(\"unique value must be a boolean, but \"+typeof e+\" found\");if(u(f)&&!ca(f))throw new L(\"key_only value must be a boolean, but \"+typeof f+\" found\");this.f=u(f)?f:!!x(this.c);a=\"next\";d&&e?a=\"prevunique\":d?a=\"prev\":e&&(a=\"nextunique\");this.i=","a;if(d=ae(c))throw new L(\"Invalid key range: \"+d);this.a=Ud(c);this.h=nf;this.w=NaN}A(W,mf);W.prototype.f=!0;function of(a,b,c){if(3<arguments.length)throw new L(\"too many argument\");W.call(this,a,void 0,b,c,void 0,!0)}A(of,W);function pf(a,b,c,d,e){if(!x(b))throw new L(\"index name must be string\");W.call(this,a,b,c,d,e,!0)}A(pf,W);function qf(a,b,c){if(3<arguments.length)throw new L(\"too many argument\");W.call(this,a,void 0,b,c,void 0,!1)}A(qf,W);","function rf(a,b,c,d,e){if(!x(b))throw new L(\"index name must be string\");W.call(this,a,b,c,d,e,!1)}A(rf,W);var nf=\"init\";l=W.prototype;l.logger=H(\"ydn.db.Iterator\");l.Zb=function(){return this.b};l.Vb=function(){return this.c};l.Xb=function(){return this.a?this.a instanceof $d?this.a:$d.bound(this.a.lower,this.a.upper,this.a.lowerOpen,this.a.upperOpen):null};l.$b=function(){return this.f};l.Ob=function(){return this.o};","l.clone=function(){var a=new W(this.b,this.c,this.a,this.Y(),this.La(),this.f,this.g);a.w=this.w;return a};l.unique=function(a){return new W(this.b,this.c,this.a,this.Y(),a,this.f,this.g)};l.toJSON=function(){return{store:this.b,index:this.c,keyRange:this.a?Sd(this.a):null,direction:this.i}};","l.toString=function(){var a=u(this.g)?\":\"+this.g.join(\",\"):u(this.c)?\":\"+this.c:\"\",b;if(b=this.a){var c=b.lowerOpen?\"(\":\"[\";null!=b.lower&&(c+=b.lower+\", \");null!=b.upper&&(c+=b.upper);b=c+=b.upperOpen?\")\":\"]\"}else b=\"\";a+=b;this.h!=nf&&(a+=this.h+\"{\"+this.j,this.o&&(a+=\", \"+this.l),a+=\"}\");b=this.o?\"Index\":\"\";b+=this.f?\"Key\":\"Value\";return b+\"Iterator:\"+this.b+a};l.bc=function(a,b){var c=new W(this.b,this.c,this.a,this.Y(),this.La(),this.f,this.g);c.j=a;c.l=b;c.h=\"rest\";return c};","l.cc=function(){return new W(this.b,this.c,this.a,!this.Y(),this.La(),this.f,this.g)};l.Y=function(){return\"prev\"===this.i||\"prevunique\"===this.i};l.La=function(){return\"nextunique\"===this.i||\"prevunique\"===this.i};l.Nb=function(){return this.h};l.load=function(a){a=a[0];a.cb(this.b,this.g||this.c,this.a,this.i,this.f);this.h=\"busy\";var b=this;a.eb=function(a,d,e){b.j=d;b.l=e;b.h=a?\"rest\":\"done\"};a.openCursor(this.j,this.l);return a};l.Wb=function(){return this.j};l.Yb=function(){return this.l};","l.ac=function(a,b,c){a=a||nf;\"busy\"==this.h?I(this.logger,this+\": resetting state to \"+a+\" ignore during iteration\"):(this.j=b,this.l=c,this.h=a)};l.stores=function(){return[this.b]};function sf(a,b,c,d){if(\"transaction\"in a)this.i=a,this.c=this.h=null;else if(\"objectStore\"in a){if(this.i=null,this.h=a.db,this.c=a,!this.c.db.objectStoreNames.contains(b))throw new Ve('store \"'+b+'\" not in transaction.');}else throw new Ve(\"storage instance require.\");this.j=b;this.l=c;this.o=d;this.b=[];this.a=0;this.g=!1}sf.prototype.logger=H(\"ydn.db.con.IdbCursorStream\");sf.prototype.g=!1;","function tf(a,b){a.a++;b.onsuccess=function(b){if(b=b.target.result){if(da(a.o)){var d=b.value;a.o(b.primaryKey,null!=a.l?d[a.l]:d)}else I(a.logger,\"sink gone, dropping value for: \"+b.primaryKey);if(b&&0<a.b.length)b[\"continue\"](a.b.shift());else a.a--,0==a.a&&a.T&&a.T()}};b.onerror=function(){I(a.logger,\"seeking fail. \"+(\"error\"in b?b.error.name+\":\"+b.error.message:\"\"));a.a--;0==a.a&&a.T&&a.T()}}function uf(a,b){0==a.b.length&&0==a.a?b():a.T=b}","function vf(a){if(!a.g){var b=function(b,c){a.c=null;\"complete\"!==b&&I(a.logger,c.name+\":\"+c.message);J(a.logger,a+\" transaction \"+b)},c=function(b){var c=a.b.shift();J(a.logger,a+\" transaction started for \"+c);b=b.objectStore(a.j);tf(a,b.openCursor(c))};if(a.c)J(a.logger,a+\" using existing tx.\"),c(a.c);else if(a.h)J(a.logger,a+\" creating tx from IDBDatabase.\"),a.f=a.h.transaction([a.j],jd),a.f.oncomplete=function(a){b(\"complete\",a)},a.f.onerror=function(a){b(\"error\",a)},a.f.onabort=function(a){b(\"abort\",","a)};else if(a.i)J(a.logger,a+\" creating tx from ydn.db.con.IStorage.\"),a.g=!0,a.i.transaction(function(b){a.g=!1;c(b)},[a.j],jd,b);else throw new Xe(\"no way to create a transaction provided.\");}};function wf(a,b,c){a&&a instanceof U?this.wa=a:a&&a.db&&(this.wa=null,xf(this,a));if(!x(b))throw new L(\"a store name required.\");this.c=b;if(u(c)&&!x(c))throw new L(\"projection index name must be a string.\");this.xa=c;this.aa=null;this.b=[];this.a=[];this.pa=!1}l=wf.prototype;l.logger=H(\"ydn.db.Streamer\");l.wa=null;l.$a=null;l.aa=null;l.Sb=function(a){this.$a=a};function xf(a,b){if(b.db)a.aa=new sf(b,a.c,a.xa,ia(a.T,a));else throw new L(\"Invalid IndexedDB Transaction.\");}","function yf(a){var b=0<a.a.length;if(b&&!a.pa&&da(a.$a)){var c=function(){yf(a)},d=a.b.shift(),e=a.a.shift(),b=0<a.a.length,c=a.$a(d,e,b?c:null);b&&!c&&yf(a)}}l.pa=!1;l.fc=function(a){if(this.aa){this.pa=!0;var b=this;uf(this.aa,function(){a(b.b,b.a);b.b=[];b.a=[];b.pa=!1})}else a(this.b,this.a),this.b=[],this.a=[]};l.T=function(a,b){this.b.push(a);this.a.push(b);yf(this)};","l.push=function(a,b){if(this.pa)throw new $e(\"push not allowed after a collection is started\");if(2<=arguments.length)this.T(a,b);else{if(!this.aa){if(!this.wa)throw new $e(\"Database connection is not setup.\");var c=this.wa.ya();if(c)if(\"indexeddb\"===c)this.aa=new sf(this.wa,this.c,this.xa,ia(this.T,this));else throw new We(c);else throw new $e(\"Database is not connected.\");}c=this.aa;c.b.push(a);vf(c)}};l.toString=function(){return\"Streamer:\"+this.c+(this.xa||\"\")};function zf(a,b){if(null!=a&&!(\"push\"in a))throw new Ve('output receiver object must have \"push\" method.');this.a=a||null;this.i=b;this.g=0;this.b=!1;this.f=a instanceof wf&&!!a.xa}zf.prototype.logger=H(\"ydn.db.algo.AbstractSolver\");","zf.prototype.h=function(a,b){this.b=b[0].Y();for(var c=0;c<b.length;c++){if(!(b[c]instanceof W))throw new cd(\"item at iterators \"+c+\" is not an iterator.\");if(0<c&&this.b!=b[c].Y())throw new cd(\"iterator at \"+c+\" must \"+(this.b?\"be reverse\":\"not be reverse\"));}this.a instanceof wf&&xf(this.a,a);if(this.f&&(c=b[0].g)&&1<c.length&&c[c.length-1]!=this.a.xa)throw new $e(\"Output streamer projection field must be same as postfix field in the iterator\");for(var d=\"{\",c=0;c<b.length;c++)0<c&&(d+=\", \"),d+=","b.toString();d+=\"}\";this.b&&(d+=\" reverse\");bd(this.logger,this+\" begin \"+d);return!1};function Af(a,b,c){var d,e=null!=d;if(!u(d)){d=c[0];for(var e=null!=d,f=1;e&&f<c.length;f++)null!=c[f]&&0==Dd(c[f],d)||(e=!1)}return e&&(a.g++,a.a&&(a.f?a.a.push(d,void 0):a.a.push(d)),u(a.i)&&a.g>=a.i)?[]:b}zf.prototype.c=function(){return[]};function Bf(a){Error.captureStackTrace?Error.captureStackTrace(this,Bf):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ConstraintError\"}A(Bf,Error);Bf.prototype.name=\"ConstraintError\";Bf.prototype.toString=function(){return this.name+\": \"+this.message};function Ad(a){Error.captureStackTrace?Error.captureStackTrace(this,Ad):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"InvalidStateError\"}A(Ad,Error);","function Cf(a){Error.captureStackTrace?Error.captureStackTrace(this,Cf):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"InvalidAccessError\"}A(Cf,Error);function Df(a){Error.captureStackTrace?Error.captureStackTrace(this,Df):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"NotFoundError\"}A(Df,Error);Df.prototype.name=\"NotFoundError\";Df.prototype.toString=function(){return this.name+\": \"+this.message};","function Ef(a,b){Error.captureStackTrace?Error.captureStackTrace(this,Ef):this.stack=Error().stack||\"\";b&&(this.message=String(b));this.message+=\" :\"+a.message+\" [\"+a.code+\"]\";this.name=\"SQLError\"}A(Ef,Error);Ef.prototype.toString=function(){return this.name+\": \"+this.message};function Ff(a,b){Error.captureStackTrace?Error.captureStackTrace(this,Ff):this.stack=Error().stack||\"\";b&&(this.message=String(b));this.message+=\" :\"+a.message;this.name=\"SecurityError\"}A(Ff,Error);","Ff.prototype.toString=function(){return this.name+\": \"+this.message};function Gf(a){Error.captureStackTrace?Error.captureStackTrace(this,Gf):this.stack=Error().stack||\"\";a&&(this.message=String(a));this.name=\"ydn.db.TimeoutError\"}A(Gf,Error);function Hf(a,b){this.a=b}Hf.prototype.logger=H(\"ydn.db.crud.req.RequestExecuto\");Hf.prototype.toString=function(){return\"RequestExecutor\"};function If(a){this.c=a;this.a=null;this.b=0}If.prototype.logger=H(\"ydn.db.tr.Mutex\");If.prototype.I=null;function Jf(a){return!!a.a&&!a.f}If.prototype.H=null;If.prototype.toString=function(){return\"Mutex:\"+(\"B\"+this.c+\"T\"+this.b)+(this.a?\"*\":\"\")};function Kf(a,b,c,d,e,f){this.j=a;this.K=b;this.a=this.f=0;this.G=d;this.F=e;this.g=c||Lf;this.l=f||0}Kf.prototype.logger=H(\"ydn.db.tr.Thread\");Kf.prototype.type=function(){return this.j.ya()};Kf.prototype.D=function(){return\"B\"+this.K+\"T\"+this.f};var Lf=\"single\";function Mf(a){if(a)if(da(a.abort))a.abort();else if(da(a.executeSql))a.executeSql(\"ABORT\",[],null,function(){return!0});else throw new dd;else throw new Ad(\"No active transaction\");};function Nf(a,b,c,d,e,f){Kf.call(this,a,b,c,d,e,f);this.c=[];this.h=[];this.i=null;this.b=new If(b);this.o=f||0;this.w=!1}A(Nf,Kf);l=Nf.prototype;l.logger=H(\"ydn.db.tr.Serial\");","function Of(a,b,c){if(\"multi\"==a.g)a:if(a=a.b,!a.I||!a.mode||c!=a.mode&&(a.mode!=M||c!=jd)||b.length>a.I.length)b=!1;else{for(c=0;c<b.length;c++)if(-1==a.I.indexOf(b[c])){b=!1;break a}b=!0}else if(\"repeat\"==a.g)a:if(a=a.b,a.I&&a.mode&&c==a.mode&&a.I.length==b.length){for(c=0;c<b.length;c++)if(-1==a.I.indexOf(b[c])){b=!1;break a}b=!0}else b=!1;else b=\"all\"==a.g?!0:!1;return b}function Pf(a){var b=0<a.c.length?a.c[0].I:null,c=0<a.c.length?a.c[0].mode:null;return null!=b&&null!=c?Of(a,b,c):!1}","function Qf(a,b,c,d,e){J(a.logger,\"push tx queue[\"+a.c.length+\"]\");a.c.push({Ea:b,I:c,mode:d,H:e})}l.abort=function(){K(this.logger,this+\": aborting\");Mf(this.i)};","l.$=function(a,b,c,d){var e=x(b)?[b]:b;if(w(e)){if(0==e.length)throw new L(\"number of store names must more than 0\");for(var f=0;f<e.length;f++){if(!x(e[f]))throw new L(\"store name at \"+f+\" must be string but found \"+e[f]+\" of type \"+typeof e[f]);if(this.P&&!(0<=B(this.P,e[f])))throw new L('store name \"'+f+e[f]+'\" in scope of '+this);}}else throw new L(\"store names must be an array\");var g=u(c)?c:jd,h=this;if(this.b.a||!ef(this.j)&&this.w)Qf(this,a,b,g,d);else{var k=this.D();d&&this.h.push(d);if(this.o&&","this.f>=this.o)throw new ed(\"Exceed maximum number of transactions of \"+this.o);this.w=!0;this.j.transaction(function(c){var d=h.b;d.a=c;d.f=!1;d.I=b;d.mode=g;d.b++;d.H=null;k=h.D();bd(h.logger,k+\" BEGIN \"+S(b)+\" \"+g);a(h);for(a=null;Pf(h);)c=h.c.shift(),c.H&&h.h.push(c.H),J(h.logger,\"pop tx queue\"+(h.c.length+1)+\" reusing T\"+h.f),c.Ea()},e,g,function(a,b){bd(h.logger,k+\" \"+a);var c=h.b;c.a?(c.a=null,c.I=null,c.mode=null,da(c.H)&&c.H(a,b),c.H=null):I(c.logger,c+\" has no TX to be unlocked for \"+a);","for(c=0;c<h.h.length;c++)(0,h.h[c])(a,b);h.h.length=0;(c=h.c.shift())&&h.$(c.Ea,c.I,c.mode,c.H);h.a=0})}};l.D=function(){var a=this.b;return\"B\"+a.c+\"T\"+a.b};l.request=function(a,b,c,d){function e(a,b){zd(f);d&&d(a,b)}var f=new wd(a);a=c||jd;var g=this;Jf(this.b)&&Of(this,b,a)?(b=this.b.a,this.a++,xd(f,b,this.D()+\"R\"+this.a),this.h.push(e)):g.$(function(){var a=g.b.a;g.a++;xd(f,a,g.D()+\"R\"+g.a)},b,a,e);return f};","l.la=function(a,b,c,d,e){d=d||jd;var f=this,g;if(Jf(f.b)&&Of(this,c,d)){var h=f.b.a;f.a++;g=f.D()+\"R\"+f.a;K(f.logger,g+\" BEGIN\");b(h,g,function(b,c){f.i=h;c?(K(f.logger,g+\" ERROR\"),a.m(b)):(K(f.logger,g+\" SUCCESS\"),a.callback(b));f.i=null});K(f.logger,g+\" END\");b=null}else f.$(function(){var c=f.b.a;f.a++;g=f.D()+\"R\"+f.a;K(f.logger,g+\" BEGIN\");b(c,g,function(b,d){f.i=c;d?(K(f.logger,g+\" ERROR\"),a.m(b)):(K(f.logger,g+\" SUCCESS\"),a.callback(b));f.i=null});K(f.logger,g+\" END\");b=null},c,d,e)};","l.getName=function(){return this.j.getName()};l.toString=function(){return\"Serial:\"+this.D()+(this.i?\"*\":\"\")};function Rf(a,b){Nf.call(this,a,b)}A(Rf,Nf);Rf.prototype.logger=H(\"ydn.db.tr.AtomicSerial\");Rf.prototype.request=function(a,b,c){var d,e,f,g=Rf.A.request.call(this,a,b,c,function(a,b){zd(g);if(d)\"complete\"!=a&&(f=!0,e=b),d(e,f);else{var c=new Gf;O(g,c,!0)}});Bd(g,function(a,b,c){f=b;e=a;d=c});return g};","Rf.prototype.la=function(a,b,c,d,e){var f,g,h=new E;Ib(h,function(a){g=!1;f=a},function(a){g=!0;f=a});Rf.A.la.call(this,h,b,c,d,function(b,c){if(\"complete\"!=b)a.m(c);else if(!0===g)a.m(f);else if(!1===g)a.callback(f);else{var d=new Gf;a.m(d)}e&&(e(b,c),e=void 0)})};Rf.prototype.toString=function(){return\"Atomic\"+Rf.A.toString.call(this)};function Sf(a,b,c,d){this.c=a;this.b=b;this.a=c;this.g=d;this.f=null}Sf.prototype.logger=H(\"ydn.db.tr.DbOperator\");Sf.prototype.h=function(){return this.a.f};Sf.prototype.abort=function(){this.a.abort()};function X(a){if(!a.f){var b;b=a.c;var c=b.ya();if(\"indexeddb\"==c)b=new Tf(0,b.c);else if(\"websql\"==c||\"sqlite\"==c)b=new Uf(0,b.c);else throw new fd(\"No executor for \"+c);a.f=b}return a.f}","function Vf(a,b){var c=x(b)?b:z(b)?b.name:void 0;if(!x(c))throw new L(\"store name \"+c+\" must be a string, but \"+typeof c);var d=T(a.b,c);if(!d){if(!a.b.S())throw new L('store name \"'+c+'\" not found.');d=oe(z(b)?b:{name:c});K(a.logger,\"Adding object store: \"+c);var e=a.c,f=d,g=f instanceof ne?f:oe(f),f=f.name,h=T(e.c,f);if(0==Be(g,h).length)(new E).callback(!1);else if(h=h?\"update\":\"add\",e.c instanceof Te)Ue(e.c,g),e.a?(e.a.close(),e.a=null,bf(e)):(new E).callback(!1);else throw new Ye(\"Cannot \"+h+","\" store: \"+f+\". Not auto schema generation mode.\");}else if(a.b.S()&&z(b)&&(e=oe(b),e=Be(d,e)))throw new dd(e);if(!d)throw new Df(c);return d}Sf.prototype.toString=function(){return\"TxStorage:\"+this.c.getName()};function Y(a,b,c,d){Sf.call(this,a,b,c,d)}A(Y,Sf);l=Y.prototype;l.logger=H(\"ydn.db.crud.DbOperator\");","l.count=function(a,b,c,d){var e,f,g,h;if(null!=a)if(v(a)){if(u(c)||u(b))throw new L(\"too many arguments.\");f=a;for(var k=0;k<f.length;k++)if(!Re(this.b,f[k]))throw new L('store name \"'+f[k]+'\" at '+k+\" not found.\");K(this.logger,\"countStores: \"+S(f));e=this.a.request(\"count\",f);P(e,function(){X(this).Qa(e,f)},this)}else if(x(a)){k=T(this.b,a);if(!k)throw new L('store name \"'+a+'\" not found.');if(u(d)&&!ca(d))throw new L('unique value \"'+d+'\" must be boolean, but found '+typeof d+\".\");f=[a];if(x(b))if(g=","b,z(c)){var m=ae(c);if(m)throw new L(\"invalid key range: \"+Le(c)+\" \"+m);h=Ud(c)}else{if(null!=c)throw new L(\"invalid key range: \"+Le(c)+\" of type \"+typeof c);h=null}else if(z(b)||null==b)if(z(b)){if(m=ae(b))throw new L(\"invalid key range: \"+Le(b)+\" \"+m);h=Ud(b)}else{if(null!=b)throw new L(\"key range must be  an object but found \"+Le(b)+\" of type \"+typeof b);h=null}else throw new L('invalid second argument for count \"'+Le(c)+'\" of type '+typeof b);K(this.logger,\"countKeyRange: \"+a+\" \"+(g?g:\"\")+S(h));","e=this.a.request(\"count\",f);Ee(k,e,arguments);P(e,function(){X(this).ob(e,f[0],h,g,!!d)},this)}else throw new L(\"Invalid store name or store names.\");else I(this.logger,\"count method requires store name(s)\"),k=Qe(this.b),e=this.a.request(\"count\",k),Bd(e,function(a,b,c){if(b)c(a,!0);else{for(var d=b=0;d<a.length;d++)b+=a[d];c(b,!1)}},this),P(e,function(){X(this).Qa(e,f)},this);return e};","l.get=function(a,b){var c=this,d;if(a instanceof Pd){var e=a,f=e.a,g=T(this.b,f);if(!g){if(this.b.S()){if(ef(this.c))return Cd(\"get\",void 0);d=new wd(\"get\");this.c.Ja(function(){Ib(c.get(a,b),function(a){d.callback(a)},function(a){d.m(a)})});return d}throw new L(\"Store: \"+f+\" not found.\");}var h=e.v;K(this.logger,\"getByKey: \"+f+\":\"+h);d=this.a.request(\"get:key\",[f]);Ee(g,d,arguments,void 0,this);P(d,function(){X(this).Ua(d,f,h)},this)}else if(x(a)&&u(b)){var k=a,g=T(this.b,k);if(!g){if(this.b.S()){if(ef(this.c))return Cd(\"get\",","void 0);d=new wd(\"get\");this.c.Ja(function(){Ib(c.get(a,b),function(a){d.callback(a)},function(a){d.m(a)})});return d}throw new L('Store name \"'+k+'\" not found.');}var m=b;K(this.logger,\"getById: \"+k+\":\"+m);d=this.a.request(\"get\",[k]);Ee(g,d,arguments,void 0,this);P(d,function(){X(this).Ua(d,k,m)},this)}else throw new L(\"get require valid input arguments.\");return d};","l.Pb=function(a,b,c,d,e){var f=T(this.b,a),g,h,k,m=null;if(z(b)){var n=ae(b);if(n)throw new L(\"invalid key range: \"+b+\" \"+n);m=Ud(b)}else if(null!=b)throw new L('expect key range object, but found \"'+Le(b)+'\" of type '+typeof b);if(u(c))if(y(c))g=c;else throw new L(\"limit must be a number, but \"+c+\" is \"+typeof c);else g=100;if(u(d))if(y(d))h=d;else throw new L(\"offset must be a number, but \"+d+\" is \"+typeof d);else h=0;if(u(e))if(ca(e))k=e;else throw new L(\"reverse must be a boolean, but \"+e+\" is \"+","typeof e);K(this.logger,\"keysByKeyRange: \"+a);var p=this.a.request(\"keys\",[a]);Ee(f,p,arguments);P(p,function(){X(this).Aa(p,2,a,null,m,g,h,k,!1)},this);return p};","l.qa=function(a,b,c,d,e,f,g){var h,k,m,n,p,q=ae(c);if(q)throw new L(\"invalid key range: \"+c+\" \"+q);q=T(this.b,a);h=Ud(c);if(y(d))k=d;else{if(u(d))throw new L(\"limit must be a number\");k=100}if(y(e))m=e;else{if(u(e))throw new L(\"offset must be a number\");m=0}if(u(f))if(ca(f))n=f;else throw new L(\"reverse must be a boolean\");if(u(g))if(ca(g))p=g;else throw new L(\"unique must be a boolean\");K(this.logger,\"keysByIndex: \"+a);var t=this.a.request(\"keys:iter:index\",[a]);Ee(q,t,arguments);P(t,function(){X(this).Aa(t,","2,a,b,h,k,m,n,p)},this);return t};l.ka=function(a,b,c,d,e,f,g){var h=T(this.b,a);if(!x(a))throw new L(\"store name must be a string, but \"+a+\" of type \"+typeof a+\" is not.\");if(!this.b.S()){if(!h)throw new L('store name \"'+a+'\" not found.');if(x(b)&&!re(h,b))throw new L('index \"'+b+'\" not found in store \"'+a+'\".');}return this.b.S()&&!h?Cd(\"keys\",[]):x(b)?this.qa(a,b,c,d,e,f,g):this.Pb(a,b,c,d,e)};","l.values=function(a,b,c,d,e,f,g){var h=this,k;if(x(a)){var m=a,n=T(this.b,m);if(!n){if(this.b.S()){if(ef(this.c))return Cd(\"values\",[]);k=new wd(\"values\");this.c.Ja(function(){Ib(h.values(a,b,c,d,e,f),function(a){k.callback(a)},function(a){k.m(a)})});return k}throw new Df(m);}if(v(b)){if(u(c)||u(d))throw new L(\"too many input arguments\");var p=b;K(this.logger,\"listByIds: \"+m+\" \"+p.length+\" ids\");k=this.a.request(\"values:array\",[m]);Ee(n,k,arguments,void 0,this);P(k,function(){X(this).qb(k,m,p)},this)}else k=","x(b)?this.ua(m,b,c,d,e,f,g):this.Tb(m,b,c,d,e)}else if(v(a))if(a[0]instanceof Pd){for(var n=[],q=a,t=0;t<q.length;t++){var C=q[t].a;if(!Re(this.b,C)){if(this.b.S())return n=[],n[q.length-1]=void 0,Cd(\"get\",n);throw new L(\"Store: \"+C+\" not found.\");}0<=B(n,C)||n.push(C)}K(this.logger,\"listByKeys: \"+S(n)+\" \"+q.length+\" keys\");k=this.a.request(\"values:keys\",n);P(k,function(){X(this).Xa(k,q)},this)}else throw new L(\"first argumentmust be array of ydn.db.Key, but \"+a[0]+\" of \"+typeof a[0]+\" found.\");else throw new L(\"first argument \"+","a+\" is invalid.\");return k};","l.Tb=function(a,b,c,d,e){var f=T(this.b,a),g,h,k,m=null;if(z(b)){var n=ae(b);if(n)throw new L(\"invalid key range: \"+b+\" \"+n);m=Ud(b)}else if(null!=b)throw new L('expect key range object, but found \"'+Le(b)+'\" of type '+typeof b);if(u(c))if(y(c))g=c;else throw new L(\"limit must be a number, but \"+c+\" is \"+typeof c);else g=100;if(u(d))if(y(d))h=d;else throw new L(\"offset must be a number, but \"+d+\" is \"+typeof d);else h=0;if(u(e))if(ca(e))k=e;else throw new L(\"reverse must be a boolean, but \"+e+\" is \"+","typeof e);K(this.logger,(m?\"listByKeyRange: \":\"listByStore: \")+a);var p=this.a.request(\"values\",[a]);Ee(f,p,arguments);P(p,function(){X(this).Aa(p,4,a,null,m,g,h,k,!1)},this);return p};","l.ua=function(a,b,c,d,e,f,g){var h=T(this.b,a),k,m,n,p;if(!ve(h,b))throw new L('index \"'+b+'\" not found in store \"'+a+'\"');var q=ae(c);if(q)throw new L(\"invalid key range: \"+c+\" \"+q);var t=Ud(c);if(u(d))if(y(d))k=d;else throw new L(\"limit must be a number.\");else k=100;if(u(e))if(y(e))m=e;else throw new L(\"offset must be a number.\");else m=0;if(ca(f))n=f;else if(u(f))throw new L(\"reverse must be a boolean, but \"+f);if(u(g))if(ca(g))p=g;else throw new L(\"unique must be a boolean\");K(this.logger,\"listByIndexKeyRange: \"+","a+\":\"+b);var C=this.a.request(\"values:iter:index\",[a]);Ee(h,C,arguments);P(C,function(){X(this).Aa(C,4,a,b,t,k,m,n,p)},this);return C};","l.add=function(a,b,c){if(v(b))return this.za(a,b,c);a=Vf(this,a);var d=a.getName(),e;if(x(a.keyPath)&&u(c))throw new L(\"key must not be provided while the store uses in-line key.\");if(!a.keyPath&&!a.b&&!u(c))throw new L(\"out-of-line key must be provided for store: \"+d);if(v(b)){K(this.logger,\"addObjects: \"+d+\" \"+b.length+\" objects\");for(var f=0;f<b.length;f++)Ce(a,b[f]);e=this.a.request(\"add:array\",[d],M);P(e,function(){X(this).N(e,!1,!1,d,b,c)},this);a.M&&e.J(function(){},this)}else if(z(b))f=\"store: \"+","d+\" key: \"+ye(a,b,c),K(this.logger,\"addObject: \"+f),Ce(a,b),e=this.a.request(\"add\",[d],M),P(e,function(){X(this).N(e,!1,!0,d,[b],[c])},this),a.M&&e.J(function(){},this);else throw new L(\"record must be an object or array list of objects, but \"+b+\" of type \"+typeof b+\" found.\");return e};","l.za=function(a,b,c){a=Vf(this,a);var d=a.getName(),e;if(x(a.keyPath)&&u(c))throw new L(\"key must not be provided while the store uses in-line key.\");if(!a.keyPath&&!a.b&&!u(c))throw new L(\"out-of-line key must be provided for store: \"+d);if(v(b)){K(this.logger,\"addObjects: \"+d+\" \"+b.length+\" objects\");for(var f=0;f<b.length;f++)Ce(a,b[f]);e=this.a.request(\"add:array\",[d],M);P(e,function(){X(this).N(e,!1,!1,d,b,c)},this);a.M&&e.J(function(){},this)}else throw new L(\"record must be an array list of objects, but \"+","b+\" of type \"+typeof b+\" found.\");return e};","l.put=function(a,b,c){var d,e=this;if(a instanceof Pd){var f=a,g=f.a,h=T(this.b,g);if(!h)throw new L('store \"'+g+'\" not found.');if(h.keyPath){var k=ye(h,b);if(null!=k){if(0!=Dd(k,f.v))throw new L(\"Inline key must be \"+f+\" but \"+k+\" found.\");}else ze(h,b,f.v);return this.put(g,b)}return this.put(g,b,f.v)}if(v(a)){if(u(c))throw new L(\"too many arguments\");var m=a;if(!u(b))throw new L(\"record values required\");for(var n=b,f=[],g=0,h=m.length;g<h;g++){k=m[g].a;-1==B(f,k)&&f.push(k);var p=T(this.b,k);","if(!p)throw new L('store \"'+k+'\" not found.');p.keyPath&&ze(p,n[g],m[g].v)}K(this.logger,\"putByKeys: to \"+S(f)+\" \"+n.length+\" objects\");for(g=0;g<n.length;g++)Ce(p,n[g]);d=this.a.request(\"put:keys\",f,M);Ee(p,d,arguments);P(d,function(){X(e).vb(d,n,m)},this)}else if(x(a)||z(a)){var p=Vf(this,a),q=p.getName();if(p.keyPath&&u(c))throw new L(\"key must not be provided while the store uses in-line key.\");if(!p.keyPath&&!p.b&&!u(c))throw new L(\"out-of-line key must be provided for store: \"+q);if(v(b)){var t=","b,C=c;K(this.logger,\"putObjects: \"+q+\" \"+t.length+\" objects\");for(g=0;g<t.length;g++)Ce(p,t[g]);d=this.a.request(\"put:array\",[q],M);Ee(p,d,arguments);P(d,function(){X(this).N(d,!0,!1,q,t,C)},this);p.M&&d.J(function(){},this)}else if(z(b)){var D=b,G=c;K(this.logger,\"putObject: \"+q+\" \"+(u(G)?G:\"(without-key)\"));if(u(r.Blob)&&D instanceof Blob&&p.ba&&!p.keyPath&&0==p.a.length&&vc)d=new wd(\"put\"),f=new FileReader,f.onload=function(a){var b=a.target.result,c=e.a.request(\"put\",[q],M);Ee(p,c,[q,D,G]);P(c,","function(){X(e).N(c,!0,!0,q,[b],[G])},this);Ib(c,function(a){d.callback(a)},function(a){d.m(a)})},f.onerror=function(a){d.m(a)},f.onabort=function(a){d.m(a)},f.readAsDataURL(D);else{Ce(p,D);d=this.a.request(\"put\",[q],M);var F=[q,D,G];Ee(p,d,F);P(d,function(){var a=u(G)?[F[2]]:void 0;X(e).N(d,!0,!0,q,[F[1]],a)},this)}p.M&&d.J(function(){},this)}else throw new L(\"put record value must be Object or array of Objects\");}else throw new L(\"the first argument of put must be store name, store schema or array of keys.\");","return d};l.Ka=function(a,b,c){var d,e=Vf(this,a),f=e.getName();if(e.keyPath&&u(c))throw new L(\"key must not be provided while the store uses in-line key.\");if(!e.keyPath&&!e.b&&!u(c))throw new L(\"out-of-line key must be provided for store: \"+f);var g=b,h=c;K(this.logger,\"putObjects: \"+f+\" \"+g.length+\" objects\");for(var k=0;k<g.length;k++)Ce(e,g[k]);d=this.a.request(\"put:array\",[f],M);Ee(e,d,arguments);P(d,function(){X(this).N(d,!0,!1,f,g,h)},this);e.M&&d.J(function(){},this);return d};","function Wf(a,b){for(var c=[],d=0,e=b.length;d<e;d++){var f=b[d].a;-1==B(c,f)&&c.push(f);if(!Re(a.b,f))throw new Df(f);}var g=a.g.request(\"rm:keys\",c,M);P(g,function(){X(this).Za(g,b)},a)}function Xf(a,b){var c=[],d=b.length;if(0==d)return Cd(\"keys\",[]);for(var e=0;e<d;e++){var f=b[e].a;-1==B(c,f)&&c.push(f);if(!Re(a.b,f))throw new Df(f);}var g=a.g.request(\"keys\",c);P(g,function(){X(a).Xa(g,b)},a);return g}","l.clear=function(a,b,c){if(u(c))throw new L(\"too many input arguments\");var d;if(x(a)){c=T(this.b,a);if(!c)throw new L('store name \"'+a+'\" not found.');if(z(b)){var e=Ud(b);if(null===e)throw new L(\"clear method requires a valid non-null KeyRange object.\");K(this.logger,\"clearByKeyRange: \"+a+\":\"+S(e));d=this.a.request(\"clear\",[a],M);Ee(c,d,[a,e]);P(d,function(){X(this).mb(d,a,e)},this)}else{if(u(b))throw new L(\"clear method requires a valid KeyRange object as second argument, but found \"+b+\" of type \"+","typeof b);K(this.logger,\"clearByStore: \"+a);d=this.a.request(\"clear\",[a],M);P(d,function(){X(this).Pa(d,[a])},this)}}else if(!u(a)||v(a)&&x(a[0])){var f=a||Qe(this.b);K(this.logger,\"clearByStores: \"+S(f));d=this.a.request(\"clear\",f,M);P(d,function(){X(this).Pa(d,f)},this)}else throw new L('first argument \"'+a+'\" is invalid.');return d};","l.Na=function(a,b,c){var d;if(x(a)){var e=T(this.b,a);if(!e)throw new L('store name \"'+a+'\" not found.');if(u(c))if(x(b)){var f=re(e,b);if(!f)throw new L(\"index: \"+b+\" not found in \"+a);if(z(c)||null===c){var g=Ud(c);K(this.logger,\"removeByIndexKeyRange: \"+a+\":\"+f.getName()+\" \"+a);d=this.a.request(\"rm:iter:index\",[a],M);P(d,function(){X(this).wb(d,a,f.getName(),g)},this)}else throw new L(\"key range \"+c+' is invalid type \"'+typeof c+'\".');}else throw new L('index name \"'+b+'\" must be a string, but '+","typeof b+\" found.\");else if(x(b)||y(b)||w(b)||b instanceof Date){K(this.logger,\"removeById: \"+a+\":\"+b);d=this.a.request(\"rm\",[a],M);var h=[a,b];Ee(e,d,h);P(d,function(){X(this).Ya(d,a,h[1])},this);e.M&&d.J(function(){},this)}else if(z(b))g=Ud(b),K(this.logger,\"removeByKeyRange: \"+a+\":\"+S(g)),d=this.a.request(\"rm:iter\",[a],M),Ee(e,d,[a,g]),P(d,function(){X(this).xb(d,a,g)},this),e.M&&d.J(function(){},this);else throw new L('Invalid key or key range \"'+b+'\" of type '+typeof b);}else if(a instanceof","Pd){var k=a.a,e=T(this.b,k);d=this.a.request(\"rm\",[k],M);var m=[k,a.v];Ee(e,d,m);P(d,function(){X(this).Ya(d,k,m[1])},this)}else if(v(a)){b=[];c=0;for(e=a.length;c<e;c++){if(!(a[c]instanceof Pd))throw new L(\"key list element at \"+c+\" of \"+e+' must be yn.db.Key, but \"'+Le(a[c])+'\" ('+ba(a[c])+\") is not ydn.db.Key.\");var n=a[c].a;-1==B(b,n)&&b.push(n)}if(1>b.length)throw new L('at least one valid key required in key list \"'+Le(a)+'\"');d=this.a.request(\"rm:keys\",b,M);P(d,function(){X(this).Za(d,a)},","this)}else throw new L('first argument requires store name, key (ydn.db.Key) or list of keys (array) , but \"'+Le(a)+'\" ('+ba(a)+\") found.\");return d};l.toString=function(){return\"DbOperator:\"+this.c.getName()};function Yf(a,b,c,d){Sf.call(this,a,b,c,d)}A(Yf,Y);l=Yf.prototype;l.logger=H(\"ydn.db.core.DbOperator\");l.get=function(a,b){if(a instanceof W){var c=a.b,d=T(this.b,c);if(!d)throw new L('store \"'+c+'\" not found.');var e=a.c;if(u(e)&&!ve(d,e))throw new L('index \"'+e+'\" not found in store \"'+c+'\".');K(this.logger,\"getByIterator:\"+a);var f=this.a.request(\"get:iter\",[c]);P(f,function(){Zf(this,5,f,a,1)},this);return f}return Yf.A.get.call(this,a,b)};","l.ra=function(a,b){var c=100;if(y(b)){if(c=b,1>c)throw new L(\"limit must be a positive value, but \"+b);}else if(u(b))throw new L(\"limit must be a number,  but \"+b);K(this.logger,\"keysOf:\"+a);var d=this.a.request(\"keys:iter\",[a.b]);P(d,function(){a.o?Zf(this,1,d,a,c):Zf(this,2,d,a,c)},this);return d};l.ka=function(a,b,c,d,e,f,g){return a instanceof W?this.ra(a,b):Yf.A.ka.call(this,a,b,c,d,e,f,g)};","l.oa=function(a){K(this.logger,\"countIterator:\"+a);var b=this.a.request(\"count\",[a.b]);P(b,function(){Zf(this,6,b,a)},this);return b};l.count=function(a,b,c,d){if(a instanceof W){if(u(b)||u(c))throw new L(\"too many arguments.\");return this.oa(a)}return Yf.A.count.call(this,a,b,c,d)};","l.va=function(a,b){var c;if(y(b)){if(c=b,1>c)throw new L(\"limit must be a positive value, but \"+c);}else if(u(b))throw new L(\"limit must be a number, but \"+b);K(this.logger,\"listByIterator:\"+a);var d=this.a.request(\"values:iter\",[a.b]);P(d,function(){a.f?Zf(this,2,d,a,c):Zf(this,4,d,a,c)},this);return d};l.values=function(a,b,c,d,e,f){return a instanceof W?this.va(a,b):Yf.A.values.call(this,a,b,c,d,e,f)};","l.Eb=function(a,b,c){if(!v(b))throw new L(\"iterators argument must be an array, but \"+b+\" of type \"+typeof b+\" found\");for(var d=0;d<b.length;d++)if(!(b[d]instanceof W))throw new L(\"Iterator at \"+d+\" must be cursor range iterator.\");c=c||jd;for(var e=[],d=0;d<b.length;d++)for(var f=b[d].stores(),g=0;g<f.length;g++)0<=B(e,f[g])||e.push(f[g]);K(this.logger,this+\": scan for \"+b.length+\" iterators on \"+e);var h=this,d=this.a.request(\"scan\",e);this.a.la(d,function(c,d,e){function f(){for(var a=0,e=0;e<","b.length;e++){var n=b[e],p=[X(h).b(c,d,n.b)],n=n.load(p);n.P=g;n.G=ja(t,a);aa[e]=n;F[a]=e;a++}G=b.length}function g(a){for(var b=0;b<aa.length;b++)kf(aa[b]);Pa(aa);K(h.logger,C+\" error\");e(a,!0)}function t(c,d){if(D)throw new Xe;V++;var f=V===G,g=F[c],k=b[g],m=aa[g],g=m.R(),m=m.Ma();N[c]=d;qa[c]=k.o?k.f?g:m:k.f?d:m;if(f){var p;a instanceof zf?p=a.c(N,qa):p=a(N,qa);f=[];k=[];g=[];m=[];if(v(p))for(var q=0;q<p.length;q++)!0===p[q]?g[q]=1:!1===p[q]?m[q]=!0:k[q]=p[q];else if(null===p)f=[];else if(u(p))if(z(p)){f=","[\"advance\",\"continue\",\"continuePrimary\",\"restart\"];for(q in p)if(!(0<=B(f,q)))throw new ed('Unknown attribute \"'+q+'\" in cursor advancement object');f=p.continuePrimary||[];k=p[\"continue\"]||[];g=p.advance||[];m=p.restart||[]}else throw new ed(\"scan callback output\");else for(f=[],q=0;q<b.length;q++)u(F[q])&&(g[q]=1);for(q=V=p=0;q<b.length;q++)null!=f[q]||u(k[q])||null!=m[q]||null!=g[q]||V++;for(q=0;q<b.length;q++)if(null!=f[q]||u(k[q])||null!=m[q]||null!=g[q]){var t=F[q];if(!u(t))throw new Ze(q+\" is not an iterator.\");","var t=b[t],vb=aa[q];if(null==N[q]){var me=q+\"/\"+b.length;if(null!=g[q])throw new $e(vb+\" \"+me+\" must not advance \"+g[q]+\" steps\");if(u(k[q]))throw new $e(vb+\" \"+me+\" must not continue to key \"+k[q]);if(null!=f[q])throw new $e(vb+\" \"+me+\" must not continue to primary key \"+f[q]);}N[q]=void 0;qa[q]=void 0;if(null!=m[q])lf(vb);else if(u(k[q]))vb.da(k[q]);else if(null!=f[q])vb.Ba(f[q]);else if(null!=g[q])vb.advance(1);else throw new Xe(t+\": has no action\");p++}if(0==p){for(p=0;p<aa.length;p++)kf(aa[p]);","D=!0;Pa(aa);K(h.logger,\"success \"+C);e(void 0)}}}var C=d+\" \"+h+\" scanning\";J(h.logger,C);var D=!1,G,F=[],N=[],qa=[],aa=[],V=0;a instanceof zf?a.h(c,b,function(){f()})||f():f()},e,c);return d};","l.open=function(a,b,c,d){if(!(b instanceof W))throw new L(\"Second argument must be cursor range iterator.\");for(var e=b.stores(),f=0;f<e.length;f++)if(!T(this.b,e[f]))throw new L('Store \"'+e[f]+'\" not found.');c=c||jd;var g=this,h=this.a.request(\"open\",b.stores(),c);K(this.logger,\"open:\"+c+\" \"+b);P(h,function(c){var e=Q(h);K(g.logger,e+\" iterating \"+b);for(var f=b.stores(),p=[],q=0;q<f.length;q++)p[q]=X(g).b(c,e,f[q]);var t=b.load(p);t.P=function(a){O(h,a,!0)};t.G=function(b){null!=b?(b=a.call(d,","t),!0===b?lf(t):z(b)?!0===b.restart?lf(t,b[\"continue\"],b.continuePrimary):null!=b[\"continue\"]?t.da(b[\"continue\"]):null!=b.continuePrimary?t.Ba(b.continuePrimary):(kf(t),O(h,void 0)):null===b?(kf(t),O(h,void 0)):null!=b?t.da(b):t.advance(1)):(kf(t),O(h,void 0))}},this);return h};","function Zf(a,b,c,d,e){var f=[],g=c.a,h=Q(c),k=h+\" \"+b+\"ByIterator \"+d;0<e&&(k+=\" limit \"+e);K(a.logger,k);for(var m=X(a),n=[],p=d.stores(),q=0;q<p.length;q++)n[q]=m.b(g,h,p[q]);var t=d.load(n);t.P=function(a){kf(t);O(c,a,!0)};var C=0,D=!1;t.G=function(d){D||(J(a.logger,k+\" starting\"),D=!0);null!=d?(t.R(),C++,1==b?f.push(d):2==b?f.push(t.R()):3==b?f.push([d,t.R()]):6!=b&&f.push(t.Ma()),5==b?(kf(t),O(c,f[0])):6==b||!u(e)||C<e?t.da():(K(a.logger,\"success:\"+k+\" yields \"+f.length+\" records\"),kf(t),O(c,","f))):(K(a.logger,\"success:\"+k+\" yields \"+f.length+\" records\"),kf(t),O(c,5==b?f[0]:6==b?C:f))}};function $f(a,b,c,d){this.f=a;this.g=b;this.a=Qa(c);this.b=d;this.c=[]}$f.prototype.f=null;function ag(a,b,c){if(a.f)c&&a.c.push(c),b(a.f);else throw new fd(\"tx committed on ParallelTxExecutor\");}$f.prototype.toString=function(){return\"ParallelTxExecutor: txNo:\"+this.g+\" mode:\"+this.b+\" scopes:\"+S(this.a)};function bg(a,b,c,d,e,f){Kf.call(this,a,b,c,d,e,f);this.c=this.b=null}A(bg,Kf);l=bg.prototype;l.logger=H(\"ydn.db.tr.Parallel\");l.abort=function(){K(this.logger,this+\": aborting\");Mf(this.c)};","l.Gb=function(a,b){var c;if(\"multi\"==this.g)a:if(c=this.b,!c.a||!c.b||b!=c.b&&(c.b!=M||b!=jd)||a.length>c.a.length)c=!1;else{for(var d=0;d<a.length;d++)if(-1==c.a.indexOf(a[d])){c=!1;break a}c=!0}else if(\"repeat\"==this.g)a:if(c=this.b,c.a&&c.b&&b==c.b&&c.a.length==a.length){for(d=0;d<a.length;d++)if(-1==c.a.indexOf(a[d])){c=!1;break a}c=!0}else c=!1;else c=\"all\"==this.g?!0:!1;return c};","l.$=function(a,b,c,d){function e(c){k.f++;m=new $f(c,k.f,b,h);g=k.D();bd(k.logger,g+\" BEGIN \"+S(b)+\" \"+h);k.b=m;ag(k.b,a,d)}function f(a,b){bd(k.logger,g+\" \"+a);if(m){for(var c=m,d=0;d<c.c.length;d++)c.c[d](a,b);c.c.length=0;c.f=null;c.a=null;c.c=null}k.a=0}var g;this.G&&(b=this.G);this.F&&(c=this.F);var h=u(c)?c:jd,k=this,m;if(this.b&&this.b.f&&this.Gb(b,h))ag(this.b,a,d);else{if(this.l&&this.f>=this.l)throw new ed(\"Exceed maximum number of transactions of \"+this.l);this.j.transaction(e,b,h,f)}};","l.request=function(a,b,c,d){var e=new wd(a),f=this;this.$(function(a){f.a++;xd(e,a,f.D()+\"R\"+f.a)},b,c||jd,function(a,b){zd(e);d&&d(a,b)});return e};l.la=function(a,b,c,d,e){var f=this,g;this.$(function(c){f.a++;g=f.D()+\"R\"+f.a;K(f.logger,g+\" BEGIN\");b(c,g,function(b,d){f.c=c;g=f.D()+\"R\"+f.a;d?(K(f.logger,g+\" ERROR\"),a.m(b)):(K(f.logger,g+\" SUCCESS\"),a.callback(b));f.c=null});b=null;K(f.logger,g+\" END\")},c,d,e)};l.toString=function(){return\"Parallel:\"+this.g+\":\"+this.D()+(this.c?\"*\":\"\")};function cg(a,b){bg.call(this,a,b,Lf)}A(cg,bg);l=cg.prototype;l.logger=H(\"ydn.db.tr.AtomicParallel\");l.Gb=function(){return!1};l.request=function(a,b,c){var d,e,f,g=this,h=cg.A.request.call(this,a,b,c,function(a,b){zd(h);K(g.logger,\"transaction \"+a);if(d)\"complete\"!=a&&(f=!0,e=b),d(e,f);else{var c=new Gf;O(h,c,!0)}});Bd(h,function(a,b,c){f=b;e=a;d=c});return h};","l.la=function(a,b,c,d,e){var f,g,h=new E;Ib(h,function(a){g=!1;f=a},function(a){g=!0;f=a});cg.A.la.call(this,h,b,c,d,function(b,c){if(\"complete\"!=b)a.m(c);else if(!0===g)a.m(f);else if(!1===g)a.callback(f);else{var d=new Gf;a.m(d)}e&&(e(b,c),e=void 0)})};l.toString=function(){return\"Atomic\"+cg.A.toString.call(this)};function dg(a,b,c){U.call(this,a,b,c);this.ha=0;a=!0;b=Lf;c&&(u(c.isSerial)&&(a=!!c.isSerial),c.policy&&(b=c.policy));c=eg(this,b,a);this.l=eg(this,\"atomic\",!1);this.b=this.sa(c,this.l)}A(dg,U);l=dg.prototype;l.ha=0;l.Hb=function(a,b,c,d,e,f){a=a||Lf;var g;\"readonly\"==d?g=jd:\"readwrite\"==d&&(g=M);a=eg(this,a,b,c,g,e);return this.sa(a,f?null:this.l)};l.sa=function(a,b){return new Sf(this,this.c,a,b)};","function eg(a,b,c,d,e,f){if(c){if(\"multi\"==b||\"repeat\"==b||\"all\"==b||b==Lf)return new Nf(a,a.ha++,b,d,e,f);if(\"atomic\"==b)return new Rf(a,a.ha++);throw new L('Invalid requestType \"'+b+'\"');}if(\"multi\"==b||\"repeat\"==b||\"all\"==b||b==Lf)return new bg(a,a.ha++,b,d,e,f);if(\"atomic\"==b)return new cg(a,a.ha++);throw new L('Invalid requestType \"'+b+'\"');}","l.Qb=function(a,b,c){if(3<arguments.length)throw new L(\"too many input arguments, run accept not more than 3 input arguments, but \"+arguments.length+\" found.\");this.ha++;var d=b||Qe(this.c),e=jd;if(c)if(\"readwrite\"==c)e=M;else if(\"readonly\"!=c)throw new L('Invalid transaction mode \"'+c+'\"');var f=eg(this,\"all\",!1,d,e,1),g=this.sa(f,this.l),h=new wd(\"run\"),k=this;f.$(function(b){J(k.logger,\"executing run in transaction on \"+f);xd(h,b,f.D()+\"R0\");a(g)},d,e,function(a){zd(h);O(h,f.f,\"complete\"!==a)});","return h};l.kc=function(){return this.b?this.b.a.f:NaN};function Z(a,b,c){dg.call(this,a,b,c);a=this.c;for(b=0;b<a.a.length;b++){c=a.a[b];var d=T(a,c.getName());if(d){if(!ve(d,\"k\"))throw new L('full text index store \"'+d.getName()+'\" must have \"keyword\" index');if(!ve(d,\"v\"))throw new L('full text index store \"'+d.getName()+'\" must have \"keyword\" index');if(\"id\"!=d.keyPath)throw new L('full text index store \"'+d.getName()+'\" must use \"id\" as key path.');}else throw new L('full text index store \"'+c.getName()+'\" required.');for(d=0;d<c.count();d++){var e=","c.index(d),f=T(a,e.a);if(f)I(this.logger,\"Full text indexer option for \"+f.getName()+\" ignored.\");else throw new L('full text source store \"'+e.a+'\" does not exist for full text index \"'+c.getName()+'\"');}}}A(Z,dg);l=Z.prototype;l.sa=function(a,b){return new Y(this,this.c,a,b)};l.add=function(a,b,c){return this.b.add(a,b,c)};l.za=function(a,b,c){return this.b.za(a,b,c)};l.count=function(a,b,c,d){return this.b.count(a,b,c,d)};l.get=function(a,b){return this.b.get(a,b)};","l.ka=function(a,b,c,d,e,f,g){return this.b.ka(a,b,c,d,e,f,g)};l.qa=function(a,b,c,d,e,f,g){return this.b.qa(a,b,c,d,e,f,g)};l.values=function(a,b,c,d,e,f){return this.b.values(a,b,c,d,e,f)};l.ua=function(a,b,c,d,e,f){return this.b.ua(a,b,c,d,e,f)};l.put=function(a,b,c){return this.b.put(a,b,c)};l.Ka=function(a,b,c){return this.b.Ka(a,b,c)};l.clear=function(a,b,c){return this.b.clear(a,b,c)};l.Na=function(a,b,c){return this.b.Na(a,b,c)};","l.toString=function(){var a=\"Storage:\"+this.getName();ef(this)&&(a+=\" [\"+this.ya()+\"]\");return a};function fg(a,b,c){Z.call(this,a,b,c)}A(fg,Z);l=fg.prototype;l.sa=function(a,b){return new Yf(this,this.c,a,b)};l.open=function(a,b,c,d){return this.b.open(a,b,c,d)};l.oa=function(a){return this.b.oa(a)};l.va=function(a,b){return this.b.va(a,b)};l.ra=function(a,b){return this.b.ra(a,b)};l.hc=function(a,b){return this.b.Eb(a,b)};function gg(a,b,c,d){gf.call(this,a,b,c,d);this.c=null}A(gg,gf);l=gg.prototype;l.logger=H(\"ydn.db.core.req.IDBCursor\");l.Da=function(a){(a=a.target.result)?this.O(a.key,a.primaryKey,a.value):this.O()};","l.openCursor=function(a,b){function c(a,b,c){p.c=n;p.c.onsuccess=ia(p.Da,p);p.O(a,p.g?b:void 0,c);n=null}var d=this+\" opening \";null!=a&&(d+=\"{\"+a,d=null!=b?d+(\";\"+b+\"}\"):d+\"}\");J(this.logger,d);var e=this.Z,d=this.f.objectStore(this.gb),f=x(this.j)?d.index(this.j):null;if(u(a))var g=f?!u(b):!0,h=e?e.lower:void 0,k=e?e.upper:void 0,m=e?!!e.lowerOpen:!1,e=e?!!e.upperOpen:!1,e=Td(this.B?new R(h,a,m,g):new R(a,k,g,e));var n;this.Ha?f?n=null!=this.L?f.openKeyCursor(e,this.L):null!=e?f.openKeyCursor(e):","f.openKeyCursor():n=null!=this.L?d.openCursor(e,this.L):null!=e?d.openCursor(e):d.openCursor():f?n=null!=this.L?f.openCursor(e,this.L):null!=e?f.openCursor(e):f.openCursor():n=null!=this.L?d.openCursor(e,this.L):null!=e?d.openCursor(e):d.openCursor();var p=this;n.onerror=function(a){var b=n.error;a.preventDefault();hf(p,b)};null!=a?n.onsuccess=function(d){if(d=d.target.result){var e=ld.cmp(d.key,a),f=p.B?-1:1;if(e==f)c(d.key,d.primaryKey,d.value);else if(e==-f)d[\"continue\"](a);else if(null!=b)if(ld.cmp(d.primaryKey,","b)==f)c(d.key,d.primaryKey,d.value);else d[\"continue\"]();else d[\"continue\"]()}else c()}:(p.c=n,p.c.onsuccess=ia(p.Da,p))};l.Va=function(){return!!this.c};l.update=function(a){var b=this.c.result;if(b){var c=new E;a=b.update(a);a.onsuccess=function(a){c.callback(a.target.result)};a.onerror=function(a){a.preventDefault();c.m(a)};return c}throw new Cf(\"cursor gone\");};","l.clear=function(){var a=this.c.result;if(a){var b=new E,a=a[\"delete\"]();a.onsuccess=function(){b.callback(1)};a.onerror=function(a){a.preventDefault();b.m(a)};return b}throw new Cf(\"cursor gone\");};l.advance=function(a){var b=this.c.result;if(1==a)b[\"continue\"]();else b.advance(a)};","l.Ba=function(a){var b=this.c.result,c=ld.cmp(a,b.primaryKey);if(c!=(this.B?-1:1))throw new fd('continuing primary key \"'+a+'\" must '+(this.B?\"lower\":\"higher\")+' than current primary key \"'+b.primaryKey+'\"');var d=this;this.c.onsuccess=function(e){if(b=e.target.result)if(c=ld.cmp(b.primaryKey,a),0==c||1==c&&!d.B||-1==c&&d.B)d.c.onsuccess=ia(d.Da,d),d.O(b.key,d.g?b.primaryKey:void 0,b.value);else b[\"continue\"]();else d.c.onsuccess=ia(d.Da,d),d.O()};b[\"continue\"]()};","l.da=function(a){var b=this.c.result;if(null!=a)b[\"continue\"](a);else b[\"continue\"]()};l.toString=function(){return\"IDB\"+gg.A.toString.call(this)};function hg(a,b){this.a=b}A(hg,Hf);l=hg.prototype;l.logger=H(\"ydn.db.crud.req.IndexedDb\");l.Qa=function(a,b){function c(e){var f=a.a.objectStore(b[e]).count();f.onsuccess=function(f){d[e]=f.target.result;e++;e==b.length?O(a,d):c(e)};f.onerror=function(b){b.preventDefault();O(a,f.error,!0)}}var d=[];0==b.length?O(a,[]):c(0)};","l.N=function(a,b,c,d,e,f){function g(t){if(null==e[t])if(J(n.logger,\"empty object at \"+t+\" of \"+e.length),k++,k==e.length)O(a,h,m);else{var D=t+10;D<e.length&&g(D)}var G,D=e[t];G=f&&null!=f[t]?b?q.put(D,f[t]):q.add(D,f[t]):b?q.put(D):q.add(D);G.onsuccess=function(b){k++;h[t]=b.target.result;k==e.length?O(a,c?h[0]:h,m):(b=t+10,b<e.length&&g(b))};G.onerror=function(b){k++;var f=G.error;J(n.logger,Q(a)+p+' request to \"'+d+'\" cause '+f.name+' for object \"'+Le(e[t])+'\" at index '+t+\" of \"+e.length+\" objects.\");","h[t]=f;m=!0;b.preventDefault();k==e.length?O(a,c?h[0]:h,m):(b=t+10,b<e.length&&g(b))}}var h=[],k=0,m=!1,n=this,p=b?\"put\":\"add\",q=a.a.objectStore(d);J(this.logger,Q(a)+\" \"+p+\" \"+e.length+' objects to store \"'+d+'\"');if(0<e.length)for(var t=0;10>t&&t<e.length;t++)g(t);else O(a,[])};","l.vb=function(a,b,c){function d(k){var n=c[k],p=n.a,q=a.a.objectStore(p),t;t=null===q.keyPath?q.put(b[k],n.v):q.put(b[k]);t.onsuccess=function(c){f++;e[k]=c.target.result;f==b.length?O(a,e,g):(c=k+10,c<b.length&&d(c))};t.onerror=function(c){f++;I(h.logger,\"request result \"+c.name+' error when put keys to \"'+p+'\" for object \"'+Le(b[k])+'\" at index '+k+\" of \"+b.length+\" objects.\");e[k]=t.error;g=!0;c.preventDefault();f==b.length?O(a,e,g):(c=k+10,c<b.length&&d(c))}}var e=[],f=0,g=!1,h=this;J(this.logger,","Q(a)+\" putByKeys: of \"+b.length+\" objects\");if(0<b.length)for(var k=0;10>k&&k<b.length;k++)d(k);else O(a,e,g)};l.Ya=function(a,b,c){var d=a.a.objectStore(b);J(this.logger,Q(a)+\" clearById: \"+b+\" \"+c);var e=d.openCursor($d.only(c));e.onsuccess=function(b){if(b=b.target.result){var c=b[\"delete\"]();c.onsuccess=function(){O(a,1)};c.onerror=function(){O(a,c.error,!0)}}else O(a,0)};e.onerror=function(b){b.preventDefault();O(a,e.error,!0)}};","l.Za=function(a,b){function c(h){h++;if(h>=b.length)0<g.length?O(a,g,!0):O(a,d);else{b[h].a!=e&&(e=b[h].a,f=a.a.objectStore(e));var k=f[\"delete\"](b[h].v);k.onsuccess=function(){d++;c(h)};k.onerror=function(a){a.preventDefault();g[h]=k.error;c(h)}}}var d=0,e,f;J(this.logger,Q(a)+\" removeByKeys: \"+b.length+\" keys\");var g=[];c(-1)};","l.xb=function(a,b,c){var d=a.a.objectStore(b),e=d.count(c);J(this.logger,Q(a)+\" clearByKeyRange: \"+b+\" \"+c);e.onsuccess=function(b){var e=b.target.result,h=d[\"delete\"](c);h.onsuccess=function(){O(a,e)};h.onerror=function(){O(a,h.error,!0)}};e.onerror=function(b){b.preventDefault();O(a,e.error,!0)}};l.mb=function(a,b,c){var d=a.a.objectStore(b);J(this.logger,Q(a)+\" \"+b+\" \"+c);var e=d[\"delete\"](c);e.onsuccess=function(){O(a,void 0)};e.onerror=function(b){b.preventDefault();O(a,e.error,!0)}};","l.wb=function(a,b,c,d){var e=a.a.objectStore(b).index(c);J(this.logger,Q(a)+\" clearByIndexKeyRange: \"+b+\":\"+c+\" \"+d);var f=[],g=e.openCursor(d),h=0;g.onsuccess=function(b){var c=b.target.result;if(c){var d=c[\"delete\"]();d.onsuccess=function(){h++;c[\"continue\"]()};d.onerror=function(a){f.push(d.error);a.preventDefault();c[\"continue\"]()}}else 0<f.length?O(a,f,!0):O(a,h)};g.onerror=function(b){b.preventDefault();O(a,g.error,!0)}};","l.Pa=function(a,b){var c=b.length,d=0;J(this.logger,Q(a)+\" clearByStores: \"+b);for(var e=0;e<c;e++){var f=a.a.objectStore(b[e]).clear();f.onsuccess=function(){d++;d==c&&O(a,d)};f.onerror=function(b){d++;b.preventDefault();d==c&&O(a,f.error,!0)}}};","l.Ua=function(a,b,c){var d=this;J(this.logger,Q(a)+b+\":\"+c);var e=a.a.objectStore(b),f=e.get(c);f.onsuccess=function(b){J(d.logger,Q(a)+\" record \"+c+(null!=b.target.result?\" \":\" not \")+\" exists.\");var f=b.target.result;if(!e.keyPath&&0==e.indexNames.length&&vc&&x(f)&&0<=f.indexOf(\";base64,\")){'\"'==f.charAt(0)&&'\"'==f.charAt(f.length-1)&&(f=f.substr(1,f.length-2));f=f.split(\";base64,\");b=f[0].split(\":\")[1];for(var f=window.atob(f[1]),k=f.length,m=new Uint8Array(k),n=0;n<k;++n)m[n]=f.charCodeAt(n);","O(a,new Blob([m.buffer],{type:b}))}else O(a,b.target.result)};f.onerror=function(b){b.preventDefault();O(a,f.error,!0)}};","l.qb=function(a,b,c){function d(b){if(null==c[b])if(f++,e[b]=void 0,f==h)O(a,e);else{var m=b+10;m<h&&d(m)}var n;n=g.get(c[b]);n.onsuccess=function(c){f++;e[b]=c.target.result;f==h?O(a,e):(c=b+10,c<h&&d(c))};n.onerror=function(b){f++;b.preventDefault();O(a,n.error,!0)}}var e=[];e.length=c.length;var f=0,g=a.a.objectStore(b),h=c.length;J(this.logger,Q(a)+\" \"+b+\":\"+h+\" ids\");if(0<h)for(b=0;10>b&&b<h;b++)d(b);else O(a,[])};","l.Xa=function(a,b){function c(f){var h=b[f],k=a.a.objectStore(h.a).get(h.v);k.onsuccess=function(h){e++;d[f]=h.target.result;e==b.length?O(a,d):(h=f+10,h<b.length&&c(h))};k.onerror=function(b){e++;b.preventDefault();O(a,k.error,!0)}}var d=[];d.length=b.length;var e=0;J(this.logger,Q(a)+\" \"+b.length+\" ids\");if(0<b.length)for(var f=0;10>f&&f<b.length;f++)c(f);else O(a,[])};","l.ob=function(a,b,c,d,e){if(d&&e)throw new ed(\"unique count not available in IndexedDB\");e=a.a.objectStore(b);b=Q(a)+\" \"+b+(d?\":\"+d:\"\")+(c?\":\"+S(c):\"\");J(this.logger,b);var f;null!=d?(d=e.index(d),f=null!=c?d.count(c):d.count()):f=null!=c?e.count(c):e.count();f.onsuccess=function(b){O(a,b.target.result)};f.onerror=function(b){b.preventDefault();O(a,f.error,!0)}};","l.Aa=function(a,b,c,d,e,f,g,h,k,m){var n=[],p=a.a.objectStore(c),q=h?k?\"prevunique\":\"prev\":k?\"nextunique\":\"next\";c=Q(a)+\" \"+b+\" \"+c+(d?\":\"+d:\"\")+(e?S(e):\"\");h&&(c+=\" reverse\");k&&(c+=\" unique\");if(m&&u(m[0])){k=d?!u(m[1]):!0;var t=m[0],C=e?e.lower:void 0,D=e?e.upper:void 0,G=e?!!e.lowerOpen:!1;e=e?!!e.upperOpen:!1;e=Td(h?new R(C,t,G,k):new R(t,D,k,e));c+=\" starting from \"+S(m[0]);u(m[1])&&(c+=\", \"+S(m[1]))}J(this.logger,c);var F;F=1==b||2==b||3==b?d?p.index(d).openKeyCursor(e,q):p.openCursor(e,q):","d?p.index(d).openCursor(e,q):p.openCursor(e,q);var N=!1;F.onsuccess=function(c){if(c=c.target.result){if(!N){if(0<g){N=!0;c.advance(g);return}if(m&&d&&u(m[0]))if(u(m[1])){var e=ld.cmp(c.key,m[0]),k=h?-1:1;if(0==e){e=ld.cmp(c.primaryKey,m[1]);if(0==e){N=!0;c[\"continue\"]();return}if(e==k)N=!0;else{c[\"continue\"]();return}}else N=!0}else N=!0;else N=!0}1==b?n.push(c.key):2==b?n.push(c.primaryKey):3==b?(k={},d&&(k[d]=c.key),p.keyPath?k[p.keyPath]=c.primaryKey:k._ROWID_=c.primaryKey,n.push(k)):4==b?n.push(c.value):","n.push([c.key,c.primaryKey,c.value]);if(n.length<f)c[\"continue\"]();else m&&(m[0]=Rd(c.key),m[1]=Rd(c.primaryKey)),O(a,n)}else m&&(m[0]=void 0,m[1]=void 0),O(a,n)};F.onerror=function(b){b.preventDefault();O(a,F.error,!0)}};function Tf(a,b){this.a=b}A(Tf,hg);Tf.prototype.logger=H(\"ydn.db.core.req.IndexedDb\");Tf.prototype.b=function(a,b,c,d){c=T(this.a,c);return new gg(a,b,c,d)};function ig(a,b,c,d){gf.call(this,a,b,c,d);this.F=null;this.c=this.i=void 0}A(ig,gf);l=ig.prototype;l.logger=H(\"ydn.db.core.req.WebsqlCursor\");l.R=function(){return this.c};l.cb=function(a,b,c,d,e){ig.A.cb.call(this,a,b,c,d,e);this.F=x(b)?re(this.a,b):null};l.Ma=function(){return this.l};function jg(a,b){a.i=void 0;a.c=void 0;a.l=void 0;if(u(b))if(z(b)){var c=he(b[a.a.g],a.a.type);a.c=c;if(a.g){var d=re(a.a,a.j);a.i=he(b[a.j],d.type)}else a.i=c;a.l=a.Ha?c:kg(b,a.a)}else a.l=b}","function lg(a,b,c){re(a.a,a.j);var d=[],e=a.j,f=a.Z,g=a.i;if(null!=f){var h=f.lower,k=f.upper,m=f.lowerOpen,n=f.upperOpen;a.B?k=null!=k&&-1==Dd(k,g)?k:g:h=null!=h&&1==Dd(h,g)?h:g;null!=h&&null!=k?f=Wd(h,k,!!m,!!n):f=null!=h?$d.lowerBound(h,!!m):$d.upperBound(k,!!n)}else f=a.B?$d.upperBound(g):$d.lowerBound(g);e=qe(a.a,d,a.K,e,f,a.B,a.unique);c=a.B?$d.upperBound(c,!1):$d.lowerBound(c,!1);c=qe(a.a,d,a.K,a.a.g,c,a.B,a.unique);e.s=e.s?e.s+(\" AND \"+c.s):c.s;c=\"SELECT \"+e.select+\" FROM \"+e.ea+(e.s?\" WHERE \"+","e.s:\"\")+(e.group?\" GROUP BY \"+e.group:\"\")+\" ORDER BY \"+e.V;c+=\" LIMIT 1\";J(a.logger,a+\": continuePrimary:  SQL: \"+c+\" : \"+S(d));a.f.executeSql(c,d,function(c,d){0<d.rows.length?jg(a,d.rows.item(0)):jg(a);b.call(a,a.i,a.c,a.l);b=null},function(c,d){I(a.logger,\"get error: \"+d.message);hf(a,d);jg(a);b.call(a,a.c,a.i,a.l);b=null;return!1})}","function mg(a,b,c,d,e,f){var g=!d;d=[];a.g&&null!=f&&null!=c?c=ue(a.a,a.K,d,a.F.getName(),a.Z,c,g,f,a.B,a.unique):null!=c?c=te(a.a,a.K,d,a.F?a.F.getName():null,a.Z,a.B,a.unique,c,g):(c=pe(a.a,d,a.K,a.g?a.F.f:a.a.g,a.Z,a.B,a.unique),a.g&&(c+=\", \"+a.a.f+\" ASC\"));c+=\" LIMIT 1\";0<e&&(c+=\" OFFSET \"+e);J(a.logger,a+\": continue:  SQL: \"+c+\" : \"+S(d));a.f.executeSql(c,d,function(c,d){0<d.rows.length?jg(a,d.rows.item(0)):jg(a);b.call(a,a.i,a.c,a.l);b=null},function(c,d){I(a.logger,\"get error: \"+d.message);","hf(a,d);jg(a);b.call(a,a.c,a.i,a.l);b=null;return!1})}l.Va=function(){return!!this.f};l.update=function(a){if(!this.Va())throw new Cf;var b=new E,c=this.R();a=Ae(this.a,a,c);var d=\"REPLACE INTO \"+se(this.a)+\" (\"+a.nb.join(\", \")+\") VALUES (\"+a.zb.join(\", \")+\")\";J(this.logger,this+': update \"'+d+'\" : '+S(a.values));this.f.executeSql(d,a.values,function(){b.callback(c)},function(a,c){b.m(c);return!1});return b};","l.advance=function(a){var b=this.i,c=this.c,d=!0;null==this.i||this.g&&null==this.c||(--a,d=!1);mg(this,function(a,d,g){var h=null!=b&&null!=a&&0==Dd(b,a);if(this.g){var k=null!=d&&null!=c&&0==Dd(d,c);if(h&&k)throw new fd(\"current: \"+b+\";\"+c+\" next: \"+a+\";\"+d);}else if(h)throw new fd(\"current: \"+b+\" next: \"+a);this.O(a,d,g)},this.i,d,a,this.c)};l.da=function(a){null!=a?mg(this,this.O,a,!0):this.advance(1)};l.openCursor=function(a,b){mg(this,this.O,a,!1,0,b)};","l.clear=function(){if(!this.Va())throw new Cf;var a=new E,b=this.a.g,b=\"DELETE FROM \"+se(this.a)+\" WHERE \"+b+\" = ?\",c=[this.R()];J(this.logger,this+': clear \"'+b+'\" : '+S(c));this.f.executeSql(b,c,function(b,c){a.callback(c.rowsAffected)},function(b,c){a.m(c);return!1});return a};l.Ba=function(a){var b=Dd(a,this.c);if(0==b||1==b&&this.B||-1==b&&!this.B)throw new $e(this+\" to continuePrimaryKey  from \"+this.c+\" to \"+a+\" on \"+this.L+\" direction is wrong\");lg(this,this.O,a)};","l.toString=function(){return\"WebSql\"+ig.A.toString.call(this)};function ng(a,b){this.a=b}A(ng,Hf);l=ng.prototype;l.logger=H(\"ydn.db.crud.req.WebSql\");","function kg(a,b){if(b.ba&&!b.keyPath&&0==b.a.length&&a._default_){var c=a._default_;if(-1==c.indexOf(\";base64,\"))return Ke(c);'\"'==c.charAt(0)&&'\"'==c.charAt(c.length-1)&&(c=c.substr(1,c.length-2));for(var d=c.split(\";base64,\"),c=d[0].split(\":\")[1],d=window.atob(d[1]),e=d.length,f=new Uint8Array(e),g=0;g<e;++g)f[g]=d.charCodeAt(g);return new Blob([f.buffer],{type:c})}c=a._default_?Ke(a._default_):{};null!=b.keyPath&&(d=he(a[b.keyPath],b.type),null!=d&&ze(b,c,d));for(d=0;d<b.a.length;d++)if(e=b.index(d),","f=e.f,\"_default_\"!=f&&!e.h&&!e.multiEntry&&(\"DATE\"==e.type||b.ba)&&(g=he(a[f],e.type),u(g)))for(var f=c,h=0;h<e.a.length;h++)h==e.a.length-1?f[e.a[h]]=g:z(f[e.a[h]])||(f[e.a[h]]={});return c}","l.N=function(a,b,c,d,e,f){function g(b,d){if(null==e[b])if(J(m.logger,\"empty object at \"+b+\" of \"+e.length),p++,p==e.length)K(m.logger,q+\" success \"+q),O(a,n,t);else{var G=b+2;G<e.length&&g(G,d)}var F;F=u(f)?Ae(h,e[b],f[b]):Ae(h,e[b]);G=k+se(h)+\" (\"+F.nb.join(\", \")+\") VALUES (\"+F.zb.join(\", \")+\");\";J(m.logger,Q(a)+\" SQL: \"+G+\" PARAMS: \"+F.values+\" REQ: \"+b+\" of \"+e.length);d.executeSql(G,F.values,function(f,q){function G(b,c){var e=k+Fa(\"ydn.db.me:\"+h.getName()+\":\"+b.getName())+\" (\"+h.f+\", \"+b.c+","\") VALUES (?, ?)\",f=[ce(V,h.type),ce(c,b.type)];J(m.logger,Q(a)+\" multiEntry \"+e+\" \"+f);d.executeSql(e,f,function(){},function(a,b){I(m.logger,\"multiEntry index insert error: \"+b.message);return!1})}p++;var V=u(F.key)?F.key:q.insertId;1>q.rowsAffected&&(t=!0,V=new Bf(V+\" no-op\"));for(var Za=0,ad=h.a.length;Za<ad;Za++){var fb=h.index(Za);if(fb.multiEntry)for(var ub=md(e[b],fb.keyPath),th=(ub?ub.length:0)||0,le=0;le<th;le++)G(fb,ub[le])}c?O(a,V):(n[b]=V,p==e.length?O(a,n,t):(Za=b+2,Za<e.length&&g(Za,","f)))},function(d,f){p++;t=!0;6==f.code?f.name=\"ConstraintError\":I(m.logger,\"error: \"+f.message+\" \"+q);if(c)O(a,f,!0);else if(n[b]=f,p==e.length)J(m.logger,\"success \"+q),O(a,n,t);else{var h=b+2;h<e.length&&g(h,d)}return!1})}b=!b;var h=T(this.a,d),k=b?\"INSERT INTO \":\"INSERT OR REPLACE INTO \";d=a.a;var m=this,n=[],p=0,q=Q(a)+\" inserting \"+e.length+\" objects.\",t=!1;if(0<e.length)for(b=0;2>b&&b<e.length;b++)g(b,d);else K(this.logger,\"success\"),O(a,[])};","l.vb=function(a,b,c){if(0==c.length)O(a,[]);else{for(var d=[],e=0,f=0,g=this,h=function(h,k){var m=[];J(g.logger,\"put \"+k.length+\" objects to \"+h);for(var n=xe(T(g.a,h)),p=n?void 0:[],q=0;q<k.length;q++)m.push(b[k[q]]),n||p.push(c[k[q]].v);n=yd(a);Ib(n,function(b){for(var c=0;c<k.length;c++)d[k[c]]=b[c];e++;e==f&&O(a,d)},function(){e++;e==f&&O(a,d,!0)});g.N(n,!1,!1,h,m,p)},k=\"\",m=[],n=[],p=0;p<c.length;p++){var q=c[p].a,t=c[p].v;q!=k?(f++,0<m.length&&h(k,m),m=[p],n=[t],k=q):(m.push(p),n.push(t))}0<","m.length&&h(k,m)}};l.Ua=function(a,b,c){var d=a.a,e=T(this.a,b),f=this;b=e.f;c=[ce(c,e.type)];b=\"SELECT * FROM \"+se(e)+\" WHERE \"+b+\" = ?\";var g=Q(a)+\" SQL: \"+b+\" PARAMS: \"+c;J(this.logger,g);d.executeSql(b,c,function(b,c){if(0<c.rows.length){var d=c.rows.item(0);null!=d?(d=kg(d,e),O(a,d)):(K(f.logger,\"success no result: \"+g),O(a,void 0))}else K(f.logger,\"success no result: \"+g),O(a,void 0)},function(b,c){I(f.logger,\"error: \"+g+\" \"+c.message);O(a,c,!0);return!1})};","l.qb=function(a,b,c){function d(b,e){var p=k.f,q=[ce(c[b],k.type)],t=\"SELECT * FROM \"+se(k)+\" WHERE \"+p+\" = ?\";J(f.logger,\"SQL: \"+t+\" PARAMS: \"+q);e.executeSql(t,q,function(e,f){h++;if(0<f.rows.length){var n=f.rows.item(0);null!=n&&(g[b]=kg(n,k))}else g[b]=void 0;h==c.length?O(a,g):(n=b+10,n<c.length&&d(n,e))},function(e,k){h++;I(f.logger,\"error: \"+t+\" \"+k.message);if(h==c.length)O(a,g);else{var n=b+10;n<c.length&&d(n,e)}return!1})}var e=a.a,f=this,g=[],h=0,k=T(this.a,b);if(0<c.length)for(b=0;10>","b&&b<c.length;b++)d(b,e);else K(f.logger,\"success\"),O(a,[])};","l.Xa=function(a,b){function c(d,h){var n=b[d],p=T(e.a,n.a),q=Qd(n),n=p.f,q=[ce(q,p.type)],t=\"SELECT * FROM \"+se(p)+\" WHERE \"+n+\" = ?\";J(e.logger,\"SQL: \"+t+\" PARAMS: \"+q);h.executeSql(t,q,function(h,m){g++;if(0<m.rows.length){var n=m.rows.item(0);null!=n&&(f[d]=kg(n,p))}else f[d]=void 0;g==b.length?(J(e.logger,\"success \"+t),O(a,f)):(n=d+10,n<b.length&&c(n,h))},function(b,c){O(a,c,!0);return!1})}var d=a.a,e=this,f=[],g=0;if(0<b.length)for(var h=0;10>h&&h<b.length;h++)c(h,d);else J(this.logger,\"success\"),","O(a,[])};","l.Pa=function(a,b){function c(d,g){function h(a){a=\"DELETE FROM  \"+Fa(\"ydn.db.me:\"+k.getName()+\":\"+a.getName());J(e.logger,\"SQL: \"+a);g.executeSql(a,[])}var k=T(e.a,b[d]),m=\"DELETE FROM  \"+se(k);J(e.logger,\"SQL: \"+m+\" PARAMS: []\");g.executeSql(m,[],function(g){d==b.length-1?(J(e.logger,\"success \"+m),O(a,b.length)):c(d+1,g)},function(b,c){O(a,c,!0);return!1});for(var n=0,p=k.a.length;n<p;n++){var q=k.index(n);q.multiEntry&&h(q)}}var d=a.a,e=this;0<b.length?c(0,d):(J(this.logger,\"success\"),O(a,0))};","l.Za=function(a,b){function c(h){if(h>=b.length)O(a,f,g);else{var k=T(e.a,b[h].a),m=ce(b[h].v,k.type),n=\" WHERE \"+k.f+\" = ?\",p=\"DELETE FROM \"+se(k)+n,q=Q(a)+\" SQL: \"+p+\" PARAMS: \"+[m];d.executeSql(p,[m],function(){f++;c(h)},function(a,b){I(e.logger,\"error: \"+q+b.message);g=!0;c(h);return!1});h++;for(var p=function(b){b=\"DELETE FROM  \"+Fa(\"ydn.db.me:\"+k.getName()+\":\"+b.getName())+n;J(e.logger,Q(a)+NaN+b);d.executeSql(b,[m])},t=0,C=k.a.length;t<C;t++){var D=k.index(t);D.multiEntry&&p(D)}}}var d=a.a,","e=this,f=0,g=!1;J(this.logger,Q(a)+\" removeByKeys: \"+b.length+\" keys\");c(0)};","l.Ya=function(a,b,c){function d(b){b=\"DELETE FROM  \"+Fa(\"ydn.db.me:\"+f.getName()+\":\"+b.getName())+k;J(h.logger,Q(a)+NaN+b);e.executeSql(b,[g])}var e=a.a,f=T(this.a,b),g=ce(c,f.type),h=this,k=\" WHERE \"+f.f+\" = ?\";b=\"DELETE FROM \"+se(f)+k;J(this.logger,Q(a)+\" SQL: \"+b+\" PARAMS: \"+[g]);e.executeSql(b,[g],function(b,c){O(a,c.rowsAffected)},function(b,c){O(a,c,!0);return!1});b=0;for(c=f.a.length;b<c;b++){var m=f.index(b);m.multiEntry&&d(m)}};l.mb=function(a,b,c){og(this,a,b,void 0,c)};","l.xb=function(a,b,c){og(this,a,b,void 0,c)};l.wb=function(a,b,c,d){og(this,a,b,c,d)};","function og(a,b,c,d,e){function f(c){c=\"DELETE FROM  \"+Fa(\"ydn.db.me:\"+h.getName()+\":\"+c.getName())+n;J(a.logger,Q(b)+NaN+c);g.executeSql(c,m)}var g=b.a,h=T(a.a,c);c=\"DELETE FROM \"+se(h);var k=[],m=[],n=\"\";null!=e&&(u(d)?(d=re(h,d),be(d.c,d.type,e,m,k)):be(h.f,h.type,e,m,k),n=\" WHERE \"+m.join(\" AND \"));c+=n;var p=Q(b)+\" SQL: \"+c+\" PARAMS: \"+k;J(a.logger,p);g.executeSql(c,k,function(c,d){J(a.logger,\"success \"+p);O(b,d.rowsAffected)},function(c,d){I(a.logger,\"error: \"+p+d.message);O(b,d,!0);return!1});","e=0;for(d=h.a.length;e<d;e++)c=h.index(e),c.multiEntry&&f(c)}l.Qa=function(a,b){function c(g){var h=\"SELECT COUNT(*) FROM \"+Fa(b[g]);J(e.logger,\"SQL: \"+h+\" PARAMS: []\");d.executeSql(h,[],function(d,e){var h=e.rows.item(0);f[g]=parseInt(h[\"COUNT(*)\"],10);g++;g==b.length?O(a,f):c(g)},function(b,c){O(a,c,!0);return!1})}var d=a.a,e=this,f=[];0==b.length?(J(this.logger,\"success\"),O(a,0)):c(0)};","l.ob=function(a,b,c,d,e){var f=[];b=pe(T(this.a,b),f,6,d,c,!1,e);J(this.logger,Q(a)+\" SQL: \"+b+\" PARAMS: \"+f);a.a.executeSql(b,f,function(b,c){var d;a:{if(d=c.rows.item(0))for(var e in d)if(d.hasOwnProperty(e)){d=d[e];break a}d=void 0}O(a,d)},function(b,c){O(a,c,!0);return!1})};","l.Aa=function(a,b,c,d,e,f,g,h,k,m){var n=this,p=[],q=T(this.a,c),t=q.g,C=q.type,D=C,G=null!=d&&d!==t?re(q,d):null,F=d||t;G&&(D=G.type);c=[];if(m&&u(m[0])){var N=m[0];d=G&&u(m[1])?ue(q,b,c,G.getName(),e,N,!0,m[1],h,k):te(q,b,c,d,e,h,k,N,!0)}else d=pe(q,c,b,F,e,h,k);y(f)&&(d+=\" LIMIT \"+f);y(g)&&(d+=\" OFFSET \"+g);var qa=a+\" SQL: \"+d+\" ;params= \"+S(c);J(this.logger,qa);a.a.executeSql(d,c,function(c,d){for(var e=d.rows.length,f,g=0;g<e;g++)f=d.rows.item(g),2==b?p[g]=he(f[t],C):1==b?p[g]=he(f[F],D):3==","b?p[g]=[he(f[F],D),he(f[t],C)]:null!=f&&(p[g]=kg(f,q));K(n.logger,\"success \"+a);m&&f&&(m[0]=he(f[F],D),m[1]=he(f[t],C));O(a,p)},function(b,c){I(n.logger,\"error: \"+qa+c.message);O(a,c,!0);return!1})};function Uf(a,b){this.a=b}A(Uf,ng);Uf.prototype.logger=H(\"ydn.db.core.req.WebSql\");Uf.prototype.b=function(a,b,c,d){c=T(this.a,c);return new ig(a,b,c,d)};function pg(a,b){u(a)&&5242880<a&&Zc(this.logger,Mc,\"storage size request ignored, use Quota Management API instead\");this.u=null;this.ta=b||NaN}l=pg.prototype;","l.connect=function(a,b){function c(a,c,d){K(e.logger,(d?\"changing\":\"upgrading\")+\" version to \"+a.version+\" from \"+g);for(d=0;d<b.stores.length;d++)qg(e,a,c,b.stores[d]);c=a.objectStoreNames;var f=c.length;for(d=0;d<f;d++)Re(b,c[d])||(a.deleteObjectStore(c[d]),K(e.logger,\"store: \"+c[d]+\" deleted.\"))}function d(a,b){f.c?I(e.logger,\"database already set.\"):u(b)?(I(e.logger,b?b.message:\"Error received.\"),e.u=null,f.m(b)):(e.u=a,e.u.onabort=function(){J(e.logger,e+\": abort\")},e.u.onerror=function(){J(e.logger,","e+\": error\")},e.u.onversionchange=function(a){J(e.logger,e+\" closing connection for onversionchange to: \"+a.version);if(e.u&&(e.u.onabort=null,e.u.onblocked=null,e.u.onerror=null,e.u.onversionchange=null,!a.defaultPrevented)){e.u.close();e.u=null;var b=Error();b.name=a.type;e.bb(b)}},f.callback(parseFloat(g)))}var e=this,f=new E,g=void 0,h=b.version;Zc(this.logger,Qc,\"Opening database: \"+a+\" ver: \"+(b.ga?\"auto\":h));var k;k=u(h)?ld.open(a,h):ld.open(a);k.onsuccess=function(f){var h=f.target.result;","u(g)||(g=h.version);Zc(e.logger,Qc,\"Database: \"+h.name+\", ver: \"+h.version+\" opened.\");if(b.ga)e.W(function(f){if(b instanceof Te)for(var g=0;g<f.stores.length;g++)Re(b,f.stores[g].getName())||Ue(b,f.stores[g].clone());f=Se(b,f,!1,!0);if(0<f.length){Zc(e.logger,Qc,\"Schema change require for difference in \"+f);var k=y(h.version)?h.version+1:1;if(\"IDBOpenDBRequest\"in r){h.close();var m=ld.open(a,k);m.onupgradeneeded=function(a){a=a.target.result;Zc(e.logger,Qc,\"re-open for version \"+a.version);c(a,","m.transaction,!1)};m.onsuccess=function(a){d(a.target.result)};m.onerror=function(){Zc(e.logger,Qc,e+\": fail.\");d(null)}}else{var p=h.setVersion(k+\"\");p.a=function(a){I(e.logger,\"migrating from \"+h.version+\" to \"+k+\" failed.\");d(null,a)};p.onsuccess=function(){p.transaction.oncomplete=F;c(h,p.transaction,!0)};var F=function(){var b=ld.open(a);b.onsuccess=function(a){a=a.target.result;Zc(e.logger,Qc,e+\": OK.\");d(a)};b.onerror=function(){Zc(e.logger,Qc,e+\": fail.\");d(null)}};null!=p.transaction&&(p.transaction.oncomplete=","F)}}else d(h)},void 0,h);else if(b.version>h.version){var k=h.setVersion(b.version);k.a=function(a){I(e.logger,\"migrating from \"+h.version+\" to \"+b.version+\" failed.\");d(null,a)};k.onsuccess=function(){c(h,k.transaction,!0)}}else b.version==h.version?Zc(e.logger,Qc,\"database version \"+h.version+\" ready to go\"):I(e.logger,\"connected database version \"+h.version+\" is higher than requested version.\"),e.W(function(a){a=Se(b,a,!1,!0);0<a.length?(Zc(e.logger,Qc,a),d(null,new Ye(\"different schema: \"+a))):","d(h)},void 0,h)};k.onupgradeneeded=function(a){a=a.target.result;g=NaN;Zc(this.logger,Qc,\"upgrade needed for version \"+a.version);c(a,k.transaction,!1)};k.onerror=function(c){$c(e.logger,'open request to database \"'+a+'\" '+(u(b.version)?\" with version \"+b.version:\"\")+\" cause error of \"+k.error.name);d(null,c)};k.onblocked=function(c){$c(e.logger,\"database \"+a+\" \"+b.version+\" block, close other connections.\");d(null,c)};y(this.ta)&&!isNaN(this.ta)&&setTimeout(function(){\"done\"!=k.readyState&&($c(e.logger,","e+\": database state is still \"+k.readyState),d(null,new Gf(\"connection timeout after \"+e.ta)))},this.ta);return f};l.ta=18E4;l.bb=function(){};l.Db=function(){};l.ub=function(){};l.Bb=function(){return\"indexeddb\"};l.Ab=function(){return this.u||null};l.ab=function(){return!!this.u};l.logger=H(\"ydn.db.con.IndexedDb\");l.u=null;l.Cb=function(){return this.u?parseFloat(this.u.version):void 0};","l.W=function(a,b,c){c=c||this.u;if(u(b)){if(null===b){if(0==c.objectStoreNames.length){a(new Pe(c.version));return}throw new Xe;}c=b.db}else{b=[];for(var d=c.objectStoreNames.length-1;0<=d;d--)b[d]=c.objectStoreNames[d];if(0==b.length){a(new Pe(c.version));return}b=c.transaction(b,jd)}for(var e=c.objectStoreNames,f=[],g=e.length,d=0;d<g;d++){for(var h=b.objectStore(e[d]),k=[],m=0,n=h.indexNames.length;m<n;m++){var p=h.index(h.indexNames[m]);k[m]=new ee(p.keyPath,void 0,p.unique,p.multiEntry,p.name)}f[d]=","new ne(h.name,h.keyPath,h.autoIncrement,void 0,k)}b=new Pe(c.version,f);a(b)};","function qg(a,b,c,d){function e(){var a={autoIncrement:!!d.b};null!=d.keyPath&&(a.keyPath=d.keyPath);return b.createObjectStore(d.getName(),a)}Zc(a.logger,Rc,\"Creating Object Store for \"+d.getName()+\" keyPath: \"+d.keyPath);if(b.objectStoreNames.contains(d.getName())){c=c.objectStore(d.getName());je(d.keyPath||\"\",c.keyPath||\"\")?(b.deleteObjectStore(d.getName()),Zc(a.logger,Mc,\"store: \"+d.getName()+\" deleted due to keyPath change.\"),c=e()):ca(c.autoIncrement)&&ca(d.b)&&c.autoIncrement!=d.b&&(b.deleteObjectStore(d.getName()),","Zc(a.logger,Mc,\"store: \"+d.getName()+\" deleted due to autoIncrement change.\"),c=e());for(var f=c.indexNames,g=0;g<d.a.length;g++){var h=d.index(g);!f.contains(h.getName())&&h.g&&(c.clear(),Zc(a.logger,Mc,\"store: \"+d.getName()+\" cleared since generator index need re-indexing.\"))}for(var k=0,m=0,n=0,g=0;g<d.a.length;g++){var h=d.index(g),p=!1;if(f.contains(h.getName())){var q=c.index(h.getName()),t=null!=q.unique&&null!=h.unique&&q.unique!=h.unique,C=null!=q.multiEntry&&null!=h.multiEntry&&q.multiEntry!=","h.multiEntry,q=null!=q.keyPath&&null!=h.keyPath&&!!je(q.keyPath,h.keyPath);if(t||C||q)c.deleteIndex(h.getName()),p=!0,k--,n++}else\"BLOB\"!=h.type&&(p=!0);p&&(h.unique||h.multiEntry?(p={unique:h.unique,multiEntry:h.multiEntry},c.createIndex(h.getName(),h.keyPath,p)):c.createIndex(h.getName(),h.keyPath),k++)}for(g=0;g<f.length;g++)ve(d,f[g])||(c.deleteIndex(f[g]),m++);Zc(a.logger,Rc,\"Updated store: \"+c.name+\", \"+k+\" index created, \"+m+\" index deleted, \"+n+\" modified.\")}else{c=e();for(g=0;g<d.a.length;g++)h=","d.index(g),\"BLOB\"==h.type?Zc(a.logger,Nc,\"Index \"+h+\" of blob data type ignored.\"):(J(a.logger,\"Creating index: \"+h+\" for \"+d.getName()),h.unique||h.multiEntry?(p={unique:h.unique,multiEntry:h.multiEntry},c.createIndex(h.getName(),h.keyPath,p)):c.createIndex(h.getName(),h.keyPath));K(a.logger,\"Created store: \"+c)}}","l.Sa=function(a,b,c,d){var e=this.u;if(!b){b=[];for(var f=e.objectStoreNames.length-1;0<=f;f--)b[f]=e.objectStoreNames[f]}0==b.length?a(null):(b=e.transaction(b,c),b.oncomplete=function(a){d(\"complete\",a)},b.onabort=function(a){d(\"abort\",a)},a(b),a=null)};l.close=function(){Zc(this.logger,Rc,this+\" closing connection\");this.u.close()};l.toString=function(){return\"IndexedDB:\"+(this.u?this.u.name+\":\"+this.u.version:\"\")};","Ed.push(function(a,b){if(!ld||b&&\"indexeddb\"!=b)return null;var c=ld.deleteDatabase(a),d=new wd(\"IDBVersionChangeEvent \");c.onblocked=function(a){hd(d,a)};c.onerror=function(a){d.m(a)};c.onsuccess=function(a){d.callback(a)};return d});function rg(a,b){this.a=u(a)?a:4194304;this.b=b||\"websql\"}l=rg.prototype;","l.connect=function(a,b){function c(b,c){var f=b.version?parseInt(b.version,10):0,g=c.ga?isNaN(f)?1:f+1:c.version;bd(e.logger,a+\": changing version from \"+b.version+\" to \"+g);var h=!1,k=0;b.changeVersion(b.version,g+\"\",function(a){e.W(function(b){h=!0;for(var d=0;d<c.count();d++){var f=T(b,c.ia(d).getName()),f=f?we(f,c.ia(d)):null;sg(e,a,c.ia(d),function(a){a&&k++},f)}for(d=0;d<b.count();d++)f=b.ia(d),Re(c,f.getName())||(c instanceof Te?Ue(c,f):(f=\"DROP TABLE \"+se(f),K(e.logger,f),a.executeSql(f,[],","function(){},function(a,b){throw b;})))},a,b)},function(c){$c(e.logger,\"SQLError \"+c+\" \"+c.code+\"(\"+c.message+\") while changing version from \"+b.version+\" to \"+g+\" on \"+a);throw c;},function(){if(h){var f=\".\";k!=c.stores.length&&(f=\" but unexpected stores exists.\");J(e.logger,a+\":\"+b.version+\" ready\"+f);d(b)}else I(e.logger,a+\": changing version voided.\")})}function d(a,b){u(b)?(e.C=null,g.m(b)):(e.C=a,g.callback(parseFloat(f)))}var e=this,f=NaN,g=new E,h=null;try{\"sqlite\"==this.b?r.sqlitePlugin?","(h=r.sqlitePlugin.openDatabase(a,\"\",a,this.a),h.readTransaction||(h.readTransaction=h.transaction),h.changeVersion=function(a,b,c,d,e){h.transaction(c,d,e)}):(I(this.logger,\"sqlitePlugin not found.\"),h=null,this.Ia=Error(\"sqlitePlugin not found.\")):h=r.openDatabase(a,\"\",a,this.a)}catch(k){if(\"SECURITY_ERR\"==k.name)I(this.logger,\"SECURITY_ERR for opening \"+a),h=null,this.Ia=new Ff(k);else throw k;}if(h){var f=h.version||\"\",m=\"database \"+a+(0==f.length?\"\":\" version \"+h.version);null!=b.version&&b.version==","h.version?(bd(e.logger,\"Existing \"+m+\" opened as requested.\"),d(h)):this.W(function(a){(a=Se(b,a,!0,!1))?(0==f?bd(e.logger,\"New \"+m+\" created.\"):b.ga?bd(e.logger,\"Existing \"+m+\" opened and schema change for \"+a):bd(e.logger,\"Existing \"+m+\" opened and  schema change to version \"+b.version+\" for \"+a),c(h,b)):(bd(e.logger,\"Existing \"+m+\" with same schema opened.\"),d(h))},null,h)}else d(null,this.Ia);return g};l.Bb=function(){return this.b};l.Ia=null;l.C=null;l.Ab=function(){return this.C||null};","l.logger=H(\"ydn.db.con.WebSql\");l.bb=function(){};l.Db=function(){};","function tg(a){var b=a.o,c=\"CREATE TABLE IF NOT EXISTS \"+se(a)+\" (\",d=a.f,c=c+(d+\" \"+b+\" PRIMARY KEY \");a.b&&(c+=\" AUTOINCREMENT \");if(!a.ba||!a.keyPath&&0==a.a.length)c+=\" ,_default_ BLOB\";for(var e=[],f=[d],g=0,h=a.a.length;g<h;g++){var k=a.index(g),m=\"\";if(k.multiEntry)m=k.unique?\" UNIQUE \":\"\",k=\"CREATE TABLE IF NOT EXISTS \"+Fa(\"ydn.db.me:\"+a.getName()+\":\"+k.getName())+\" (\"+d+\" \"+b+\", \"+k.c+\" \"+k.i+m+\")\",e.push(k);else{k.unique&&(m=\" UNIQUE \");var n=k.c;-1==f.indexOf(n)&&(c+=\", \"+n+\" \"+k.i+m,f.push(n))}}e.unshift(c+","\")\");return e}l.Cb=function(){return this.C?parseFloat(this.C.version):void 0};","l.W=function(a,b,c){function d(a,b){throw b;}function e(b,c){if(c&&c.rows){for(var d=0;d<c.rows.length;d++){var e=c.rows.item(d);if(\"__WebKitDatabaseInfoTable__\"!=e.name&&\"sqlite_sequence\"!=e.name&&\"table\"==e.type){var q=\"sql\"in e?e.sql:void 0;J(f.logger,\"Parsing table schema from SQL: \"+q);for(var t=q.substr(q.indexOf(\"(\"),q.lastIndexOf(\")\")).match(/(?:\"[^\"]*\"|[^,])+/g),C=void 0,D,q=[],G=!1,F=!1,N=0;N<t.length;N++){var qa=t[N].match(/\\w+|\"[^\"]+\"/g),aa=La(qa,function(a){return a.toUpperCase()}),V=","Ca(qa[0]),qa=fe(aa[1]);if(-1!=aa.indexOf(\"PRIMARY\")&&-1!=aa.indexOf(\"KEY\")){D=qa;if(x(V)&&!sa(V)&&\"_ROWID_\"!=V){var Za=V.split(\",\"),C=V;1<Za.length&&(C=Za,D=void 0)}-1!=aa.indexOf(\"AUTOINCREMENT\")&&(G=!0)}else if(\"_ROWID_\"!=V)if(\"_default_\"==V)F=!0;else{var ad=\"UNIQUE\"==aa[2];0==V.lastIndexOf(e.tbl_name+\"-\",0)&&(V=V.substr(e.tbl_name.length+1));aa=new ee(V,qa,ad);q.push(aa)}}if(0==e.name.lastIndexOf(\"ydn.db.me:\",0)){var fb=e.name.split(\":\");if(3<=fb.length){var ub=fb[1],C=new ee(fb[2],qa,ad,!0),t=","Oa(q,function(a){return a.getName()==fb[2]});0<=t?q[t]=C:q.push(C);t=Oa(h,function(a){return a.getName()===ub});0<=t?(N=h[t],h[t]=new ne(N.getName(),N.keyPath,G,D,q,void 0,!F)):h.push(new ne(ub,void 0,!1,void 0,[C]));J(f.logger,'multi entry index \"'+C.getName()+'\" found in '+ub+(-1==t?\"*\":\"\"))}else I(f.logger,'Invalid multiEntry store name \"'+e.name+'\"')}else N=Oa(h,function(a){return a.getName()===e.name}),0<=N?(t=h[N].index(0),q.push(t),h[N]=new ne(e.name,C,G,D,q,void 0,!F)):(q=new ne(e.name,C,","G,D,q,void 0,!F),h.push(q))}}d=new Pe(g,h);a(d)}}var f=this,g=(c=c||this.C)&&c.version?parseFloat(c.version):void 0,g=isNaN(g)?void 0:g,h=[];b?b.executeSql(\"SELECT * FROM sqlite_master\",[],e,d):c.readTransaction(function(b){f.W(a,b,c)},function(a){$c(f.logger,\"opening tx: \"+a.message);throw a;},e)};","function sg(a,b,c,d,e){function f(a){b.executeSql(a,[],function(){g++;g==h.length&&(d(!0),d=null)},function(b,e){g++;g==h.length&&(d(!1),d=null);throw new Ef(e,\"SQLError creating table: \"+c.getName()+\" \"+e.message+' for executing \"'+a);})}var g=0,h=tg(c),k=\"Create\";if(e){e=Be(c,e);if(0==e.length){J(a.logger,\"same table \"+c.getName()+\" exists.\");d(!0);d=null;return}k=\"Modify\";I(a.logger,\"table: \"+c.getName()+\" has changed by \"+e+\" ALTER TABLE cannot run in WebSql, dropping old table.\");h.unshift(\"DROP TABLE IF EXISTS \"+","Fa(c.getName()))}J(a.logger,k+\" table: \"+c.getName()+\": \"+h.join(\";\"));for(a=0;a<h.length;a++)f(h[a])}l.ab=function(){return!!this.C};l.close=function(){this.C=null};","l.Sa=function(a,b,c,d){function e(a){J(h.logger,h+\": Tx \"+c+\" request cause error.\");d(\"abort\",a)}function f(){d(\"complete\",{type:\"complete\"})}function g(b){a(b)}var h=this;null===this.C&&(a(null),d(\"abort\",this.Ia));c==jd?this.C.readTransaction(g,e,f):c==kd?this.C.changeVersion(this.C.version,this.C.version+1+\"\",g,e,f):this.C.transaction(g,e,f)};","Ed.push(function(a,b){if(da(r.openDatabase)&&(!b||\"websql\"==b)){var c=new rg,d=new Te;K(c.logger,\"deleting websql database: \"+a);var d=c.connect(a,d),e=function(){var b=c.logger;b&&b.log(Nc,\"all tables in \"+a+\" deleted.\",void 0)};d.J(function(){c.Sa(function(b){b.executeSql('SELECT * FROM sqlite_master WHERE type = \"table\"',[],function(d,e){if(e&&e.rows){for(var k=e.rows.length,m=0,n=0;n<k;n++){var p=e.rows.item(n);\"__WebKitDatabaseInfoTable__\"!=p.name&&\"sqlite_sequence\"!=p.name&&(m++,J(c.logger,","\"deleting table: \"+p.name),b.executeSql(\"DROP TABLE \"+p.name))}K(c.logger,m+' tables deleted from \"'+a+'\"')}},function(a,b){throw b;})},[],M,e)});d.jb(function(){I(c.logger,\"Connecting \"+a+\" failed.\")})}});rg.prototype.ub=function(){};rg.prototype.toString=function(){return\"WebSql:\"+(this.C?\":\"+this.C.version:\"\")};/*"," Copyright 2012 YDN Authors, Yathit. All Rights Reserved."," Licensed under the Apache License, Version 2.0 (the \"License\");.","*/","dg.prototype.Ra=function(a){return\"indexeddb\"==a&&ld?new pg(this.j,this.F):\"sqlite\"==a&&r.sqlitePlugin?new rg(this.j,\"sqlite\"):\"websql\"==a&&da(r.openDatabase)?new rg(this.j):null};/*"," Copyright 2012 YDN Authors, Yathit. All Rights Reserved."," Licensed under the Apache License, Version 2.0 (the \"License\");.","*/","dg.prototype.branch=dg.prototype.Hb;dg.prototype.getTxNo=dg.prototype.kc;Sf.prototype.getTxNo=Sf.prototype.h;dg.prototype.run=dg.prototype.Qb;Z.prototype.branch=Z.prototype.Hb;Z.prototype.add=Z.prototype.add;Z.prototype.addAll=Z.prototype.za;Z.prototype.get=Z.prototype.get;Z.prototype.keys=Z.prototype.ka;Z.prototype.keysByIndex=Z.prototype.qa;Z.prototype.values=Z.prototype.values;Z.prototype.valuesByIndex=Z.prototype.ua;Z.prototype.put=Z.prototype.put;Z.prototype.putAll=Z.prototype.Ka;Z.prototype.clear=Z.prototype.clear;Z.prototype.remove=Z.prototype.Na;Z.prototype.count=Z.prototype.count;Y.prototype.add=Y.prototype.add;","Y.prototype.addAll=Y.prototype.za;Y.prototype.get=Y.prototype.get;Y.prototype.keys=Y.prototype.ka;Y.prototype.keysByIndex=Y.prototype.qa;Y.prototype.values=Y.prototype.values;Y.prototype.valuesByIndex=Y.prototype.ua;Y.prototype.put=Y.prototype.put;Y.prototype.putAll=Y.prototype.Ka;Y.prototype.clear=Y.prototype.clear;Y.prototype.remove=Y.prototype.Na;Y.prototype.count=Y.prototype.count;la(\"ydn.db.Key\",Pd);Pd.prototype.id=Pd.prototype.Kb;Pd.prototype.parent=Pd.prototype.dc;Pd.prototype.storeName=Pd.prototype.ec;","la(\"ydn.db.KeyRange\",R);R.upperBound=Xd;R.lowerBound=Yd;R.bound=Wd;R.only=Vd;R.starts=Zd;Ld.prototype.store_name=Ld.prototype.b;Ld.prototype.getStoreName=Ld.prototype.a;function ug(a,b,c){Z.call(this,a,b,c)}A(ug,fg);la(\"ydn.db.Storage\",ug);function vg(){this.a=ka()}var wg=new vg;vg.prototype.set=function(a){this.a=a};vg.prototype.get=function(){return this.a};function xg(a){this.g=a||\"\";this.h=wg}xg.prototype.c=!0;xg.prototype.a=!0;xg.prototype.b=!1;function yg(a){a=new Date(a.g);return zg(a.getFullYear()-2E3)+zg(a.getMonth()+1)+zg(a.getDate())+\" \"+zg(a.getHours())+\":\"+zg(a.getMinutes())+\":\"+zg(a.getSeconds())+\".\"+zg(Math.floor(a.getMilliseconds()/10))}function zg(a){return 10>a?\"0\"+a:String(a)}function Ag(a,b){var c=(a.g-b)/1E3,d=c.toFixed(3),e=0;if(1>c)e=2;else for(;100>c;)e++,c*=10;for(;0<e--;)d=\" \"+d;return d}function Bg(a){xg.call(this,a)}A(Bg,xg);","Bg.prototype.b=!0;Bg.prototype.f=function(a){return a?Cg(this,a).U():\"\"};","function Cg(a,b){var c;switch(b.f.value){case Kc.value:c=\"dbg-sh\";break;case Lc.value:c=\"dbg-sev\";break;case Mc.value:c=\"dbg-w\";break;case Nc.value:c=\"dbg-i\";break;default:c=\"dbg-f\"}var d=[];d.push(a.g,\" \");a.a&&d.push(\"[\",yg(b),\"] \");d.push(\"[\",Ag(b,a.h.get()),\"s] \");d.push(\"[\",b.b,\"] \");var d=lc(d.join(\"\")),e=rc;if(a.b&&b.a){var e=pc(\"br\"),f;try{var g;var h=b.a,k;c:{for(var m=[\"window\",\"location\",\"href\"],n=r,p;p=m.shift();)if(null!=n[p])n=n[p];else{k=null;break c}k=n}if(x(h))g={message:h,name:\"Unknown error\",","lineNumber:\"Not available\",fileName:k,stack:\"Not available\"};else{var q,t;p=!1;try{q=h.lineNumber||h.mc||\"Not available\"}catch(C){q=\"Not available\",p=!0}try{t=h.fileName||h.filename||h.sourceURL||r.$googDebugFname||k}catch(D){t=\"Not available\",p=!0}g=!p&&h.lineNumber&&h.fileName&&h.stack&&h.message&&h.name?h:{message:h.message||\"Not available\",name:h.name||\"UnknownError\",lineNumber:q,fileName:t,stack:h.stack||\"Not available\"}}var G;var F=g.fileName;null!=F||(F=\"\");if(/^https?:\\/\\//i.test(F)){var N;","h=F;h instanceof Xb?N=h:(h=h.X?h.U():String(h),h=$b.test(h)?ac(h):\"about:invalid#zClosurez\",N=dc(h));Rb(\"view-source scheme plus HTTP/HTTPS URL\");var qa=\"view-source:\"+Zb(N);G=dc(qa)}else{var aa=Rb(\"sanitizedviewsrc\");G=dc(Qb(aa))}f=qc(lc(\"Message: \"+g.message+\"\\nUrl: \"),pc(\"a\",{href:G,target:\"_new\"},g.fileName),lc(\"\\nLine: \"+g.lineNumber+\"\\n\\nBrowser stack:\\n\"+g.stack+\"-> [end]\\n\\nJS stack traversal:\\n\"+Cc(void 0)+\"-> \"))}catch(V){f=lc(\"Exception trying to expose exception! You win, we lose. \"+V)}e=","qc(e,f)}f=lc(b.c);c=pc(\"span\",{\"class\":c},qc(f,e));return a.c?qc(d,c,pc(\"br\")):qc(d,c)}function Dg(a){xg.call(this,a)}A(Dg,xg);Dg.prototype.f=function(a){var b=[];b.push(this.g,\" \");this.a&&b.push(\"[\",yg(a),\"] \");b.push(\"[\",Ag(a,this.h.get()),\"s] \");b.push(\"[\",a.b,\"] \");b.push(a.c);this.b&&(a=a.a)&&b.push(\"\\n\",a instanceof Error?a.message:a.toString());this.c&&b.push(\"\\n\");return b.join(\"\")};function Eg(){this.g=ia(this.h,this);this.a=new Dg;this.a.a=!1;this.a.b=!1;this.b=this.a.c=!1;this.c=\"\";this.f={}}Eg.prototype.h=function(a){if(!this.f[a.b]){var b=this.a.f(a),c=Fg;if(c)switch(a.f){case Kc:Gg(c,\"info\",b);break;case Lc:Gg(c,\"error\",b);break;case Mc:Gg(c,\"warn\",b);break;default:Gg(c,\"debug\",b)}else this.c+=b}};var Fg=r.console;function Gg(a,b,c){if(a[b])a[b](c);else a.log(c)};var Hg=!tc||tc&&9<=Bc;!uc&&!tc||tc&&tc&&9<=Bc||uc&&zc(\"1.9.1\");tc&&zc(\"9\");function Ig(a,b){Ya(b,function(b,d){\"style\"==d?a.style.cssText=b:\"class\"==d?a.className=b:\"for\"==d?a.htmlFor=b:d in Jg?a.setAttribute(Jg[d],b):0==d.lastIndexOf(\"aria-\",0)||0==d.lastIndexOf(\"data-\",0)?a.setAttribute(d,b):a[d]=b})}var Jg={cellpadding:\"cellPadding\",cellspacing:\"cellSpacing\",colspan:\"colSpan\",frameborder:\"frameBorder\",height:\"height\",maxlength:\"maxLength\",role:\"role\",rowspan:\"rowSpan\",type:\"type\",usemap:\"useMap\",valign:\"vAlign\",width:\"width\"};","function Kg(a,b,c){function d(c){c&&b.appendChild(x(c)?a.createTextNode(c):c)}for(var e=2;e<c.length;e++){var f=c[e];!w(f)||z(f)&&0<f.nodeType?d(f):Ka(Lg(f)?Qa(f):f,d)}}function Lg(a){if(a&&\"number\"==typeof a.length){if(z(a))return\"function\"==typeof a.item||\"string\"==typeof a.item;if(da(a))return\"function\"==typeof a.item}return!1}function Mg(a){this.a=a||r.document||document}","function Ng(a,b){var c;c=a.a;var d=b&&\"*\"!=b?b.toUpperCase():\"\";c.querySelectorAll&&c.querySelector&&d?c=c.querySelectorAll(d+\"\"):c=c.getElementsByTagName(d||\"*\");return c}","Mg.prototype.b=function(a,b,c){var d=this.a,e=arguments,f=e[0],g=e[1];if(!Hg&&g&&(g.name||g.type)){f=[\"<\",f];g.name&&f.push(' name=\"',ua(g.name),'\"');if(g.type){f.push(' type=\"',ua(g.type),'\"');var h={};bb(h,g);delete h.type;g=h}f.push(\">\");f=f.join(\"\")}f=d.createElement(f);g&&(x(g)?f.className=g:v(g)?f.className=g.join(\" \"):Ig(f,g));2<e.length&&Kg(d,f,e);return f};","Mg.prototype.contains=function(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if(\"undefined\"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a};function Og(a){tc&&u(a.cssText)?a.cssText=\".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}\":a.innerHTML=\".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}\"}",";function Pg(a){this.g=ia(this.h,this);this.b=new Bg;this.c=this.b.a=!1;this.a=a;this.f=this.a.ownerDocument||this.a.document;a=(a=this.a)?new Mg(9==a.nodeType?a:a.ownerDocument||a.document):pa||(pa=new Mg);var b=null,c=a.a;tc&&c.createStyleSheet?(b=c.createStyleSheet(),Og(b)):(c=Ng(a,\"head\")[0],c||(b=Ng(a,\"body\")[0],c=a.b(\"head\"),b.parentNode.insertBefore(c,b)),b=a.b(\"style\"),Og(b),c.appendChild(b));this.a.className+=\" logdiv\"}","Pg.prototype.h=function(a){if(a){var b=100>=this.a.scrollHeight-this.a.scrollTop-this.a.clientHeight,c=this.f.createElement(\"div\");c.className=\"logmsg\";a=Cg(this.b,a);c.innerHTML=ic(a);this.a.appendChild(c);b&&(this.a.scrollTop=this.a.scrollHeight)}};Pg.prototype.clear=function(){this.a&&(this.a.innerHTML=ic(rc))};tc&&zc(\"9\");!vc||zc(\"528\");uc&&zc(\"1.9b\")||tc&&zc(\"8\")||sc&&zc(\"9.5\")||vc&&zc(\"528\");uc&&!zc(\"8\")||tc&&zc(\"9\");var Qg=null,Rg=null;H(\"ydn.debug\");la(\"ydn.debug.log\",function(a,b,c){a=a||\"ydn\";if(y(b))b=new Jc(\"log\",b);else if(x(b)){b=b.toUpperCase();if(!Tc){Tc={};for(var d=0,e;e=Sc[d];d++)Tc[e.value]=e,Tc[e.name]=e}b=Tc[b]||null}else b=Pc;(d=H(a))?d.b=b:window.console.log(\"logger \"+a+\" not available.\");u(c)?!Rg&&(a=Rg=new Pg(c),1!=a.c&&(c=Yc(),b=a.g,c.a||(c.a=[]),c.a.push(b),a.c=!0),a=Yc())&&(a.b=Mc):!Qg&&!Rg&&(a=Qg=new Eg,1!=a.b&&(c=Yc(),b=a.g,c.a||(c.a=[]),c.a.push(b),a.b=!0),a=Yc())&&(a.b=Mc)});fg.prototype.countOf=fg.prototype.oa;fg.prototype.keysOf=fg.prototype.ra;fg.prototype.open=fg.prototype.open;fg.prototype.scan=fg.prototype.hc;fg.prototype.valuesOf=fg.prototype.va;Yf.prototype.countOf=Yf.prototype.oa;Yf.prototype.keysOf=Yf.prototype.ra;Yf.prototype.open=Yf.prototype.open;Yf.prototype.scan=Yf.prototype.Eb;Yf.prototype.valuesOf=Yf.prototype.va;gf.prototype.getKey=gf.prototype.ic;gf.prototype.getPrimaryKey=gf.prototype.R;gf.prototype.getValue=gf.prototype.Ma;gf.prototype.update=gf.prototype.update;","gf.prototype.clear=gf.prototype.clear;la(\"ydn.db.Iterator\",W);la(\"ydn.db.KeyIterator\",of);la(\"ydn.db.ValueIterator\",qf);la(\"ydn.db.IndexIterator\",pf);la(\"ydn.db.IndexValueIterator\",rf);W.prototype.getState=W.prototype.Nb;W.prototype.getKeyRange=W.prototype.Xb;W.prototype.getIndexName=W.prototype.Vb;W.prototype.getStoreName=W.prototype.Zb;W.prototype.isReversed=W.prototype.Y;W.prototype.isUnique=W.prototype.La;W.prototype.isKeyIterator=W.prototype.$b;W.prototype.isIndexIterator=W.prototype.Ob;","W.prototype.getPrimaryKey=W.prototype.Yb;W.prototype.getKey=W.prototype.Wb;W.prototype.resume=W.prototype.bc;W.prototype.reset=W.prototype.ac;W.prototype.reverse=W.prototype.cc;of.where=function(a,b,c,d,e){return new of(a,de(b,c,d,e))};qf.where=function(a,b,c,d,e){return new qf(a,de(b,c,d,e))};pf.where=function(a,b,c,d,e,f){return new pf(a,b,de(c,d,e,f))};rf.where=function(a,b,c,d,e,f){return new rf(a,b,de(c,d,e,f))};la(\"ydn.db.Streamer\",wf);wf.prototype.push=wf.prototype.push;","wf.prototype.collect=wf.prototype.fc;wf.prototype.setSink=wf.prototype.Sb;function Sg(a,b){zf.call(this,a,b)}A(Sg,zf);Sg.prototype.h=function(){return!1};Sg.prototype.c=function(a,b){function c(b){u(a[b])?(e=!1,d[b]=!0):(d[b]=!1,0<=b-1&&c(b-1))}var d=[],e=!0;c(a.length-1);e&&(d=[]);return Af(this,d,b)};function Tg(a,b){zf.call(this,a,b)}A(Tg,zf);","Tg.prototype.c=function(a,b){var c=[],d=b[0];if(null==d)return[];for(var e=!0,f=!1,g=d,h=[],k=1;k<a.length;k++)if(null!=b[k]){var m=Dd(d,b[k]);h[k]=m;this.b?-1==m?e=!1:1==m&&(e=!1,f=!0,-1==Dd(b[k],g)&&(g=b[k])):1==m?e=!1:-1==m&&(e=!1,f=!0,1==Dd(b[k],g)&&(g=b[k]))}else e=!1,f=!0;if(e)for(f=0;f<a.length;f++)null!=b[f]&&(c[f]=!0);else if(f)for(f=0;f<a.length;f++)null!=b[f]&&(this.b?-1==Dd(g,b[f])&&(c[f]=g):1==Dd(g,b[f])&&(c[f]=g));else for(k=this.b?-1:1,f=1;f<a.length;f++)h[f]===k&&(c[f]=d);return e?","(this.g++,this.a&&this.a.push(g),c):{continuePrimary:c}};function Ug(a,b){zf.call(this,a,b)}A(Ug,zf);Ug.prototype.logger=H(\"ydn.db.algo.ZigzagMerge\");","Ug.prototype.c=function(a,b){function c(a,b){var c=a.slice(0,a.length-1);c.push(b);return c}function d(a){return a[a.length-1]}var e=[];if(0==a.length||null==a[0]||null==a[0])return[];for(var f=!0,g=0,h=d(a[g]),k=[],m=1;m<a.length;m++)if(null!=a[m]){var n=d(a[m]),p=Dd(h,n);k[m]=p;this.b?-1==p?f=!1:1==p&&(f=!1,h=n,g=1):1==p?f=!1:-1==p&&(f=!1,h=n,g=1)}else return[];m=this.b?-1:1;if(f){for(f=0;f<a.length;f++)null!=a[f]&&(e[f]=!0);this.a&&(this.f?this.a.push(b[0],h):this.a.push(b[0]));return e}if(0==","g)for(f=1;f<a.length;f++)k[f]==m&&(e[f]=c(a[f],h));else for(f=0;f<a.length;f++)f!=g&&null!=a[f]&&Dd(h,d(a[f]))===m&&(e[f]=c(a[f],h));return{\"continue\":e}};la(\"ydn.db.algo.NestedLoop\",Sg);la(\"ydn.db.algo.ZigzagMerge\",Ug);la(\"ydn.db.algo.SortedMerge\",Tg);function Vg(a){this.h=a;this.b=this.h.length/4;this.f=this.b+6;this.c=[[],[],[],[]];this.g=[[],[],[],[]];this.a=Array(4*(this.f+1));for(a=0;a<this.b;a++)this.a[a]=[this.h[4*a],this.h[4*a+1],this.h[4*a+2],this.h[4*a+3]];var b=Array(4);for(a=this.b;a<4*(this.f+1);a++){b[0]=this.a[a-1][0];b[1]=this.a[a-1][1];b[2]=this.a[a-1][2];b[3]=this.a[a-1][3];if(0==a%this.b){var c=b,d=c[0];c[0]=c[1];c[1]=c[2];c[2]=c[3];c[3]=d;Wg(b);b[0]^=Xg[a/this.b][0];b[1]^=Xg[a/this.b][1];b[2]^=Xg[a/this.b][2];b[3]^=Xg[a/this.b][3]}else 6<","this.b&&4==a%this.b&&Wg(b);this.a[a]=Array(4);this.a[a][0]=this.a[a-this.b][0]^b[0];this.a[a][1]=this.a[a-this.b][1]^b[1];this.a[a][2]=this.a[a-this.b][2]^b[2];this.a[a][3]=this.a[a-this.b][3]^b[3]}}function Yg(a,b){for(var c,d=0;4>d;d++)for(var e=0;4>e;e++)c=4*e+d,c=b[c],a.c[d][e]=c}function Zg(a){for(var b=[],c=0;4>c;c++)for(var d=0;4>d;d++)b[4*d+c]=a.c[c][d];return b}function $g(a,b){for(var c=0;4>c;c++)for(var d=0;4>d;d++)a.c[c][d]^=a.a[4*b+d][c]}","function ah(a,b){for(var c=0;4>c;c++)for(var d=0;4>d;d++)a.c[c][d]=b[a.c[c][d]]}function bh(a){for(var b=1;4>b;b++)for(var c=0;4>c;c++)a.g[b][c]=a.c[b][c];for(b=1;4>b;b++)for(c=0;4>c;c++)a.c[b][c]=a.g[b][(c+b)%4]}function ch(a){for(var b=1;4>b;b++)for(var c=0;4>c;c++)a.g[b][(c+b)%4]=a.c[b][c];for(b=1;4>b;b++)for(c=0;4>c;c++)a.c[b][c]=a.g[b][c]}function Wg(a){a[0]=dh[a[0]];a[1]=dh[a[1]];a[2]=dh[a[2]];a[3]=dh[a[3]]}","var dh=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,","61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],eh=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,","255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,","26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],Xg=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],fh=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,","32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,","37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],gh=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,","126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,","239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],hh=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,","206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,","210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],ih=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,","80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,","113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],jh=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,","169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,","174,163,128,141,154,151],kh=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,","119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function lh(a){for(var b=[],c=0,d=0;d<a.length;d++){for(var e=a.charCodeAt(d);255<e;)b[c++]=e&255,e>>=8;b[c++]=e}return b}function mh(a,b){for(var c=[],d=0;d<a.length;d++)c.push(a[d]^b[d]);return c};function nh(a){this.a=a};function oh(){this.b=-1};function ph(a,b){this.b=-1;this.b=qh;this.f=r.Uint8Array?new Uint8Array(this.b):Array(this.b);this.g=this.c=0;this.a=[];this.i=a;this.h=b;this.j=r.Int32Array?new Int32Array(64):Array(64);u(rh)||(r.Int32Array?rh=new Int32Array(sh):rh=sh);this.g=this.c=0;this.a=r.Int32Array?new Int32Array(this.h):Qa(this.h)}var rh;A(ph,oh);for(var qh=64,uh=qh-1,vh=[],wh=0;wh<uh;wh++)vh[wh]=0;var xh=function(a){return Ja.concat.apply(Ja,arguments)}(128,vh);","function yh(a){for(var b=a.f,c=a.j,d=0,e=0;e<b.length;)c[d++]=b[e]<<24|b[e+1]<<16|b[e+2]<<8|b[e+3],e=4*d;for(b=16;64>b;b++){var e=c[b-15]|0,d=c[b-2]|0,f=(c[b-16]|0)+((e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3)|0,g=(c[b-7]|0)+((d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10)|0;c[b]=f+g|0}for(var d=a.a[0]|0,e=a.a[1]|0,h=a.a[2]|0,k=a.a[3]|0,m=a.a[4]|0,n=a.a[5]|0,p=a.a[6]|0,f=a.a[7]|0,b=0;64>b;b++)var q=((d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10))+(d&e^d&h^e&h)|0,g=m&n^~m&p,f=f+((m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<","7))|0,g=g+(rh[b]|0)|0,g=f+(g+(c[b]|0)|0)|0,f=p,p=n,n=m,m=k+g|0,k=h,h=e,e=d,d=g+q|0;a.a[0]=a.a[0]+d|0;a.a[1]=a.a[1]+e|0;a.a[2]=a.a[2]+h|0;a.a[3]=a.a[3]+k|0;a.a[4]=a.a[4]+m|0;a.a[5]=a.a[5]+n|0;a.a[6]=a.a[6]+p|0;a.a[7]=a.a[7]+f|0}","ph.prototype.update=function(a,b){u(b)||(b=a.length);var c=0,d=this.c;if(x(a))for(;c<b;)this.f[d++]=a.charCodeAt(c++),d==this.b&&(yh(this),d=0);else if(v(a))for(;c<b;){var e=a[c++];if(!(\"number\"==typeof e&&0<=e&&255>=e&&e==(e|0)))throw Error(\"message must be a byte array\");this.f[d++]=e;d==this.b&&(yh(this),d=0)}else throw Error(\"message must be string or array\");this.c=d;this.g+=b};","function zh(a){var b=[],c=8*a.g;56>a.c?a.update(xh,56-a.c):a.update(xh,a.b-(a.c-56));for(var d=63;56<=d;d--)a.f[d]=c&255,c/=256;yh(a);for(d=c=0;d<a.i;d++)for(var e=24;0<=e;e-=8)b[c++]=a.a[d]>>e&255;return b}","var sh=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,","4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Ah(){ph.call(this,8,Bh)}A(Ah,ph);var Bh=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];var Ch=null,Dh=null;function Eh(){this.c=[];this.b=this.a=0};function Fh(a){var b=a.creation;a=a.expiration;return!!a&&a<ka()||!!b&&b>ka()};function Gh(a,b,c,d,e,f){this.c=a;this.f=lh(b);this.g=c;this.a=!!d;this.b=e||\"aes-cbc\";this.h=!!f;this.i=new Fe}Gh.prototype.logger=H(\"ydn.crypto.Wrapper\");","function Hh(a,b){var c=new Ah;c.update(lh(b));c.update(a.f);c=zh(c);if(!w(c))throw Error(\"encodeByteArray takes an array as a parameter\");if(!Ch){Ch={};Dh={};for(var d=0;65>d;d++)Ch[d]=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\".charAt(d),Dh[d]=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.\".charAt(d)}for(var d=Dh,e=[],f=0;f<c.length;f+=3){var g=c[f],h=f+1<c.length,k=h?c[f+1]:0,m=f+2<c.length,n=m?c[f+2]:0,p=g>>2,g=(g&3)<<4|k>>4,k=(k&15)<<2|n>>6,n=n&63;m||","(n=64,h||(k=64));e.push(d[p],d[g],d[k],d[n])}return e.join(\"\")}","function Ih(a,b,c,d,e){var f=new Ah;f.update(lh(c));f.update(b);f.update(a.f);c=zh(f);d=lh(d);if(\"rc4\"==a.b){b=new Eh;var g;g||(g=c.length);e=b.c;for(a=0;256>a;++a)e[a]=a;for(a=f=0;256>a;++a){var f=f+e[a]+c[a%g]&255,h=e[a];e[a]=e[f];e[f]=h}b.a=0;b.b=0;c=b.a;g=b.b;e=b.c;for(a=0;1536>a;++a)c=c+1&255,g=g+e[c]&255,f=e[c],e[c]=e[g],e[g]=f;b.a=c;b.b=g;c=d;var k;k||(k=c.length);g=b.a;e=b.b;a=b.c;for(f=0;f<k;++f)g=g+1&255,e=e+a[g]&255,h=a[g],a[g]=a[e],a[e]=h,c[f]^=a[a[g]+a[e]&255];b.a=g;b.b=e}else{k=b.length-","d.length%b.length;for(g=0;g<k;g++)d.push(10);k=new Vg(c);k=new nh(k);if(e)for(c=[],g=0,e=b;g<d.length;){b=Sa(d,g,g+16);a=k.a;Yg(a,b);$g(a,a.f);for(f=1;f<a.f;++f){ch(a);ah(a,eh);$g(a,a.f-f);for(var h=a.c,m=a.g[0],n=0;4>n;n++)m[0]=h[0][n],m[1]=h[1][n],m[2]=h[2][n],m[3]=h[3][n],h[0][n]=kh[m[0]]^ih[m[1]]^jh[m[2]]^hh[m[3]],h[1][n]=hh[m[0]]^kh[m[1]]^ih[m[2]]^jh[m[3]],h[2][n]=jh[m[0]]^hh[m[1]]^kh[m[2]]^ih[m[3]],h[3][n]=ih[m[0]]^jh[m[1]]^hh[m[2]]^kh[m[3]]}ch(a);ah(a,eh);$g(a,0);e=mh(e,Zg(a));Ra(c,e);e=b;","g+=16}else for(c=[],g=b,b=0;b<d.length;b+=16){e=mh(Sa(d,b,b+16),g);g=k.a;Yg(g,e);$g(g,0);for(e=1;e<g.f;++e){ah(g,dh);bh(g);a=g.c;f=g.g[0];for(h=0;4>h;h++)f[0]=a[0][h],f[1]=a[1][h],f[2]=a[2][h],f[3]=a[3][h],a[0][h]=fh[f[0]]^gh[f[1]]^f[2]^f[3],a[1][h]=f[0]^fh[f[1]]^gh[f[2]]^f[3],a[2][h]=f[0]^f[1]^fh[f[2]]^gh[f[3]],a[3][h]=gh[f[0]]^f[1]^f[2]^fh[f[3]];$g(g,e)}ah(g,dh);bh(g);$g(g,g.f);g=Zg(g);Ra(c,g)}d=c}if(8192>d.length)d=String.fromCharCode.apply(null,d);else{k=\"\";for(b=0;b<d.length;b+=8192)k+=String.fromCharCode.apply(null,","Sa(d,b,b+8192));d=k}return d}","function Jh(a,b,c){if(c){var d=b;a.a||(d=Hh(a,b));b=c.keyName||c[\"key-name\"];if(b!=a.c)throw a=Error(b),a.name=\"MasterKeyNotProvidedError\",a;b=c.salt;var e=c.data;if(!x(e)||!v(b)||!b.length)throw\"Storage: Invalid value was encountered\";if(!Fh(c)){d=Ih(a,b,d,e,!0);try{if(\"rc4\"!=a.b){var f=d.lastIndexOf(String.fromCharCode(10));32>=d.length-f&&(d=d.substr(0,f))}c.data=Ke(d)}catch(g){if(a.h){try{c.data=eval(\"(\"+d+\")\")}catch(h){}if(!z(!c.data))throw\"Storage: The value could not be decrypted\";}else throw\"Storage: The value could not be decrypted\";","}return c.data}}else I(a.logger,b+\" corrupted: \"+c)}function Kh(a,b,c,d){for(var e=Hh(a,b),f=[],g=0;16>g;++g)f[g]=256*Math.random()|0;g=[];Ge(a.i,c,g);c=Ih(a,f,e,g.join(\"\"));g={};g.salt=f;g.data=c;u(d)||(d=a.g);d&&(g.expiration=d+ka());g.creation=ka();g.keyName=a.c;return a.a?[e,g]:[b,g]};function Lh(a){this.a=[];this.c=[];var b=a.expiration,c=a.secrets,d=!!a.encryptKey;this.b=x(a.exposeKey)?a.exposeKey.split(\".\"):a.exposeKey;var e=a.method;if(!c)throw new L(\"Encryption secrets required.\");if(!v(c))throw new L(\"Encryption secrets must be arrays.\");if(u(e)&&-1==[\"aes-cbc\",\"rc4\"].indexOf(e))throw new L(\"Encryption method must be aes-cbc or rc4, but \"+e+\" found.\");for(var f=0;f<c.length;f++){var g=c[f],h;for(h in g)if(-1==B([\"name\",\"key\"],h))throw new L('Unknown Encryption secret key \"'+","h+'\"');if(!x(g.name))throw new L(\"Encryption secret at \"+f+\" must have name of type string\");if(!x(g.key))throw new L(\"Encryption secret at \"+f+\" must have key of type string\");this.c.push(g.name);this.a.push(new Gh(g.name,g.key,b,d,e,a.unsafeParse))}}Lh.prototype.h=function(a,b){null==b&&this.b&&(v(this.b)&&(b=$a(a,this.b)),x(b)||(b=ka()+\"\"+Math.random()));var c=Kh(this.a[0],b,a);this.b&&(c[1].key=c[0]);return c[1]};","function Mh(a,b,c){if(z(c)){for(var d=c.keyName,e=-1,f=0;f<a.c.length;f++)if(a.c[f]==d){e=f;break}if(-1==e)throw a=Error(\"Master key \"+d+\" not provided.\"),a.name=\"MasterKeyNotProvidedError\",a.code=d,a;try{return Jh(a.a[e],b,c)}catch(g){}}}Lh.prototype.g=function(a,b){this.b&&(b=a.key);return Mh(this,b,a)};Lh.prototype.f=function(a,b){var c=0;x(c)?c=this.c.indexOf(c):y(b)&&(c=b);return Hh(this.a[c],a)};Lh.prototype.count=function(){return this.a.length};Z.prototype.ib=function(a){var b=this;De(a,function(a,d){var e=a.w;if(\"add\"==e||\"put\"==e){var e=d[2],f=d[1];x(e)?(e=Kh(b.f.a[0],e,f,void 0),d[2]=e[0],d[1]=e[1]):I(b.logger,'encrypted store key must be a string but \"'+e+'\" of type '+typeof e+\" found\")}else if(\"get\"==e){var g=d[0],h=d[1];Bd(a,function(a,c,d){if(b.f.a[0].a){for(var e=[],f=0;f<b.f.count();f++)e[f]=new Pd(g,b.f.f(h,f));Ib(Xf(b.b,e),function(a){for(var c=0;c<a.length;++c){var f=Mh(b.f,e[c].v,a[c]);if(null!=f){d(f);return}}d(void 0)},function(){d(a,","c)})}else a=Mh(b.f,h,a),d(a,c)})}else if(\"rm\"==e&&(g=d[0],h=d[1],b.f.a[0].a&&(d[1]=b.f.f(h),1<b.f.count())))for(e=[],f=1;f<b.f.count();f++)e.push(new Pd(g,h)),Wf(b.b,e)})};Z.prototype.yb=function(a){if(!a)return!1;this.f=new Lh(a);return!0};la(\"ydn.crypto.Cipher\",Lh);Lh.prototype.hash=Lh.prototype.f;Lh.prototype.encrypt=Lh.prototype.h;Lh.prototype.decrypt=Lh.prototype.g; ","","//# sourceMappingURL=ydn.db-is-core-crypt-cur-dev.js.map","return ydn;}, (this || {}));","            "]}]]},"ace":{"folds":[],"scrolltop":5611,"scrollleft":0,"selection":{"start":{"row":333,"column":12},"end":{"row":333,"column":12},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":310,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1462184729000,"hash":"691fb3a219e1b4961d169be08044a28269a83f16"}